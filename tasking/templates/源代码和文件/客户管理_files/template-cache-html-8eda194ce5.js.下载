angular.module("eweiApp").run(["$templateCache",function(e){e.put("source/browser_not_support.html",'<!DOCTYPE html><html><head lang="en"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="edge"><title>不兼容当前浏览器</title><style>*{margin:0;padding:0}</style></head><body><div style="width:100%;height:100px;background:#ffcd00;overflow:hidden"><div style="width:600px;height:100px;margin:30px auto;overflow:hidden"><p style="float:left;height:22px;line-height:22px;color:#fff">不兼容当前浏览器，推荐用 <span style="color:#0066fe;font-weight:700">Chrome</span> ， <span style="color:#0066fe;font-weight:700">FireFox</span> 访问客服界面</p><a style="float:left;width:60px;height:22px;display:block;background:#fff;border-radius:5px;color:#666;text-align:center;line-height:22px;font-size:12px;margin-left:60px;text-decoration:none;border:1px solid #d6d7d6" href="/console?jumpBrowser=true">继续</a></div></div></body></html>');e.put("source/dashboard/dashboard.html",'<div class="dash-currentUser clearfix"><div class="pull-left text-left" style="width:90%"><p>当前用户：{{::dashboard.currentUserName}} | {{::dashboard.currentProviderName}} <span class="margin_left20px">在线客服： <a style="color:#1e8cce" href="javascript:void(0);" ng-click="dashboard.showEngineerList();"><strong>{{dashboard.engineerOnlineDetail.onlineCount}}/{{dashboard.engineerOnlineDetail.allCount}} </strong></a>（总共{{dashboard.engineerOnlineDetail.allCount}}名客服，当前{{dashboard.engineerOnlineDetail.onlineCount}}人在线）</span></p></div><div class="pull-right text-right" style="width:10%;padding-right:3%"><span class="dash-refresh" ng-click="refreshCount();"><i class="fa fa-refresh"></i></span></div></div><div class="dash-dashContainer"><a class="dash-item" ng-click="waitchatqueueBuried()"><div class="dash-title1 dash-bgcolor3">等待中的会话</div><div class="dash-number dash-bgcolor4" ng-show="loadingConversation"><i class="fa fa-users dash-chatIcon dash-fs26"></i> <span class="dash-numbers">{{dashboard.dashBoradStatistics.requestCount}}</span></div><div class="dash-number dash-bgcolor4" ng-hide="loadingConversation"><div style="width:40px;margin:0 auto"><img src="source/images/home_load/load_white.gif" style="width:40px;height:40px"></div></div></a><a class="dash-item" ng-click="chatqueueBuried()"><div class="dash-title1 dash-bgcolor5">进行中的会话</div><div class="dash-number dash-bgcolor6" ng-show="loadingConversation"><i class="fa fa-comments dash-chatIcon dash-fs34"></i> <span class="dash-numbers">{{dashboard.dashBoradStatistics.sessionCount}}</span></div><div class="dash-number dash-bgcolor6" ng-hide="loadingConversation"><div style="width:40px;margin:0 auto"><img src="source/images/home_load/load_white.gif" style="width:40px;height:40px"></div></div></a><a class="dash-item" ui-sref="ticket_views.detail({id:dashboard.dashBoradStatistics.newTicket.viewId})"><div class="dash-title1 dash-bgcolor7">未分派的工单</div><div class="dash-number dash-bgcolor8" ng-show="loadingTicket"><i class="fa fa-indent dash-chatIcon dash-fs28"></i> <span class="dash-numbers">{{dashboard.dashBoradStatistics.newTicket.count}}</span></div><div class="dash-number dash-bgcolor8" ng-hide="loadingTicket"><div style="width:40px;margin:0 auto"><img src="source/images/home_load/load_white.gif" style="width:40px;height:40px"></div></div></a><a class="dash-item" ui-sref="ticket_views.detail({id:dashboard.dashBoradStatistics.myTicket.viewId})"><div class="dash-title1 dash-bgcolor9">我的工单</div><div class="dash-number dash-bgcolor10" ng-show="loadingTicket"><i class="fa fa-list dash-chatIcon dash-fs28"></i> <span class="dash-numbers">{{dashboard.dashBoradStatistics.myTicket.count}}</span></div><div class="dash-number dash-bgcolor10" ng-hide="loadingTicket"><div style="width:40px;margin:0 auto"><img src="source/images/home_load/load_white.gif" style="width:40px;height:40px"></div></div></a><a class="dash-item" ui-sref="ticket_views.detail({id:dashboard.dashBoradStatistics.myGroupTicket.viewId})"><div class="dash-title1 dash-bgcolor11">组的工单</div><div class="dash-number dash-bgcolor12" ng-show="loadingTicket"><i class="fa fa-list-alt dash-chatIcon dash-fs30"></i> <span class="dash-numbers">{{dashboard.dashBoradStatistics.myGroupTicket.count}}</span></div><div class="dash-number dash-bgcolor12" ng-hide="loadingTicket"><div style="width:40px;margin:0 auto"><img src="source/images/home_load/load_white.gif" style="width:40px;height:40px"></div></div></a><a class="dash-item" href="#/dashboard"><div class="dash-title1 dash-bgcolor13">存储空间</div><div class="dash-number dash-bgcolor14" ng-show="loadingCapacity"><i class="fa fa-database dash-chatIcon dash-fs28"></i> <span class="dash-numbers" style="margin-right:5%">{{dashboard.dashBoradStatistics.deskUsage.count}}</span></div><div class="dash-number dash-bgcolor14" ng-hide="loadingCapacity"><div style="width:40px;margin:0 auto"><img src="source/images/home_load/load_white.gif" style="width:40px;height:40px"></div></div></a></div><div class="dash-main"><div class="dash-flexItem"><div class="dash-latestMsg"><div class="dash-contentHeader"><span class="dash-title2">最新消息</span> <span class="floatRight"><i class="fa fa-trash-o cursorhand margin_right20px" ng-click="dashboard.deleteNotifyLogs();"></i> <i class="fa fa-cog margin_right20px cursorhand" ng-click="dashboard.toSetNotice();"></i></span></div><div class="dash-msgWrap" ng-hide="loadingNews" style="line-height:500px;text-align:center"><img src="source/images/home_load/load_black.gif" style="width:60px;height:60px"></div><div class="dash-msgWrap" ng-show="loadingNews"><div id="newMessage" ng-if="notifyLogs.length>0" class="dash-msgList" ng-class="{\'cursorhand\':log.type==\'ticket\'||log.type==\'answer_question\'||log.type==\'comment_article\'||log.type==\'comment_answer\'}" ng-repeat="log in notifyLogs track by $index" ng-click="dashboard.clickNotifyLog(log);"><div class="dash-userInfo"><image-show imageurl="{{log.operater.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w32 h32 img-circle" editable="false"></image-show><p class="dash-replayTime">{{log.createdAt | dateFilter_style2}}</p></div><div class="dash-msgContent"><dash-log-message message="{{log.message}}"></dash-log-message></div></div><div ng-if="notifyLogs.length==0" class="dash-no-msg">无最新消息</div></div><div ng-if="notifyLogs.length>0&&dashboard.nextPageNo>1" class="latestMsg-footer"><p class="cursorhand" ng-click="dashboard.loadNotifyLogs(dashboard.nextPageNo);">More...</p></div></div></div><div class="dash-flexItem2"></div><div class="dash-flexItem"><div class="dash-ticketStatus"><div class="dash-contentHeader"><span class="dash-title2">工单状态</span> <span class="floatRight"></span></div><div class="dash-pie" id="workorder" style="width:100%;height:260px"><img src="source/images/home_load/load_black.gif" ng-hide="loadingChart" style="height:60px;width:60px;display:block;margin:100px auto"></div></div><div class="dash-flexContainer"><div class="dash-flexItem"><div class="dash-latestNews"><div class="dash-contentHeader"><span class="dash-title2">最新动态</span> <a ng-href="{{gettingLastNewsUrl}}" target="_blank" class="floatRight margin_right20px"><i class="fa fa-angle-right"></i></a></div><div style="width:60px;margin:100px auto" ng-hide="loadingDynamic"><img src="source/images/home_load/load_black.gif" style="height:60px;width:60px"></div><ul class="dash-newsList" ng-show="loadingDynamic"><li ng-repeat="question in dashboard.recommondQuestions track by $index"><a ng-click="newDynamicBuried()" ng-if="question.topic.type==\'questions\'" ng-href="{{gettingLastNewsUrl}}#/forum/detail/{{question.id}}" target="_blank"><span ng-bind="question.title" class="overflow-ellipsis"></span> </a><a ng-click="newDynamicBuried()" ng-if="question.topic.type!=\'questions\'" ng-href="{{gettingLastNewsUrl}}#/article/detail/{{question.id}}?topicId={{question.topic.id}}" target="_blank"><span ng-bind="question.title" class="overflow-ellipsis"></span></a></li></ul></div></div><div class="dash-flexItem3"></div><div class="dash-flexItem"><div class="dash-app"><div class="dash-contentHeader"><span class="dash-title2">移动客户端</span></div><div class="dash-btnContainer"><div class="dash-appBtn" id="iosImage" ng-mouseenter="dashboard.iosImageShow()" ng-mouseleave="dashboard.iosImageHide()"><i class="fa fa-apple dash-appIcon"></i><span class="dash-btnText">{{providerEweiProductName|replace_ewei_productname}}iOS</span></div><div class="dash-appBtn" id="androidImage" ng-mouseenter="dashboard.androidImageShow()" ng-mouseleave="dashboard.androidImageHide()"><i class="fa fa-android dash-appIcon"></i><span class="dash-btnText">{{providerEweiProductName|replace_ewei_productname}}Android</span></div><img ng-show="dashboard.downloadImage.androidImage" style="position:absolute;height:160px;width:160px" ng-style="dashboard.downloadStyle" src="source/images/mobile/Android_two.png"> <img ng-show="dashboard.downloadImage.iosImage" style="position:absolute;height:160px;width:160px" ng-style="dashboard.downloadStyle" src="source/images/mobile/Apple_two.png"></div><div class="dash-wechatContainer"><p>微信客户端</p><img src="source/images/mobile/wx.png"></div></div></div></div></div></div>');e.put("source/dashboard/dashboard.new.html",'<div class="dashboard"><div class="dash-loading" ng-if="dashboard.loadingConversation"><div style="width:80px;margin:0 auto"><img src="/source/images/home_load/load_black.gif" style="width:80px;height:80px"></div></div><div class="dashboard-row"><div class="position"><div class="dashboard-item" ng-if="dashboard.positionAState == \'chart\'"><dashboard-chart chartposition="dashboard.positionA" charttype="dashboard.chartTypeA" dashboardinfo="dashboard.dashboardInfo" deletetemplte="dashboard.deleteTemplte(\'A\', \'delete\')" positionid="dashboard.positionAid" loaddashboardinfo="dashboard.loadDashboardInfo()"></dashboard-chart></div><div class="dashboard-item" ng-if="dashboard.positionAState == \'data\'"><div class="header clearfix"><span class="txt">储存与数据</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'A\')"><i class="iconfont">&#xe647;</i></div></div><div class="dashboard-store-data"><div class="store-space"><p class="title">储存空间</p><div class="detail"><div class="iconfont icon">&#xe641;</div><p class="txt">{{dashboard.attachmentSize}}GB</p></div></div><div class="dashboard-data"><p class="title">数据明细</p><div class="data-list clearfix"><div class="item"><i class="iconfont">&#xe65e;</i><div><span>工单数量:</span> <span>{{dashboard.providerActivityData.ticketCount}}</span></div></div><div class="item"><i class="iconfont">&#xe661;</i><div><span>会话数量:</span> <span>{{dashboard.providerActivityData.chatCount}}</span></div></div><div class="item"><i class="iconfont">&#xe65d;</i><div><span>文章数量:</span> <span>{{dashboard.providerActivityData.articleCount}}</span></div></div></div><div class="data-list clearfix"><div class="item"><i class="iconfont">&#xe65f;</i><div><span>回答数量:</span> <span>{{dashboard.providerActivityData.questionCount}}</span></div></div><div class="item"><i class="iconfont">&#xe7c7;</i><div><span>附件:</span> <span>{{dashboard.providerActivityData.fileCount | fileSizeA}}</span></div></div><div class="item item-last"><span></span> <span></span></div></div></div></div></div><div class="dashboard-item" ng-if="dashboard.positionAState == \'newState\'"><div class="header clearfix"><span class="txt">最新动态</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'A\')"><i class="iconfont">&#xe647;</i></div></div><ul class="dashboard-newstate-list"><li class="item" ng-repeat="item in dashboard.recommondQuestions track by $index"><a ng-if="item.topic.type ==\'questions\'" href="{{gettingLastNewsUrl}}#/forum/detail/{{item.id}}" class="detail" target="_blank"><span class="title overflow-ellipsis">{{::item.title}}</span> <span class="author overflow-ellipsis">{{::item.updater.nickname?item.updater.nickname:item.name}}</span> <span class="date">{{::item.updatedAt|dateFilter_style3}}</span> </a><a ng-if="item.topic.type !=\'questions\'" href="{{gettingLastNewsUrl}}#/article/detail/{{item.id}}" class="detail" target="_blank"><span class="title overflow-ellipsis">{{::item.title}}</span> <span class="author overflow-ellipsis">{{::item.updater.nickname?item.updater.nickname:item.name}}</span> <span class="date">{{::item.updatedAt|dateFilter_style3}}</span></a></li></ul><div ng-if="dashboard.noneNewstateList"><p class="none-newstate-list">暂无数据</p></div></div><div class="dashboard-item" ng-if="dashboard.positionAState == \'default\'"><div class="dashboard-add-templte" ng-click="dashboard.addTemplte(\'A\')"><div class="table-cell"><i class="iconfont">&#xe648;</i> 添加模板</div></div></div><div class="dashboard-item" ng-if="dashboard.positionAState == \'add\'"><div class="header clearfix"><span class="txt">自定义仪表盘</span></div><div class="select-dashboard"><div class="change-dashboard"><div class="dashboard-type"><span class="txt">仪表盘类型</span><select class="sel" ng-model="dashboard.dashboardTypeA" ng-change="dashboard.selectDashboardType(\'A\')"><option ng-repeat="item in dashboard.dashboardTypeList track by $index" value="{{item.type}}">{{item.name}}</option></select></div><div class="chart-type" ng-show="dashboard.isChartTypeA"><span class="txt">报表类型</span><select class="sel" ng-model="dashboard.chartTypeA"><option ng-repeat="item in dashboard.chartTypeList track by $index">{{item.name}}</option></select></div><div class="btn-group-common button-group-list dashboard-type-btn"><button type="button" class="btn btn-confirm custom-background-color ladda-button btn-delete-sure" ng-click="dashboard.changeTemplte(\'A\')" ladda="dashboard.savingSettingsA" ng-disabled="dashboard.savingSettingsA" data-style="zoom-in"><span class="ladda-label">确定</span><span class="ladda-spinner"></span></button> <a class="btn btn-cancel" ng-click="dashboard.cancleChangeTemplte(\'A\')">取消</a></div></div></div></div><div class="dashboard-item" ng-if="dashboard.positionAState == \'client\'"><div class="header clearfix"><span class="txt">移动客户端</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'A\')"><i class="iconfont">&#xe647;</i></div></div><div class="dashboard-code"><div class="code-list-wrap clearfix"><div class="code-list"><div class="item" ng-mouseenter="dashboard.changeClinet(\'A\',\'enter\',\'ios\')" ng-mouseleave="dashboard.changeClinet(\'A\',\'leave\')"><i class="iconfont">&#xe642;</i> <span>IOS</span></div><div class="item" ng-mouseenter="dashboard.changeClinet(\'A\',\'enter\', \'android\')" ng-mouseleave="dashboard.changeClinet(\'A\',\'leave\')"><i class="iconfont">&#xe643;</i> <span>Android</span></div><div class="item" ng-mouseenter="dashboard.changeClinet(\'A\',\'enter\', \'weixin\')" ng-mouseleave="dashboard.changeClinet(\'A\',\'leave\')"><i class="iconfont">&#xe644;</i> <span>微信</span></div></div></div><div class="code-detail"><img class="img" ng-src="/source/images/mobile/dashboard_{{dashboard.clientCode_A}}.png" alt=""></div></div></div></div><div class="position"><div class="dashboard-item" ng-if="dashboard.positionBState == \'chart\'"><dashboard-chart chartposition="dashboard.positionB" charttype="dashboard.chartTypeB" dashboardinfo="dashboard.dashboardInfo" deletetemplte="dashboard.deleteTemplte(\'B\', \'delete\')" positionid="dashboard.positionBid" loaddashboardinfo="dashboard.loadDashboardInfo()"></dashboard-chart></div><div class="dashboard-item" ng-if="dashboard.positionBState == \'data\'"><div class="header clearfix"><span class="txt">储存与数据</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'B\')"><i class="iconfont">&#xe647;</i></div></div><div class="dashboard-store-data"><div class="store-space"><p class="title">储存空间</p><div class="detail"><div class="iconfont icon">&#xe641;</div><p class="txt">{{dashboard.attachmentSize}}GB</p></div></div><div class="dashboard-data"><p class="title">数据明细</p><div class="data-list clearfix"><div class="item"><i class="iconfont">&#xe65e;</i><div><span>工单数量:</span> <span>{{dashboard.providerActivityData.ticketCount}}</span></div></div><div class="item"><i class="iconfont">&#xe661;</i><div><span>会话数量:</span> <span>{{dashboard.providerActivityData.chatCount}}</span></div></div><div class="item"><i class="iconfont">&#xe65d;</i><div><span>文章数量:</span> <span>{{dashboard.providerActivityData.articleCount}}</span></div></div></div><div class="data-list clearfix"><div class="item"><i class="iconfont">&#xe65f;</i><div><span>回答数量:</span> <span>{{dashboard.providerActivityData.questionCount}}</span></div></div><div class="item"><i class="iconfont">&#xe7c7;</i><div><span>附件:</span> <span>{{dashboard.providerActivityData.fileCount | fileSizeA}}</span></div></div><div class="item item-last"><span></span> <span></span></div></div></div></div></div><div class="dashboard-item" ng-if="dashboard.positionBState == \'newState\'"><div class="header clearfix"><span class="txt">最新动态</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'B\')"><i class="iconfont">&#xe647;</i></div></div><ul class="dashboard-newstate-list"><li class="item" ng-repeat="item in dashboard.recommondQuestions track by $index"><a ng-if="item.topic.type ==\'questions\'" href="{{gettingLastNewsUrl}}#/forum/detail/{{item.id}}" class="detail" target="_blank"><span class="title overflow-ellipsis">{{::item.title}}</span> <span class="author overflow-ellipsis">{{::item.updater.nickname?item.updater.nickname:item.name}}</span> <span class="date">{{::item.updatedAt|dateFilter_style3}}</span> </a><a ng-if="item.topic.type !=\'questions\'" href="{{gettingLastNewsUrl}}#/article/detail/{{item.id}}" class="detail" target="_blank"><span class="title overflow-ellipsis">{{::item.title}}</span> <span class="author overflow-ellipsis">{{::item.updater.nickname?item.updater.nickname:item.name}}</span> <span class="date">{{::item.updatedAt|dateFilter_style3}}</span></a></li></ul><div ng-if="dashboard.noneNewstateList"><p class="none-newstate-list">暂无数据</p></div></div><div class="dashboard-item" ng-if="dashboard.positionBState == \'default\'"><div class="dashboard-add-templte" ng-click="dashboard.addTemplte(\'B\')"><div class="table-cell"><i class="iconfont">&#xe648;</i> 添加模板</div></div></div><div class="dashboard-item" ng-if="dashboard.positionBState == \'add\'"><div class="header clearfix"><span class="txt">自定义仪表盘</span></div><div class="select-dashboard"><div class="change-dashboard"><div class="dashboard-type"><span class="txt">仪表盘类型</span><select class="sel" ng-model="dashboard.dashboardTypeB" ng-change="dashboard.selectDashboardType(\'B\')">><option ng-repeat="item in dashboard.dashboardTypeList track by $index" value="{{item.type}}">{{item.name}}</option></select></div><div class="chart-type" ng-show="dashboard.isChartTypeB"><span class="txt">报表类型</span><select class="sel" ng-model="dashboard.chartTypeB"><option ng-repeat="item in dashboard.chartTypeList track by $index">{{item.name}}</option></select></div><div class="btn-group-common button-group-list dashboard-type-btn"><button type="button" class="btn btn-confirm custom-background-color ladda-button btn-delete-sure" ng-click="dashboard.changeTemplte(\'B\')" ladda="dashboard.savingSettingsB" ng-disabled="dashboard.savingSettingsB" data-style="zoom-in"><span class="ladda-label">确定</span><span class="ladda-spinner"></span></button> <a class="btn btn-cancel" ng-click="dashboard.cancleChangeTemplte(\'B\')">取消</a></div></div></div></div><div class="dashboard-item" ng-if="dashboard.positionBState == \'client\'"><div class="header clearfix"><span class="txt">移动客户端</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'B\')"><i class="iconfont">&#xe647;</i></div></div><div class="dashboard-code"><div class="code-list-wrap clearfix"><div class="code-list"><div class="item" ng-mouseenter="dashboard.changeClinet(\'B\',\'enter\',\'ios\')" ng-mouseleave="dashboard.changeClinet(\'B\',\'leave\')"><i class="iconfont">&#xe642;</i> <span>IOS</span></div><div class="item" ng-mouseenter="dashboard.changeClinet(\'B\',\'enter\', \'android\')" ng-mouseleave="dashboard.changeClinet(\'B\',\'leave\')"><i class="iconfont">&#xe643;</i> <span>Android</span></div><div class="item" ng-mouseenter="dashboard.changeClinet(\'B\',\'enter\', \'weixin\')" ng-mouseleave="dashboard.changeClinet(\'B\',\'leave\')"><i class="iconfont">&#xe644;</i> <span>微信</span></div></div></div><div class="code-detail"><img class="img" ng-src="/source/images/mobile/dashboard_{{dashboard.clientCode_B}}.png" alt=""></div></div></div></div></div><div class="dashboard-row"><div class="position"><div class="dashboard-item" ng-if="dashboard.positionCState == \'chart\'"><dashboard-chart chartposition="dashboard.positionC" charttype="dashboard.chartTypeC" dashboardinfo="dashboard.dashboardInfo" deletetemplte="dashboard.deleteTemplte(\'C\', \'delete\')" positionid="dashboard.positionCid" loaddashboardinfo="dashboard.loadDashboardInfo()"></dashboard-chart></div><div class="dashboard-item" ng-if="dashboard.positionCState == \'data\'"><div class="header clearfix"><span class="txt">储存与数据</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'C\')"><i class="iconfont">&#xe647;</i></div></div><div class="dashboard-store-data"><div class="store-space"><p class="title">储存空间</p><div class="detail"><div class="iconfont icon">&#xe641;</div><p class="txt">{{dashboard.attachmentSize}}GB</p></div></div><div class="dashboard-data"><p class="title">数据明细</p><div class="data-list clearfix"><div class="item"><i class="iconfont">&#xe65e;</i><div><span>工单数量:</span> <span>{{dashboard.providerActivityData.ticketCount}}</span></div></div><div class="item"><i class="iconfont">&#xe661;</i><div><span>会话数量:</span> <span>{{dashboard.providerActivityData.chatCount}}</span></div></div><div class="item"><i class="iconfont">&#xe65d;</i><div><span>文章数量:</span> <span>{{dashboard.providerActivityData.articleCount}}</span></div></div></div><div class="data-list clearfix"><div class="item"><i class="iconfont">&#xe65f;</i><div><span>回答数量:</span> <span>{{dashboard.providerActivityData.questionCount}}</span></div></div><div class="item"><i class="iconfont">&#xe7c7;</i><div><span>附件:</span> <span>{{dashboard.providerActivityData.fileCount | fileSizeA}}</span></div></div><div class="item item-last"><span></span> <span></span></div></div></div></div></div><div class="dashboard-item" ng-if="dashboard.positionCState == \'newState\'"><div class="header clearfix"><span class="txt">最新动态</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'C\')"><i class="iconfont">&#xe647;</i></div></div><ul class="dashboard-newstate-list"><li class="item" ng-repeat="item in dashboard.recommondQuestions track by $index"><a ng-if="item.topic.type ==\'questions\'" href="{{gettingLastNewsUrl}}#/forum/detail/{{item.id}}" class="detail" target="_blank"><span class="title overflow-ellipsis">{{::item.title}}</span> <span class="author overflow-ellipsis">{{::item.updater.nickname?item.updater.nickname:item.name}}</span> <span class="date">{{::item.updatedAt|dateFilter_style3}}</span> </a><a ng-if="item.topic.type !=\'questions\'" href="{{gettingLastNewsUrl}}#/article/detail/{{item.id}}" class="detail" target="_blank"><span class="title overflow-ellipsis">{{::item.title}}</span> <span class="author overflow-ellipsis">{{::item.updater.nickname?item.updater.nickname:item.name}}</span> <span class="date">{{::item.updatedAt|dateFilter_style3}}</span></a></li></ul><div ng-if="dashboard.noneNewstateList"><p class="none-newstate-list">暂无数据</p></div></div><div class="dashboard-item" ng-if="dashboard.positionCState == \'default\'"><div class="dashboard-add-templte" ng-click="dashboard.addTemplte(\'C\')"><div class="table-cell"><i class="iconfont">&#xe648;</i> 添加模板</div></div></div><div class="dashboard-item" ng-if="dashboard.positionCState == \'add\'"><div class="header clearfix"><span class="txt">自定义仪表盘</span></div><div class="select-dashboard"><div class="change-dashboard"><div class="dashboard-type"><span class="txt">仪表盘类型</span><select class="sel" ng-model="dashboard.dashboardTypeC" ng-change="dashboard.selectDashboardType(\'C\')">><option ng-repeat="item in dashboard.dashboardTypeList track by $index" value="{{item.type}}">{{item.name}}</option></select></div><div class="chart-type" ng-show="dashboard.isChartTypeC"><span class="txt">报表类型</span><select class="sel" ng-model="dashboard.chartTypeC"><option ng-repeat="item in dashboard.chartTypeList track by $index">{{item.name}}</option></select></div><div class="btn-group-common button-group-list dashboard-type-btn"><button type="button" class="btn btn-confirm custom-background-color ladda-button btn-delete-sure" ng-click="dashboard.changeTemplte(\'C\')" ladda="dashboard.savingSettingsC" ng-disabled="dashboard.savingSettingsC" data-style="zoom-in"><span class="ladda-label">确定</span><span class="ladda-spinner"></span></button> <a class="btn btn-cancel" ng-click="dashboard.cancleChangeTemplte(\'C\')">取消</a></div></div></div></div><div class="dashboard-item" ng-if="dashboard.positionCState == \'client\'"><div class="header clearfix"><span class="txt">移动客户端</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'C\')"><i class="iconfont">&#xe647;</i></div></div><div class="dashboard-code"><div class="code-list-wrap clearfix"><div class="code-list"><div class="item" ng-mouseenter="dashboard.changeClinet(\'C\',\'enter\',\'ios\')" ng-mouseleave="dashboard.changeClinet(\'C\',\'leave\')"><i class="iconfont">&#xe642;</i> <span>IOS</span></div><div class="item" ng-mouseenter="dashboard.changeClinet(\'C\',\'enter\', \'android\')" ng-mouseleave="dashboard.changeClinet(\'C\',\'leave\')"><i class="iconfont">&#xe643;</i> <span>Android</span></div><div class="item" ng-mouseenter="dashboard.changeClinet(\'C\',\'enter\', \'weixin\')" ng-mouseleave="dashboard.changeClinet(\'C\',\'leave\')"><i class="iconfont">&#xe644;</i> <span>微信</span></div></div></div><div class="code-detail"><img class="img" ng-src="/source/images/mobile/dashboard_{{dashboard.clientCode_C}}.png" alt=""></div></div></div></div><div class="position"><div class="dashboard-item" ng-if="dashboard.positionDState == \'chart\'"><dashboard-chart chartposition="dashboard.positionD" charttype="dashboard.chartTypeD" dashboardinfo="dashboard.dashboardInfo" deletetemplte="dashboard.deleteTemplte(\'D\', \'delete\')" positionid="dashboard.positionDid" loaddashboardinfo="dashboard.loadDashboardInfo()"></dashboard-chart></div><div class="dashboard-item" ng-if="dashboard.positionDState == \'data\'"><div class="header clearfix"><span class="txt">储存与数据</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'D\')"><i class="iconfont">&#xe647;</i></div></div><div class="dashboard-store-data"><div class="store-space"><p class="title">储存空间</p><div class="detail"><div class="iconfont icon">&#xe641;</div><p class="txt">{{dashboard.attachmentSize}}GB</p></div></div><div class="dashboard-data"><p class="title">数据明细</p><div class="data-list clearfix"><div class="item"><i class="iconfont">&#xe65e;</i><div><span>工单数量:</span> <span>{{dashboard.providerActivityData.ticketCount}}</span></div></div><div class="item"><i class="iconfont">&#xe661;</i><div><span>会话数量:</span> <span>{{dashboard.providerActivityData.chatCount}}</span></div></div><div class="item"><i class="iconfont">&#xe65d;</i><div><span>文章数量:</span> <span>{{dashboard.providerActivityData.articleCount}}</span></div></div></div><div class="data-list clearfix"><div class="item"><i class="iconfont">&#xe65f;</i><div><span>回答数量:</span> <span>{{dashboard.providerActivityData.questionCount}}</span></div></div><div class="item"><i class="iconfont">&#xe7c7;</i><div><span>附件:</span> <span>{{dashboard.providerActivityData.fileCount | fileSizeA}}</span></div></div><div class="item item-last"><span></span> <span></span></div></div></div></div></div><div class="dashboard-item" ng-if="dashboard.positionDState == \'newState\'"><div class="header clearfix"><span class="txt">最新动态</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'D\')"><i class="iconfont">&#xe647;</i></div></div><ul class="dashboard-newstate-list"><li class="item" ng-repeat="item in dashboard.recommondQuestions track by $index"><a ng-if="item.topic.type ==\'questions\'" href="{{gettingLastNewsUrl}}#/forum/detail/{{item.id}}" class="detail" target="_blank"><span class="title overflow-ellipsis">{{::item.title}}</span> <span class="author overflow-ellipsis">{{::item.updater.nickname?item.updater.nickname:item.name}}</span> <span class="date">{{::item.updatedAt|dateFilter_style3}}</span> </a><a ng-if="item.topic.type !=\'questions\'" href="{{gettingLastNewsUrl}}#/article/detail/{{item.id}}" class="detail" target="_blank"><span class="title overflow-ellipsis">{{::item.title}}</span> <span class="author overflow-ellipsis">{{::item.updater.nickname?item.updater.nickname:item.name}}</span> <span class="date">{{::item.updatedAt|dateFilter_style3}}</span></a></li></ul><div ng-if="dashboard.noneNewstateList"><p class="none-newstate-list">暂无数据</p></div></div><div class="dashboard-item" ng-if="dashboard.positionDState == \'default\'"><div class="dashboard-add-templte" ng-click="dashboard.addTemplte(\'D\')"><div class="table-cell"><i class="iconfont">&#xe648;</i> 添加模板</div></div></div><div class="dashboard-item" ng-if="dashboard.positionDState == \'add\'"><div class="header clearfix"><span class="txt">自定义仪表盘</span></div><div class="select-dashboard"><div class="change-dashboard"><div class="dashboard-type"><span class="txt">仪表盘类型</span><select class="sel" ng-model="dashboard.dashboardTypeD" ng-change="dashboard.selectDashboardType(\'D\')">><option ng-repeat="item in dashboard.dashboardTypeList track by $index" value="{{item.type}}">{{item.name}}</option></select></div><div class="chart-type" ng-show="dashboard.isChartTypeD"><span class="txt">报表类型</span><select class="sel" ng-model="dashboard.chartTypeD"><option ng-repeat="item in dashboard.chartTypeList track by $index">{{item.name}}</option></select></div><div class="btn-group-common button-group-list dashboard-type-btn"><button type="button" class="btn btn-confirm custom-background-color ladda-button btn-delete-sure" ng-click="dashboard.changeTemplte(\'D\')" ladda="dashboard.savingSettingsD" ng-disabled="dashboard.savingSettingsD" data-style="zoom-in"><span class="ladda-label">确定</span><span class="ladda-spinner"></span></button> <a class="btn btn-cancel" ng-click="dashboard.cancleChangeTemplte(\'D\')">取消</a></div></div></div></div><div class="dashboard-item" ng-if="dashboard.positionDState == \'client\'"><div class="header clearfix"><span class="txt">移动客户端</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'D\')"><i class="iconfont">&#xe647;</i></div></div><div class="dashboard-code"><div class="code-list-wrap clearfix"><div class="code-list"><div class="item" ng-mouseenter="dashboard.changeClinet(\'D\',\'enter\',\'ios\')" ng-mouseleave="dashboard.changeClinet(\'D\',\'leave\')"><i class="iconfont">&#xe642;</i> <span>IOS</span></div><div class="item" ng-mouseenter="dashboard.changeClinet(\'D\',\'enter\', \'android\')" ng-mouseleave="dashboard.changeClinet(\'D\',\'leave\')"><i class="iconfont">&#xe643;</i> <span>Android</span></div><div class="item" ng-mouseenter="dashboard.changeClinet(\'D\',\'enter\', \'weixin\')" ng-mouseleave="dashboard.changeClinet(\'D\',\'leave\')"><i class="iconfont">&#xe644;</i> <span>微信</span></div></div></div><div class="code-detail"><img class="img" ng-src="/source/images/mobile/dashboard_{{dashboard.clientCode_D}}.png" alt=""></div></div></div></div></div><div class="dashboard-row"><div class="position"><div class="dashboard-item" ng-if="dashboard.positionEState == \'chart\'"><dashboard-chart chartposition="dashboard.positionE" charttype="dashboard.chartTypeE" dashboardinfo="dashboard.dashboardInfo" deletetemplte="dashboard.deleteTemplte(\'E\', \'delete\')" positionid="dashboard.positionEid" loaddashboardinfo="dashboard.loadDashboardInfo()"></dashboard-chart></div><div class="dashboard-item" ng-if="dashboard.positionEState == \'data\'"><div class="header clearfix"><span class="txt">储存与数据</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'E\')"><i class="iconfont">&#xe647;</i></div></div><div class="dashboard-store-data"><div class="store-space"><p class="title">储存空间</p><div class="detail"><div class="iconfont icon">&#xe641;</div><p class="txt">{{dashboard.attachmentSize}}GB</p></div></div><div class="dashboard-data"><p class="title">数据明细</p><div class="data-list clearfix"><div class="item"><i class="iconfont">&#xe65e;</i><div><span>工单数量:</span> <span>{{dashboard.providerActivityData.ticketCount}}</span></div></div><div class="item"><i class="iconfont">&#xe661;</i><div><span>会话数量:</span> <span>{{dashboard.providerActivityData.chatCount}}</span></div></div><div class="item"><i class="iconfont">&#xe65d;</i><div><span>文章数量:</span> <span>{{dashboard.providerActivityData.articleCount}}</span></div></div></div><div class="data-list clearfix"><div class="item"><i class="iconfont">&#xe65f;</i><div><span>回答数量:</span> <span>{{dashboard.providerActivityData.questionCount}}</span></div></div><div class="item"><i class="iconfont">&#xe7c7;</i><div><span>附件:</span> <span>{{dashboard.providerActivityData.fileCount | fileSizeA}}</span></div></div><div class="item item-last"><span></span> <span></span></div></div></div></div></div><div class="dashboard-item" ng-if="dashboard.positionEState == \'newState\'"><div class="header clearfix"><span class="txt">最新动态</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'E\')"><i class="iconfont">&#xe647;</i></div></div><ul class="dashboard-newstate-list"><li class="item" ng-repeat="item in dashboard.recommondQuestions track by $index"><a ng-if="item.topic.type ==\'questions\'" href="{{gettingLastNewsUrl}}#/forum/detail/{{item.id}}" class="detail" target="_blank"><span class="title overflow-ellipsis">{{::item.title}}</span> <span class="author overflow-ellipsis">{{::item.updater.nickname?item.updater.nickname:item.name}}</span> <span class="date">{{::item.updatedAt|dateFilter_style3}}</span> </a><a ng-if="item.topic.type !=\'questions\'" href="{{gettingLastNewsUrl}}#/article/detail/{{item.id}}" class="detail" target="_blank"><span class="title overflow-ellipsis">{{::item.title}}</span> <span class="author overflow-ellipsis">{{::item.updater.nickname?item.updater.nickname:item.name}}</span> <span class="date">{{::item.updatedAt|dateFilter_style3}}</span></a></li></ul><div ng-if="dashboard.noneNewstateList"><p class="none-newstate-list">暂无数据</p></div></div><div class="dashboard-item" ng-if="dashboard.positionEState == \'default\'"><div class="dashboard-add-templte" ng-click="dashboard.addTemplte(\'E\')"><div class="table-cell"><i class="iconfont">&#xe648;</i> 添加模板</div></div></div><div class="dashboard-item" ng-if="dashboard.positionEState == \'add\'"><div class="header clearfix"><span class="txt">自定义仪表盘</span></div><div class="select-dashboard"><div class="change-dashboard"><div class="dashboard-type"><span class="txt">仪表盘类型</span><select class="sel" ng-model="dashboard.dashboardTypeE" ng-change="dashboard.selectDashboardType(\'E\')">><option ng-repeat="item in dashboard.dashboardTypeList track by $index" value="{{item.type}}">{{item.name}}</option></select></div><div class="chart-type" ng-show="dashboard.isChartTypeE"><span class="txt">报表类型</span><select class="sel" ng-model="dashboard.chartTypeE"><option ng-repeat="item in dashboard.chartTypeList track by $index">{{item.name}}</option></select></div><div class="btn-group-common button-group-list dashboard-type-btn"><button type="button" class="btn btn-confirm custom-background-color ladda-button btn-delete-sure" ng-click="dashboard.changeTemplte(\'E\')" ladda="dashboard.savingSettingsE" ng-disabled="dashboard.savingSettingsE" data-style="zoom-in"><span class="ladda-label">确定</span><span class="ladda-spinner"></span></button> <a class="btn btn-cancel" ng-click="dashboard.cancleChangeTemplte(\'E\')">取消</a></div></div></div></div><div class="dashboard-item" ng-if="dashboard.positionEState == \'client\'"><div class="header clearfix"><span class="txt">移动客户端</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'E\')"><i class="iconfont">&#xe647;</i></div></div><div class="dashboard-code"><div class="code-list-wrap clearfix"><div class="code-list"><div class="item" ng-mouseenter="dashboard.changeClinet(\'E\',\'enter\',\'ios\')" ng-mouseleave="dashboard.changeClinet(\'E\',\'leave\')"><i class="iconfont">&#xe642;</i> <span>IOS</span></div><div class="item" ng-mouseenter="dashboard.changeClinet(\'E\',\'enter\', \'android\')" ng-mouseleave="dashboard.changeClinet(\'E\',\'leave\')"><i class="iconfont">&#xe643;</i> <span>Android</span></div><div class="item" ng-mouseenter="dashboard.changeClinet(\'E\',\'enter\', \'weixin\')" ng-mouseleave="dashboard.changeClinet(\'E\',\'leave\')"><i class="iconfont">&#xe644;</i> <span>微信</span></div></div></div><div class="code-detail"><img class="img" ng-src="/source/images/mobile/dashboard_{{dashboard.clientCode_E}}.png" alt=""></div></div></div></div><div class="position"><div class="dashboard-item" ng-if="dashboard.positionFState == \'chart\'"><dashboard-chart chartposition="dashboard.positionF" charttype="dashboard.chartTypeF" dashboardinfo="dashboard.dashboardInfo" deletetemplte="dashboard.deleteTemplte(\'F\')" positionid="dashboard.positionFid" loaddashboardinfo="dashboard.loadDashboardInfo()"></dashboard-chart></div><div class="dashboard-item" ng-if="dashboard.positionFState == \'data\'"><div class="header clearfix"><span class="txt">储存与数据</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'F\')"><i class="iconfont">&#xe647;</i></div></div><div class="dashboard-store-data"><div class="store-space"><p class="title">储存空间</p><div class="detail"><div class="iconfont icon">&#xe641;</div><p class="txt">{{dashboard.attachmentSize}}GB</p></div></div><div class="dashboard-data"><p class="title">数据明细</p><div class="data-list clearfix"><div class="item"><i class="iconfont">&#xe65e;</i><div><span>工单数量:</span> <span>{{dashboard.providerActivityData.ticketCount}}</span></div></div><div class="item"><i class="iconfont">&#xe661;</i><div><span>会话数量:</span> <span>{{dashboard.providerActivityData.chatCount}}</span></div></div><div class="item"><i class="iconfont">&#xe65d;</i><div><span>文章数量:</span> <span>{{dashboard.providerActivityData.articleCount}}</span></div></div></div><div class="data-list clearfix"><div class="item"><i class="iconfont">&#xe65f;</i><div><span>回答数量:</span> <span>{{dashboard.providerActivityData.questionCount}}</span></div></div><div class="item"><i class="iconfont">&#xe7c7;</i><div><span>附件:</span> <span>{{dashboard.providerActivityData.fileCount | fileSizeA}}</span></div></div><div class="item item-last"><span></span> <span></span></div></div></div></div></div><div class="dashboard-item" ng-if="dashboard.positionFState == \'newState\'"><div class="header clearfix"><span class="txt">最新动态</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'F\')"><i class="iconfont">&#xe647;</i></div></div><ul class="dashboard-newstate-list"><li class="item" ng-repeat="item in dashboard.recommondQuestions track by $index"><a ng-if="item.topic.type ==\'questions\'" href="{{gettingLastNewsUrl}}#/forum/detail/{{item.id}}" class="detail" target="_blank"><span class="title overflow-ellipsis">{{::item.title}}</span> <span class="author overflow-ellipsis">{{::item.updater.nickname?item.updater.nickname:item.name}}</span> <span class="date">{{::item.updatedAt|dateFilter_style3}}</span> </a><a ng-if="item.topic.type !=\'questions\'" href="{{gettingLastNewsUrl}}#/article/detail/{{item.id}}" class="detail" target="_blank"><span class="title overflow-ellipsis">{{::item.title}}</span> <span class="author overflow-ellipsis">{{::item.updater.nickname?item.updater.nickname:item.name}}</span> <span class="date">{{::item.updatedAt|dateFilter_style3}}</span></a></li></ul><div ng-if="dashboard.noneNewstateList"><p class="none-newstate-list">暂无数据</p></div></div><div class="dashboard-item" ng-if="dashboard.positionFState == \'default\'"><div class="dashboard-add-templte" ng-click="dashboard.addTemplte(\'F\')"><div class="table-cell"><i class="iconfont">&#xe648;</i> 添加模板</div></div></div><div class="dashboard-item" ng-if="dashboard.positionFState == \'add\'"><div class="header clearfix"><span class="txt">自定义仪表盘</span></div><div class="select-dashboard"><div class="change-dashboard"><div class="dashboard-type"><span class="txt">仪表盘类型</span><select class="sel" ng-model="dashboard.dashboardTypeF" ng-change="dashboard.selectDashboardType(\'F\')">><option ng-repeat="item in dashboard.dashboardTypeList track by $index" value="{{item.type}}">{{item.name}}</option></select></div><div class="chart-type" ng-show="dashboard.isChartTypeF"><span class="txt">报表类型</span><select class="sel" ng-model="dashboard.chartTypeF"><option ng-repeat="item in dashboard.chartTypeList track by $index">{{item.name}}</option></select></div><div class="btn-group-common button-group-list dashboard-type-btn"><button type="button" class="btn btn-confirm custom-background-color ladda-button btn-delete-sure" ng-click="dashboard.changeTemplte(\'F\')" ladda="dashboard.savingSettingsF" ng-disabled="dashboard.savingSettingsF" data-style="zoom-in"><span class="ladda-label">确定</span><span class="ladda-spinner"></span></button> <a class="btn btn-cancel" ng-click="dashboard.cancleChangeTemplte(\'F\')">取消</a></div></div></div></div><div class="dashboard-item" ng-if="dashboard.positionFState == \'client\'"><div class="header clearfix"><span class="txt">移动客户端</span><div class="delete-templte" ng-click="dashboard.deleteTemplte(\'F\')"><i class="iconfont">&#xe647;</i></div></div><div class="dashboard-code"><div class="code-list-wrap clearfix"><div class="code-list"><div class="item" ng-mouseenter="dashboard.changeClinet(\'F\',\'enter\',\'ios\')" ng-mouseleave="dashboard.changeClinet(\'F\',\'leave\')"><i class="iconfont">&#xe642;</i> <span>IOS</span></div><div class="item" ng-mouseenter="dashboard.changeClinet(\'F\',\'enter\', \'android\')" ng-mouseleave="dashboard.changeClinet(\'F\',\'leave\')"><i class="iconfont">&#xe643;</i> <span>Android</span></div><div class="item" ng-mouseenter="dashboard.changeClinet(\'F\',\'enter\', \'weixin\')" ng-mouseleave="dashboard.changeClinet(\'F\',\'leave\')"><i class="iconfont">&#xe644;</i> <span>微信</span></div></div></div><div class="code-detail"><img class="img" ng-src="/source/images/mobile/dashboard_{{dashboard.clientCode_F}}.png" alt=""></div></div></div></div></div></div>');e.put("source/dashboard/engineer_list.html",'<div class="modal-inner-content"><div><div class="size13" style="max-height:800px;overflow:scroll"><table border="1" style="width:100%;border-color:#d3d4d8;line-height:20px"><tr><td width="35%">姓名</td><td width="35%">昵称</td><td width="10%">windows</td><td width="10%">Android</td><td width="10%">IOS</td></tr><tr ng-repeat="engineer in engineerList track by $index"><td width="35%">{{engineer.name}}</td><td width="35%">{{engineer.nickname}}</td><td width="10%" align="center"><i ng-if="engineer.webOnline" style="margin-left:10px" class="fa fa-windows"></i></td><td width="10%" align="center"><i ng-if="engineer.androidOnline" style="margin-left:10px" class="fa fa-android"></i></td><td width="10%" align="center"><i ng-if="engineer.iosOnline" style="margin-left:10px" class="fa fa fa-apple"></i></td></tr></table></div></div></div>');e.put("source/dashboard/main.html",'<div ui-view class="dash-container"></div>');e.put("source/dashboard/notice_setting.html",'<div class="modal" tabindex="-1" role="dialog"><div class="modal-dialog" style="margin-top:15px"><div class="modal-content" style="width:670px"><div class="modal-header clearfix" ng-show="title"><h4 class="modal-title pull-left" ng-bind="title"></h4><div class="pull-right text-center margin_right20px"><strong>Email</strong><br><span style="color:#999">抄送到我的邮箱</span></div><div class="pull-right text-center margin_right20px"><strong>WEB/APP</strong><br><span style="color:#999">通知到客服界面或APP</span></div></div><div class="modal-body"><div><div><ul class="list-unstyled notice-setting"><li class="clearfix"><div style="width:350px;line-height:initial" class="pull-left"><strong>工单流转通知</strong><br><span class="tip">当下列情况发生时，通知我</span></div><div style="width:120px" class="pull-left text-center"></div><div style="width:120px" class="pull-left text-center"></div></li><li class="clearfix padding_left20px"><div style="width:350px" class="pull-left"><strong>工单分派给我</strong></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketAssignNoticeByMe" value="true"></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketAssignEmailByMe" value="true"></div></li><li class="clearfix padding_left20px"><div style="width:350px" class="pull-left"><strong>新建工单到达我的首选客服组</strong></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketAssignNoticeByDefaultServiceDesk" value="true"></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketAssignEmailByDefaultServiceDesk" value="true"></div></li><li class="clearfix padding_left20px"><div style="width:350px" class="pull-left"><strong>新建工单到达我所属的任意客服组</strong></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketAssignNoticeByAnyServiceDesk" value="true"></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketAssignEmailByAnyServiceDesk" value="true"></div></li><li class="clearfix"><div style="width:350px;line-height:initial;margin-top:20px" class="pull-left"><strong>工单回复消息通知</strong><br><span class="tip">当下列工单有新回复时，通知我</span></div><div style="width:120px" class="pull-left text-center"></div><div style="width:120px" class="pull-left text-center"></div></li><li class="clearfix padding_left20px"><div style="width:350px" class="pull-left"><strong>我创建的工单</strong></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketReplyNoticeByCreator" value="true"></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketReplyEmailByCreator" value="true"></div></li><li class="clearfix padding_left20px"><div style="width:350px" class="pull-left"><strong>我处理中的工单</strong></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketReplyNoticeByHandler" value="true"></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketReplyEmailByHandler" value="true"></div></li><li class="clearfix padding_left20px"><div style="width:350px" class="pull-left"><strong>抄送给我的工单</strong></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketReplyNoticeByCc" value="true"></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketReplyEmailByCc" value="true"></div></li><li class="clearfix padding_left20px"><div style="width:350px" class="pull-left"><strong>星标关注的工单</strong></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketReplyNoticeBySubscriber" value="true"></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.ticketReplyEmailBySubscriber" value="true"></div></li><li style="padding-top:15px" class="clearfix"><div style="width:370px;line-height:initial" class="pull-left"><strong>社区活动</strong><br><span class="tip">我的文章或回答有新评论，我的提问有新回答等</span></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.helpCenterNotice" value="true"></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.helpCenterEmail" value="true"></div></li><li style="padding-top:15px" class="clearfix"><div style="width:370px;line-height:initial" class="pull-left"><strong>帐户相关</strong><br><span class="tip">修改密码，替换Email，绑定社交账号，停用/启用等</span></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.accountNotice" value="true"></div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.accountEmail" value="true"></div></li><li style="padding-top:15px" class="clearfix"><div style="width:370px;line-height:initial" class="pull-left"><strong>易维每月精选</strong><br><span class="tip">了解最新动态，每月一份有趣的内容合集</span></div><div style="width:120px" class="pull-left text-center">&nbsp;</div><div style="width:120px" class="pull-left text-center"><input type="checkbox" ng-model="userNoticeConfig.monthlyEmail" value="true"></div></li></ul></div></div><div class="modal-footer" style="padding-top:15px"><button type="button" class="btn btn-primary pull-left" style="width:100px;background-color:#000;color:#FFF;border-radius:0" ng-click="$save(userNoticeConfig)">更新</button> <button type="button" class="btn btn-default pull-left" style="border:none;margin-left:20px" ng-click="$hide()">取消</button></div></div></div></div></div>');e.put("source/dashboard/select__engineers_single.html",'<style type="text/css">.modal-content{width:400px;height:435px;border-radius:8px}.modal-content .modal-body{padding:0}.radio-wrap{width:100%;height:306px;overflow-y:auto;margin:10px auto}.radio label{padding-left:50px;margin:5px 0;font-size:14px;color:#999}.radio dt{padding-left:20px;font-size:18px;font-weight:100;color:#333}.ps-wrap{margin-top:20px}.radio-wrap .search-customer{width:368px;height:30px;margin:0 auto}.radio-wrap .search-customer input{padding:5px;width:100%;outline:0;border-radius:5px;border:1px solid #999;height:30px;color:#999}.ps-wrap>label{margin-left:10px}.ps-wrap>.form-control{border-radius:0;padding:0 5px}#ps{width:345px;height:50px;margin:5px auto 0}</style><form name="transferConversation"><div class="radio-wrap"><div class="search-customer"><input placeholder="搜索客服" ng-blur="searchCustomer();" name="searchCustomerCond"></div><div ng-repeat="serviceDesk in selectServiceDesks " class="form-group"><dl ng-if="serviceDesk.engineers.length>0" class="radio"><dt>{{serviceDesk.name | translate}}</dt><dd ng-repeat="engineer in serviceDesk.engineers "><label><input name="waitingEngineerName" ng-click="setwaitingEngineer(engineer)" ng-model="_waitingEngineer" type="radio" ng-value="engineer">{{engineer.name}}<engineer-status chat-count="engineer.chatCount" chat-max="engineer.concurrentChatNumber" brackets="true"></engineer-status></label></dd></dl></div></div></form><div class="btn-group-common modal-footer"><button type="button" class="btn btn-confirm" ng-click="sendChatRequest()" ng-disabled="disabledVal" ladda="disabledVal">分派</button> <a class="btn btn-cancel" ng-click="hideSelectEngineerModal()" style="margin-left:15px">取消</a></div>');e.put("source/desktop_help/desktop_help.html",'<!DOCTYPE html><html><head lang="en"><meta charset="UTF-8"><title></title></head><body></body></html>');e.put("source/dingding_setting/dingding_setting.html",'<div class="setting-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'dingding_setting\',settingType:\'ticket\'})">钉钉客户端 </a>》<span ng-if="checkId==0">添加渠道</span><span ng-if="checkId" ng-bind="channelName"></span></div><oem-learn-more type="ticket_web_form_edit" description="通过接口，将帮助中心接入钉钉企业号。客户可在钉钉内发起服务请求，接受在线客服、工单支持和FAQ自助等全方位的服务。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/814" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-repeat="nav in navListData" ui-sref="{{::nav.self}}" ui-sref-active="active">{{::nav.title}}</li></ul><div ui-view></div></div>');e.put("source/statistics/statistics.view.html",'<div class="statistics"><header><ul class="nav nav-pills"><li ng-class="{\'active\': $location.path().indexOf(\'/statistics/engineer\')>-1}" has-permission="statistics_engineer_performance"><a ui-sref="statistics.engineer" ui-sref-opts="{reload: true}">客服绩效</a></li><li ng-class="{\'active\': $location.path().indexOf(\'/statistics/ticket\')>-1}" has-permission="statistics_ticket_statistics"><a ui-sref="statistics.ticket" ui-sref-opts="{reload: true}">工单统计</a></li><li ng-class="{\'active\': $location.path().indexOf(\'/statistics/chat\')>-1}" has-permission="statistics_chat_statistics"><a ui-sref="statistics.chat" ui-sref-opts="{reload: true}">会话统计</a></li><li ng-class="{\'active\': $location.path().indexOf(\'/statistics/customer\')>-1}" has-permission="statistics_customer_statistics"><a ui-sref="statistics.customer" ui-sref-opts="{reload: true}">客户统计</a></li><li ng-class="{\'active\': $location.path().indexOf(\'/statistics/service_report\')>-1}" has-permission="service_report"><a ui-sref="statistics.serviceReport" ui-sref-opts="{reload: true}">服务报告</a></li></ul><div class="date-range-wrap form-inline" ng-if="!hideDateRangeSelector"><a class="btn btn-default" ng-disabled="dateRangeSelectroDisabled" ng-click="prevRange()">&lt;</a><ng-date-range ng-if="!dateRangeSelectroDisabled" date-range="dateRange" min="minRangeDate" max="maxRangeDate" limit="366" format="{{dateFormat}}" disabled="dateRangeSelectroDisabled" style="height:30px"></ng-date-range><div ng-if="dateRangeSelectroDisabled" ng-disabled="dateRangeSelectroDisabled" class="btn btn-default" ng-disabled="disabled"><span>{{dateRange.startDate.format(dateFormat)}} - {{dateRange.endDate.format(dateFormat)}}</span> &nbsp; <i class="fa fa-calendar"></i></div><a class="btn btn-default" ng-disabled="dateRangeSelectroDisabled" ng-click="nextRange()">&gt;</a></div><div class="switch-to-old" ng-if="!hideOldVersionSwitch" has-permissions="ticket_performance_statistics,ticket_distributed_statistics,customer_analyze_statistics"><a class="btn" ui-sref="chart" ui-sref-opts="{reload: true}"><i class="iconfont">&#xe74c;</i> <span>切换到旧版</span></a></div></header><div class="stat-view" ui-view></div></div>');e.put("source/statistics-menggang/statistics.view.html",'<div class="statistics"><header><ul class="nav nav-pills"><li ng-class="{\'active\': $location.path().indexOf(\'/statistics-menggang/performance\')>-1}"><a ui-sref="statistics-menggang.performance" ui-sref-opts="{reload: true}">绩效统计</a></li><li ng-class="{\'active\': $location.path().indexOf(\'/statistics-menggang/timeout\')>-1}"><a ui-sref="statistics-menggang.timeout" ui-sref-opts="{reload: true}">超时统计</a></li><li ng-class="{\'active\': $location.path().indexOf(\'/statistics-menggang/customer\')>-1}"><a ui-sref="statistics-menggang.customer" ui-sref-opts="{reload: true}">客户统计</a></li><li ng-class="{\'active\': $location.path().indexOf(\'/statistics-menggang/distribution\')>-1}"><a ui-sref="statistics-menggang.distribution" ui-sref-opts="{reload: true}">事件分布</a></li><li ng-class="{\'active\': $location.path().indexOf(\'/statistics-menggang/resolutionrate\')>-1}"><a ui-sref="statistics-menggang.resolutionrate" ui-sref-opts="{reload: true}">事件解决率</a></li></ul><div class="date-range-wrap form-inline" ng-if="!hideDateRangeSelector"><a class="btn btn-default" ng-disabled="dateRangeSelectroDisabled" ng-click="prevRange()">&lt;</a><ng-date-range ng-if="!dateRangeSelectroDisabled" date-range="dateRange" min="minRangeDate" max="maxRangeDate" limit="366" format="{{dateFormat}}" disabled="dateRangeSelectroDisabled" style="height:30px"></ng-date-range><div ng-if="dateRangeSelectroDisabled" ng-disabled="dateRangeSelectroDisabled" class="btn btn-default" ng-disabled="disabled"><span>{{dateRange.startDate.format(dateFormat)}} - {{dateRange.endDate.format(dateFormat)}}</span> &nbsp; <i class="fa fa-calendar"></i></div><a class="btn btn-default" ng-disabled="dateRangeSelectroDisabled" ng-click="nextRange()">&gt;</a></div></header><div class="stat-view" ui-view></div></div>');e.put("source/telephone_channels/telephone_channels.html",'<div class="setting-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'telephone_channels\',settingType:\'ticket\'})">电话转工单 </a>》<span ng-if="checkId==0">添加渠道</span><span ng-if="checkId" ng-bind="telphoneChannelName"></span></div><oem-learn-more type="telephone_channels" description="通过CTI电脑电话接口，将电话语音接入客服系统。来电/去电弹屏，自动关联客户，创建或插入工单，并保存通话录音。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/761" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-repeat="nav in navListData" ui-sref="{{::nav.self}}" ui-sref-active="active">{{::nav.title}}</li></ul><div ui-view></div></div>');e.put("source/views/alert_ recycle_bin.html",'<div class="modal-inner-content text-center margin_top20px margin_bottom20px"><p>删除工单将不可恢复，确认要删除工单吗？</p></div><div class="text-center"><button type="button" class="btn btn-default padding_right30px padding_left30px" ng-click="$ok()">确认</button> <button type="button" class="btn btn-primary padding_right30px padding_left30px" ng-click="$hide();">取消</button></div>');e.put("source/views/alert_offline.html",'<style>.confirm{padding:5px 10px;border:1px solid #999;text-align:center;text-decoration:none}.confirm:hover{text-decoration:none}</style><div class="modal-inner-content css-form text-center"><form name="changeSubdomainForm"><div style="width:450px;margin:10px auto"><p style="font-size:14px">你被强制下线了，因为另一位用户在本浏览器进行了登录操作。</p><p style="font-size:14px">你的账号和数据是安全的。</p></div><br><div style="margin:10px 0;text-align:center"><a class="confirm" style="font-size:13px" href="/#/login?email={{useremail}}">确定</a></div></form></div>');e.put("source/views/alert_recycle_bin.html",'<div class="modal-inner-content text-center margin_top20px margin_bottom20px"><p>回收站的工单被删除之后将不可恢复，是否要继续操作？</p></div><div class="text-center"><button type="button" class="btn btn-default padding_right30px padding_left30px" ng-click="$ok()">确认</button> <button type="button" class="btn btn-primary padding_right30px padding_left30px" ng-click="$hide();">取消</button></div>');e.put("source/views/alter_common.html",'<style>.modal.center .modal-dialog{width:484px;height:232px;margin-top:0;margin-bottom:0;top:50%}.modal.center .modal-body{padding:20px}.modal.center .modal-title{font-size:16px;color:#333}.modal.center .close{display:none}.modal-inner-content{font-size:16px}.btn-make-sure{width:80px;height:30px;font-size:14px;padding-top:3px;padding-bottom:3px}.btn-loading{background-color:#999}.btn-loading img{width:20px;height:20px}.btn-cancel{background:0 0;color:#999}.btn-cancel.active:focus,.btn-cancel:active:focus,.btn-cancel:focus{outline:0;box-shadow:none}</style><div class="modal-inner-content text-center margin_top35px margin_bottom50px"><p style="text-align:left;padding:0 5px">{{_messages}}</p></div><div class="text-right"><button type="button" style="color:#fff" class="btn btn-make-sure custom-background-color" ng-click="$ok()" ng-if="!isLoading">确认</button> <button type="button" class="btn btn-make-sure btn-loading" ng-if="isLoading" disabled="disabled"><img src="source/images/home_load/load_white.gif"></button> <button type="button" class="btn btn-make-sure btn-cancel" ng-click="$hide();hideCallback()">取消</button></div>');e.put("source/views/assist.html",'<div class="modal-inner-content"><p>客服 {{requesterName}} 邀请您就 工单#{{ticketNo}} 进行远程协助 {{seconds}}</p></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide();">拒绝</button> <button type="button" class="btn btn-primary" ng-click="$accept();">同意</button></div>');e.put("source/views/cancel_free.html",'<div style="width:100%"><div style="width:100%;padding-bottom:30px;text-align:center;font-size:20px">易维免费版，再见！</div><div style="width:100%;height:80px;margin:0 auto;font-size:14px;height:150px;padding:0 57px"><p style="text-indent:28px;margin-bottom:5px">为更好满足用户需求和优化体验，近期易维将上线新版本，同时在3月23日晚将取消免费版，感谢您一直以来对易维的支持，为此给您带来的不便敬请谅解。</p><p style="text-indent:28px;margin-bottom:5px">请放心，您的数据仍然安全，可随时查询、导出数据，但不能添加新的客户、工单和会话。</p><p style="text-indent:28px;margin-bottom:5px">如果您正在试用，可联系客服，咨询优惠政策或延长免费授权。</p></div></div>');e.put("source/views/capacity-modal.html",'<div class="modal" tabindex="-1" role="dialog" style="z-index:1060"><div class="modal-dialog"><div class="modal-content" style="width:630px;height:260px"><div class="modal-body"><h3 style="margin-top:20px" class="text-center">温馨提醒</h3><p ng-if="vertionLicense!==\'enterprise_basic_19\'" class="text-center" style="font-size:14px;margin-top:50px">你的企业存储空间已使用{{capacityPercent}}%，请关注剩余空间大小对业务可能带来的影响！</p><p ng-if="vertionLicense===\'enterprise_basic_19\'" class="text-center" style="font-size:14px;margin-top:50px">您的企业本年新增数据用量已达到{{capacityPercent}}%，请关注剩余空间大小对业务可能带来的影响！</p></div><div class="modal-footer" style="margin-top:40px;margin-right:30px"><button type="button" class="btn btn-confirm custom-background-color" ng-click="saveCapacityMark()">知道了</button></div></div></div></div>');e.put("source/views/component_popup.html",'<div ng-show="!isApp"><table id="ewm" align="center" width="100%"><tr><td><image src="source/images/mobile/wx.jpg" class="w160"></td><td class="spaces"></td><td><img style="height:160px;width:160px" ng-style="dashboard.downloadStyle" src="source/images/mobile/Android_two.png"></td><td class="spaces"></td><td><img style="height:160px;width:160px" ng-style="dashboard.downloadStyle" src="source/images/mobile/Apple_two.png"></td></tr><tr><td>微信客户端</td><td></td><td>{{providerEweiProductName|replace_ewei_productname}}Android</td><td></td><td>{{providerEweiProductName|replace_ewei_productname}}IOS</td></tr></table></div><div ng-show="isApp" style="text-align:center"><div style="text-align:right;font-size:25px"><span id="close" style="cursor:pointer" ng-click="closeModal();">×</span></div><div ng-if="!isInstall"><div style="text-align:center;font-size:20px">未检测到远程协助组件</div><br><a href="{{applicationUrl}}" ng-click="$install()" class="dash-install" target="_blank"><button class="btn btn-primary">下载安装</button></a><br><br><div style="text-align:center;font-size:12px">下载后，请以系统管理员权限安装</div><br></div><div ng-if="isInstall&&!whyFalse"><div style="text-align:center;font-size:20px">检测组件与网页通信是否正常</div><br><div ng-if="isInstallTesting"><a ng-click="$isInstallTesting()" class="dash-install" target="_blank"><input type="button" class="btn btn-primary" value=" 检　测  "></a><br><br><div style="text-align:center;font-size:12px"><a href="javascript:void(0);" ng-click="installFlase();" style="color:#36C4ED">安装失败?</a></div></div><div class="text" ng-if="!isInstallTesting&&!isClose">正在检测<span style="display:inline-block;width:15px;text-align:left" id="test"></span></div><div ng-if="isClose"><a ng-click="closeModal();" class="dash-install" target="_blank"><button class="btn btn-primary">通信正常，返回网页继续操作</button></a></div><br></div><div ng-if="whyFalse"><div style="text-align:left"><a href="javascript:void(0);" ng-click="$return(0)" style="color:#36C4ED">返回重新检测</a></div><div style="text-align:center;font-size:20px">为何安装不成功?</div><br><div style="text-align:center;font-size:14px">1.您并未执行安装操作</div><div style="text-align:center;font-size:14px">2.您未以管理员权限执行安装操作</div><div style="text-align:center;font-size:14px">3.您未设置组件的网络代理</div><br><div style="text-align:center"><a href="javascript:void(0);" ng-click="$return(1)" style="color:#36C4ED">重新下载安装</a></div></div></div><style type="text/css">.spaces{width:3%}#ewm td{text-align:center}#close{display:inline-block;width:20px;height:20px;border-radius:50%;text-align:center;line-height:26px;color:#CCC}#close:hover{color:#333}</style><script type="text/javascript"><\/script>');e.put("source/views/confirm_template.html",'<div class="modal-inner-content confirm-content"><p>{{confirmContent}}</p></div><div class="modal-footer btn-group-common" style="margin-top:10px"><button type="button" class="btn btn-confirm custom-background-color" ng-disabled="$loading" ng-click="$ok()">确定</button> <a class="btn btn-cancel" ng-click="$hide();hideBlack()">取消</a></div>');e.put("source/views/disk_capacity_exceed.html",'<div style="width:600px;height:300px"><div style="width:100%;height:80px;line-height:80px;text-align:center;font-size:20px">存储容量耗尽</div><div style="width:100%;height:80px;margin:0 auto;text-align:center;font-size:13px">感谢使用{{providerEweiProductName|replace_ewei_productname}}，你的存储容量已用完<br>你的数据还是安全的，但不能创建新的工单、客户和会话了</div><div style="width:100%;height:80px"><div ng-click="goFeedback(\'addCapacity\')" style="cursor:pointer;width:50%;height:40px;line-height:40px;margin:0 auto;background-color:#1E8CCE;margin-top:30px;text-align:center;-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px"><strong style="font-size:16px;color:#fff">联系客服增加存储容量</strong></div></div><div style="width:100%;height:60px;line-height:10px;text-align:center;font-size:13px"><a href="http://www.ewei.com/plans.html" target="_blank" style="color:#1E8CCE;cursor:pointer">升级到无限容量的企业授权计划</a></div></div>');e.put("source/views/favorite.html",'<div style="padding:18px;text-align:center;font-size:13px"><p><i class="fa fa-exclamation-circle" style="color:#ECBD07;font-size:16px"></i> <span style="color:#333">请使用快捷键 CTRL + D 收藏</span></p></div>');e.put("source/views/first_login_template_email.html",'<style type="text/css">.user-group{margin-bottom:20px}.mobile-select{border:none}.mobile-select:focus{outline:0}</style><div class="modal" tabindex="-1" role="dialog" style="z-index:1060"><div class="modal-dialog"><div class="modal-content first_login_wrap" style="width:630px"><div class="modal-body"><h3 class="text-center">绑定邮箱</h3><p class="text-center" style="padding-bottom:10px">绑定邮箱后，您下次可通过邮箱登录和接收邮件通知。</p><div class="text-box"><input type="text" ng-model="getCodeParm.email" maxlength="60" placeholder="邮箱"> <button class="send_btn custom-main-font-color" ng-disabled="getCodeParm.isdisabled" ng-click="getCode(\'email\')">{{getCodeParm.value}}</button></div><div class="text-box"><input type="text" ng-model="getCodeParm.code" maxlength="6" placeholder="验证码"></div></div><div class="modal-footer btn-group-common" style="margin-top:10px"><div class="pull-left"><label style="font-weight:400;color:#999;line-height:30px"><input type="checkbox" ng-model="neverShowEmail" style="vertical-align:sub;margin-right:5px">下次不再提醒</label></div><a class="btn btn-cancel" ng-click="hideModal()">以后再绑定</a> <button type="button" class="btn btn-confirm custom-background-color" ng-disabled="$loading" ng-click="$ok()">确定</button></div></div></div></div>');e.put("source/views/first_login_template_mobile.html",'<style type="text/css">.user-group{margin-bottom:20px}.mobile-select{border:none}.mobile-select:focus{outline:0}</style><div class="modal" tabindex="-1" role="dialog" style="z-index:1060"><div class="modal-dialog"><div class="modal-content first_login_wrap" style="width:630px"><div class="modal-body"><h3 class="text-center">绑定手机</h3><p class="text-center" style="padding-bottom:10px">绑定手机，您下次可通过手机号直接登录。</p><div class="text-box"><input type="text" ng-model="getmobileCodeParm.mobile" maxlength="60" placeholder="手机号"> <button class="send_btn custom-main-font-color" ng-disabled="getmobileCodeParm.isdisabled" ng-click="getCode(\'mobile\')">{{getmobileCodeParm.value}}</button></div><div class="text-box"><input type="text" ng-model="getmobileCodeParm.code" maxlength="6" placeholder="验证码"></div></div><div class="modal-footer btn-group-common" style="margin-top:10px"><div class="pull-left"><label style="font-weight:400;color:#999;line-height:30px"><input type="checkbox" ng-model="neverShowPhone" style="vertical-align:sub;margin-right:5px">下次不再提醒</label></div><a class="btn btn-cancel" ng-click="hideModal()">以后再绑定</a> <button type="button" class="btn btn-confirm custom-background-color" ng-disabled="$loading" ng-click="$ok()">确定</button></div></div></div></div>');e.put("source/views/fun_restriction_reminder.html",'<div style="padding:18px;text-align:center;font-size:13px"><p>{{tipNotSupportService}}</p><button class="right_now" ng-click="goAuthorization();" ng-if="hasPermission">马上升级</button> <button class="right_now" ng-click="hideModal_();" ng-hide="hasPermission">确定</button></div><style>.right_now{display:inline-block;width:100px;height:40px;border-radius:5px;background:#35B3E1;color:#fff;border:none;outline:0;margin:30px}</style>');e.put("source/views/header-right-temp.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind-html="title"></h4></div><div class="aside-body"><div style="margin:0 -15px;color:#333"><ul style="font-size:14px;list-style:none;padding:10px 40px;border-bottom:1px solid #ddd"><li style="color:#29bd8b;font-size:16px;height:30px">当前客服名称</li><li style="height:30px">显示客服组</li><li style="height:30px">显示角色</li></ul><ul style="font-size:14px;list-style:none;padding:10px 40px;border-bottom:1px solid #ddd"><li style="color:#29bd8b;font-size:16px;height:30px">切换到帮助中心</li><li style="height:30px">help.ewei.com</li></ul><ul style="font-size:14px;list-style:none;padding:10px 40px;border-bottom:1px solid #ddd"><li style="height:30px;color:#999">并发会话上限</li><li style="margin-bottom:10px"><div class="btn-group"><button type="button" class="btn btn-default">Action</button> <button style="border-top-left-radius:0;border-bottom-left-radius:0" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu"><li ng-repeat="num in [0,1,2,3,4,5,6,7,8,9,10]" ng-click="setCurrentChatNumber(num)"><a has-permission="chat_shows_busy" ng-if="num == 0"><i class="fa"></i> <span>{{num}}</span>{{num===0?\'(示忙)\':\'\'}} </a><a ng-if="num != 0"><i class="fa" ng-class="{\'fa-check\':concurrentChatNumber==num}"></i> <span>{{num}}</span></a></li></ul></div></li></ul><ul style="font-size:14px;list-style:none;padding:10px 40px;border-bottom:1px solid #ddd"><li style="height:30px">APP和微信客服端</li><li style="height:30px">远程协助组件</li><li style="height:30px">新手向导</li><li style="height:30px">帮助文档</li><li style="height:30px">开发者</li></ul><p style="font-size:14px;padding:10px 40px">退出</p></div></div></div></div></div>');e.put("source/views/iframe.html",'<iframe name="iframe_app" ng-src="{{authorize_to_app_url}}" style="width:100%;height:100%;position:fixed;margin-top:0;padding-left:0;border:none"></iframe>');e.put("source/views/install_ewei_hub_server.html",'<style>.bodyStyle{FONT-WEIGHT:normal;COLOR:#333;FONT-STYLE:normal;TEXT-DECORATION:none;font-size:13px;FONT-FAMILY:"微软雅黑",Tahoma,Arial,"宋体"}.btn-black{width:100px;height:30px;padding:0;line-height:28px;border:1px solid #000}</style><div class="bodyStyle modal-inner-content" style="width:444px;height:120px;border:1px solid #999;border-radius:5px;background-color:#ff6"><p>&nbsp;</p><p style="padding-top:2px;text-align:center">{{downloadTip|translate}}</p><p style="color:#999;text-align:center;padding-top:20px"><a ng-if="!downloading" ng-click="download()" class="btn btn-default btn-black" target="_blank" ng-href="{{exeurl}}">{{downloadButton|translate}}</a> <a ng-if="downloading" ng-click="downloadComplete()" class="btn btn-default btn-black" href="javascript:void(0)">安装成功</a> <a ng-if="downloading" ng-click="downloadComplete()" class="btn btn-default btn-black" style="margin-left:20px" href="javascript:void(0)">安装失败</a></p></div>');e.put("source/views/license-over-usage.html",'<style>.modal-license-over-usage>.over-usage-text{color:#666;font-size:14px;padding:10px 5px}.modal-license-over-usage>.over-usage-text>.icon-close{color:red;float:right;cursor:pointer}</style><div class="modal-license-over-usage"><div class="over-usage-text">您的企业数据用量已超限，请联系管理员 <span ng-click="hideLicenseOverUsageModal()" class="iconfont icon-close">&#xe63c;</span></div></div>');e.put("source/views/license_overdue.html",'<div style="width:600px"><div style="width:100%;height:80px;line-height:80px;text-align:center;font-size:20px">{{modalTitle}}</div><div style="width:100%;height:80px;margin:0 auto;text-align:center;font-size:13px">感谢使用{{providerEweiProductName|replace_ewei_productname}}，{{modalMessage}}<br>你的数据还是安全的，但不能添加新的客户、工单和会话了</div><div has-permission="system_setting_company_account"><div style="width:100%;height:80px"><div ng-click="buyCompanyServe()" ng-if="licenseType==\'trial\'" style="width:50%;height:40px;cursor:pointer;line-height:40px;margin:0 auto;background-color:#1E8CCE;margin-top:30px;text-align:center;-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px"><strong style="font-size:16px;color:#fff">升级到企业服务</strong></div><form method="post" target="_blank" name="renewals"><div ng-click="goFeedback(\'renewals\')" ng-if="licenseType!=\'free\'&&licenseType!=\'trial\'&&licenseType!=\'enterprise_trial\'&&(authorizeDeadline&&curTime>0)" style="width:50%;height:40px;cursor:pointer;line-height:40px;margin:0 auto;background-color:#1E8CCE;margin-top:30px;text-align:center;-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px"><strong style="font-size:16px;color:#fff">立即续费</strong> <input type="text" ng-model="currentProviderId" style="display:none" name="providerId"> <input type="hidden" name="providerNumber" value="{{providerNumber}}"></div><div ng-click="linkEngineer();" ng-if="licenseType!=\'free\'&&licenseType!=\'trial\'&&licenseType!=\'enterprise_trial\'&&(!authorizeDeadline||curTime<0)" style="width:50%;height:40px;cursor:pointer;line-height:40px;margin:0 auto;background-color:#1E8CCE;margin-top:30px;text-align:center;-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px"><strong style="font-size:16px;color:#fff">联系客服</strong> <input type="text" ng-model="currentProviderId" style="display:none" name="providerId"> <input type="hidden" name="providerNumber" value="{{providerNumber}}"></div></form></div><div style="width:100%;height:60px;line-height:10px;text-align:center;font-size:13px" ng-if="licenseType==\'public\'||licenseType==\'blend\'||licenseType==\'professional\'||licenseType==\'enterprise\'||licenseType == \'enterprise_plus\'||licenseType==\'oem\'"><a href="javascript:void(0)" style="color:#1E8CCE;cursor:pointer" ng-click="checkBalance()">查看账户余额</a></div></div></div>');e.put("source/views/notice.html",'<div class="modal" tabindex="-1" role="dialog" style="z-index:1060"><div class="modal-dialog" style="max-width:629px;height:378px"><i class="iconfont" ng-click="closeNotice()" style="cursor:pointer;position:absolute;right:-20px;color:#fff;top:-6px;font-size:20px">&#xe600;</i> <img src="./source/images/notice.png" alt="" style="width:629px;height:378px;display:block"></div></div>');e.put("source/views/notify_and_share.html",'<style type="text/css">#bdshare_weixin_qrcode_dialog{height:330px!important}</style><form name="notifyAndShareForm" id="notifyAndShareForm" class="css-form" novalidate><div class="modal-inner-content"><div class="form-group"><label>收件人*</label><div class="form-control"><input type="text" style="width:450px;border:none" ng-model="email.customerEmails" placeholder=" 输入收件人的邮件地址，多个Email之间以英文分号 ; 分隔" required="required"><div social-share url="shareDiv.url" share-title="shareDiv.text" style="width:95px;height:40px;float:right;margin-top:-6px;margin-right:-18px"></div></div></div><div class="form-group"><label>主题</label><input type="text" class="form-control" ng-model="email.subject" required="required"></div><div class="form-group"><label>正文</label><textarea rows="5" class="form-control" ng-model="email.content" required="required"></textarea></div><div class="modal-footer btn-group-common"><button type="button" class="btn btn-confirm custom-background-color" ng-disabled="!notifyAndShareForm.$valid" ng-click="sendNotifyEmail()">发送</button> <button type="button" class="btn btn-cancel" ng-click="$hide();hideBlack();">取消</button></div></div></form>');e.put("source/views/provider_completion.html",'<div class="modal modal-provider-completion" tabindex="-1" role="dialog" style="z-index:1060"><div class="modal-dialog" style="width:390px"><div class="modal-content" style="width:386px;height:514px"><div class="modal-body"><h3 class="text-center">完善资料</h3><p style="color:#999;font-size:12px;text-align:center">可获得14天试用</p><form style="margin-top:30px" class="form-horizontal"><div class="form-group"><label class="col-sm-3 control-label">姓　名<span class="required">*</span></label><div class="col-sm-9"><input class="form-control" type="text" name="name" maxlength="32" placeholder="请输入你的姓名" ng-model="providerCompletion.name"></div></div><div class="form-group"><label class="col-sm-3 control-label">邮　箱<span class="required">*</span></label><div class="col-sm-9"><input class="form-control" type="text" name="email" maxlength="255" placeholder="请输入邮箱地址" ng-model="providerCompletion.email"></div></div><div class="form-group form-group-verifycode"><label class="col-sm-3 control-label">验证码<span class="required">*</span></label><div class="col-sm-9"><div class="input-group"><input class="form-control" type="text" ng-model="providerCompletion.verifyCode" maxlength="60" placeholder="请输入验证码"> <span class="input-group-btn"><button class="btn btn-default" type="button" ng-disabled="providerCompletion.getCodeDisabled" ng-click="getCode()">{{providerCompletion.verifyCodeTipText}}</button></span></div></div></div><div class="form-group"><label class="col-sm-3 control-label">应用场景</label><div class="col-sm-9"><select class="form-control" ng-options="item for item in sceneList" ng-model="providerCompletion.scene"></select></div></div><div class="form-group"><label class="col-sm-3 control-label">企业规模</label><div class="col-sm-9"><select class="form-control" ng-options="item for item in employeesData" ng-model="providerCompletion.employees"></select></div></div><div class="form-group"><label class="col-sm-3 control-label">上线计划<span class="required">*</span></label><div class="col-sm-9"><label class="radio-inline"><input type="radio" ng-model="providerCompletion.launchPlanned" ng-value="false">暂无计划</label><label class="radio-inline"><input type="radio" ng-model="providerCompletion.launchPlanned" ng-value="true">有计划</label></div></div><div class="form-group" ng-show="providerCompletion.launchPlanned"><label class="col-sm-3 control-label"></label><div class="col-sm-9"><div class="input-group"><input class="form-control" type="text" readonly="readonly" ng-click="openCalendar($event)" is-open="providerCompletion.showCalendar" ng-model="providerCompletion.launchTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" datepicker-options="{showWeeks: false}"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="openCalendar($event)" type="button" ng-disabled="ticketCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div></form></div><div class="modal-footer" style="text-align:center"><button type="button" class="btn btn-confirm custom-background-color" ng-disabled="submitting" ng-click="$ok()" style="height:36px;width:165px">马上试用</button></div></div></div></div>');e.put("source/views/quantity_limitation.html",'<div style="padding:18px;text-align:center;font-size:13px"><p ng-if="limit.hasPermission">您当前版本的日新增工单数量已经超出限制，请明日再试。</p><p ng-if="limit.hasPermission">您也可以选择升级版本来打破当前的一些限制。</p><p ng-hide="limit.hasPermission">很抱歉，你没有访问授权计划的权限</p><button class="right_now" ng-click="goUpgrade();" ng-if="limit.hasPermission">马上升级</button> <button class="right_now" ng-click="hideLimitModal();" ng-hide="limit.hasPermission">确定</button></div><style>.right_now{display:inline-block;width:100px;height:40px;border-radius:5px;background:#35B3E1;color:#fff;border:none;outline:0;margin:30px}</style>');e.put("source/views/remote_desk_test.html",'<div class="modal-inner-content"><p>客服 {{requesterName}} 请求远程你的桌面</p></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide();">拒绝</button> <button type="button" class="btn btn-primary" ng-click="$accept();">同意</button></div>');e.put("source/views/request_ewei_hub_server.html",'<style>.bodyStyle{FONT-WEIGHT:normal;COLOR:#333;FONT-STYLE:normal;TEXT-DECORATION:none;font-size:13px;FONT-FAMILY:"微软雅黑",Tahoma,Arial,"宋体"}</style><div class="bodyStyle modal-inner-content" style="width:444px;height:70px;border:1px solid #999;border-radius:5px;background-color:#ff6"><p style="padding-top:2px;text-align:center">正在启动{{requestEweiHubServerTitle}}功能插件</p><p style="color:#999;text-align:center"></p></div>');e.put("source/views/select_user_group_template.html",'<form name="mergerTicketForm" class="css-form" novalidate><div class="modal-inner-content"><label>客户组</label><user-group-select selectedusergroup="selectedUserGroup"></user-group-select></div><div class="modal-footer btn-group-common" style="border:none;margin-top:15px"><button type="button" class="btn btn-confirm" ng-click="$ok(selectedUserGroup)" ng-disabled="!selectedUserGroup"><span>保存</span></button> <button type="button" class="btn btn-cancel" style="margin-left:18px" ng-click="$hide()">取消</button></div></form>');e.put("source/views/unauthorized.html",'<section class="center-block"><h3 class="text-center" style="margin-top:25%">未经授权，不能访问</h3></section>');e.put("source/views/unavailable.html",'<div class="container" style="color:#666"><div style="width:50%;margin:20% auto 0 auto"><p><span style="font-family:\'Comic Sans MS Negreta cursiva\',\'Comic Sans MS\';font-weight:700;font-style:italic;font-size:48px">UM。。。</span> <span style="font-weight:400;font-style:normal;font-size:28px">这个页面打不开了</span></p><p style="margin:50px 0;font-size:16px">下次记得慢点刷新</p><p style="font-size:16px">您现在可以 <a class="c74" href="javascript:location.reload();" style="color:#1E8CCE;border:1px solid #1E8CCE;padding:1px 10px;border-radius:4px;text-decoration:none">重新打开</a> 或者 <a style="color:#1E8CCE;border:1px solid #1E8CCE;padding:1px 10px;border-radius:4px;text-decoration:none" class="c74" href="javascript:location.href=\'/console/\'">返回首页</a></p></div></div>');e.put("source/views/verify-mobile.html",'<style type="text/css">.user-group{margin-bottom:20px}.mobile-select{border:none}.mobile-select:focus{outline:0}</style><div class="modal" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content" style="width:520px"><div class="modal-body"><h3 class="text-center">完善个人资料</h3><p class="text-center" style="padding-bottom:10px">欢迎回来，请完善个人资料，让大家知道你</p><form class="form-horizontal" name="currentUserForm" ng-submit="finishUserInfo(currentUserForm.$valid);" novalidate style="width:70%;margin:20px auto 30px auto"><div class="form-group user-group"><label for="inputEmail3" class="col-sm-2 control-label">姓名*</label><div class="col-sm-10"><input type="text" class="form-control" ng-model="currentUser.name" name="name" placeholder="请输入姓名" required></div><div ng-show="currentUserForm.$submitted || currentUserForm.name.$touched"><span class="has-error" style="color:red" ng-show="currentUserForm.name.$error.required">请输入姓名！</span></div></div><div class="form-group user-group"><label for="inputPassword3" class="col-sm-2 control-label">手机*</label><div class="col-sm-10"><div class="input-group"><span class="input-group-addon" style="background-color:#fff;padding:0"><select ng-model="mobileRegexType" class="mobile-select" style="border:none"><option value="china">中国 +86</option><option value="other">其他 +0</option></select></span><input type="text" class="form-control" name="mobile" ng-model="currentUser.mobilePhone" ng-pattern="mobileRegex[mobileRegexType]" required></div><div ng-show="currentUserForm.$submitted || currentUserForm.mobile.$touched"><span class="has-error" style="color:red" ng-show="currentUserForm.mobile.$error.required">请输入手机号码！</span> <span class="has-error" style="color:red" ng-show="!currentUserForm.mobile.$error.required&&!currentUserForm.mobile.$valid">请输入正确的手机号码！</span></div></div></div><div class="form-group user-group"><label for="inputEmail3" class="col-sm-2 control-label">昵称&nbsp;</label><div class="col-sm-10"><input type="text" class="form-control" ng-model="currentUser.nickname" placeholder="请输入昵称"></div></div><div class="form-group" style="margin-top:30px"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-primary" style="width:100%">更新</button></div></div></form></div></div></div></div>');e.put("source/webchat_form/webchat_form.html",'<div class="setting-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'webchat_form\',settingType:\'ticket\'})">网页在线客服 </a>》<span>{{webChat.title}}</span></div><oem-learn-more type="ticket_web_form_edit" description="添加在线客服渠道，发布在你的网页上，向客户提供网页在线交谈、远程协助、工单支持和FAQ自助等全方位的服务。" learn-more-url="{{::webChat.eweiHelpcenterApiUrl}}article_354" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-repeat="nav in webChat.navListData" ui-sref="{{::nav.self}}" ui-sref-active="active">{{::nav.title}}</li></ul><div ui-view></div></div>');e.put("source/webpage_form/webpage_form.html",'<div class="setting-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'ticket_web_form\',settingType:\'ticket\'})">网页提交工单</a> 》{{title}}</div><oem-learn-more type="ticket_web_form_edit" description="直接拷贝源代码嵌入到你的网页即可。你还可以定义界面的外观，客户必须填写的字段，以及由哪个客服组负责接收生成的工单。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/348" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-repeat="nav in navListData" ui-sref="{{::nav.self}}" ui-sref-active="active">{{::nav.title}}</li></ul><div ui-view></div></div>');e.put("source/weixin-setting/weixin_setting.html",'<div class="setting-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'wechat_setting\',settingType:\'ticket\'})">微信公众号接入 </a>》<span ng-if="checkId==0">添加渠道</span><span ng-if="checkId" ng-bind="channelName"></span></div><oem-learn-more type="ticket_web_form_edit" description="通过接口，将微信公众号接入客服系统。客户在微信内发起服务请求，接受在线客服、工单支持和FAQ自助等全方位的服务。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/472" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-if="isMessageTemplate === \'qiye\'" ng-repeat="nav in navListDataNoQiye" ui-sref="{{::nav.self}}" ui-sref-active="active">{{::nav.title}}</li><li ng-if="isMessageTemplate === \'service\'" ng-repeat="nav in navListData" ui-sref="{{::nav.self}}" ui-sref-active="active">{{::nav.title}}</li></ul><div ui-view></div></div>');e.put("source/batch-create-ticket/template/batch-create-ticket.html",'<div class="page-create-ticket"><div class="nav-bar"><div class="left" ng-if="selectedTicketIds && selectedTicketIds.length == 0"><a class="btn btn-confirm" ng-click="addRow()">增加行</a> <a ui-sref="batchticket.import-excel({id:batch.id})" class="custom-main-font-color">导入Excel表格</a></div><div class="left" ng-if="selectedTicketIds && selectedTicketIds.length != 0"><span style="color:#000;font-size:14px">批量操作</span></div><div class="right" ng-if="selectedTicketIds && selectedTicketIds.length == 0"><a ui-sref="batchticket.setting-fileds({id:batch.id})" class="color666"><i class="icon iconfont">&#xe636;</i> 列表设置</a></div><div class="right" ng-if="selectedTicketIds && selectedTicketIds.length != 0"><div class="pull-right"><div class="btn-group" uib-dropdown><button style="border-bottom-right-radius:0;border-top-right-radius:0;min-width:125px" type="button" class="btn btn-confirm gray-btn" ng-click="batchSubmit()" ladda="disabled||uploading"><span>提交</span></button> <button type="button" style="min-width:34px;border-left:1px solid rgba(0,0,0,.15);border-bottom-left-radius:0;border-top-left-radius:0" class="btn btn-confirm gray-btn dropdown-toggle" uib-dropdown-toggle ng-disabled="disabled"><span class="caret" style="left:12px"></span></button><ul class="dropdown-menu" role="menu" uib-dropdown-menu aria-labelledby="split-button"><li ng-click="batchDelete()"><a href="javascript:void(0)">删除</a></li><li ng-click="batchSubmit(\'solved\')"><a href="javascript:void(0)">提交并处理完毕</a></li><li ng-click="batchSubmit(\'pending\')"><a href="javascript:void(0)">提交并暂停工单</a></li></ul></div></div></div></div><div class="content-table"><batch-operation-table columns="columns" checkboxes="checkboxes" selected-ticket-ids="selectedTicketIds" batch-list="data"></batch-operation-table></div></div>');e.put("source/batch-create-ticket/template/batchticket.html",'<div class="batch-ticket" ui-view></div>');e.put("source/batch-create-ticket/template/copy-setting.html",'<div class="copy-setting"><div class="copy-setting-head"><p>增加行时，自动复制前一行输入的字段值</p><div class="button-group"><a ui-sref="tickets_new.batch({id:vm.id})">取消</a> <button ng-click="vm.saveCopySetting()" type="button" class="btn btn-primary w100">更新</button></div></div><div class="copy-setting-body"><table class="table table-bordered"><tr><th ng-repeat="item in vm.copySetting track by item.field">{{item.title}}</th></tr><tr><td ng-repeat="item in vm.copySetting track by item.field"><label><input ng-model="item.isCopy" type="checkbox"> 复制</label></td></tr></table></div></div>');e.put("source/batch-create-ticket/template/import-excel.html",'<div class="import-excel"><div class="import-excel-head"><p>导入Excel表格，批量创建工单</p><div class="button-group"><a ui-sref="tickets_new.batch({id:vm.id})">取消</a> <button ng-click="vm.batchCreateTicket();" ng-disabled="!vm.analysis_excel_count" type="button" class="btn btn-primary w100">开始</button></div></div><div class="import-excel-body"><div class="content"><div ng-if="vm.status === \'initialize\' && vm.serverUrl" class="uploader-box" ewei-webuploader server-url="{{vm.serverUrl}}" form-data="{{vm.formData}}" dnd="true" file-queued="vm.fileQueued(file,cb);" upload-success="vm.uploadSuccess(file, response)" error="vm.error(handler)"><i class="iconfont">&#xed8c;</i><p>拖入文件或点击选取</p></div><div ng-if="vm.status === \'uploadding\'" class="uploader-box"><img src="source/images/loading_01.gif"><p>正在上传并解析文件</p></div><div ng-if="vm.status === \'uploadSuccess\'" class="uploader-box"><i class="iconfont">&#xe627;</i><p>{{vm.analysis_excel_count}}条数据准备就绪，可以开始</p></div><p>Excel数据不得大于1000条（行）<br>Excel表头必须与当前网页表格的字段一一对应<br>点击“开始”后，正确的数据行会自动创建为工单</p><div class="tool"><a ng-click="vm.downLoadTemplete()" class="custom-main-font-color">下载Excel模板</a> <a ng-click="vm.importExplain()" class="custom-main-font-color" href="">导入说明</a></div></div></div></div>');e.put("source/batch-create-ticket/template/import-explain.html",'<div style="line-height:30px">&lt;1&gt;对应字段中必须包含客户、处理人、和主题等必填字段列且必须填写，其他非必填列可以不填，且主题列不能超过128个字。<br>&lt;2&gt;客户字段列必须是11位手机号或邮箱或External ID,且必须是系统中已存在的客户。<br>&lt;3&gt;处理人字段列格式为[客服组]&lt;11位手机号或者邮箱&gt; 或者 &lt;11位手机号或者邮箱&gt; 。<br>&lt;4&gt;抄送人字段列格式为[客服组] 或 &lt;11位手机号或者邮箱&gt; 或 外援邮箱，多个抄送人请使用英文分号“;”分割，例如“[产品部]&lt;17311223344&gt;;[研发部];email@email.com”。<br>&lt;5&gt;建议先创建好客户或客服再导入工单，导入工单时客户、处理人、抄送人字段列所填的手机号或邮箱匹配不到系统中的客户或客服，所有工单都将导入失败，其中处理人只能系统中已存在的客服。<br>&lt;6&gt;系统中的字段只能与文件中的一个字段关联，否则可能造成冲突。文件中未与系统关联的字段，工单导入成功后，将自动丢弃。<br>&lt;7&gt;下拉选择列，直接输入值，例如“问题”<br>&lt;8&gt;下拉多选列、标签列请输入多个值，用英文分号“;”隔开，例如“苹果;梨子”<br>&lt;9&gt;级联选择列，请依次列出，并以“/”隔开，例如“帮助台/产品部/UI设计师”<br>&lt;10&gt;日期列，请按年/月/日准确列出，并以“/”隔开，例如“2017/06/01”<br>&lt;11&gt;时间段列，请按年/月/日-年/月/日准确列出，例如“2017/06/01-2017/06/28”<br>&lt;12&gt;日期时间段列，请按年/月/日 时:分:秒 准确列出，例如“2017/06/01 06:28:20”</div><div class="modal-footer"><button ng-click="$hide()" type="button" class="btn btn-confirm">知道了</button></div>');e.put("source/batch-create-ticket/template/setting-fileds.html",'<div class="setting-fileds"><div class="setting-fileds-head"><p>列表设置</p><div class="button-group"><a ui-sref="tickets_new.batch({id:vm.id})">取消</a> <button ng-click="vm.settingFileds();" type="button" class="btn btn-primary w100">更新</button></div></div><div class="setting-fileds-body"><div class="not-checked"><p><strong>不显示的列</strong></p><ul ui-sortable="vm.notCheckedSortableOptions" ng-model="vm.notCheckedMoudel" class="sortable"><li ng-repeat="item in vm.notCheckedMoudel track by item.field"><span class="title drag-handle">{{item.title}}<i ng-show="item.required" class="required">*</i></span></li><p class="tip" ng-if="vm.notCheckedMoudel.length === 0">你还可以自定义更多字段供选择</p></ul></div><div class="checked"><header><strong>显示的列</strong><span class="tip">(拖动排序)</span> <strong class="clone">自动复制</strong> <strong class="column-length">列宽</strong></header><ul ui-sortable="vm.checkedSortableOptions" ng-model="vm.checkedMoudel" class="sortable"><li ng-repeat="item in vm.checkedMoudel track by item.field"><span class="title drag-handle">{{item.title}}<i ng-show="item.required" class="required">*</i></span> <span class="clone"><input ng-model="item.isCopy" type="checkbox"></span><div class="column-length"><input ng-model="item.length" style="height:30px;width:70px;text-align:center" type="text" class="form-control" maxlength="10"><div style="position:absolute;top:0;left:74px;width:20px"><span style="color:#999;font-size:14px">px</span></div></div></li></ul></div></div></div><style>.required{color:red}</style>');e.put("source/batch-create-ticket/template/ticket-new-plan.html",'<div class="ticket-detail-panel ticket-new page-ticket-plan"><div class="nav-bar"><div class="left"><ol class="breadcrumb"><li><a ng-click="gotoPlanList()" class="custom-link-color">计划工单</a></li><li class="active">{{editMode==\'edit\'?\'编辑计划\':\'新建计划\'}}</li></ol></div><div class="right"><span class="tip" ng-if="ticketCount > 0">（计划共新建<i class="count custom-main-font-color">{{ticketCount}}</i>张工单，建单时间可能略有延迟）</span> <button class="btn btn-cancel" type="button" ng-click="cancel()">取消</button> <button class="btn btn-confirm" type="button" ng-click="save()"><span>保存</span></button></div></div><section class="body" ng-class="{\'with-custom-form\': showCustomForm}"><div class="panel-form plan-form-wrapper" style="margin-right:9px"><ticket-plan-form plan="newTicket" hide-requester="true" hide-handle="true"></ticket-plan-form></div><div class="panel-form"><ticket-form ticket="newTicket" new-ticket-form="editMode !== \'edit\' && editMode !== \'clone\'" hide-requester="true" hide-handle="true"></ticket-form></div><div class="panel-expander" ng-if="customFormFields && customFormFields.length > 0" ng-class="{\'expanded\': showCustomForm}" ng-click="toggleCustomForm(!showCustomForm)"><div class="handle" title="显示/隐藏扩展表单"><i ng-if="!showCustomForm" class="fa fa-caret-right"></i> <i ng-if="showCustomForm" class="fa fa-caret-left"></i></div></div><div class="panel-form" ng-if="!!showCustomForm && customFormFields && customFormFields.length > 0"><ticket-custom-form ticket="newTicket" custom-form-fields="customFormFields" custom-form-loading="customFormLoading" on-hide="toggleCustomForm(false)"></ticket-custom-form></div><div class="panel-detail"><div class="chat-plug-promet-group" style="position:absolute;top:0;left:0;width:100%"><div class="input-group chat-plug-promet" ng-if="plugPrometStatus == \'download\'"><div class="text-center chat-download-control">未检测到远程协助组件，请下载安装 <span ng-click="downloadApplication()" class="btn-d" style="margin-left:20px">下载</span> <span class="btn-close" ng-click="closedownloadApplication()">关闭</span></div></div><div class="input-group chat-plug-promet" ng-if="plugPrometStatus == \'download-done\'"><div class="text-center chat-download-control">请安装已下载的组件，安装成功后提示将自动消失 <span class="btn-close" ng-click="closedownloadApplication()">关闭</span></div></div></div><div class="box0 c00 border0 padding10px form-wrap"><form name="addTicketForm" id="addTicketForm" class="css-form" novalidate><div class="form-group"><label>{{systemFieldSubject.title}} <span ng-if="systemFieldSubject.required" class="required">*</span></label><ewei-ticket-subject-auto-complete subject="newTicket.subject" placeholder="systemFieldSubject.notes"></ewei-ticket-subject-auto-complete></div><div class="form-group" style="margin-bottom:6px"><label>{{systemFieldTicketdescription.title}} <span ng-if="systemFieldTicketdescription.required" class="required">*</span></label><ticket-newcreate-box-template id="ticketContent"></ticket-newcreate-box-template></div><quick-knowledge-tip text-message="newTicket.ticketComment.content" focus-area-id="ticketContent" hide-send-knowledge="true"></quick-knowledge-tip></form></div></div></section></div>');e.put("source/batch-create-ticket/template/ticket-plan-list.html",'<div class="page-ticket-plan-list"><div class="nav-bar"><div class="left"><a class="btn btn-confirm" ui-sref="tickets_new.plan">新建计划</a></div></div><div class="content-table"><ewei-ticket-plan-table></ewei-ticket-plan-table></div></div>');e.put("source/dashboard/chat_queue/chat_queue.html",'<div class="dash-breadcrumb"><a ui-sref="dashboard.home">仪表盘</a><i class="fa fa-angle-double-right"></i>会话列队</div><queue-tab type="chat-queue" filter-item="filterItem" total-queue-count="chatQueue.sessionCount"></queue-tab><div class="dash-searchBox clearfix"><div class="input-group dash-inputGroup"><div class="input-group-btn"><button type="button" class="btn btn-default uib-dropdown-toggle dash-searchDropdown" data-toggle="dropdown" tabindex="-1"><span class="caret"></span><span class="sr-only">切换下拉菜单</span></button></div><input type="text" class="form-control dash-searchInput" placeholder="搜索主题" ng-model="searchKey" ng-enter="chatQueue.search(searchKey)" ng-blur="chatQueue.search(searchKey)"> <span class="input-group-addon dash-searchIcon"><i class="fa fa-search"></i></span></div><input type="button" value="清除搜索条件" ng-show="searchKey!=null&&searchKey!=\'\'" ng-click="clearSearch();" class="tip"></div><div class="dash-tableWrap"><dash-table></dash-table></div>');e.put("source/dashboard/dash-log-message/dash-log-message.html",'<p ng-if="::dashLog.htmlMessage" ng-bind-html="::dashLog.htmlMessage|sanitize|trusted"></p><div ng-if="::!dashLog.htmlMessage"><p><span class="font_b">某某某</span><span ng-if="!log.open">[私密]</span>回复：<span class="dash-msgDetail" ng-bind-html="log.message | sanitize | trusted"></span></p><p><span class="font_b margin_right15px">工单#1234</span></p></div>');e.put("source/dashboard/dash-table/dash-table.html",'<div class="ewei-table" style="padding-top:10px;padding-bottom:10px"><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'" class="text-right margin_right10px"></div><table ng-table="tableParams" class="table table-hover" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th class="w30 text-left" ng-if="showCheckboxes"><input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value=""></th><th bindonce ng-repeat="column in columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ng-class="{\n                    \'sort-asc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'asc\'),\n                    \'sort-desc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="column.sortable?tableParams.sorting(column.field==\'ticketSlas\'?\'updatedAt\':column.field, tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\') ? \'asc\' : \'desc\'):\'\'"><span bo-bind="column.title" class="sort-indicator"></span></th></tr></thead><tbody ng-repeat="group in $groups track by $index"><tr class="ng-table-group" ng-if="group.value!=null"><td colspan="{{columns.length+(showCheckboxes?1:0)}}"><a ng-click="group.$hideRows = !group.$hideRows"><span class="glyphicon" ng-class="{ \'glyphicon-chevron-right\': group.$hideRows, \'glyphicon-chevron-down\': !group.$hideRows }"></span> <strong ng-bind="group.value | nullStringFilter"></strong></a></td></tr><tr bindonce ng-hide="group.$hideRows" ng-repeat="item in group.data track by item.id" class="padding15px"><td ng-if="showCheckboxes"><input type="checkbox" ng-if="item.user.status!=1&&item.user.status!=0" ng-model="checkboxes.items[item.id]"></td><td bindonce ng-repeat="column in columns track by $index" ng-if="column.visible" bo-switch="column.fieldCount"><span bo-switch-when="2" bo-switch="column.field"><span bo-switch-when="serviceCatalog.name" service-catalog-show servicecatalog="item.serviceCatalog"></span> <span bo-switch-when="user.tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span bo-switch-when="user.name"><a class="c75" ui-sref="customers_detail({id:item.user.id})" bo-bind="item.user.name | nullStringFilter"></a></span> <span bo-switch-when="role.name" bo-bind="item.role.name | translate"></span> <span bo-switch-when="serviceDesk.name" bo-bind="item.serviceDesk.name | translate"></span> <span bo-switch-when="defaultServiceDesk.name" bo-bind="item.defaultServiceDesk.name | translate"></span> <span bo-switch-when="evaluate.score" bo-bind="item.evaluate.score | evaluateScoreFilter"></span> <span bo-switch-when="evaluate.solved" bo-bind="item.evaluate.solved | booleanFilter"></span> <span bo-switch-default bo-bind="item[column.field0][column.field1] | nullStringFilter"></span></span> <span bo-switch-when="3" bo-switch="column.field"><span bo-switch-when="user.role.name" bo-bind="item.user.role.name | translate"></span> <span bo-switch-default bo-bind="item[column.field0][column.field1][column.field2] | nullStringFilter"></span></span> <span bo-switch-default bo-switch="column.field"><span style="display:block;position:relative;overflow:hidden" bo-switch-when="subject"><span style="display:block;position:absolute" ng-bind-html="item.status | ticketStatusToImgFilter | trusted"></span> <span style="display:block;padding-right:1px;margin-left:24px;word-break:break-all"><a class="c75" ui-sref="tickets_detail({id:item.id})" bo-bind="item[column.field] | nullStringFilter"></a></span> </span><span bo-switch-when="createdAt" bo-bind="item.createdAt | dateFilter"></span> <span bo-switch-when="responseAt" bo-bind="item.responseAt | dateFilter"></span> <span bo-switch-when="updatedAt" bo-bind="item.updatedAt  | dateFilter_human"></span> <span bo-switch-when="deletedAt" bo-bind="item.deletedAt | dateFilter_style1"></span> <span bo-switch-when="lastLoginAt" bo-bind="item.lastLoginAt | dateFilter_style1"></span> <span bo-switch-when="shared" bo-bind="item.shared | booleanFilter"></span> <span bo-switch-when="status" bo-bind="item.status| ticketStatusFilter"></span> <span bo-switch-when="tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span ng-if="item.isMyselfHandle && item.isMyselfHandle==\'false\'" bo-switch-when="w_firstMessage" class="btn-group dropup" uib-dropdown><a class="c75 dropdown-toggle" uib-dropdown-toggle bo-bind="item.w_firstMessage | nullStringFilter"></a><ul class="dropdown-menu dropdown-menu-left" role="menu" uib-dropdown-menu><li><a ng-click="myselfHandleWaitingSession(item.id)">自己处理</a></li><li><a ng-click="selectEngineerHandleWaitingSession(item.id)">分派给其他客服</a></li></ul></span><span ng-if="item.isMyselfHandle && item.isMyselfHandle==\'true\'" bo-switch-when="w_firstMessage"><a class="c75" ng-click="myselfHandleWaitingSession(item.id)" bo-bind="item.w_firstMessage | nullStringFilter"></a></span> <span bo-switch-when="c_firstMessage"><a class="c75" ng-click="_gotoChatCenter(item.id,item.engineer,item)" bo-bind="item.c_firstMessage | nullStringFilter"></a></span> <span bo-switch-when="deleteReason"><span bo-if="item.deleteType==\'merger\'" translate="MERGER_TICKET_TO"></span><span bo-bind="item.deleteReason | nullStringFilter"></span></span> <span bo-switch-when="name"><a class="c75" bo-if="view.type==\'user\'" ui-sref="customers_detail({id:item.id})" bo-bind="item[column.field] | nullStringFilter"></a><a class="c75" bo-if="view.type==\'userGroup\'" ui-sref="user_groups_detail({id:item.id})" bo-bind="item[column.field] | nullStringFilter"></a></span> <span bo-switch-when="ticketMetric.pausedAt" bo-bind="item.ticketMetric.pausedAt | dateFilter_style1"></span> <span bo-switch-when="ticketMetric.solvedAt" bo-bind="item.ticketMetric.solvedAt | dateFilter_style1"></span> <span bo-switch-when="recommendIndex"><span style="cursor:pointer" ng-hide="recommendIndexShow[item[\'id\']]" ng-click="showUpdate(item)" ng-bind="item[column.field]"></span> <input ng-show="recommendIndexShow[item[\'id\']]" ng-blur="updateRecommendIndex(item)" ng-model="item[column.field]" ng-focus="recommendIndexShow[item[\'id\']]"> </span><a bo-switch-when="title" class="c75" target="_blank" ng-if="item.topic.type != \'questions\' && item.topic.type != \'deletes\' && item.topic.type!=\'default\'" ng-href="/#/article/detail/{{item.id}}" ng-bind="item[column.field] | nullStringFilter"></a> <a bo-switch-when="title" class="c75" target="_blank" ng-if="item.topic.type == \'questions\' || item.topic.type == \'deletes\'" ng-href="/#/forum/detail/{{item.id}}" ng-bind="item[column.field] | nullStringFilter"></a> <span bo-switch-default bo-bind="item[column.field] | nullStringFilter"></span></span></td></tr></tbody></table><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'" class="text-right margin_right10px"></div></div>');e.put("source/dashboard/queue-tab/queue-tab.html",'<div class="dash-queue"><label class="item dash-bgcolor4" style="margin-right:20px;margin-bottom:20px" ng-class="queueTab.type" ng-click="queueTab.setCurrentQueueItem()"><input type="radio" name="dash-wait"><p class="size16 queue-name">全部</p><p class="size24">{{totalQueueCount}}</p></label><label class="item" ng-class="{\'active\':chatCount===filterItem}" style="margin-right:20px;margin-bottom:20px" ng-click="queueTab.setCurrentQueueItem(chatCount)" ng-repeat="chatCount in queueTab.chatShowCountList"><input type="radio" name="dash-queue-{{queueTab.type}}"><p class="size16 queue-name">{{chatCount.userName}}{{chatCount.servicedeskName|translate}}</p><p class="size24">{{chatCount.count}}</p></label></div><div class="dash-moreQueue"><p ng-if="queueTab.moreCountList.length" ng-click="queueTab.showMoreCountList=!queueTab.showMoreCountList">更多会话等待队列<i class="fa fa-angle-double-right"></i></p><div ng-if="queueTab.showMoreCountList"><div class="btn-group dash-btnWrap"><label class="btn btn-default dash-chatItems" ng-class="{\'active\':chat===filterItem}" ng-click="queueTab.setCurrentQueueItem(chat)" ng-repeat="chat in queueTab.moreCountList"><input type="radio" name="dash-queue-{{queueTab.type}}"> <span class="padding_right10px">{{chat.userName}}{{chatCount.servicedeskName}}</span>{{chat.count}}</label></div></div></div>');e.put("source/dashboard/wait_chat_queue/wait_chat_queue.html",'<div class="dash-breadcrumb"><a ui-sref="dashboard.home">仪表盘</a><i class="fa fa-angle-double-right"></i>会话等待列队</div><queue-tab type="wait-queue" filter-item="filterItem" total-queue-count="waitChatQueue.requestCount"></queue-tab><div class="dash-searchBox clearfix"><div class="input-group dash-inputGroup"><div class="input-group-btn"><button type="button" class="btn btn-default dropdown-toggle dash-searchDropdown" data-toggle="dropdown" tabindex="-1"><span class="caret"></span><span class="sr-only">切换下拉菜单</span></button></div><input type="text" class="form-control dash-searchInput" placeholder="搜索主题" ng-model="searchKey" ng-enter="waitChatQueue.search(searchKey)" ng-blur="waitChatQueue.search(searchKey)"> <span class="input-group-addon dash-searchIcon"><i class="fa fa-search"></i></span></div><input type="button" value="清除搜索条件" ng-show="searchKey!=null&&searchKey!=\'\'" ng-click="clearSearch();" class="tip"></div><div class="dash-tableWrap"><dash-table hide-title="true"></dash-table></div>');e.put("source/desktop_help/templates/auto_reply.html",'<div class="auto_reply"><div class="row"><div class="check_nav" ng-show="wechat.isMenu && !hasNav">当前的导航菜单为空，会导致客户无菜单可用。请前往“在线客服导航”进行配置。</div></div><div class="row"><div ng-class="{true: \'margin_top35px\'}[!wechat.isMenu || hasNav]"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>欢迎语</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><span class="pull-right"><input type="checkbox" ng-model="wechat.isMenu" ng-click="navCheck()">导航模式</span></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.onlineWelcome"></div></div></div><p ng-show="!wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">展开会话窗口时自动回复上述欢迎语。客户一旦回复，立即呼叫客服，开始在线交谈。</p><p ng-show="wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">打开会话窗口自动回复以上欢迎语。用户点击选择导航菜单，呼叫客服，开始在线交谈。 请不要删除模板中的<span ng-non-bindable>{{guide_menu}}</span>，会导致无法显示导航菜单。</p></div></div></div><div ng-show="wechat.isMenu" class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>自动回复</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.onlineAutomaticReply"></div></div></div><p ng-show="wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">若用户未选择导航菜单，发送内容，自动回复如上。 请不要删除模板中的<span ng-non-bindable>{{guide_menu}}</span>，会导致无法显示导航菜单。</p></div></div><div class="row"><div class="customer_not_online"><label class="col-md-5" style="margin:8px 0 0 12px">非营业时段，或客服不在线时的自动回复</label></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>欢迎语</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'offlineWelcome\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.offlineWelcome"></div></div></div><p class="margin_top10px margin_bottom40px color-gray">非营业时段或者客服都不在线的时候，展开会话窗口自动回复上述欢迎语。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>自动回复</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'offlineAutomaticReply\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.offlineAutomaticReply"></div></div></div><p class="margin_top10px margin_bottom40px color-gray">如果用户不理会提示继续回复，则自动回复如上。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'offlineArticleList\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.offlineArticleList"></div></div></div><p class="margin_top10px color-gray">用户的回复如果命中知识库文章关键字（标签），自动回复如上。请前往帮助中心 <a href="/showAddArticle" class="add_article" target="_blank">添加文章</a> 和标签。请不要删除模板里的<span ng-non-bindable>{{article_list}}</span>，会导致无法显示文章。</p><div class="auto_reply_footer margin_bottom120px"><button type="button" class="btn btn-primary w100" ng-click="updateWelcomes();">更新</button> <a href="javascript:void(0)" ng-click="resetDefault()" class="reset_btn">恢复系统默认值</a></div></div></div></div>');e.put("source/desktop_help/templates/download_address.html",'<div style="margin-top:50px" class="rule"><form class="form-horizontal"><div style="margin-bottom:60px" class="form-group"><label style="text-align:center" class="col-sm-2 control-label">安装包下载</label><div class="col-sm-10"><a href="javascript:void(0)" ng-click="desktopHelpDownload()"><button type="button" class="btn btn-primary w100">下载</button></a></div><div class="col-sm-10 col-sm-offset-2"><p style="margin-top:10px;line-height:22px">电脑桌面客户端</p></div></div></form></div>');e.put("source/desktop_help/templates/online_customer_navigation.html",'<div class="serviceCatalogBox clearfix"><h3 class="font_b">服务目录</h3><div class="serviceCatalogContent"><p><span ng-repeat="nav in navList track by $index"><span ng-if="$index != 0">》</span> <span ng-click="goServiceCatalog(nav,$index)" ng-class="{true:\'navClass\'}[$index != navList.length-1]">{{nav.name}}</span></span></p><ul><li ng-click="setIndex(item)" ng-class="{true:\'weixinActive\'}[item.isChecked]" ng-repeat="item in serviceCatalogs track by $index"><div class="serviceCatalogListNo">{{item.no}}</div><div class="serviceCatalogListCon"><span ng-click="getNextServiceCatalog(item,$event)" ng-show="!item.isShowInput" style="float:left">{{item.name}}</span> <input id="{{item.uId}}" ng-blur="ngBlur(item)" ng-focus="ngFocus()" ng-show="item.isShowInput" ng-click="inputStopPropagation($event)" style="height:20px" type="text" ng-model="item.name"></div><div class="serviceCatalogListEdit"><label for="{{item.uId}}" ng-show="(!item.isShowInput) && item.isChecked " ng-click="editServiceCatalog(item,$event)" style="cursor:pointer"><i class="fa fa-pencil"></i></label></div></li></ul><p style="margin-top:30px;color:#999">选择服务目录项，编辑导航菜单。如需添加菜单项，请前往<span style="font-weight:700">商业规则-服务目录</span>页面，添加目录。</p><p ng-if="(navList.length>1)" style="position:absolute;top:40px;right:40px">选中可编辑</p><button style="width:100px;margin-top:50px" ng-click="updateServiceCatalogs()" type="button" class="btn btn-primary">更新</button></div></div>');e.put("source/desktop_help/templates/ticket_send_rule.html",'<div style="margin-top:50px" class="rule"><form class="form-horizontal"><div style="margin-bottom:60px" class="form-group"><label style="text-align:center" class="col-sm-2 control-label">受理客服组</label><div class="col-sm-10"><select class="form-control w400" ng-options="option.name for option in serviceDesks" ng-model="serviceDesk"></select><p style="color:#999;margin-top:10px;line-height:22px">会话和工单默认分派到选定的客服组，任何组员都可以响应组的“待响应工单”。<br>或根据导航菜单（服务目录）动态地分派到相应的客服组。参见<strong>商业规则-服务目录</strong>关于<br>责任客服组的配置。</p></div></div><div style="margin-bottom:60px" class="form-group" has-module="robot"><label style="text-align:center" class="col-sm-2 control-label">智能机器人</label><div class="col-sm-10"><input type="checkbox" style="position:relative;top:2px" ng-model="webchat.robotReply">有新的会话请求时，优先接通机器人客服<p style="color:#999;margin-top:10px;line-height:22px;width:470px">系统会根据客户输入的内容匹配知识库文章，当命中文章主题或者内容标签时，将自动回复文章链接给到客户。</p></div></div><div class="form-group"><div class="col-sm-10 col-sm-offset-2"><button ng-click="update()" type="button" class="btn btn-primary w100">更新</button></div></div></form></div>');e.put("source/dingding_setting/templates/auto_reply.html",'<div class="auto_reply"><div class="row"><div class="check_nav" ng-show="wechat.isMenu && !hasNav">当前的导航菜单为空，会导致客户无菜单可用。请前往“在线客服导航”进行配置。</div></div><div class="row"><div ng-class="{true: \'margin_top35px\'}[!wechat.isMenu || hasNav]"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>欢迎语</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><span class="pull-right"><input type="checkbox" ng-model="wechat.isMenu" ng-click="navCheck()">导航模式</span></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.onlineWelcome"></div></div></div><p ng-show="!wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">展开会话窗口时自动回复上述欢迎语。客户一旦回复，立即呼叫客服，开始在线交谈。</p><p ng-show="wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">打开会话窗口自动回复以上欢迎语。用户点击选择导航菜单，呼叫客服，开始在线交谈。 请不要删除模板中的<span ng-non-bindable>{{guide_menu}}</span>，会导致无法显示导航菜单。</p></div></div></div><div ng-show="wechat.isMenu" class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>自动回复</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.onlineAutomaticReply"></div></div></div><p ng-show="wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">若用户未选择导航菜单，发送内容，自动回复如上。 请不要删除模板中的<span ng-non-bindable>{{guide_menu}}</span>，会导致无法显示导航菜单。</p></div></div><div class="row"><div class="customer_not_online"><label class="col-md-5" style="margin:8px 0 0 12px">非营业时段，或客服不在线时的自动回复</label></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>欢迎语</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'offlineWelcome\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.offlineWelcome"></div></div></div><p class="margin_top10px margin_bottom40px color-gray">非营业时段或者客服都不在线的时候，展开会话窗口自动回复上述欢迎语。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>自动回复</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'offlineAutomaticReply\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.offlineAutomaticReply"></div></div></div><p class="margin_top10px margin_bottom40px color-gray">如果用户不理会提示继续回复，则自动回复如上。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'offlineArticleList\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.offlineArticleList"></div></div></div><p class="margin_top10px color-gray">用户的回复如果命中知识库文章关键字（标签），自动回复如上。请前往帮助中心 <a href="/showAddArticle" class="add_article" target="_blank">添加文章</a> 和标签。请不要删除模板里的<span ng-non-bindable>{{article_list}}</span>，会导致无法显示文章。</p><div class="auto_reply_footer"><button type="button" class="btn btn-primary w100" ladda="disableValue" ng-disabled="disableValue" ng-click="updateWelcomes();">更新</button> <a href="javascript:void(0)" ng-click="resetDefault()" class="reset_btn">恢复系统默认值</a></div></div></div></div>');e.put("source/dingding_setting/templates/auto_reply_link.html",'<div><form><ul class="list-unstyled"><li><label>链接</label><input type="text" class="form-control" ng-model="tip.autoReplyLink"></li><li><label>标题</label><input type="text" class="form-control" ng-model="tip.autoReplyTitle"></li></ul></form><div><input style="outline:0" type="button" class="btn btn-default" ng-click="addMessage()" value="插入"></div></div>');e.put("source/dingding_setting/templates/demo.html",'<!DOCTYPE html><html><head lang="en"><meta charset="UTF-8"><title></title></head><body><div id="canvasDiv"></div><button id="btn_clear">Clear</button> <button id="btn_submit">Submit</button><script language="javascript">var canvasDiv = document.getElementById(\'canvasDiv\');\r\n  var canvas = document.createElement(\'canvas\');\r\n  var canvasWidth = 600, canvasHeight=400;\r\n  var point = {};\r\n  point.notFirst = false;\r\n\r\n  canvas.setAttribute(\'width\', canvasWidth);\r\n  canvas.setAttribute(\'height\', canvasHeight);\r\n  canvas.setAttribute(\'id\', \'canvas\');\r\n  canvasDiv.appendChild(canvas);\r\n\r\n  if(typeof G_vmlCanvasManager != \'undefined\') {\r\n\r\n    canvas = G_vmlCanvasManager.initElement(canvas);\r\n  }\r\n  var context = canvas.getContext("2d");\r\n\r\n\r\n  canvas.addEventListener("mousedown", function(e){\r\n    var mouseX = e.pageX - this.offsetLeft;\r\n    var mouseY = e.pageY - this.offsetTop;\r\n    paint = true;\r\n    addClick(e.pageX - this.offsetLeft, e.pageY - this.offsetTop);\r\n    redraw();\r\n  });\r\n\r\n  canvas.addEventListener("mousemove", function(e){\r\n    if(paint){\r\n      addClick(e.pageX - this.offsetLeft, e.pageY - this.offsetTop, true);\r\n      redraw();\r\n    }\r\n  });\r\n\r\n  canvas.addEventListener("mouseup", function(e){\r\n    paint = false;\r\n  });\r\n\r\n  canvas.addEventListener("mouseleave", function(e){\r\n    paint = false;\r\n  });\r\n\r\n  var clickX = new Array();\r\n  var clickY = new Array();\r\n  var clickDrag = new Array();\r\n  var paint;\r\n\r\n  function addClick(x, y, dragging)\r\n  {\r\n    clickX.push(x);\r\n    clickY.push(y);\r\n    clickDrag.push(dragging);\r\n  }\r\n\r\n  function redraw(){\r\n    //canvas.width = canvas.width; // Clears the canvas\r\n\r\n    context.strokeStyle = "#df4b26";\r\n    context.lineJoin = "round";\r\n    context.lineWidth = 5;\r\n\r\n    while (clickX.length > 0 ) {\r\n      point.bx = point.x;\r\n      point.by = point.y;\r\n      point.x = clickX.pop();\r\n      point.y = clickY.pop();\r\n      point.drag = clickDrag.pop();\r\n      context.beginPath();\r\n      if (point.drag && point.notFirst) {\r\n        context.moveTo(point.bx, point.by);\r\n      } else {\r\n        point.notFirst = true;\r\n        context.moveTo(point.x - 1, point.y);\r\n      }\r\n      context.lineTo(point.x, point.y);\r\n      context.closePath();\r\n      context.stroke();\r\n    }\r\n    /*\r\n     for(var i=0; i < clickX.length; i++)\r\n     {\r\n     context.beginPath();\r\n     if(clickDrag[i] && i){\r\n     context.moveTo(clickX[i-1], clickY[i-1]);\r\n     }else{\r\n     context.moveTo(clickX[i]-1, clickY[i]);\r\n     }\r\n     context.lineTo(clickX[i], clickY[i]);\r\n     context.closePath();\r\n     context.stroke();\r\n     }\r\n     */\r\n  }\r\n  var clear = document.getElementById("btn_clear");\r\n  var submit = document.getElementById("btn_submit");\r\n  clear.addEventListener("click", function(){\r\n    canvas.width = canvas.width;\r\n  });\r\n\r\n  submit.addEventListener("click", function(){\r\n    alert(canvas.toDataURL("image/png"));\r\n  });<\/script></body></html>');e.put("source/dingding_setting/templates/dingding_menu.html",'<div class="wx-set-wrap"><form class="form-horizontal ng-valid ng-dirty ng-valid-parse" style="margin-top:20px"><div style="width:900px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">钉钉菜单</label><div class="col-sm-10"><div style="width:304px;height:426px;margin-bottom:25px;background-color:#F2F2F2"><div style="width:100%;height:42px;background-color:#393A3F;color:#fff;font-size:16px;line-height:42px;padding:0 10px">{{chanelName}} <i class="iconfont pull-right">&#xe624;</i></div><div class="main" style="position:relative;height:300px;top:88px"><div style="background:#fff;position:absolute;bottom:0;left:0;width:101px" class="floatLeft"><div ng-show="visible1" style="text-align:center;cursor:default" class="h35 wx-menu-add-btn"><a ng-click="addNav(0)" class="block" href="#"><i class="fa fa-plus wx-menu-add"></i></a></div><ul id="list1" ui-sortable="sortableOptions" class="apps-container" ng-model="wxListData[0]"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in wxListData[0]" class="app h35 border05" ng-class="{\'not-sortable\': $index == list1.length-1}" ng-click="editNavList($index,0)"><i class="fa fa-reorder wx-menu-icon" ng-if="$index == wxListData[0].length-1"></i> <span class="text-overflow wx-menu-name" title="{{item.name}}">{{item.name}}</span> <i style="position:absolute;right:4px;top:10px;font-size:16px" class="fa fa-trash-o" ng-click="delNavList($event,$index,0);"></i></li></ul></div><div style="background:#fff;position:absolute;bottom:0;left:101px;width:101px" class="floatLeft"><div ng-show="visible2" style="text-align:center" class="h35 wx-menu-add-btn"><a ng-click="addNav(1)" class="block" href="#"><i class="fa fa-plus wx-menu-add"></i></a></div><ul id="list2" ui-sortable="sortableOptions" class="apps-container" ng-model="wxListData[1]"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in wxListData[1]" class="app h35 border05" ng-class="{\'not-sortable\': $index == list2.length-1}" ng-click="editNavList($index,1)"><i class="fa fa-reorder wx-menu-icon" ng-if="$index == wxListData[1].length-1"></i> <span class="text-overflow wx-menu-name" title="{{item.name}}">{{item.name}}</span> <i style="position:absolute;right:4px;top:10px;font-size:16px" class="fa fa-trash-o" ng-click="delNavList($event,$index,1);"></i></li></ul></div><div style="background:#fff;position:absolute;bottom:0;left:202px;width:101px" class="floatLeft"><div ng-show="visible3" style="text-align:center" class="h35 wx-menu-add-btn"><a ng-click="addNav(2)" class="block" href="#"><i class="fa fa-plus wx-menu-add"></i></a></div><ul id="list3" ui-sortable="sortableOptions" class="apps-container" ng-model="wxListData[2]"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in wxListData[2]" class="app h35 border05" ng-class="{\'not-sortable\': $index == list3.length-1}" ng-click="editNavList($index,2)"><i class="fa fa-reorder wx-menu-icon" ng-if="$index == wxListData[2].length-1"></i> <span class="text-overflow wx-menu-name" title="{{item.name}}">{{item.name}}</span> <i style="position:absolute;right:4px;top:10px;font-size:16px" class="fa fa-trash-o" ng-click="delNavList($event,$index,2);"></i></li></ul></div></div></div><div class="wx-set-pro-txt"><p>客服系统提供下列菜单类型供选择：</p><p>1，提交工单。打开网页填写表单提交工单。</p><p>2，帮助文档。打开帮助中心（{{providerDomain}}）的文章列表</p><p>3，服务记录。历史的会话与工单记录列表。</p><p>4，打开网页。打开网页，访问自定义的网址。</p></div></div></div><div class="form-group w100p"><div class="col-sm-12"><div class="wx-set-btn-group"><div style="margin-bottom:15px"><button ng-click="update()" type="button" ladda="disableValue" ng-disabled="disableValue" class="btn btn-primary w100">更新</button> <a class="wx-menu-default" href="javascript:void(0)" ng-click="defaultMenu();">恢复系统默认值</a></div><p class="wx-set-pro-txt">点击更新，将更新菜单到钉钉企业号的应用内。</p></div></div></div></form></div>');e.put("source/dingding_setting/templates/dingding_port.html",'<style>#imgBox{position:relative}.upImg{position:absolute;left:0;width:60px;height:60px;top:0;cursor:pointer;z-index:1}.upImg:after{content:\'上传Logo\';position:absolute;left:0;bottom:0;width:60px;height:20px;color:#fff;background-color:#797979;opacity:.8;z-index:-1}.upImg input{width:100%;height:100%;opacity:0;border:none;outline:0;cursor:pointer}</style><div class="setting-common-body"><ul><li><div class="title-bar"><span>应用Logo *</span></div><div class="form-content"><div id="imgBox"><image-show imageurl="{{dingding.iconUrl}}" defaultimageurl="source/images/face/header_60.png" imagestyle="head.60.60" imageclass="w60 h60"></image-show><div class="upImg" ng-if="checkId==0"><input ng-file-select ng-model="files" ng-file-change="uploadFile(files)" accept="image/*" readonly="readonly" ng-disabled="checkId>0"></div></div></div></li><li><div class="title-bar"><span>渠道名称 *</span></div><div class="form-content"><input type="text" class="form-control w400" maxlength="10" ng-model="dingding.name" ng-disabled="checkId>0"></div></li><li><div class="title-bar"><span>功能介绍 *</span></div><div class="form-content"><input type="text" class="form-control w400" maxlength="20" ng-model="dingding.appDesc" ng-disabled="checkId>0"><p class="tip">简要介绍该应用的主要功能以及服务内容</p></div></li><li><div class="title-bar"><span>CorpId *</span></div><div class="form-content"><input type="text" class="form-control w400" maxlength="255" ng-model="dingding.appId" ng-disabled="checkId>0"><p class="tip">请登录钉钉管理后台>>微应用>>微应用设置页查看</p></div></li><li><div class="title-bar"><span>CorpSecret *</span></div><div class="form-content"><input type="text" class="form-control w400" maxlength="255" ng-model="dingding.appSecret" ng-disabled="checkId>0"><p class="tip">请登录钉钉管理后台>>微应用>>微应用设置页查看</p></div></li><li ng-if="checkId>0"><div class="title-bar"><span>首页地址</span></div><div class="form-content"><p style="font-size:14px">{{dingding.homePageUrl}}</p><p class="tip">该域名设置为可信域名，即可调用jssdk，安全访问授权。</p></div></li><li ng-if="checkId>0"><div class="title-bar"><span>PC版首页地址</span></div><div class="form-content"><p style="font-size:14px">{{dingding.pcHomePageUrl}}</p><p class="tip">请确保该域名和首页可信域名相同。</p></div></li><li ng-hide="checkId>0"><div class="title-bar"></div><div class="form-content"><button class="btn btn-primary w100" ladda="disableValue" ng-click="updateCode()" ng-disabled="disableValue">更新</button><p class="tip">点击更新按钮，系统将检查微应用是否创建成功。</p></div></li></ul></div>');e.put("source/dingding_setting/templates/online_customer_navigation.html",'<div class="serviceCatalogBox clearfix"><h3 class="font_b">服务目录</h3><div class="serviceCatalogContent"><p><span ng-repeat="nav in navList track by $index"><span ng-if="$index != 0">》</span> <span ng-click="goServiceCatalog(nav,$index)" ng-class="{true:\'navClass\'}[$index != navList.length-1]">{{nav.name}}</span></span></p><ul><li ng-click="setIndex(item)" ng-class="{true:\'weixinActive\'}[item.isChecked]" ng-repeat="item in serviceCatalogs track by $index"><div class="serviceCatalogListNo">{{item.no}}</div><div class="serviceCatalogListCon"><span ng-click="getNextServiceCatalog(item,$event)" ng-show="!item.isShowInput" style="float:left">{{item.name}}</span> <input id="{{item.uId}}" ng-blur="ngBlur(item)" ng-focus="ngFocus()" ng-show="item.isShowInput" ng-click="inputStopPropagation($event)" style="height:20px" type="text" ng-model="item.name"></div><div class="serviceCatalogListEdit"><label for="{{item.uId}}" ng-show="(!item.isShowInput) && item.isChecked " ng-click="editServiceCatalog(item,$event)" style="cursor:pointer"><i class="fa fa-pencil"></i></label></div></li></ul><div ng-if="nowServiceCatalogNo > 0"><div class="nextListBox"><span>【0】</span><div>返回上一级</div></div><div class="nextListBox"><span>【999】</span><div>立即呼叫客服</div></div></div><div class="settingtips">回复数字序号获得帮助。</div><p style="margin-top:30px;color:#999">选择服务目录项，编辑导航菜单。如需添加菜单项，请前往<span style="font-weight:700">商业规则-服务目录</span>页面，添加目录。</p><p style="position:absolute;top:40px;right:40px">选中可编辑</p><button style="width:100px;margin-top:50px" ng-click="updateServiceCatalogs()" ladda="disableValue" ng-disabled="disableValue" class="btn btn-primary">更新</button></div></div>');e.put("source/dingding_setting/templates/template_message.html",'<div class="wx_message"><div class="row"><div class="col-sm-2" style="width:120px;margin:8px 0 0 12px"><label>模版ID</label></div><div class="col-sm-7"><input ng-model="wechat.weixinTicketTemplateId" maxlength="255" type="text" class="form-control w400"><p class="margin_top10px color-gray">请登录微信服务号管理后台（mp.weixin.qq.com），进入功能-模板消息页面，点击“从模板库添加”，选择一级行业为“IT科技”二级行业为“IT软件与服务”标题为“工单消息提醒”的模板（确认编号为OPENTM207212027），点添加。然后复制模板ID，填入上面的输入框，点更新。</p><div class="template-tip"><p style="padding:1px;width:302px"></p></div><div style="margin-top:45px"><button ng-click="addTemplateInf()" type="button" class="btn btn-primary w100">更新</button></div><p></p></div></div><div class="template_text"><ul class="list-unstyled color-gray"><li><label>什么是模版消息，有什么用？</label><p class="margin_top20px">微信官方对微信服务号有所谓“48小时”限制：</p><p>1.服务号不可以主动给客户发消息（每月4次的群发除外）。</p><p>2，客户给服务号发消息后，服务号可以回复客户，48小时内不限条数，48小时后回复通道关闭。</p><p class="margin_top20px">模板消息不受“48小时”规则限制，让你随时主动给微信用户发通知。这种主动消息必须封装成微信官方预制的模板样式，所以称为模板消息。工单处理过程往往大于48小时，当有消息需要通知客户时，需要用到模板消息。</p></li><li class="margin_top20px"><label>没有模版消息功能有什么影响？</label><p class="margin_top20px">1.不影响在线客服会话，因为会话持续时长几乎不会超过48小时。</p><p>2.影响工单。在最后回复的48小时内，客户依然能够通过微信接收工单回复；48小时后，通知通道被切断。</p></li><li class="margin_top20px"><label>为什么我的微信后台找不到模版？</label><p class="margin_top20px">1.你的微信服务号未开通微信支付功能，请向微信官方申请。</p><p>2.你的微信服务号虽取得了支付授权，但未开通模版消息，请向微信官方申请。</p><p>2.你的微信服务号虽开通了模版消息，但你选择的行业不包含“IT科技/IT软件和服务“。</p></li></ul></div></div>');e.put("source/dingding_setting/templates/ticket_send_rule.html",'<div class="wx_ticket_send_rule margin_top50px"><div class="row"><div class="col-sm-2" style="width:120px;margin:8px 0 0 12px"><label>受理客服组</label></div><div class="col-sm-7"><select class="form-control w400" ng-options="item.name for item in ruleValue" ng-model="ruleType" ng-change="showRuleType(ruleType)"></select><p class="margin_top10px color-gray">会话和工单默认分派到选定的客服组，任何组员都可以响应组的“未分派工单”。 或根据导航菜单（服务目录）动态地分派到相应的客服组。参见商业规则-服务目录关于责任客服组的配置。</p></div></div><div class="row" style="margin-top:30px" has-module="robot"><div class="col-sm-2" style="width:120px;margin:8px 0 0 12px"><label>智能机器人</label></div><div class="col-sm-7"><input type="checkbox" style="position:relative;top:2px" ng-model="dingdingChatRoute.robotReply">有新的会话请求时，优先接通机器人客服<p class="margin_top10px color-gray">系统会根据客户输入的内容匹配知识库文章，当命中文章主题或者内容标签时，将自动回复文章链接给到客户。</p><div style="margin-top:45px"><button ng-click="dingdingChatRouteUpdate()" ladda="disableValue" ng-disabled="disableValue" class="btn btn-primary w100">更新</button></div></div></div></div>');e.put("source/ewei-phone/template/alert-tip-common.html",'<div class="message-tip-common" ng-show="atc.message&&atc.message!=\'\'">{{atc.message}}<div class="x" ng-click="atc.cancelMessage();">X</div></div>');e.put("source/ewei-phone/template/contact-main-panel.html",'<div class="search-contacts-records" style="height:400px"><div class="find-user"><input ng-model="vm.telNum" class="form-control find-user-input" ng-change="vm.saveTelNumByKeyboard();" style="width:100%" placeholder="输入号码或用户名搜索"></div><div class="list-panel onlyyou" style="height:358px"><ul class="list-contacts"><li ng-repeat="item in vm.contactsListData track by $index" ng-dblclick="vm.backToDialPanel(item.contact.sipAccount||item.contact.mobilePhone||item.contact.phone||item.contact.contactMobilePhone);" class="mounted-contacts"><div class="flag"></div><div class="info contacts"><p class="name" title="{{item.contact.name}}" ng-bind-html="item.contact.name|highlight:vm.telNum"></p><p class="tel" ng-bind-html="item.contact.sipAccount||item.contact.mobilePhone||item.contact.phone||item.contact.contactMobilePhone|highlight:vm.telNum"></p></div></li><li ng-if="vm.hasload && vm.contactsListData && vm.contactsListData.length==0" style="text-align:center;line-height:50px;border-bottom:none;cursor:default">暂无数据</li><li ng-if="vm.nomoreContacts && vm.contactsListData.length>=10" style="text-align:center;line-height:50px;border-bottom:none;cursor:default">无更多数据了···</li></ul></div></div>');e.put("source/ewei-phone/template/contact-record.html",'<div class="contact-title"><div ng-click="vm.backToDialPanel();" class="icon-contact iconfont">&#xe61a;</div><div class="main-title">通讯录</div><div style="clear:both"></div></div>');e.put("source/ewei-phone/template/contacts-and-records.html",'<div class="search-contacts-records"><div class="message-tip"><alert-tip-common></alert-tip-common></div><div class="find-user"><input ng-model="vm.telNum" class="form-control find-user-input" ng-change="vm.saveTelNumByKeyboard();" mouse-index><div ng-click="vm.goContacts();" class="iconfont find-user-fn" style="color:#999">&#xe619;</div></div><div class="list-panel"><ul class="list-records"><li ng-repeat="item in vm.recordsListData|filter:vm.filterTelNum track by $index" ng-click="vm.choseTelNum(item.phone);" ng-dblclick="vm.callout(item.phone);" class="mounted" name="{{item.phone}}"><div ng-if="item.callMode==\'call_out\'" class="flag iconfont" style="color:#29bd8b">&#xe61c;</div><div ng-if="item.status==\'missed_call\'&&item.callMode==\'call_in\'" class="flag iconfont" style="color:#ed4e4e">&#xe617;</div><div ng-if="item.status==\'normal\'&&item.callMode==\'call_in\'" class="flag"></div><div class="info records"><p class="name" title="{{item.name}}" ng-bind-html="item.name|highlight:vm.telNum"></p><p class="tel" ng-bind-html="item.phone|highlight:vm.telNum"></p><p></p><p class="date">{{item.createdAt}}</p><p></p></div><div class="time">{{item.talkSeconds|filterTime}}</div></li><li ng-if="!vm.recordsListData||vm.recordsListData.length==0" style="text-align:center;line-height:50px;border-bottom:none;cursor:default">暂无数据</li><li ng-if="vm.nomoreRecords&&vm.recordsListData.length>=10" style="text-align:center;line-height:50px;border-bottom:none;cursor:default">无更多数据了···</li></ul></div></div>');e.put("source/ewei-phone/template/cti-play-screen.html",'<div class="sip-call"><p class="call-status">电话呼入</p><cti-user-info></cti-user-info><div class="failure-box" style="padding:0 40px"><i class="phone-cancel iconfont" ng-click="hangup()">&#xe66f;</i> <i class="phone-callback iconfont" ng-click="pickup()">&#xe667;</i></div></div>');e.put("source/ewei-phone/template/cti-user-info.html",'<div class="cti-user-info"><p class="phone-number">{{user.phoneNumber===\'\'? \'未知号码\' : user.phoneNumber}}</p><div class="img-box"><image-show imageurl="{{user.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="img-circle" editable="false"></image-show></div><div style="margin-top:10px"><a class="username custom-main-font-color" ng-click="showCustomer()" ng-bind="user.name"></a></div><p class="user-info"><span ng-if="user.type==\'customer\'">{{user.userGroup.name }}</span> <span ng-if="user.type==\'engineer\'">{{user.defaultServiceDesk.name | translate }}</span></p></div>');e.put("source/ewei-phone/template/dial-fn-panel.html",'<div class="dial-fn-panel"><div class="number-panel" ng-if="vm.showNumberPanel"><div ng-click="vm.clickNum(\'1\');" style="border-right:1px solid #ddd">1</div><div ng-click="vm.clickNum(\'2\');">2</div><div ng-click="vm.clickNum(\'3\');" style="border-left:1px solid #ddd">3</div><div ng-click="vm.clickNum(\'4\');" style="border-top:1px solid #ddd;border-right:1px solid #ddd">4</div><div ng-click="vm.clickNum(\'5\');" style="border-top:1px solid #ddd">5</div><div ng-click="vm.clickNum(\'6\');" style="border-top:1px solid #ddd;border-left:1px solid #ddd">6</div><div ng-click="vm.clickNum(\'7\');" style="border-top:1px solid #ddd;border-right:1px solid #ddd">7</div><div ng-click="vm.clickNum(\'8\');" style="border-top:1px solid #ddd">8</div><div ng-click="vm.clickNum(\'9\');" style="border-top:1px solid #ddd;border-left:1px solid #ddd">9</div><div ng-click="vm.clickNum(\'*\');" style="border-top:1px solid #ddd;border-right:1px solid #ddd">*</div><div ng-click="vm.clickNum(\'0\');" style="border-top:1px solid #ddd">0</div><div ng-click="vm.clickNum(\'#\');" style="border-top:1px solid #ddd;border-left:1px solid #ddd">#</div></div><div class="fn-panel"><div class="iconfont rotary-dial" ng-click="vm.toggleNumberPanel();">&#xe625;</div><div><div class="call-out iconfont" ng-click="vm.callout()" ng-if="vm.isCallOutVal!=\'offline\'">&#xe618;</div><div class="call-out iconfont" style="background:#999" ng-if="vm.isCallOutVal==\'offline\'">&#xe618;</div></div><div class="iconfont" style="font-size:28px" ng-click="vm.backTelNum();">&#xe623;</div></div></div>');e.put("source/ewei-phone/template/dial-header-menu.html",'<div class="dail-header-menu"><section ng-if="vm.warntip" class="warntip">!</section><div class="menu-button"><div ng-class="{\'menu-actived\':vm.dialSetPanel}" ng-click="vm.switchPanel(true)" class="menu-click">拨号</div></div><div class="menu-button"><div ng-class="{\'menu-actived\':!vm.dialSetPanel}" ng-click="vm.switchPanel(false)" class="menu-click">设置</div></div><div class="menu-button"><div ng-click="vm.showStatusList();" ng-if="vm.phoneStatus==\'online\'" class="menu-select"><span class="status online"></span>在线</div><div ng-click="vm.showStatusList();" ng-if="vm.phoneStatus==\'dontDisturb\'" class="menu-select"><span class="status dndst"></span>勿扰</div><div ng-click="vm.showStatusList();" ng-if="vm.phoneStatus==\'transfer\'" class="menu-select"><span class="status transfer"></span>转移</div><div ng-click="vm.showStatusList();" ng-if="vm.phoneStatus==\'offline\'&&vm.SipPhoneOK" class="menu-select"><span class="status offline"></span>离线</div><div ng-if="vm.phoneStatus==\'offline\'&&!vm.SipPhoneOK" class="menu-select"><span class="status offline"></span>离线</div></div><ul class="ul-list" ng-if="vm.statusList"><li ng-click="vm.checkPhoneStatus(\'online\');"><span class="status online"></span>在线</li><li ng-if="vm.channelType!=\'phone_box\'" ng-click="vm.checkPhoneStatus(\'dontDisturb\');"><span class="status dndst"></span>勿扰</li><li ng-if="vm.channelType!=\'phone_box\'" ng-click="vm.checkPhoneStatus(\'transfer\');"><span class="status transfer"></span>转移</li><li ng-if="vm.channelType!=\'phone_box\'" ng-click="vm.checkPhoneStatus(\'offline\');"><span class="status offline"></span>离线</li></ul><div style="clear:both"></div></div>');e.put("source/ewei-phone/template/dial-icon.html",'<a href="javascript:void(0);" class="header-tool-bar dial-icon" title="拨号盘" ng-click="vm.popTelDial()"><span class="dial"><i class="iconfont">&#xe654;</i></span><div class="point" ng-show="vm.hasMissCall"></div><style>.header-tool-bar{position:relative}.header-tool-bar>.point{display:block;overflow:hidden;position:absolute;top:5px;right:7px;background:#e82020;border:1px solid #fff;border-radius:10px;height:10px;width:10px;text-align:center;line-height:13px}</style></a>');e.put("source/ewei-phone/template/dial-mutil-header.html",'<div class="dail-mutil-header clearfix"><div class="hold" ng-if="vm.isKeepPhone"><span class="num" ng-bind="vm.telNum"></span>保持通话</div><div class="info" ng-style="vm.isKeepPhone?{\'height\':\'22px\',\'line-height\':\'22px\'}:{}"><span class="txt">拨号 - 邀请第三方</span> <a class="bk" href="javascript:void(0)" ng-click="vm.back()">返回</a></div></div>');e.put("source/ewei-phone/template/dial-panel.html",'<div class="ewei-dail-panel"><div class="busymask" ng-if="!vm.heldSuccess"><img class="busyimg" src="/source/quick_entry/images/loading_w.gif"></div><div ng-show="vm.dialHeaderMenuShow"><dial-header-menu ng-if="!vm.contactTitle"></dial-header-menu><contract-record ng-if="vm.contactTitle"></contract-record></div><div ng-hide="vm.dialHeaderMenuShow"><dial-mutil-header is-keep-phone="vm.isKeepPhone" is-sip-call="vm.isSipCall"></dial-mutil-header></div><div ng-show="vm.whichPanelShow"><div ng-if="vm.phoneEnable"><contact-main-panel ng-if="vm.contactMainPanel"></contact-main-panel><contacts-and-records ng-if="!vm.contactMainPanel"></contacts-and-records><dial-fn-panel ng-if="!vm.contactMainPanel" is-mutil="isMutil" mutil-success="vm.mutilSuccess"></dial-fn-panel></div><div ng-if="!vm.phoneEnable" class="phoneEnable"><p ng-class="{\'infiniteLoop\':vm.isLoop,\'iconfont\':true,\'icon-p\':true}">&#xe66c;</p><p class="tip-p">{{vm.connectMessage}}</p></div></div><div ng-hide="vm.whichPanelShow"><phone-setting-panel></phone-setting-panel></div></div>');e.put("source/ewei-phone/template/ewei-phone-mutil.html",'<div class="mutil-panel"><alert-tip-common class="tip"></alert-tip-common><div class="mutil-title"><span class="txt">多方通话</span> <a href="#" class="add-call" ng-show="!vm.mutilIsEnd && vm.canInvite" ng-click="vm.invite()">+添加通话方</a> <span class="call-end" ng-show="vm.mutilIsEnd">通话已结束</span></div><div class="mutil-list clearfix"><div class="item" ng-repeat="item in vm.mutilList"><div class="img-wrap"><img class="img" ng-src="{{item.photo}}" alt=""></div><div class="info"><p class="ellipsis name" ng-bind="::item.name?item.name:item.nickname"></p><p class="ellipsis company-name" ng-bind="::item.userGroup?item.userGroup.name:\'\'"></p></div><div class="icon-wrapper" ng-class="{active: vm.isMutePhone}" ng-if="vm.currentUserId == item.id && supportMute"><i class="iconfont" ng-show="!vm.isMutePhone" ng-click="vm.mutePhone()">&#xe66e;</i> <i class="iconfont" ng-show="vm.isMutePhone" ng-click="vm.mutePhone()">&#xe670;</i></div></div></div><div ng-show="!vm.mutilIsEnd"><sip-keyboard></sip-keyboard></div><div class="failure-box" ng-show="vm.mutilIsEnd"><div class="save-ticket-panel"><button class="btn back-class" ng-click="vm.closeSip();">关闭</button> <button class="btn save-class" ng-click="vm.createTicket();">记录工单</button></div></div></div>');e.put("source/ewei-phone/template/ewei-phone-panel.html",'<div ng-show="vm.showPhonePanel"><div class="main-panel" ng-if="vm.showMainDialPanel"><dial-panel is-mutil="vm.isMutil" is-keep-phone="vm.isKeepPhone" is-sip-call="vm.isSipCall" mutil-success="vm.mutilSuccess"></dial-panel></div><div ng-if="vm.showPhoneSipcallPanel"><sip-call sip-call-mutil="vm.sipCallMutil" back-to-sip-call="vm.backToSipCall" incoming="vm.incoming" mutil-success="vm.mutilSuccess"></sip-call></div><div ng-if="vm.showPhoneUsbCallPanel"><usb-call></usb-call></div><div class="main-panel" ng-show="vm.showTransferPanel" style="background-color:transparent"><ewei-phone-transfer></ewei-phone-transfer></div><div ng-show="vm.showEweiPhoneMutil"><ewei-phone-mutil></ewei-phone-mutil></div><div ng-if="vm.showRecordTicketPanel"><record-ticket></record-ticket></div><div ng-if="vm.showPlayScreen"><cti-play-screen></cti-play-screen></div></div>');e.put("source/ewei-phone/template/ewei-phone-panel1.html",'<div><div class="tipLayer" ng-if="viaSettingAuthorized==true && viaCtiCount==0 && autoHide"><span class="iconfont" style="color:#707070">&#xe614;</span>尚未添加电话渠道，<a class="href" ui-sref="system_setting.detail({ \'uri\': \'channel_settings\',\'settingType\':\'multi_channel\'})">立即开通</a></div><div class="tipLayer" ng-if="viaSettingAuthorized==false && viaCtiCount==0 && autoHide"><span class="iconfont" style="color:#707070">&#xe614;</span>尚未添加电话渠道，请联系管理员</div><div class="tipLayer" ng-if="!isInstallApp">未检测到通话组件，请<a class="href" ng-click="downloadApplication()" style="margin-left:0" href="javascript:void(0);">下载</a>安装</div><div class="tipLayer" ng-if="installing" style="width:303px">请安装已下载的组件，安装成功后提示将自动消失</div><div class="telephone" ng-show="showTelDial"><div class="input-area" ng-show="showDial"><div class="input-button in-b iconfont" style="color:#a9a8af;font-size:28px;margin:0" ng-click="openContact(true);" ng-show="showContactIcon">&#xe619;</div><div class="input-button in-b iconfont" style="color:#a9a8af;font-size:26px;margin:0" ng-click="openContact(false);" ng-hide="showContactIcon">&#xe61a;</div><div class="input-button in-i"><input class="form-control" type="text" ng-model="telNum" ng-show="showTelNumInput"><p style="color:red" ng-hide="showTelNumInput">{{tipInfomation}}</p><p style="color:#999;font-size:15px;padding:0 10px" ng-show="interfaceTitle">{{titleInfo}}</p></div><div class="input-button in-b-r iconfont" style="color:#a9a8af;font-size:20px" ng-click="openRecords();" ng-show="!hasMissCall&&showContactIcon">&#xe616;</div><div class="input-button in-b-r iconfont" style="color:red;font-size:20px" ng-click="openRecords();" ng-show="hasMissCall&&showContactIcon">&#xe616;</div></div><div class="dial-area" ng-show="showDial"><div class="dial-fun" ng-show="showContactIcon"><div class="tel-button num" ng-click="clickNum(\'1\')">1</div><div class="tel-button num middlenum" ng-click="clickNum(\'2\')">2</div><div class="tel-button num" ng-click="clickNum(\'3\')">3</div><div class="tel-button num" ng-click="clickNum(\'4\')">4</div><div class="tel-button num middlenum" ng-click="clickNum(\'5\')">5</div><div class="tel-button num" ng-click="clickNum(\'6\')">6</div><div class="tel-button num" ng-click="clickNum(\'7\')">7</div><div class="tel-button num middlenum" ng-click="clickNum(\'8\')">8</div><div class="tel-button num" ng-click="clickNum(\'9\')">9</div><div class="tel-button num" ng-click="clickNum(\'*\')">*</div><div class="tel-button num middlenum" ng-click="clickNum(\'0\')">0</div><div class="tel-button num" ng-click="clickNum(\'#\')">#</div><div class="tel-button fun iconfont" style="color:#a9a8af;font-size:30px" ng-click="openSetting();">&#xe622;</div><button class="tel-button fun middlefun iconfont btn" ng-click="callout();" ng-disabled="stopCall">&#xe618;</button><div class="tel-button fun iconfont" style="color:#a9a8af;font-size:30px" ng-click="deleteNum();">&#xe623;</div><div class="clearstyle"></div></div><div class="contactDiv" ng-hide="showContactIcon||showCallRecord"><div class="searchDiv"><span class="iconfont searchicon" style="color:#d5d5d5;font-size:21px">&#xe624;</span> <input class="searchin" type="text" placeholder="请输入名字/电话/邮箱搜索" ng-model="searchCond" ng-keypress="searchContact($event);"></div><ul><li ng-repeat="item in contacts" ng-click="selectTelNum(item.contact.phone,item.contact.mobilePhone)"><span class="tx"><image-show imageurl="{{item.contact.photoContentUrl}}" defaultimageurl="source/images/face/header_40.png" style="height:40px;width:40px;border-radius:5px"></image-show></span><span class="xm">{{item.contact.name}}</span> <span class="dh" ng-if="item.type==\'1\'||item.type==\'3\'">{{item.contact.mobilePhone}}</span> <span class="dh" ng-if="item.type==\'2\'">{{item.contact.phone}}</span><div class="clearstyle"></div></li></ul></div><div class="record-panel" ng-show="showCallRecord"><div class="scoll-layer"><div class="scoll-contact"><ul ng-if="callRecords.length!=0"><li ng-repeat="callRecord in callRecords" ng-click="selectRecordNum(callRecord.phone)"><div class="div left iconfont" style="color:#3ba2df" ng-if="callRecord.callMode==\'call_out\'">&#xe61c;</div><div class="div left iconfont" style="color:red" ng-if="callRecord.status==\'missed_call\'&&callRecord.callMode==\'call_in\'">&#xe617;</div><div class="div left iconfont" style="color:#3ba2df" ng-if="callRecord.status==\'normal\'&&callRecord.callMode==\'call_in\'"></div><div class="div middle">{{callRecord.phone}}</div><div class="div right">{{callRecord.createdAt}}</div><div class="clearstyle"></div></li></ul><div class="empty_callRecord" ng-if="callRecords.length==0">没有通话记录</div></div></div></div></div><div class="callpanel" ng-show="showCall"><div class="callicon iconfont" style="color:#fff;font-size:30px">&#xe61b;</div><p class="telephone-num"><span>{{userName}}</span><span>({{telNum}})</span></p><p class="tip" ng-show="isConnected">{{calloutStatusTip}}</p><p class="tip" ng-show="calloutStatus_calling">{{calloutStatusTip}}</p><p class="tip" ng-show="calloutStatus_wrong" style="color:red">{{calloutStatusTip}}</p><div class="tip" ng-show="comeToTheCall">{{calloutStatusTip}}<div>{{postScript|ellipsis}}</div></div><div class="button-array"><div class="btn gd" ng-show="calloutStatus_calling" ng-click="hangup();">挂断</div><div class="btn cb" ng-show="calloutStatus_wrong" ng-click="callout();">重拨</div><div class="btn gd" ng-show="calloutStatus_wrong" ng-click="backToDial();">取消</div><div class="btn cb" ng-show="comeToTheCall">接听</div><div class="btn gd" ng-show="comeToTheCall" ng-click="backToDial();">挂断</div><div class="btn disablebtn" ng-show="isConnected_btn&&calloutStatusTip==\'来电\'">接听</div><div class="btn disablebtn" ng-show="isConnected_btn">挂断</div></div></div><div class="setpanel" ng-show="showSetting"><div class="settitle"><span class="iconfont icon" style="color:#a9a8af;font-size:30px">&#xe622;</span> <span class="title">选择电话渠道</span></div><div class="settip">签入后，系统将自动分派来自渠道的电话给你，示忙则不再分派。</div><div class="infoset"><div ng-repeat="channel in viaCits" ng-if="channel.enabled"><h5>{{channel.name}}</h5><select disabled="disabled"><option>签入</option></select><input type="radio" ng-click="selectChannel(channel.id,channel.name);" class="setradio" name="channel" ng-show="channel.selectedItem" checked="checked"><span class="labelinfo" ng-show="channel.selectedItem">呼出电话时选用这个渠道</span> <input type="radio" ng-click="selectChannel(channel.id,channel.name);" class="setradio" name="channel" ng-hide="channel.selectedItem"><span class="labelinfo" ng-hide="channel.selectedItem">呼出电话时选用这个渠道</span><div class="clearstyle"></div></div></div><div class="bottomarray"><div class="gx">更新</div><div class="qx" ng-click="backToDial();">取消</div></div></div></div></div>');e.put("source/ewei-phone/template/ewei-phone-tip.html",'<div><div class="tipLayer" ng-if="vm.viaCtiCount==0 && vm.autoHide"><span class="iconfont" style="color:#707070">&#xe614;</span>尚未添加电话渠道，<a class="href" ui-sref="system_setting.detail({ \'uri\': \'channel_settings\',\'settingType\':\'multi_channel\'})">立即开通</a><a class="href" ng-click="vm.closedownload()" style="margin-left:20px" href="javascript:void(0);">关闭</a></div><div class="tipLayer" ng-if="vm.viaSettingAuthorized==false && vm.autoHide"><span class="iconfont" style="color:#707070">&#xe614;</span>没有拨号权限，请联系管理员<a class="href" ng-click="vm.closedownload()" style="margin-left:20px" href="javascript:void(0);">关闭</a></div><div class="tipLayer" ng-if="vm.installApp">未检测到通话组件，请<a class="href" ng-click="vm.downloadApplication()" style="margin-left:0" href="javascript:void(0);">下载</a>安装 <a class="href" ng-click="vm.closedownload()" style="margin-left:20px" href="javascript:void(0);">关闭</a></div><div class="tipLayer" ng-if="vm.installing">请安装已下载的组件，安装成功后提示将自动消失<a class="href" ng-click="vm.closedownload()" style="margin-left:20px" href="javascript:void(0);">关闭</a></div><div class="tipLayer" ng-if="vm.missCallCount&&vm.missCallCount!=0">你有{{vm.missCallCount}}个未接电话</div></div>');e.put("source/ewei-phone/template/ewei-phone-transfer-call.html",'<div class="transfer-call"><div class="held-tips" ng-class="{\'host-offline\':vm.hostOffline}">{{hostTelNum}} {{vm.vm.hostOffline?\'已挂断\':\'通话保持\'}}</div><div class="header"><span class="txt">转接电话</span></div><p class="call-status" ng-style="{color:vm.state==\'transfer-failed\' ? \'red\' : \'\'}">{{vm.status}}</p><div class="cti-user-info"><p class="phone-number">{{target.sipAccount || target.telNum}}</p><div class="img-box"><image-show imageurl="{{target.photoContentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="img-circle" editable="false"></image-show></div><p ng-if="target.isEngineer" class="username">{{target.name}}</p><p ng-if="target.isEngineer" class="user-info">{{target.defaultServicedeskName | translate}}</p></div><div class="operation"><div class="keyboard"><div class="dial-fn-panel"><div class="number-panel" ng-if="vm.showNumberPanel"><div ng-click="vm.clickNum(\'1\');" style="border-right:1px solid #ddd">1</div><div ng-click="vm.clickNum(\'2\');">2</div><div ng-click="vm.clickNum(\'3\');" style="border-left:1px solid #ddd">3</div><div ng-click="vm.clickNum(\'4\');" style="border-top:1px solid #ddd;border-right:1px solid #ddd">4</div><div ng-click="vm.clickNum(\'5\');" style="border-top:1px solid #ddd">5</div><div ng-click="vm.clickNum(\'6\');" style="border-top:1px solid #ddd;border-left:1px solid #ddd">6</div><div ng-click="vm.clickNum(\'7\');" style="border-top:1px solid #ddd;border-right:1px solid #ddd">7</div><div ng-click="vm.clickNum(\'8\');" style="border-top:1px solid #ddd">8</div><div ng-click="vm.clickNum(\'9\');" style="border-top:1px solid #ddd;border-left:1px solid #ddd">9</div><div ng-click="vm.clickNum(\'*\');" style="border-top:1px solid #ddd;border-right:1px solid #ddd">*</div><div ng-click="vm.clickNum(\'0\');" style="border-top:1px solid #ddd">0</div><div ng-click="vm.clickNum(\'#\');" style="border-top:1px solid #ddd;border-left:1px solid #ddd">#</div></div></div><div class="transfering-icons" ng-if="vm.state == \'transfering\'"><span class="icon-number" ng-click="vm.toggleNumberPanel()" ng-if="vm.enableHangup"><i class="iconfont" ng-show="!vm.showNumberPanel">&#xe66b;</i> <i class="iconfont" ng-show="vm.showNumberPanel">&#xe66a;</i> </span><a class="hanup" ng-click="vm.hangupTransfer()" ng-if="vm.enableHangup"><i class="iconfont">&#xe66f;</i></a></div><div class="transfer-failed-icons" ng-if="vm.state == \'transfer-failed\'"><a class="phone-cancel" title="取消转接" ng-click="vm.cancel()"><i class="iconfont">&#xe600;</i> </a><a class="phone-redial" title="重拨转接" ng-click="vm.redial()"><i class="iconfont">&#xe667;</i></a></div><div class="transfer-successful-icons" ng-if="vm.hostOnline&&(vm.state == \'transfer-successful\' || vm.state == \'transfer-finished\')"><div class="top-icons"><a class="transfer" title="转接" ng-disabled="vm.state == \'transfer-finished\'" ng-click="vm.transfer()"><i class="iconfont">&#xe669;</i></a></div><div class="bottom-icons"><span ng-click="vm.toggleNumberPanel()" ng-disabled="vm.state == \'transfer-finished\'"><i class="iconfont" ng-show="!vm.showNumberPanel">&#xe66b;</i> <i class="iconfont" ng-show="vm.showNumberPanel">&#xe66a;</i> </span><a class="hangup" title="挂断" ng-disabled="vm.state == \'transfer-finished\'" ng-click="vm.hangupTransfer()"><i class="iconfont">&#xe66f;</i> </a><span class="ticket" title="记录工单" ng-disabled="vm.state == \'transfer-finished\'" ng-click="vm.createTicket()"><i class="iconfont">&#xe674;</i></span></div></div></div></div></div>');e.put("source/ewei-phone/template/ewei-phone-transfer-engineer-select.html",'<div class="transfer-select-engineer"><div class="busymask" ng-if="!vm.heldSuccess"><img class="busyimg" src="/source/quick_entry/images/loading_w.gif"></div><div class="transfer-header"><span class="txt">选择客服-转接通话</span> <a class="pull-right" ng-click="vm.back()">返回</a></div><div class="transfer-body clearfix"><div class="form-group"><div class="input-group input-search"><input type="text" class="form-control" placeholder="搜索客服" ng-model="vm.searchKey" ng-keyup="vm.search()"> <span class="input-group-addon" style="cursor:pointer;color:#ccc" ng-click="vm.search(vm.searchKey)" ng-style="(vm.searchKey!=null&&vm.searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span></div></div><ol class="engineer-list" ng-if="vm.onlineEngineers && vm.onlineEngineers.length > 0"><li ng-repeat="item in vm.onlineEngineers track by $index" ng-click="vm.doTransfer(item)"><div class="img-wrap thumbnail pull-left"><image-show imageurl="{{item.photoContentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="img-circle" editable="false"></image-show></div><div class="info"><span class="name">{{item.name}}<i class="divider"></i>sip:{{item.sipAccount}}</span></div></li></ol><div class="none-engineer-online" ng-if="!vm.onlineEngineers || vm.onlineEngineers.length==0"><i class="iconfont">&#xe6ba;</i><p>抱歉，没有客服在线</p></div></div><div class="transfer-footer"><div ng-if="vm.showBlindTransfer"><input type="text" class="form-control" ng-model="vm.blindTransferNumber" placeholder="输入电话号码"> <button class="btn btn-confirm btn-blind-transfer pull-right" ng-disabled="vm.blindTransfered || !vm.transferNumberValid()" ng-click="vm.blindTransfer();"><span>转接</span></button></div><div ng-if="!vm.showBlindTransfer">转接给一个电话号码？ <a class="btn btn-confirm btn-blind-transfer pull-right" ng-click="vm.showBlindTransfer=!vm.showBlindTransfer"><span>盲转</span></a></div></div></div>');e.put("source/ewei-phone/template/ewei-phone-transfer.html",'<div class="transfer-panel" ng-hide="vm.hide"><phone-transfer-engineer-select ng-if="vm.state == \'select-engineer\'"></phone-transfer-engineer-select><phone-transfer-call ng-show="vm.state != \'select-engineer\' && vm.state != \'nothing\'" target="vm.transferTarget" host-tel-num="vm.hostTelNum"></phone-transfer-call></div>');e.put("source/ewei-phone/template/phone-callin-tip.html",'<div class="phone-callin-tip" ng-click="goNewCall()" title="{{newNumber}}"><i class="iconfont">&#xe667;</i> <span class="newtelnum">电话呼入 ：{{newNumber || \'未知号码\'}}</span></div>');e.put("source/ewei-phone/template/phone-setting-line-panel.html",'<div class="setting-panel"><h5>电话渠道</h5><div class="btn-group"><button class="btn btn-default btn-sm button-style" type="button" ng-click="vm.refreshChannel();">{{vm.checkedChannel.name}} <span class="xl iconfont">&#xe62f;</span></button><ul class="ul-style" ng-show="vm.clicked"><li ng-repeat="item in vm.channel_list track by $index" ng-click="vm.chosenChannel(item.id);" ng-if="item.enabled"><a href="javascript:void(0);">{{item.name}}</a></li></ul></div><p class="tip">选择一个渠道作为本话机的呼入/呼出线路，点击“连接”接入该线路。</p><div class="sip-line-set" ng-if="vm.checkedChannel.voiceSystem == \'sip\'"><div class="titlediv"><h5 class="lefth5">sip语音网关设置</h5><h5 class="lefth5">端口</h5><div style="clear:both"></div></div><div class="form-group"><input ng-model="vm.checkedChannel.sipAddress" class="form-control input-style-1" style="width:130px" placeholder="ip address" disabled="disabled"> <input ng-model="vm.checkedChannel.sipPort" class="form-control input-style-2" style="width:100px" placeholder="port" disabled="disabled"><div style="clear:both"></div></div><div class="titlediv"><h5 class="lefth5">用户名</h5><h5 class="lefth5">密码</h5><div style="clear:both"></div></div><div class="form-group"><input ng-model="vm.username" class="form-control input-style-1"> <input ng-model="vm.pwd" type="password" class="form-control input-style-2"><div style="clear:both"></div></div></div><div class="usb-line-set" ng-if="vm.checkedChannel.voiceSystem == \'phone_box\'"><p class="tip tip-black">请准备一只USB电话盒子，连接到你的电脑上。</p></div><button ladda="vm.connectingChannel" ng-click="vm.connectChannel(vm.checkedChannel.voiceSystem,vm.checkedChannel.id)" ng-disabled="vm.connectingChannel" class="btn connect-btn btn-confirm">连接</button><p class="tip tip-red" ng-if="vm.sipFail&&vm.checkedChannel.voiceSystem == \'sip\'">{{vm.sipFailMessage|transSipError}}</p><p class="tip tip-red" ng-if="vm.warntip&&vm.checkedChannel.voiceSystem == \'phone_box\'">系统检测到设备异常，请重新连接设备后再试。详细信息请参考 <a style="color:#666" href="{{vm.eweiHelpcenterApiUrl}}article_762" target="_blank">【常见问题处理方法】</a></p></div>');e.put("source/ewei-phone/template/phone-setting-menu-panel.html","<div class=\"setting-head-common-phone\"><section ng-if=\"vm.warntip\" class=\"warntip\">!</section><ul class=\"nav-list-phone clearfix\"><li ng-class=\"{'active':vm.choseMenu['line'],'disabled':!vm.disabled['line']}\" ng-click=\"vm.choseMenuFn('line');\">线路</li><li ng-class=\"{'active':vm.choseMenu['phone'],'disabled':!vm.disabled['phone']}\" ng-click=\"vm.choseMenuFn('phone');\">话机</li><li ng-class=\"{'active':vm.choseMenu['voice'],'disabled':!vm.disabled['voice']}\" ng-click=\"vm.choseMenuFn('voice');\">语音</li><li ng-class=\"{'active':vm.choseMenu['network'],'disabled':!vm.disabled['network']}\" ng-click=\"vm.choseMenuFn('network');\">网络</li><li ng-class=\"{'active':vm.choseMenu['senior'],'disabled':!vm.disabled['senior']}\" ng-click=\"vm.choseMenuFn('senior');\">高级</li></ul></div>");e.put("source/ewei-phone/template/phone-setting-network-panel.html",'<div class="setting-panel"><h5>本机绑定地址</h5><div class="form-group"><input ng-model="vm.net_senior_config[\'SipProfiles/0\'].BindAddress" class="form-control"></div><div class="checkbox"><div ng-click="vm.checkMaxConnect();" ng-if="vm.Max" class="checkbox-style iconfont">&#xe60d;</div><div ng-click="vm.checkMaxConnect();" ng-if="!vm.Max" class="checkbox-style"></div>使用连续端口</div><h5>最大连接数</h5><div class="form-group"><input ng-model="vm.net_senior_config[\'SipProfiles/0\'].MaxConnections" class="form-control" ng-disabled="!vm.Max"></div><div class="sip-line-set"><div class="titlediv"><h5 class="lefth5">TCP端口</h5><h5 class="lefth5">RTP端口</h5><div style="clear:both"></div></div><div class="form-group"><input ng-model="vm.net_senior_config[\'SipProfiles/0\'].SipPort" class="form-control input-style-1"> <input ng-model="vm.net_senior_config[\'SipProfiles/0\'].RtpPortStart" class="form-control input-style-2"><div style="clear:both"></div></div></div><button ng-click="vm.refreshNetWork();" class="btn connect-btn btn-confirm">保存</button></div>');e.put("source/ewei-phone/template/phone-setting-panel.html","<div><phone-setting-menu-panel></phone-setting-menu-panel><div ng-if=\"vm.setPanel['line']\"><phone-setting-line-panel></phone-setting-line-panel></div><div ng-if=\"vm.setPanel['phone']\"><phone-setting-phone-panel></phone-setting-phone-panel></div><div ng-if=\"vm.setPanel['voice']\"><phone-setting-voice-panel></phone-setting-voice-panel></div><div ng-if=\"vm.setPanel['network']\"><phone-setting-network-panel></phone-setting-network-panel></div><div ng-if=\"vm.setPanel['senior']\"><phone-setting-senior-panel></phone-setting-senior-panel></div></div>");e.put("source/ewei-phone/template/phone-setting-phone-panel.html",'<div class="setting-panel"><h5>来电应答</h5><div class="btn-group"><button class="btn btn-default btn-sm button-style" type="button" ng-click="vm.clicked = !vm.clicked;">{{vm.config.GeneralSettings.AutoAccept|transAnswer}}<span class="xl iconfont">&#xe62f;</span></button><ul class="ul-style" ng-show="vm.clicked"><li ng-click="vm.answerMethod(false);"><a href="javascript:void(0);">手动接听</a></li><li ng-click="vm.answerMethod(true);"><a href="javascript:void(0);">自动接听</a></li></ul></div><h5>来电铃声</h5><div class="btn-group"><button class="btn btn-default btn-sm button-style" type="button" ng-click="vm.clicked1 = !vm.clicked1;">{{vm.call_in_ring}}<span class="xl iconfont">&#xe62f;</span></button><ul class="ul-style" ng-show="vm.clicked1"><li ng-click="vm.ringMethod(\'Default\');"><a href="javascript:void(0);">Default</a></li><li ng-click="vm.ringMethod(item);" ng-repeat="item in vm.ringList track by $index"><a href="javascript:void(0);">{{item}}</a></li></ul></div><h5>呼叫转移号码</h5><div class="form-group"><input ng-model="vm.redirectTo" class="form-control"></div><p class="tip">设置一个电话号码，当话机状态切换为“转移”时，所有来电都将转移到该号码上。</p><button ng-click="vm.refreshPhoneSet();" class="btn connect-btn btn-confirm">保存</button></div>');e.put("source/ewei-phone/template/phone-setting-senior-panel.html",'<div class="setting-senior-panel"><div class="part"><div class="title">STUN设置</div><div class="checkbox"><div ng-click="vm.checkSTUN();" ng-if="vm.STUN" class="checkbox-style iconfont">&#xe60d;</div><div ng-click="vm.checkSTUN();" ng-if="!vm.STUN" class="checkbox-style"></div>允许STUN</div><div class="inner-part" ng-hide="!vm.STUN"><div class="label-title">STUN服务器</div><div class="form-group"><input ng-model="vm.net_senior_config[\'SipProfiles/0\'].StunServer" class="label-message form-control" ng-disabled="!vm.STUN"></div></div><div class="inner-part" ng-hide="!vm.STUN"><div class="label-title">STUN端口</div><div class="form-group"><input ng-model="vm.net_senior_config[\'SipProfiles/0\'].StunPort" class="label-message form-control" ng-disabled="!vm.STUN"></div></div><div class="inner-part" ng-hide="!vm.STUN"><div class="label-title">STUN keep alive</div><div class="form-group"><input ng-model="vm.net_senior_config[\'SipProfiles/0\'].StunKeepAliveInSecs" class="label-message form-control" ng-disabled="!vm.STUN"></div></div></div><div class="part"><div class="title">TURN设置</div><div class="checkbox"><div ng-click="vm.checkTURN();" ng-if="vm.TURN" class="checkbox-style iconfont">&#xe60d;</div><div ng-click="vm.checkTURN();" ng-if="!vm.TURN" class="checkbox-style"></div>允许TURN</div><div class="inner-part" ng-hide="!vm.TURN"><div class="label-title">TURN服务器</div><div class="form-group"><input ng-model="vm.net_senior_config[\'SipProfiles/0\'].TurnServer" class="label-message form-control" ng-disabled="!vm.TURN"></div></div><div class="inner-part" ng-hide="!vm.TURN"><div class="label-title">TURN端口</div><div class="form-group"><input ng-model="vm.net_senior_config[\'SipProfiles/0\'].TurnPort" class="label-message form-control" ng-disabled="!vm.TURN"></div></div><div class="inner-part" ng-hide="!vm.TURN"><div class="label-title">TURN用户名</div><div class="form-group"><input ng-model="vm.net_senior_config[\'SipProfiles/0\'].TurnUsername" class="label-message form-control" ng-disabled="!vm.TURN"></div></div><div class="inner-part" ng-hide="!vm.TURN"><div class="label-title">TURN密码</div><div class="form-group"><input ng-model="vm.net_senior_config[\'SipProfiles/0\'].TurnPassword" class="label-message form-control" ng-disabled="!vm.TURN"></div></div><div class="inner-part" ng-hide="!vm.TURN"><div class="label-title">TURN keep alive</div><div class="form-group"><input ng-model="vm.net_senior_config[\'SipProfiles/0\'].TurnKeepAliveInSecs" class="label-message form-control" ng-disabled="!vm.TURN"></div></div></div><div class="part"><div class="title">ICE设置</div><div class="checkbox"><div ng-click="vm.checkICE();" ng-if="vm.ICE" class="checkbox-style iconfont">&#xe60d;</div><div ng-click="vm.checkICE();" ng-if="!vm.ICE" class="checkbox-style"></div>允许使用ICE</div></div><button ng-click="vm.refreshSenior();" class="btn connect-btn btn-confirm">保存</button></div>');e.put("source/ewei-phone/template/phone-setting-voice-panel.html",'<div class="setting-panel"><h5>麦克风</h5><div class="btn-group"><button class="btn btn-default btn-sm button-style" type="button" ng-click="vm.clicked = !vm.clicked">{{vm.MicroItem}} <span class="xl iconfont">&#xe62f;</span></button><ul class="ul-style" ng-show="vm.clicked"><li ng-click="vm.checkMicro(item);" ng-repeat="item in vm.Microphone track by $index" ng-if="item!=\'None\'"><a href="javascript:void(0);">{{item}}</a></li></ul></div><div class="rang-panel"><span class="iconfont">&#xe66e;</span><div class="progress-div"><div class="dx dx-1" style="width:{{vm.temp.MicGain}}px"><div class="circle circle-1"></div></div><div class="bg"></div></div><div style="clear:both"></div></div><h5>扬声器</h5><div class="btn-group"><button class="btn btn-default btn-sm button-style" type="button" ng-click="vm.clicked1 = !vm.clicked1">{{vm.speakerItem}} <span class="xl iconfont">&#xe62f;</span></button><ul class="ul-style" ng-show="vm.clicked1"><li ng-click="vm.checkSpeaker(item);" ng-repeat="item in vm.speaker track by $index" ng-if="item!=\'None\'"><a href="javascript:void(0);">{{item}}</a></li></ul></div><div class="rang-panel"><span class="iconfont">&#xe672;</span><div class="progress-div"><div class="dx dx-2" style="width:{{vm.temp.SpeakerVolume}}px"><div class="circle circle-2"></div></div><div class="bg"></div></div><div style="clear:both"></div></div><button ng-click="vm.refreshVoice();" class="btn connect-btn btn-confirm">保存</button></div>');e.put("source/ewei-phone/template/record-ticket.html",'<div class="record-ticket" ng-hide="hideRecordTicketPanel"><div class="record-title">客户-记录工单 <a style="float:right" ng-click="goBack()">返回</a></div><ul class="record-list"><li>客户：<select class="customer" ng-model="userTickets.user" ng-class="selectDisabled ? \'reset-select\' : \'\'" ng-disabled="selectDisabled" ng-change="changeUser(userTickets.user)" ng-options="item.id as item.name for item in users"></select></li><li class="ellipsis" ng-show="newUser.type==\'customer\'">客户组：{{userTickets.group.name || \'-\'}}</li><li>工单：<span class="ellipsis" ng-click="goTicketDetail()">{{ticketDetail}}</span></li><div ng-hide="listHide"><li class="create"><span class="ellipsis">创建新工单或关联已有工单</span> <button ng-click="subjectModal=true">创建</button></li><div class="ticket-list"><li ng-repeat="ticket in userTickets.list"><span class="ellipsis" ui-sref="tickets_detail({id:ticket.id})">#{{ticket.no}} {{ticket.subject}}</span> <button ng-click="associated(ticket)">关联</button></li></div><li ng-if="isLoad"><a href="#" ng-click="getMore()">加载更多</a></li></div></ul><div class="cti-modal" ng-show="modal"><div class="cti-confirm"><p>将本次通话记录到工单#{{ticketNo}}里去吗？</p><button type="button" class="btn btn-cancel" ng-click="modal=false">取消</button> <button type="button" class="btn btn-primary btn-sm" ng-click="chainChatToTicket(ticketId)" ng-disabled="disabled">确认</button></div></div><div class="cti-modal subject-modal" ng-show="subjectModal"><div class="cti-confirm setting-panel"><p>工单主题</p><input type="text" ng-model="subject"><p>工单模板</p><div class="btn-group"><button class="btn btn-default btn-sm button-style customer" style="border-radius:5px" ng-style="{color:noTemplate? \'#999999\' : \'\'}" type="button" ng-click="clicked = !clicked">{{template.name}} <span class="xl iconfont">&#xe62f;</span></button><ul class="ul-style" ng-show="clicked"><li class="ellipsis" title="{{item.name}}" ng-click="selectTemplate(item,$index)" ng-repeat="item in templates track by $index"><a href="javascript:void(0);" ng-style="{color:$index==0? \'#999999\' : \'\'}">{{item.name}}</a></li></ul></div><button type="button" class="btn btn-cancel" ng-click="subjectModal=false">取消</button> <button type="button" class="btn btn-primary btn-sm" ng-click="chainChatToTicket()" ng-disabled="disabled||!subject">继续</button></div></div><div class="cti-modal" ng-show="tipModal"><div class="cti-confirm"><p>是否放弃记录工单？</p><button type="button" class="btn btn-cancel" ng-click="tipModal=false">取消</button> <button type="button" class="btn btn-primary btn-sm" ng-click="closeChat()">确认</button></div></div><phone-callin-tip ng-if="tipShow"></phone-callin-tip></div>');e.put("source/ewei-phone/template/save-ticket.html",'<div class="save-ticket-panel"><button class="btn back-class" ng-if="!vm.onTheCall" ng-click="vm.backToDial();" ng-disabled="disabled">返回</button> <button class="btn save-class" ng-click="vm.goRecordTicket()" ng-if="!vm.onTheCall">记录工单</button> <button class="btn save-middle-class" ng-click="vm.goRecordTicket()" ng-if="vm.onTheCall">记录工单</button></div>');e.put("source/ewei-phone/template/sip-keyboard.html",'<div class="keyboard"><div class="dial-fn-panel"><div class="number-panel" ng-if="showNumberPanel"><div ng-click="clickNum(\'1\');" style="border-right:1px solid #ddd">1</div><div ng-click="clickNum(\'2\');">2</div><div ng-click="clickNum(\'3\');" style="border-left:1px solid #ddd">3</div><div ng-click="clickNum(\'4\');" style="border-top:1px solid #ddd;border-right:1px solid #ddd">4</div><div ng-click="clickNum(\'5\');" style="border-top:1px solid #ddd">5</div><div ng-click="clickNum(\'6\');" style="border-top:1px solid #ddd;border-left:1px solid #ddd">6</div><div ng-click="clickNum(\'7\');" style="border-top:1px solid #ddd;border-right:1px solid #ddd">7</div><div ng-click="clickNum(\'8\');" style="border-top:1px solid #ddd">8</div><div ng-click="clickNum(\'9\');" style="border-top:1px solid #ddd;border-left:1px solid #ddd">9</div><div ng-click="clickNum(\'*\');" style="border-top:1px solid #ddd;border-right:1px solid #ddd">*</div><div ng-click="clickNum(\'0\');" style="border-top:1px solid #ddd">0</div><div ng-click="clickNum(\'#\');" style="border-top:1px solid #ddd;border-left:1px solid #ddd">#</div></div></div><span ng-if="canHangup" ng-click="toggleNumberPanel()"><i class="iconfont" ng-show="!showNumberPanel" title="键盘">&#xe66b;</i> <i class="iconfont" ng-show="showNumberPanel" title="键盘">&#xe66a;</i> </span><i class="hangup iconfont" ng-if="canHangup" ng-click="hangup()">&#xe66f;</i> <i class="iconfont" ng-show="calling && callType==\'normal\'" ng-click="goRecordTicket()" title="记录工单">&#xe674;</i></div>');e.put("source/ewei-phone/template/sip_call.html",'<div class="sip-call"><div class="is-mutil" ng-if="sipCallMutil">拨号 - 邀请第三方</div><p class="call-status" ng-bind="call.status" ng-style="{color:call.hangup ? \'red\' : \'\'}"></p><cti-user-info back-to-sip-call="backToSipCall"></cti-user-info><div class="operation" ng-hide="call.hangup"><div class="operation1" ng-show="call.calling && callType==\'normal\'"><span class="icon-wrapper" ng-class="{active: isKeepPhone}"><i class="iconfont" ng-show="!isKeepPhone" ng-click="keepPhone()">&#xe671;</i> <i class="iconfont active" ng-show="isKeepPhone" ng-click="keepPhone()">&#xe675;</i> <span class="tips">{{isKeepPhone?\'恢复通话\':\'暂停\'}}</span> </span><span class="icon-wrapper" ng-class="{active: isMutePhone}" ng-if="supportMute"><i class="iconfont" ng-show="!isMutePhone" ng-click="mutePhone()">&#xe66e;</i> <i class="iconfont" ng-show="isMutePhone" ng-click="mutePhone()">&#xe670;</i> <span class="tips">{{isMutePhone?\'解除静音\':\'静音\'}}</span> </span><span class="icon-wrapper"><i class="iconfont" ng-click="callMutil()">&#xe668;</i> <span class="tips">多方通话</span> </span><span class="icon-wrapper"><i class="iconfont" ng-click="callTransfer()">&#xe669;</i> <span class="tips">转接</span></span></div><div class="operation2"><sip-keyboard></sip-keyboard></div></div><div class="failure-box" ng-show="call.hangup&&!call.failure"><save-ticket></save-ticket></div><div class="failure-box" ng-show="call.failure" style="padding:0 40px"><i class="phone-cancel iconfont" ng-click="cancel()">&#xe600;</i> <i class="phone-callback iconfont" ng-click="callReturn()">&#xe667;</i></div><phone-callin-tip ng-if="tipShow"></phone-callin-tip><audio id="sipHangupSound" ng-show="false" src="/source/ewei-phone/sound/phoneCallDisconnected.wav"></audio></div>');e.put("source/ewei-phone/template/ticket-mutil-call.html",'<div class="telephone"><div class="mutil-title"><span class="txt">多方通话</span> <a href="#" class="add-call">+添加通话方</a> <span class="call-end">通话已结束</span></div><div class="mutil-list clearfix"><div class="item"><div class="img-wrap"><img class="img" src="/source/ewei-phone/images/portrait.png" alt=""></div><div class="info"><p class="ellipsis name">陈祥武</p><p class="ellipsis company-name">英孚凯尔</p></div></div><div class="item"><div class="img-wrap"><img class="img" src="/source/ewei-phone/images/portrait.png" alt=""></div><div class="info"><p class="ellipsis name">陈祥武</p><p class="ellipsis company-name">英孚凯尔</p></div></div><div class="item"><div class="img-wrap"><img class="img" src="/source/ewei-phone/images/portrait.png" alt=""></div><div class="info"><p class="ellipsis name">陈祥武</p><p class="ellipsis company-name">英孚凯尔</p></div></div><div class="item"><div class="img-wrap"><img class="img" src="/source/ewei-phone/images/portrait.png" alt=""></div><div class="info"><p class="ellipsis name">陈祥武</p><p class="ellipsis company-name">英孚凯尔</p></div></div><div class="item"><div class="img-wrap"><img class="img" src="/source/ewei-phone/images/portrait.png" alt=""></div><div class="info"><p class="ellipsis name">陈祥武</p><p class="ellipsis company-name">英孚凯尔</p></div></div></div></div>');e.put("source/ewei-phone/template/usb-call.html",'<div class="sip-call"><p class="call-status" ng-style="{color:vm.call.status==\'通话结束\' ? \'red\' : \'\'}">{{vm.call.status}}</p><cti-user-info></cti-user-info><div style="margin-top:60px" ng-show="vm.showSaveTicket"><save-ticket></save-ticket></div><div style="margin-top:60px" ng-if="vm.showSaveTicket===false"><p>正在创建会话...</p><p>创建成功后，可记录工单</p></div><phone-callin-tip ng-if="tipShow"></phone-callin-tip></div>');e.put("source/license-control/template/no-license.html",'<div class="license-control"><div class="free-license"><img class="oops-img" src="source/lib/images/ic_session_mainPlaceholder.png" width="214" height="164"><div class="title">易维在线会话</div><div class="content">您当前的版本暂不支持在线会话，申请开通请咨询 <a ng-click="openService()">在线客服</a> 或致电 <a>400-812-3602</a></div></div></div>');e.put("source/noviceguide/templates/access-control.html",'<div class="access-control-box"><div class="radio"><label class="control-label"><input type="radio" name="accessControl" ng-model="accessConfig.requiredLogin" value="false"> 开放模式</label><p class="control-info">访客可见帮助中心内容，可以提交工单</p><p class="control-info">开放客户账号注册，客户提交工单后自动注册</p></div><div class="radio"><label class="control-label"><input type="radio" name="accessControl" ng-model="accessConfig.requiredLogin" value="true"> 封闭模式</label><p class="control-info">仅登录用户可见帮助中心内容和提交工单</p><p class="control-info">不开放注册，客户账号必须由管理员或客服添加</p></div><input type="button" class="btn btn-primary" value="更新" ng-click="updateAccessControl(accessConfig.requiredLogin)"></div>');e.put("source/noviceguide/templates/add_customer_success.html",'<div style="text-align:center"><h5 class="size16" style="margin-top:33px">添加成功，您还可以继续操作</h5><div class="margin_top40px" style="margin-bottom:80px"><button class="btn btn-primary" style="background:#fff;outline:0;border:1px solid #3ba2df;color:#3ba2df" ng-click="toAddCustomer()">继续添加</button> <button has-permission="customer_export_import" class="btn btn-primary margin_left40px" style="outline:0;color:#FFF" ng-click="toBatchAddCustomer()">批量添加</button></div></div>');e.put("source/noviceguide/templates/add_engineer_success.html",'<div style="text-align:center"><h5 class="size16" style="margin-top:33px">注册邮件已发出，您还可以继续操作</h5><div class="margin_top40px" style="margin-bottom:80px"><button class="btn btn-primary" style="background:#fff;outline:0;border:1px solid #3ba2df;color:#3ba2df" ng-click="toInviteEngineer()">继续添加</button> <button class="btn btn-primary margin_left40px" style="outline:0;color:#FFF" ng-click="toBatchAddEngineer()">批量添加</button></div></div>');e.put("source/noviceguide/templates/engineer_excel_url.choice.html",'<div style="width:100%"><div ng-show="!importComplete"><div style="text-align:center"><div style="width:170px;height:80px;line-height:80px;color:#3ba2df;background:#EEE;border:1px solid #E5E5E5;cursor:pointer;border-radius:10px;margin:15px auto 28px" class="size18 font_b margin_top30px margin_bottom_40px" ng-file-select ng-model="excelFile" ng-file-change="$read(excelFile)">+选择文件</div><div class="margin_bottom5px"><input type="checkbox" value="true" name="repeatedUpdate" id="repeatedUpdate"><label ng-show="!importComplete" title="如果email或手机号码查询到一个客服，则更新这个客服信息" for="repeatedUpdate">覆盖更新</label></div><button style="margin-bottom:8px" type="button" class="btn btn-primary" ng-disabled="importting" ng-show="!importComplete" ng-click="$save(excelFile)">确定导入</button> <span ng-if="fileIsNUll"><strong>{{fileName}}</strong></span></div><br></div><div ng-show="importComplete"><ul><li style="list-style:none"><div style="float:left">导入成功<span></span>{{successCount}}个 <span ng-show="failureCount>0">,失败 <span>{{failureCount}}</span>个 <a class="c74" ng-click="downLoadfailureRecored()" href="javascript:void(0)">点击下载导入失败的列表</a>，修改并删除失败原因列后重新导入</span></div><br></li></ul></div><table border="1" id="tables" width="90%" align="center" ng-if="fileIsNUll&&!importComplete"><tr height="30"><th>Excel文件标题</th><th>对应系统中的字段</th></tr><tr ng-repeat="option in titleOptions" align="center"><td width="30%">{{option.title}}</td><td width="40%"><select class="form-control w230 ng-pristine ng-valid ng-touched" style="height:100%;width:100%" name="selectEngineerPropertyOptions" ng-model="option.selectProperty" ng-options="item.value as item.option for item in options"></select></td></tr></table><div class="modal-footer"><span class="margin_right20px"><a style="color:#1e8cce" ng-click="$template(2);" target="_blank">下载Excel模板</a></span> <span>如有疑问，请参考</span> <span class="margin_right20px" ng-if="view.type!=\'userGroup\'"><a href="javascript:void(0);" ng-click="$explain()" style="color:#1E8CCE">《详细说明》</a></span></div></div><style type="text/css">#tables th{text-align:center}</style>');e.put("source/noviceguide/templates/guide_accidence.html",'<div class="accidence"><h3 class="accidenceTitle">新手向导之基础篇</h3><p class="titleDis">{{titleDisText}}</p><div class="addBox clearFloat"><input ng-if="isCreateEngineer" type="button" class="customerService" ng-click="toInviteEngineer()" value="+添加客服"> <input ng-if="isCreateCustomer" ng-class="{false: \'floatAddCustomer\'}[!isCreateEngineer]" has-permission="customer_create" type="button" class="client" ng-click="toAddCustomer()" value="+添加客户"></div></div><div class="accidenceFooter"><p><span>为了让大家了解你，你可能需要</span> <a href="javascript:void(0)" style="color:#3ba2df" ui-sref="system_setting.detail({uri:\'my_account\',settingType:\'system\'})">完善个人资料。</a></p></div>');e.put("source/noviceguide/templates/guide_advanced.html",'<div class="advanced"><ul class="list-unstyled"><li ng-repeat="advancedMenu in advancedMenus"><p class="menusListTitle"><strong>{{advancedMenu.title}}</strong></p><div class="row" style="margin:0 0 60px"><div class="commonAreas" bindonce ng-repeat="menuContent in advancedMenu.menusList | orderBy: \'index\'" has-permission="{{menuContent.permission}}"><div style="text-align:center"><button ng-if="menuContent.type !== \'faq\'" class="btn btn-primary" bo-bind="menuContent.title" ng-click="goDetail(menuContent.type,menuContent.uri,menuContent.item,menuContent.title)"></button> <a ng-if="menuContent.type === \'faq\'" target="_blank" href="/new/#/article/new" class="btn btn-primary" bo-bind="menuContent.title"></a></div><p bo-bind="menuContent.description"></p></div></div></li></ul></div>');e.put("source/noviceguide/templates/guide_basis.html","");e.put("source/noviceguide/templates/guide_experience.html",'<section class="experienceContent"><div class="experienceText"><h5 class="size18 font_b">欢迎来到新手向导</h5><p class="size14 margin_bottom50px margin_top20px">您有一张工单需要处理，请跟随系统提示，体验工单流程。</p><div class="experienceBtnGroup"><div class="experienceTicket" ng-click="toCreateTestTicket()">体验第一张工单</div><div class="experienceRemote" ng-click="toCreateTestHelpDesk()">尝试远程协助</div><div class="performance-loading" ticket-loading="/pincode.json"><img src="/source/images/ajax-loader.gif"></div></div></div><div class="experienceVideo"><h5 class="size18 font_b">视频教程</h5><ul class="list-unstyled" style="margin-bottom:50px"><li ng-repeat="video in videoSrc"><div class="experienceVideoGroup" ng-click="videoPlay(video.type,video.name)"><img src="/source/noviceguide/image/video.png"><div class="playVideo"><img src="/source/noviceguide/image/play.png"></div><span class="videoText">{{video.name}}</span></div></li></ul></div></section>');e.put("source/noviceguide/templates/guide_experience_video.html",'<div class="center-block text-center"><video controls="controls" autoplay ewei-src="{{experienceVideo}}" width="800" height="600"><p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p></video></div>');e.put("source/noviceguide/templates/invite_engineer.html",'<div class="size14" xmlns="http://www.w3.org/1999/html"><div style="line-height:20px" class="padding_top10px"><p style="text-align:center">填写客服人员的Email，发送注册邮件。<br>客服人员点击邮件中的链接，设置登录密码完成注册，邮箱即账号</p></div><div style="width:360px;margin:0 auto;margin-top:20px"><h3 class="size14 font_b">Email</h3><textarea style="width:360px;height:90px;border:1px solid #D2D2D2;border-radius:5px;resize:none;text-indent:10px" class="form-control" ng-model="inviteEmails" placeholder="输入小伙伴的邮箱，以 ；号隔开，可添加多人！" ng-change="isClick=false"></textarea></div><div style="border-top:1px solid #F2F2F2;padding:20px 0 15px;margin-top:35px;text-align:center"><button style="background:#3ba2df" class="btn btn-primary" ng-click="inviteEngineer(inviteEmails);" ng-disabled="isClick">发送注册邮件</button> <a style="color:#3ba2df" class="font_b margin_left20px" href="javascript:void(0)" has-permission="engineer_import" ng-click="toBatchAddEngineer()">+批量添加客服</a></div></div>');e.put("source/noviceguide/templates/novice_guide.html",'<div id="main_panes"><section class="main_panes layoutB"><div class="pane left"><div class="title dash-header"><div class="clearfix flex-none"><ul class="nav nav-pills dash-nav"><li class="active"><a ui-sref="noviceguide.experience" class="nowrap" href="javascript:void(0)">新手向导</a></li></ul></div></div><div class="list"><ul class="list-unstyled"><li class="guideItemList" ng-click="guideBuried(guideItem.title)" ng-repeat="guideItem in guideItems" ui-sref="{{guideItem.sref}}" ui-sref-active="guideItemListActive"><div class="guideItemIcon pull-left"><img ng-if="!$state.is(guideItem.sref)" ng-src="{{guideItem.imageUrl}}"> <img ng-if="$state.is(guideItem.sref)" ng-src="{{guideItem.imageUrlActive}}"></div><div class="guideItemTitle"><p>{{guideItem.title}}</p><p>{{guideItem.text}}</p></div></li></ul></div></div><div class="pane right" style="overflow-y:auto"><div class="title"><div class="pull-right" style="margin:0 0;line-height:50px"><span>帮助中心网址：</span> <a class="setting-head-common custom-main-font-color" href="{{providerDomain}}" target="_blank">{{providerDomain}}</a> <a class="setting-head-common" ng-click="showShareDiv()"><i class="iconfont" style="font-size:16px">&#xe664;</i>通知客户</a> <a class="setting-head-common" has-permission="system_setting_domain" ui-sref="system_setting.detail({uri:\'domain_setting\'})"><i class="iconfont" style="font-size:15px">&#xe65b;</i> 更换域名</a></div></div><div><ui-view></ui-view></div></div></section></div>');e.put("source/noviceguide/templates/personal_information.html",'<script type="text/javascript">$(function(){\r\n    var inputs = $("#updateUserForm").find("#userName,#nickname,#signature,#mobilePhone,#phone");\r\n    inputs.keypress(function(e){\r\n      if (e.which == 13){\r\n        var idx = inputs.index(this);\r\n        inputs[idx + 1].focus();\r\n        inputs[idx + 1].select();\r\n        e.preventDefault();\r\n      }\r\n    });\r\n  });<\/script><div style="width:400px;margin:auto"><div style="margin-left:20px"><p class="size13"><strong>头像</strong></p><div class="photofield"><image-show imageurl="{{engineer.user.photo.contentUrl}}" defaultimageurl="source/images/face/header_60.png" imagestyle="head.60.60" imageclass="w60 h60"></image-show></div><div style="float:left;margin-left:20px;margin-top:-36px"><label for="inputfile"></label><div class="_box1 tihian" style="margin-top:20px">图片 <input style="padding-top:1px" ng-file-select ng-model="files" ng-file-change="uploadFile(files)" accept="image/*"></div></div><div style="float:left;margin-left:30px;margin-top:45px">图片尺寸48X48，文件小于100KBytes</div></div><p style="margin-top:40px">&nbsp;</p><div class="size14 margin_left20px"><form name="updateUserForm" id="updateUserForm"><p style="margin-top:20px"><strong>姓名</strong></p><input class="form-control" id="userName" style="width:360px" ng-model="engineer.user.name" required="required"><p style="margin-top:20px"><strong>昵称</strong><span style="color:#ccc">（客户可见）</span></p><input class="form-control" id="nickname" style="width:360px" maxlength="16" ng-model="engineer.nickname"><p style="margin-top:10px"><strong>个性签名</strong><span style="color:#ccc">（客户可见）</span></p><div><textarea class="form-control" id="signature" style="width:360px;height:55px;resize:none" placeholder="面向客户，不要超过64个字符" maxlength="64" ng-model="engineer.user.signature"> </textarea></div><p style="margin-top:10px"><strong>手机</strong></p><input class="form-control" id="mobilePhone" style="width:360px" maxlength="20" ng-model="engineer.user.mobilePhone"><p style="margin-top:10px"><strong>电话</strong></p><input class="form-control" id="phone" style="width:360px" maxlength="20" ng-model="engineer.user.phone"><p>&nbsp;</p><p>&nbsp;</p></form></div></div><div style="text-align:center"><p class="line_solid_02" style="margin-bottom:18px"></p><button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px size14" ng-disabled="!updateUserForm.$valid" ng-click="update()" style="margin-bottom:10px">更新</button></div>');e.put("source/noviceguide/templates/pincode_modal.html",'<div class="access-control-box"><p>复制链接，在另外一台电脑上打开，将会建立远程协助会话</p><p>{{pincodeUrl}}</p><p><input type="button" class="btn btn-primary" value="确定" ng-click="$hide()"></p></div>');e.put("source/noviceguide/templates/user_add.html",'<script type="text/javascript">$(function(){\n    setTimeout(function() {\n      var inputs = $("#addUserForm").find("#name,#email,#userGroup");\n      inputs.keypress(function(e){\n        if (e.which == 13){\n          var idx = inputs.index(this);\n          inputs[idx + 1].focus();\n          inputs[idx + 1].select();\n          e.preventDefault();\n        }\n      });\n    }, 200);\n  })<\/script><div class="modal-inner-content" style="max-height:700px;overflow-y:auto;overflow-x:hidden;padding-right:10px"><form name="addUserForm" id="addUserForm" class="css-form" novalidate><div class="form-group"><label>名字*</label><input placeholder="必填,允许重名" type="text" name="name" id="name" ng-model="newUser.name" required maxlength="255" class="form-control"></div><div class="form-group"><label>Email</label><input placeholder="选填,全局唯一" type="email" name="email" id="email" ng-model="newUser.email" maxlength="255" class="form-control" ng-pattern="/^([a-zA-Z0-9-&._]+)@[a-zA-Z0-9-]([._]?[a-zA-Z0-9-])*(\\.\\w{2,6})+$/i"></div><div bindonce ng-repeat="userCustomField in userCustomFields " class="form-group"><label ng-if="userCustomField.customField.type==\'text\' && userCustomField.customField.moreField">{{userCustomField.customField.title}}</label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'text\' && userCustomField.customField.moreField"><input type="text" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value);" ng-model="userCustomField.value" class="form-control" ng-if="userCustomField.customField.type==\'text\'" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);"></div><label ng-if="userCustomField.customField.type==\'phone\' && userCustomField.customField.moreField">{{userCustomField.customField.title}}</label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'phone\' && userCustomField.customField.moreField"><input type="text" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value);" ng-model="userCustomField.value" class="form-control" ng-if="userCustomField.customField.type==\'phone\'" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);"></div><label ng-if="userCustomField.customField.type==\'textarea\' && userCustomField.customField.moreField">{{userCustomField.customField.title}}</label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'textarea\' && userCustomField.customField.moreField"><textarea ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" type="textarea" class="form-control" rows="4" ng-model="userCustomField.value" ng-if="userCustomField.customField.type==\'textarea\'" maxlength="1000" textarea-auto-height="140" style="overflow:hidden" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);"></textarea></div><label ng-if="userCustomField.customField.type==\'email\' && userCustomField.customField.moreField">{{userCustomField.customField.title}}</label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'email\' && userCustomField.customField.moreField"><input type="text" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" ng-model="userCustomField.value" class="form-control" placeholder="{{userCustomField.customField.notes}}" maxlength="255" ng-blur="updateValue($index);"></div><label ng-if="userCustomField.customField.type==\'regexp\' && userCustomField.customField.moreField">{{userCustomField.customField.title}}</label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'regexp\' && userCustomField.customField.moreField"><input ng-model="userCustomField.value" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" class="form-control" placeholder="{{userCustomField.customField.notes}}" maxlength="255" ng-blur="updateValue($index);"></div><label ng-if="userCustomField.customField.type==\'number\' && userCustomField.customField.moreField">{{userCustomField.customField.title}}</label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'number\' && userCustomField.customField.moreField"><input type="text" ng-model="userCustomField.value" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" class="form-control" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);"></div><label ng-if="userCustomField.customField.type==\'decimal\' && userCustomField.customField.moreField">{{userCustomField.customField.title}}</label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'decimal\' && userCustomField.customField.moreField"><input type="text" ng-model="userCustomField.value" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" class="form-control" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);"></div><label ng-if="userCustomField.customField.type==\'date\' && userCustomField.customField.moreField">{{userCustomField.customField.title}}</label><div class="input-group input-size-middle date-input" ng-if="userCustomField.customField.type==\'date\' && userCustomField.customField.moreField"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,userCustomField.customField)" ng-change="change($index);filedValueChange($index,userCustomField.customField.url,userCustomField.value);" close-text="Close" max-date="chartSelectedDate.end" is-open="userCustomField.customField.startForm" ng-model="userCustomField.value" uib-datepicker-popup="yyyy/MM/dd" name="startFrom"> <span class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,userCustomField.customField)" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><div class="form-group clearfix" ng-if="userCustomField.customField.type==\'checkbox\' && userCustomField.customField.moreField"><input type="checkbox" ng-change="change($index);filedValueChange($index,userCustomField.customField.url,userCustomField.value);" ng-model="userCustomField.value" ng-true-value="true" ng-false-value="false"><label ng-if="userCustomField.customField.type==\'checkbox\'">{{userCustomField.customField.title}}</label></div><label ng-if="userCustomField.customField.type==\'options\' && userCustomField.customField.moreField">{{userCustomField.customField.title}}</label><radio-options ng-if="userCustomField.customField.type==\'options\' && userCustomField.customField.moreField" ticket-id="userId" ticket-field="userCustomField" category="userCustomField"></radio-options><label ng-if="userCustomField.customField.type==\'cascade_options\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span ng-if="userCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userCustomField.customField.notes}})</span></label><cascade-options ng-if="userCustomField.customField.type==\'cascade_options\' && userCustomField.customField.moreField" ticket-id="ticket.id" ticket-field="userCustomField"></cascade-options><label ng-if="userCustomField.customField.type==\'multi_options\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span ng-if="userCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userCustomField.customField.notes}})</span></label><multi-options ng-if="userCustomField.customField.type==\'multi_options\' && userCustomField.customField.moreField" ticket-id="ticket.id" ticket-field="userCustomField"></multi-options><label ng-if="userCustomField.customField.type==\'date_to_date\' && userCustomField.customField.moreField">{{userCustomField.customField.title}}</label><div class="row" ng-if="userCustomField.customField.type==\'date_to_date\' && userCustomField.customField.moreField"><div class="col-md-5"><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,userCustomField.customField,\'startTimeForm\')" ng-change="change($index);filedValueChange($index,userCustomField.customField.url,userCustomField.value);" is-open="userCustomField.customField.startTimeForm" ng-model="userCustomField.customField.startTime" uib-datepicker-popup="yyyy/MM/dd" max-date="userCustomField.customField.endTime" current-text="今天" clear-text="清除" close-text="关闭"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,userCustomField.customField,\'startTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div class="col-md-2"><p style="text-align:center;padding-top:10px">至</p></div><div class="col-md-5"><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,userCustomField.customField,\'endTimeForm\')" ng-change="change($index);filedValueChange($index,userCustomField.customField.url,userCustomField.value);" is-open="userCustomField.customField.endTimeForm" ng-model="userCustomField.customField.endTime" uib-datepicker-popup="yyyy/MM/dd" min-date="userCustomField.customField.startTime" current-text="今天" clear-text="清除" close-text="关闭"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,userCustomField.customField,\'endTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div></div><div ng-if="moreField"><div class="form-group"><label>手机号码</label><input placeholder="选填,全局唯一" type="mobilePhone" name="mobilePhone" id="mobilePhone" ng-model="newUser.mobilePhone" maxlength="11" class="form-control" ng-pattern="/^1[34578][0-9]{9}$/"></div></div></form><div ng-if="moreField"><div class="form-group"><label>登录密码</label><input placeholder="凭Email/手机号码+密码登录" type="password" onkeyup="this.value=this.value.replace(/[, ]/g,\'\')" name="password" id="password" ng-model="newUser.password" maxlength="16" class="form-control"></div><div class="form-group"><lable>备注</lable><textarea id="textarea" class="form-control ng-pristine ng-valid ng-valid-maxlength ng-touched" style="resize:none;height:71px" ng-model="newUser.notes" textarea-auto-height="120" maxlength="512"></textarea></div></div><a ng-click="showMoreField()" href="javascript:void(0);" ng-if="!moreField" style="color:#36C4ED;font-size:14px">更多字段</a></div><div class="modal-footer size14" style="text-align:center"><button style="width:85px;height:34px;background:#3ba2df" type="button" id="saveButton" class="btn btn-primary" ng-click="$save()" ng-disabled="!addUserForm.$valid">保存</button> <a style="color:#3ba2df" class="font_b margin_left20px" href="javascript:void(0)" has-permission="customer_import" ng-click="toBatchAddCustomer()">+批量添加客户</a></div>');e.put("source/noviceguide/templates/user_excel_url.choice.html",'<div style="width:100%"><div ng-show="!importUserComplete"><div style="text-align:center"><div style="width:170px;height:80px;line-height:80px;color:#3ba2df;background:#EEE;border:1px solid #E5E5E5;cursor:pointer;border-radius:10px;margin:15px auto 28px" class="size18 font_b margin_top30px margin_bottom_40px" ng-file-select ng-model="excelFile" ng-file-change="$read(excelFile)">+选择文件</div><div class="margin_bottom5px"><input type="checkbox" value="true" name="repeatedCustomerUpdate" id="repeatedCustomerUpdate"><label ng-show="!importUserComplete" title="如果email或手机或External Id查询到一个客户，则更新这个客户信息" for="repeatedUpdate">覆盖更新</label></div><button style="margin-bottom:8px" type="button" class="btn btn-primary" ng-disabled="importting" ng-show="!importUserComplete" ng-click="$save(excelFile)">确定导入</button> <span ng-if="fileIsNUll"><strong>{{fileName}}</strong></span></div><br></div><div ng-show="importUserComplete"><ul><li style="list-style:none"><div style="float:left">导入成功<span></span>{{successCount}}个 <span ng-show="failureCount>0">,失败 <span>{{failureCount}}</span>个 <a class="c74" ng-click="downLoadfailureCustomerRecored()" href="javascript:void(0)">点击下载导入失败的列表</a>，修改并删除失败原因列后重新导入</span></div><br></li></ul></div><table border="1" id="tables" width="90%" align="center" ng-if="fileIsNUll&&!importUserComplete"><tr height="30"><th>Excel文件标题</th><th>对应系统中的字段</th></tr><tr ng-repeat="option in titleOptions" align="center"><td width="30%">{{option.title}}</td><td width="40%"><select class="form-control w230 ng-pristine ng-valid ng-touched" style="height:100%;width:100%" name="selectCustomerPropertyOptions" ng-model="option.selectProperty" ng-options="item.value as item.option for item in options"></select></td></tr></table><div class="modal-footer"><span class="margin_right20px"><a style="color:#1e8cce" ng-click="$template(2);" target="_blank">下载Excel模板</a></span> <span>如有疑问，请参考</span> <span class="margin_right20px" ng-if="view.type!=\'userGroup\'"><a href="javascript:void(0);" ng-click="$explain()" style="color:#1E8CCE">《详细说明》</a></span></div></div><style type="text/css">#tables th{text-align:center}</style>');e.put("source/polymerize-search/template/polymerize-search-senior-result.html",'<div id="main_panes"><section class="main_panes layoutA"><div class="polymerize_search_wrap"><div class="polymerize-search-senior"><div class="pss-title"><a class="title-one" href="javascript:void(0)" ng-click="ps.goNormalSearch()">聚合搜索</a> 》 <a href="#/polymerize_search_senior" class="title-two">高级搜索</a> 》 <span>搜索结果</span></div><div class="pssr-body"><div class="condition clearfix"><span class="title">搜索条件</span><ul class="condition-list clearfix"><li class="condition-item"><span>搜索范围：{{ps.searchType | searchTypeFilter}}</span> <a href="javascript:void(0)" ng-click="ps.clearAllSearchCondition()">x</a></li><li class="condition-item" ng-repeat="item in ps.seniorConditions" ng-switch="item.type"><span ng-switch-when="checkbox">{{item.name}}：{{item.value | trueFalseFilter}} </span><span ng-switch-default>{{item.name}}：{{item.value | ticketStatusToTextFilter}} </span><a href="javascript:void(0)" ng-click="ps.clearSearchCondition(item)">x</a></li><li class="clear-condition"><span style="padding-right:20px" ng-if="ps.searchType===\'ticket\'">共搜索到 {{ps.searchTicketCount}} 条记录</span> <a href="javascript:void(0);" class="link" ng-if="ps.isNoneCondition" ng-click="ps.clearAllSearchCondition()">清空条件</a></li></ul></div><div class="result s-result"><table class="s-result-table table table-hover" style="border-bottom:1px solid #e4e4e4" ng-if="ps.showTable"><thead><tr><th style="padding:10px 5px" class="item text-left {{item.widthClass}}" ng-repeat="item in ps.visibleCustomField track by $index">{{item.title}}</th></tr></thead><tbody><tr ng-repeat="item in ps.searchResult track by $index"><td colspan="{{ps.visibleCustomField.length}}" style="padding:8px 0"><table style="width:100%"><tr><td bindonce ng-repeat="column in ps.visibleCustomField track by $index" class="item {{column.widthClass}}" style="border:0;padding:1px 5px;word-break:break-all" rowspan="{{$index == 0 ? 2 : 1}}" bo-switch="column.fieldCount"><span bo-switch-when="articleQuestion" bo-switch="column.field"><span bo-switch-when="createdAt" ng-bind="item.createdAt | nullStringFilter"></span> <span bo-switch-when="updatedAt" ng-bind="item.updatedAt | nullStringFilter"></span> <span bo-switch-when="updater.nickname" ng-bind="item.author.nickname | nullStringFilter"></span> <span bo-switch-when="title"><question-article-link article="item"></question-article-link></span><span bo-switch-when="answerCount"><span ng-if="item.topic.type ==\'questions\' || item.topic.type ==\'deletes\'"><span ng-if="item.answerCount > 0">有新的回答</span> <span ng-if="item.answerCount == 0">尚未有回答 </span></span><span ng-if="item.topic.type !=\'questions\' && item.topic.type !=\'deletes\'"><span ng-if="item.commentCount > 0">有新的评论</span> <span ng-if="item.commentCount == 0">尚未有评论 </span></span></span></span><span bo-switch-when="2" bo-switch="column.field"><span bo-switch-when="serviceCatalog.id"><service-catalog-name-show servicecatalogid="{{item.serviceCatalog.id}}" servicecatalogs="ps.servicecatalogs"></service-catalog-name-show></span><span bo-switch-when="user.tags"><ewei-tags-show relatedtags="ps.relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span bo-switch-when="role.name" bo-bind="item.role.name | translate"></span> <span bo-switch-when="serviceDesk.name" bo-bind="item.serviceDesk.name | translate"></span> <span bo-switch-when="defaultServiceDesk.name" bo-bind="item.defaultServiceDesk.name | translate"></span> <span bo-switch-when="evaluate.score">{{item.evaluate.score}}</span> <span bo-switch-when="evaluate.solved"><ticket-evaluate-solved-show value="{{item.evaluate.solved}}" solveds="evaluate.solveds"></ticket-evaluate-solved-show></span><span bo-switch-default bo-bind="item[column.field0][column.field1] | nullStringFilter"></span> <span bo-switch-when="ticketMetric.pausedAt" bo-bind="item.ticketMetric.pausedAt | dateFilter_style1"></span> <span bo-switch-when="ticketMetric.solvedAt" bo-bind=\'item.ticketMetric.solvedAt | dateFilter_style1:"solvedAt":item.status\'></span> <span bo-switch-when="ticketMetric.responseAt" bo-bind="item.ticketMetric.responseAt | dateFilter_style1"></span> <span bo-switch-when="ticketMetric.responseMinutes" bo-bind=\'item.ticketMetric.responseMinutes | minute_format_filter:"responseMinutes":item.status\'></span> <span bo-switch-when="ticketMetric.solveMinutes" bo-bind=\'item.ticketMetric.solveMinutes | minute_format_filter:"solveMinutes":item.status\'></span></span> <span bo-switch-when="3" bo-switch="column.field"><span bo-switch-when="user.role.name" bo-bind="item.user.role.name | translate"></span> <span bo-switch-default bo-bind="item[column.field0][column.field1][column.field2] | nullStringFilter"></span></span> <span bo-switch-default bo-switch="column.field"><span style="display:block;position:relative" bo-switch-when="subject"><span style="display:block;position:absolute"><ewei-ticket-status-img ticketstatuscolors="ps.ticketStatusColors" ticketid="{{item.id}}" status="item.status" format="short" deleted="item.deleted"></ewei-ticket-status-img></span><span style="display:block;padding-right:1px;margin-left:24px;word-break:break-all"><a ng-click="ticketDetailBuried()" class="c75 custom-main-font-color" ui-sref="tickets_detail({id:item.id, from:\'polymerize-search-senior-result\'})" bo-bind="item[column.field] | nullStringFilter"></a></span> </span><span bo-switch-when="subscription"><i class="fa fa-star-o" style="position:relative;top:3px;font-size:1.3em;cursor:pointer" ng-class="{\'fa-star-o\':!item.isTarget,\'fa-star\':item.isTarget,\'color_yellow\':item.isTarget}" ng-click="star_target(item)"><ewei-start-show ticketsubscriptions="ps.ticketsubscriptions" item="item"></ewei-start-show></i></span><span bo-switch-when="createdAt" bo-bind="item.createdAt | dateFilter_style1"></span> <span bo-switch-when="updatedAt" bo-bind="item.updatedAt  | dateFilter_human"></span> <span bo-switch-when="deletedAt" bo-bind="item.deletedAt | dateFilter_style1"></span> <span bo-switch-when="lastLoginAt" bo-bind="item.lastLoginAt | dateFilter_style1"></span> <span bo-switch-when="shared" bo-bind="item.shared | booleanFilter"></span> <span bo-switch-when="status" bo-bind="item.status| ticketStatusFilter"></span> <span bo-switch-when="tags"><ewei-tags-show relatedtags="ps.relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span bo-switch-when="copyTo"><ewei-cc-show relatedcopytos="ps.relatedCopyTos" relatedid="{{item.id}}"></ewei-cc-show></span><span bo-switch-when="deleteReason"><span bo-if="item.deleteType==\'merger\'" translate="MERGER_TICKET_TO"></span><span bo-bind="item.deleteReason | nullStringFilter"></span></span> <span bo-switch-when="name"><a class="c75 custom-main-font-color" bo-if="ps.searchType==\'user\'" ui-sref="customers_detail({id:item.id})" bo-bind="item[column.field] | nullStringFilter"></a><a class="c75 custom-main-font-color" bo-if="ps.searchType ==\'userGroup\'" ui-sref="user_groups_detail({id:item.id})" bo-bind="item[column.field] | nullStringFilter"></a></span> <span bo-switch-when="priority"><ticket-priority-show priority="{{item.priority}}"></ticket-priority-show></span><span bo-switch-default bo-bind="item[column.field] | nullStringFilter"></span></span> <span bo-switch-when="customFields" bo-switch="column.field"><ewei-custom-fields-show customfields="ps.customFieldList" ticketid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-show></span><span bo-switch-when="customFieldsUser" bo-switch="column.field"><ewei-custom-fields-user customfields="ps.customFieldList" userid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-user></span><span bo-switch-when="customFieldsUserGroup" bo-switch="column.field"><ewei-custom-fields-user customfields="ps.customFieldList" userid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-user></span></td></tr><tr><td style="color:#999" colspan="{{ps.visibleCustomField.length}}"><span class="exact-result" ng-class="{\'paddingLeft\':$index == 0,\'border-right\': $index != item.exactResult.length - 1 }" ng-repeat="er in item.exactResult track by $index" ng-switch="er.type"><span ng-switch-when="systemFields">{{er.name}}:{{er.value | ticketStatusToTextFilter}}</span> <span ng-switch-when="customFields">{{er.name}}:<ewei-custom-fields-show customfields="ps.customFieldList" ticketid="{{er.id}}" customfieldid="{{er.field}}"></ewei-custom-fields-show></span><span ng-switch-when="customFieldsUser">{{er.name}}:<ewei-custom-fields-user customfields="ps.customFieldList" userid="{{er.id}}" customfieldid="{{er.field}}"></ewei-custom-fields-user></span><span ng-switch-when="customFieldsUserGroup">{{er.name}}:<ewei-custom-fields-user customfields="ps.customFieldList" userid="{{er.id}}" customfieldid="{{er.field}}"></ewei-custom-fields-user></span></span></td></tr></table></td></tr></tbody></table><div ng-if="ps.searchResultIsNone" class="none-result">抱歉，没有找到结果！</div><a href="javascript:void(0);" ng-if="ps.searchResultHasMore" class="search-more" ng-click="ps.searchMore();">查看更多》</a> <a href="javascript:void(0);" ng-if="ps.isAbleSet" title="设置可选项" ng-click="ps.showCustomField()"><i class="iconfont set">&#xe62e;</i> </a><a href="javascript:void(0);" ng-if="ps.isAbleSet" title="导出" ng-click="ps.export()"><i class="iconfont export">&#xe635;</i></a><div class="set-wrp" ng-if="ps.isShowCustomField"><p class="title">选择展示的列</p><ul class="list clearfix"><li class="item" ng-repeat="customField in ps.customFields track by $index" ng-class="{\'selected\':customField.selected, \'even\':$index%2==1}" ng-click="ps.selectCustomField(customField);" title="{{customField.title}}">{{customField.title}}</li></ul><a href="javascript:void(0);" ng-click="ps.saveVisibleCustomField()" class="button">更新</a></div></div></div></div><div class="ticket-loading" ng-if="ps.showLoading" style="height:100%;width:100%;position:fixed;top:0"><img src="/source/images/ajax-loader.gif"></div></div></section></div>');e.put("source/polymerize-search/template/polymerize-search-senior.html",'<div id="main_panes"><section class="main_panes layoutA"><div class="polymerize_search_wrap"><div class="polymerize-search-senior"><div class="pss-title"><a class="title-one" href="javascript:void(0)" ng-click="ps.goNormalSearch()">聚合搜索</a> 》 <span>高级搜索</span></div><div class="pss-form"><div class="pss-type clearfix"><span class="name">搜索范围</span><ul class="pss-type-list clearfix"><li class="item" ng-class="{\'active\': ps.searchType == \'ticket\'}" ng-click="ps.changeSearchType(\'ticket\')">工单</li><li class="item" ng-class="{\'active\': ps.searchType == \'user\'}" ng-click="ps.changeSearchType(\'user\')">客户</li><li class="item" ng-class="{\'active\': ps.searchType == \'userGroup\'}" ng-click="ps.changeSearchType(\'userGroup\')">客户组</li><li class="item" ng-class="{\'active\': ps.searchType == \'article\'}" ng-click="ps.changeSearchType(\'article\')">文章</li><li class="item" ng-class="{\'active\': ps.searchType == \'question\'}" ng-click="ps.changeSearchType(\'question\')">问答</li></ul></div><div class="pss-condition clearfix" ng-switch="ps.searchType"><div class="item clearfix"><span class="name">创建于</span><div class="inp-wrp"><div class="clearfix"><div class="input-group input-size-middle date-input" style="width:100px;float:left"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="ps.timeFrameOpen($event, ps.conditions.createdAtFrom, \'startTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ps.conditions.createdAtFrom.startTimeForm" ng-model="ps.conditions.createdAtFrom.startTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" max-date="ps.conditions.createdAtFrom.endTime" style="width:106px"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="ps.timeFrameOpen($event,ps.conditions.createdAtFrom,\'startTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div style="float:left;line-height:30px;margin:0 4px">-</div><div class="input-group input-size-middle date-input" style="width:100px;float:left"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="ps.timeFrameOpen($event, ps.conditions.createdAtFrom, \'endTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ps.conditions.createdAtFrom.endTimeForm" ng-model="ps.conditions.createdAtFrom.endTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" min-date="ps.conditions.createdAtFrom.startTime" style="width:106px"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="ps.timeFrameOpen($event,ps.conditions.createdAtFrom,\'endTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div></div><div class="item clearfix"><span class="name">更新于</span><div class="inp-wrp"><div class="clearfix"><div class="input-group input-size-middle date-input" style="width:100px;float:left"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="ps.timeFrameOpen($event,ps.conditions.updatedAtFrom,\'startTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ps.conditions.updatedAtFrom.startTimeForm" ng-model="ps.conditions.updatedAtFrom.startTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" max-date="ps.conditions.updatedAtFrom.endTime" style="width:106px"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="ps.timeFrameOpen($event,ps.conditions.updatedAtFrom,\'startTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div style="float:left;line-height:30px;margin:0 4px">-</div><div class="input-group input-size-middle date-input" style="width:100px;float:left"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="ps.timeFrameOpen($event,ps.conditions.updatedAtFrom,\'endTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ps.conditions.updatedAtFrom.endTimeForm" ng-model="ps.conditions.updatedAtFrom.endTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" min-date="ps.conditions.updatedAtFrom.startTime" style="width:106px"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="ps.timeFrameOpen($event,ps.conditions.updatedAtFrom,\'endTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div></div><div class="item clearfix" ng-switch-when="ticket"><span class="name">类型</span><div class="inp-wrp" style="width:304px"><ticket-type-select selectedtickettype="ps.conditions.ticketType" class="form-control input-size-middle"></ticket-type-select></div></div><div class="item clearfix" ng-switch-when="ticket"><span class="name">创建人</span><div class="inp-wrp" style="width:304px"><user-select selecteduser="ps.conditions.user" usertype="\'all\'"></user-select></div></div><div class="item clearfix" ng-switch-when="ticket"><span class="name">处理人</span><div class="inp-wrp" style="width:304px"><engineer-select selectedservicedesk="ps.conditions.serviceDesk" selectedengineer="ps.conditions.engineer" selectableservicedesk="true" class="input-size-long select-box"></engineer-select></div></div><div class="item clearfix" ng-switch-when="ticket"><span class="name">抄送给</span><div class="inp-wrp" style="width:304px"><ticket-cc-input class="copy-to" ispolymerizesearch="true" ccs="ps.conditions.ccs" excludeusergroup="true" who="ticket" assignable="true" hidetomy="true"></ticket-cc-input></div></div><div class="item clearfix" ng-switch-when="ticket"><span class="name">服务目录</span><div class="inp-wrp" style="width:304px"><service-catalog-select selectedservicecatalog="ps.conditions.serviceCatalog" class="input-size-long select-box"></service-catalog-select></div></div><div class="item clearfix" ng-switch-when="ticket"><span class="name">渠道</span><div class="inp-wrp" style="width:304px"><via-select selectedtype="ps.conditions.viaType" selectedchannel="ps.conditions.viaChannel" selectedvia="ps.conditions.via" class="input-size-long select-box"></via-select></div></div><div class="item clearfix" ng-switch-when="ticket"><span class="name">状态</span><div class="inp-wrp" style="width:304px"><select ng-model="ps.conditions.status" class="form-control input-size-long"><option value="" ng-selected="ps.conditions.status==null||ps.conditions.status==\'\'">-</option><option value="new">未分派</option><option value="assigned">已分派</option><option value="open">处理中</option><option value="solved">处理完毕</option><option value="closed">关闭</option><option value="pending">暂停</option><option value="suspended">隔离</option></select></div></div><div class="item clearfix" ng-switch-when="user"><span class="name">最近登录</span><div class="inp-wrp"><div class="clearfix"><div class="input-group input-size-middle date-input" style="width:100px;float:left"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="ps.timeFrameOpen($event,ps.conditions.lastLoginAtFrom,\'startTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ps.conditions.lastLoginAtFrom.startTimeForm" ng-model="ps.conditions.lastLoginAtFrom.startTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" max-date="ps.conditions.lastLoginAtFrom.endTime" style="width:106px"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="ps.timeFrameOpen($event,ps.conditions.lastLoginAtFrom,\'startTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div style="float:left;line-height:30px;margin:0 4px">-</div><div class="input-group input-size-middle date-input" style="width:100px;float:left"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="ps.timeFrameOpen($event,ps.conditions.lastLoginAtFrom,\'endTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ps.conditions.lastLoginAtFrom.endTimeForm" ng-model="ps.conditions.lastLoginAtFrom.endTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" min-date="ps.conditions.lastLoginAtFrom.startTime" style="width:106px"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="ps.timeFrameOpen($event,ps.conditions.lastLoginAtFrom,\'endTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div></div><div class="item clearfix" ng-switch-when="user"><span class="name">姓名</span><div class="inp-wrp"><input class="inp" type="text" ng-model="ps.conditions.name"></div></div><div class="item clearfix" ng-switch-when="user"><span class="name">昵称</span><div class="inp-wrp"><input class="inp" type="text" ng-model="ps.conditions.nickname"></div></div><div class="item clearfix" ng-switch-when="user"><span class="name">分组</span><div class="inp-wrp"><input class="inp" type="text" ng-model="ps.conditions.userGroup"></div></div><div class="item clearfix" ng-switch-when="user"><span class="name">Email</span><div class="inp-wrp"><input class="inp" type="text" ng-model="ps.conditions.email"></div></div><div class="item clearfix" ng-switch-when="user"><span class="name">手机</span><div class="inp-wrp"><input class="inp" type="text" ng-model="ps.conditions.mobilePhone"></div></div><div class="item clearfix" ng-switch-when="user"><span class="name">电话</span><div class="inp-wrp"><input class="inp" type="text" ng-model="ps.conditions.phone"></div></div><div class="item clearfix" ng-switch-when="userGroup"><span class="name">组名称</span><div class="inp-wrp"><input class="inp" type="text" ng-model="ps.conditions.name"></div></div><div class="item clearfix" ng-switch-when="userGroup"><span class="name">工单共享</span><div class="inp-wrp" style="width:304px"><select class="form-control" ng-model="ps.conditions.shared"><option value="">-</option><option value="true">是</option><option value="false">否</option></select></div></div><div class="item clearfix" ng-switch-when="userGroup"><span class="name">Email域名</span><div class="inp-wrp"><input class="inp" type="text" ng-model="ps.conditions.domain_names"></div></div><div class="item clearfix" ng-switch-when="userGroup"><span class="name" title="绑定的客服组">绑定的客服组</span><div class="inp-wrp" style="width:304px"><select class="form-control" ng-model="ps.conditions.serviceDesk" ng-options="serviceDesk.name for serviceDesk in ps.serviceDesks" ng-change="updateServiceDesk();"><option value="">-</option></select></div></div><div class="item clearfix" ng-switch-when="article"><span class="name">创建人</span><div class="inp-wrp" style="width:304px"><user-select selecteduser="ps.conditions.author" usertype="\'engineer\'"></user-select></div></div><div class="item clearfix" ng-switch-when="article"><span class="name">目录</span><div class="inp-wrp"><select class="inp" ng-model="ps.conditions.topic" ng-options="item.name for item in ps.articleQuestionTopic"><option value="">-</option></select></div></div><div class="item clearfix" ng-switch-when="article"><span class="name">主题</span><div class="inp-wrp"><input class="inp" type="text" ng-model="ps.conditions.title"></div></div><div class="item clearfix" ng-switch-when="question"><span class="name">创建人</span><div class="inp-wrp" style="width:304px"><user-select selecteduser="ps.conditions.author" usertype="\'all\'"></user-select></div></div><div class="item clearfix" ng-switch-when="question"><span class="name">目录</span><div class="inp-wrp"><select class="inp" ng-model="ps.conditions.topic" ng-options="item.name for item in ps.articleQuestionTopic"><option value="">-</option></select></div></div><div class="item clearfix" ng-switch-when="question"><span class="name">主题</span><div class="inp-wrp"><input class="inp" type="text" ng-model="ps.conditions.title"></div></div></div><div class="pss-condition clearfix" ng-show="ps.isShowCustomField"><div bindonce ng-repeat="ticketCustomField in ps.customFields" class="item clearfix"><label title="{{ticketCustomField.customField.title}}" class="name" ng-if="ticketCustomField.customField.type==\'text\' || ticketCustomField.customField.type==\'mobile_phone\' || ticketCustomField.customField.type==\'phone\' || ticketCustomField.customField.type==\'currency\'">{{ticketCustomField.customField.title}}</label><div class="inp-wrp" ng-if="ticketCustomField.customField.type==\'text\' || ticketCustomField.customField.type==\'mobile_phone\' || ticketCustomField.customField.type==\'phone\' || ticketCustomField.customField.type==\'currency\'"><input type="text" ng-model="ticketCustomField.value" class="inp" maxlength="255" placeholder="{{ticketCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"></div><label title="{{ticketCustomField.customField.title}}" class="name" ng-if="ticketCustomField.customField.type==\'date_time\'">{{ticketCustomField.customField.title}}</label><div class="inp-wrp" ng-if="ticketCustomField.customField.type==\'date_time\'"><input lay-date type="text" id="{{\'layDate\'+$index}}" ng-model="ticketCustomField.value" class="inp" maxlength="255" placeholder="{{ticketCustomField.customField.notes}}"></div><label title="{{ticketCustomField.customField.title}}" class="name" ng-if="ticketCustomField.customField.type==\'textarea\'">{{ticketCustomField.customField.title}}</label><div class="inp-wrp" ng-if="ticketCustomField.customField.type==\'textarea\'" style="height:34px"><textarea type="textarea" class="inp" style="resize:none" ng-model="ticketCustomField.value" maxlength="1000" placeholder="{{ticketCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"></textarea></div><label title="{{ticketCustomField.customField.title}}" class="name" ng-if="ticketCustomField.customField.type==\'email\'">{{ticketCustomField.customField.title}}</label><div class="inp-wrp" ng-if="ticketCustomField.customField.type==\'email\'"><input type="text" ng-model="ticketCustomField.value" class="inp" placeholder="{{ticketCustomField.customField.notes}}" maxlength="255" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"></div><label title="{{ticketCustomField.customField.title}}" class="name" ng-if="ticketCustomField.customField.type==\'regexp\'">{{ticketCustomField.customField.title}}</label><div class="inp-wrp" ng-if="ticketCustomField.customField.type==\'regexp\'"><input ng-model="ticketCustomField.value" class="inp" placeholder="{{ticketCustomField.customField.notes}}" maxlength="255" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"></div><label title="{{ticketCustomField.customField.title}}" class="name" ng-if="ticketCustomField.customField.type==\'number\'">{{ticketCustomField.customField.title}}</label><div class="inp-wrp" ng-if="ticketCustomField.customField.type==\'number\'"><input type="text" ng-model="ticketCustomField.value" class="inp" maxlength="255" placeholder="{{ticketCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"></div><label title="{{ticketCustomField.customField.title}}" class="name" ng-if="ticketCustomField.customField.type==\'decimal\' || ticketCustomField.customField.type==\'ip\' || ticketCustomField.customField.type==\'url\'">{{ticketCustomField.customField.title}}</label><div class="inp-wrp" ng-if="ticketCustomField.customField.type==\'decimal\' || ticketCustomField.customField.type==\'ip\' || ticketCustomField.customField.type==\'url\'"><input type="text" ng-model="ticketCustomField.value" class="inp" maxlength="255" placeholder="{{ticketCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"></div><label title="{{ticketCustomField.customField.title}}" title="{{ticketCustomField.customField.title}}" class="name" ng-if="ticketCustomField.customField.type==\'date\'">{{ticketCustomField.customField.title}}</label><div style="width:200px" class="inp-wrp input-group input-size-middle date-input" ng-if="ticketCustomField.customField.type==\'date\'"><input class="inp" style="width:265px" type="text" ng-click="ps.open($event,ticketCustomField.customField)" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ticketCustomField.customField.startForm" ng-model="ticketCustomField.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="ps.open($event,ticketCustomField.customField)" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="inp-wrp" style="width:384px" ng-if="ticketCustomField.customField.type==\'checkbox\'"><label class="name" style="font-weight:100" ng-if="ticketCustomField.customField.type==\'checkbox\'" title="{{ticketCustomField.customField.title}}">{{ticketCustomField.customField.title}}</label><select ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" class="inp" ng-model="ticketCustomField.value"><option value="true">勾选</option><option value="">不勾选</option></select></div><label class="name" ng-if="ticketCustomField.customField.type==\'options\'" title="{{ticketCustomField.customField.title}}">{{ticketCustomField.customField.title}}</label><radio-options style="float:left;width:304px" ng-if="ticketCustomField.customField.type==\'options\'" ticket-id="ticket.id" ticket-field="ticketCustomField"></radio-options><label title="{{ticketCustomField.customField.title}}" class="name" ng-if="ticketCustomField.customField.type==\'cascade_options\'">{{ticketCustomField.customField.title}}</label><cascade-options style="float:left;width:304px;border-color:#e4e4e4;height:30px" class="inp" ng-if="ticketCustomField.customField.type==\'cascade_options\'" ticket-id="ticket.id" ticket-field="ticketCustomField"></cascade-options><label title="{{ticketCustomField.customField.title}}" class="name" ng-if="ticketCustomField.customField.type==\'multi_options\'">{{ticketCustomField.customField.title}}</label><multi-options ng-if="ticketCustomField.customField.type==\'multi_options\'" none-default-value="true" category="polymerize_search" ticket-id="ticket.id" ticket-field="ticketCustomField" style="float:left;width:304px"></multi-options><label class="name" ng-if="ticketCustomField.customField.type==\'date_to_date\'">{{ticketCustomField.customField.title}}</label><div ng-if="ticketCustomField.customField.type==\'date_to_date\'" class="clearfix" style="float:left"><div class="input-group input-size-middle date-input" style="width:100px;float:left"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="ps.timeFrameOpen($event,ticketCustomField.customField,\'startTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ticketCustomField.customField.startTimeForm" ng-model="ticketCustomField.customField.startTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" max-date="ticketCustomField.customField.endTime" style="width:106px"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="ps.timeFrameOpen($event,ticketCustomField.customField,\'startTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div style="float:left;line-height:30px;margin:0 4px">-</div><div class="input-group input-size-middle date-input" style="width:100px;float:left"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="ps.timeFrameOpen($event,ticketCustomField.customField,\'endTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ticketCustomField.customField.endTimeForm" ng-model="ticketCustomField.customField.endTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" min-date="ticketCustomField.customField.startTime" style="width:106px"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="ps.timeFrameOpen($event,ticketCustomField.customField,\'endTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div></div><div class="pss-customField" ng-if="ps.searchType == \'ticket\' || ps.searchType == \'user\' || ps.searchType == \'userGroup\' " ng-click="ps.showCustomField()"><span>更多自定义字段</span> <i class="iconfont" ng-if="!ps.isShowCustomField">&#xe60e;</i> <i class="iconfont" ng-if="ps.isShowCustomField">&#xe630;</i></div></div><div class="sub"><a href="javascript:void(0);" class="btn btn-confirm sub-btn custom-main-bgcolor" ng-click="ps.search()"><span>确定</span></a></div></div></div></section></div>');e.put("source/polymerize-search/template/polymerize-search.html",'<div id="main_panes"><section class="main_panes layoutA"><div class="polymerize_search_wrap"><div class="polymerize_search"><div class="s-form"><ul class="s-type-list clearfix"><li class="s-type-item"><a href="javascript:void(0)" ng-class="{\'selected\': ps.searchType == \'ticket\'}" ng-click="ps.changeSearchType(\'ticket\')" class="detail">工单</a></li><li class="s-type-item"><a href="javascript:void(0)" ng-class="{\'selected\': ps.searchType == \'user\'}" ng-click="ps.changeSearchType(\'user\')" class="detail">客户</a></li><li class="s-type-item"><a href="javascript:void(0)" ng-class="{\'selected\': ps.searchType == \'userGroup\'}" ng-click="ps.changeSearchType(\'userGroup\')" class="detail">客户组</a></li><li class="s-type-item"><a href="javascript:void(0)" ng-class="{\'selected\': ps.searchType == \'article\'}" ng-click="ps.changeSearchType(\'article\')" class="detail">文章</a></li><li class="s-type-item"><a href="javascript:void(0)" ng-class="{\'selected\': ps.searchType == \'question\'}" ng-click="ps.changeSearchType(\'question\')" class="detail">问答</a></li></ul><div class="s-wrapper clearfix"><span class="s-wrapper-span"><input type="text" class="s-content" ng-model="ps.searchContent" ng-keyup="ps.enterSearch($event)"> <i class="iconfont s-icon">&#xe624;</i> <i class="iconfont c-icon" ng-if="ps.isShowDeleteSearchContent" ng-click="ps.deleteSearchContent()">&#xe600;</i> </span><span class="s-btn-wrapper"><a href="javascript:void(0);" class="button custom-main-bgcolor" ng-click="ps.search()">搜索</a> <a href="#/polymerize_search_senior" class="button-senior">高&nbsp;级搜&nbsp;索</a></span></div><div class="padding_top10px padding_left10px" ng-if="ps.searchType === \'ticket\'"><input type="checkbox" ng-model="ps.isSearchTicketComment" ng-true-value="true" ng-false-value="false"> <span>搜索工单回复</span></div></div><div class="s-ewei-news" ng-if="!ps.showSearchResult && ps.recommondQuestions"><h4 class="title clearfix"><span style="float:left">最新动态</span> <a ng-href="{{ps.gettingLastNewsUrl}}" class="more" target="_blank">更多&nbsp;》</a></h4><ul class="s-news-list"><li class="s-news-item" ng-repeat="question in ps.recommondQuestions track by $index"><a class="detail" ng-click="ps.goDetail(question)" style="outline:0">{{question.title}}</a></li></ul></div><div class="s-result" ng-if="ps.showSearchResult"><table class="s-result-table table table-hover"><thead><tr><th class="item text-left {{item.widthClass}}" ng-repeat="item in ps.visibleCustomField track by $index">{{item.title}}</th></tr></thead><tbody><tr ng-repeat="item in ps.searchResult track by $index"><td bindonce ng-repeat="column in ps.visibleCustomField track by $index" class="item" bo-switch="column.fieldCount"><span bo-switch-when="articleQuestion" bo-switch="column.field"><span bo-switch-when="updatedAt" ng-bind="item.updatedAt | nullStringFilter"></span> <span bo-switch-when="updater.nickname" ng-bind="item.author.nickname | nullStringFilter"></span> <span bo-switch-when="title"><question-article-link article="item"></question-article-link></span><span bo-switch-when="answerCount"><span ng-if="item.topic.type ==\'questions\' || item.topic.type ==\'deletes\'"><span ng-if="item.answerCount > 0">有新的回答</span> <span ng-if="item.answerCount == 0">尚未有回答 </span></span><span ng-if="item.topic.type !=\'questions\' && item.topic.type !=\'deletes\'"><span ng-if="item.commentCount > 0">有新的评论</span> <span ng-if="item.commentCount == 0">尚未有评论 </span></span></span></span><span bo-switch-when="2" bo-switch="column.field"><span bo-switch-when="serviceCatalog.id"><service-catalog-name-show servicecatalogid="{{item.serviceCatalog.id}}" servicecatalogs="ps.servicecatalogs"></service-catalog-name-show></span><span bo-switch-when="user.tags"><ewei-tags-show relatedtags="ps.relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span bo-switch-when="role.name" bo-bind="item.role.name | translate"></span> <span bo-switch-when="serviceDesk.name" bo-bind="item.serviceDesk.name | translate"></span> <span bo-switch-when="defaultServiceDesk.name" bo-bind="item.defaultServiceDesk.name | translate"></span> <span bo-switch-when="evaluate.score">{{item.evaluate.score}}</span> <span bo-switch-when="evaluate.solved"><ticket-evaluate-solved-show value="{{item.evaluate.solved}}" solveds="evaluate.solveds"></ticket-evaluate-solved-show></span><span bo-switch-default bo-bind="item[column.field0][column.field1] | nullStringFilter"></span> <span bo-switch-when="ticketMetric.pausedAt" bo-bind="item.ticketMetric.pausedAt | dateFilter_style1"></span> <span bo-switch-when="ticketMetric.solvedAt" bo-bind=\'item.ticketMetric.solvedAt | dateFilter_style1:"solvedAt":item.status\'></span> <span bo-switch-when="ticketMetric.responseAt" bo-bind="item.ticketMetric.responseAt | dateFilter_style1"></span> <span bo-switch-when="ticketMetric.responseMinutes" bo-bind=\'item.ticketMetric.responseMinutes | minute_format_filter:"responseMinutes":item.status\'></span> <span bo-switch-when="ticketMetric.solveMinutes" bo-bind=\'item.ticketMetric.solveMinutes | minute_format_filter:"solveMinutes":item.status\'></span></span> <span bo-switch-when="3" bo-switch="column.field"><span bo-switch-when="user.role.name" bo-bind="item.user.role.name | translate"></span> <span bo-switch-default bo-bind="item[column.field0][column.field1][column.field2] | nullStringFilter"></span></span> <span bo-switch-default bo-switch="column.field"><span style="display:block;position:relative" bo-switch-when="subject"><span style="display:block;position:absolute"><ewei-ticket-status-img ticketstatuscolors="ps.ticketStatusColors" ticketid="{{item.id}}" status="item.status" format="short" deleted="item.deleted"></ewei-ticket-status-img></span><span style="display:block;padding-right:1px;margin-left:24px;word-break:break-all"><a ng-click="ticketDetailBuried()" class="c75 custom-main-font-color" ui-sref="tickets_detail({id:item.id, from:\'polymerize-search\'})" bo-bind="item[column.field] | nullStringFilter"></a></span> </span><span bo-switch-when="subscription"><i class="fa fa-star-o" style="position:relative;top:3px;font-size:1.3em;cursor:pointer" ng-class="{\'fa-star-o\':!item.isTarget,\'fa-star\':item.isTarget,\'color_yellow\':item.isTarget}" ng-click="star_target(item)"><ewei-start-show ticketsubscriptions="ps.ticketsubscriptions" item="item"></ewei-start-show></i></span><span bo-switch-when="createdAt" bo-bind="item.createdAt | dateFilter_style1"></span> <span bo-switch-when="updatedAt" bo-bind="item.updatedAt  | dateFilter_human"></span> <span bo-switch-when="deletedAt" bo-bind="item.deletedAt | dateFilter_style1"></span> <span bo-switch-when="lastLoginAt" bo-bind="item.lastLoginAt | dateFilter_style1"></span> <span bo-switch-when="shared" bo-bind="item.shared | booleanFilter"></span> <span bo-switch-when="status" bo-bind="item.status| ticketStatusFilter"></span> <span bo-switch-when="tags"><ewei-tags-show relatedtags="ps.relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span bo-switch-when="copyTo"><ewei-cc-show relatedcopytos="ps.relatedCopyTos" relatedid="{{item.id}}"></ewei-cc-show></span><span bo-switch-when="deleteReason"><span bo-if="item.deleteType==\'merger\'" translate="MERGER_TICKET_TO"></span><span bo-bind="item.deleteReason | nullStringFilter"></span></span> <span bo-switch-when="name"><a class="c75 custom-main-font-color" bo-if="ps.searchType==\'user\'" ui-sref="customers_detail({id:item.id})" bo-bind="item[column.field] | nullStringFilter"></a><a class="c75 custom-main-font-color" bo-if="ps.searchType ==\'userGroup\'" ui-sref="user_groups_detail({id:item.id})" bo-bind="item[column.field] | nullStringFilter"></a></span> <span bo-switch-when="priority"><ticket-priority-show priority="{{item.priority}}"></ticket-priority-show></span><span bo-switch-default bo-bind="item[column.field] | nullStringFilter"></span></span> <span bo-switch-when="customFields" bo-switch="column.field"><ewei-custom-fields-show customfields="ps.customFieldList" ticketid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-show></span><span bo-switch-when="customFieldsUser" bo-switch="column.field"><ewei-custom-fields-user customfields="ps.customFieldList" userid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-user></span><span bo-switch-when="customFieldsUserGroup" bo-switch="column.field"><ewei-custom-fields-user customfields="ps.customFieldList" userid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-user></span></td></tr><tr ng-if="ps.searchResultIsNone"><td colspan="5" class="none-result">抱歉，没有找到结果！</td></tr></tbody></table><a href="javascript:void(0);" ng-if="ps.searchResultHasMore" class="search-more" ng-click="ps.searchMore();">查看更多》</a> <a href="javascript:void(0);" ng-if="ps.isAbleSet" title="设置可选项" ng-click="ps.showCustomField()"><i class="iconfont set">&#xe62e;</i> </a><a href="javascript:void(0);" ng-if="ps.isAbleSet" title="导出" ng-click="ps.export()"><i class="iconfont export">&#xe635;</i></a><div class="set-wrp" ng-if="ps.isShowCustomField"><p class="title">选择展示的列</p><ul class="list clearfix"><li class="item" ng-repeat="customField in ps.customFields track by $index" ng-class="{\'selected\':customField.selected, \'even\':$index%2==1}" ng-click="ps.selectCustomField(customField);" title="{{customField.title}}">{{customField.title}}</li></ul><a href="javascript:void(0);" ng-click="ps.saveVisibleCustomField()" class="button">更新</a></div></div></div><div class="ticket-loading" style="height:100%;width:100%;position:fixed;top:0" ticket-loading="{{ps.loading}}"><img src="/source/images/ajax-loader.gif"></div></div></section></div>');e.put("source/project_management/template/addSort.html",'<div class="modal-inner-content add-management-sort"><p class="title">项目分类名称</p><input type="text" class="form-control" ng-model="sort.name" maxlength="5" placeholder="尽量简短明了，五个汉字以内"><p class="title">项目进度（里程碑）</p><ul><li ng-if="$index<(sort.projectPhases.length-1)" ng-repeat="item in sort.projectPhases"><progress-color default-colr="item.color"></progress-color><input type="text" class="form-control" ng-model="item.name"> <span class="add" ng-click="addProjectPhases(this)">+</span> <span class="delete" ng-if="$index!=0" ng-click="deleteProjectPhases(item)">-</span></li><li class="end"><div><span></span></div><input type="text" class="form-control" placeholder="关闭" readonly="readonly"></li></ul><p style="margin:60px 0 10px 0">可见这个项目分类的人</p><ticket-cc-input ccs="sort.accessUser" who="ticket" assignable="true" hidetomy="true" width="w320"></ticket-cc-input><p class="title">也可见这个项目分类的组</p><button style="margin-bottom:10px" type="button" class="btn btn-default form-control" ng-model="sort.accessServiceDesk" data-placeholder="请选择" data-multiple="1" max-length="0" bs-options="serviceDesk.id as serviceDesk.name for serviceDesk in serviceDesks" bs-select>Action <span class="caret"></span></button></div><div class="modal-footer btn-group-common"><button type="button" id="saveButton" class="btn btn-confirm custom-background-color" ng-click="saveSort()" ng-disabled="btnDisabled">保存</button> <button type="button" class="btn btn-cancel" ng-click="hideModal()">取消</button></div>');e.put("source/project_management/template/favorites_list.html",'<div class="listarea"><section class="todaylist commonlist"><h5>今天的收藏</h5><div class="scroll" scroll-f num="0"><div class="innerscroll"><p class="null" ng-if="vm.todayData.length==0">今天，有没有发现问题、需求和商机啊？去工单里收藏吧。</p><section class="collectioninfo" ng-click="vm.selectedFn(item.id,item.ticketId,\'today\');" ng-repeat="item in vm.todayData track by $index" changeable><div class="flag iconfont" ng-class="{\'displayblock\':!vm.selected}" ng-style="vm.favStyle">&#xe640;</div><div class="collection"><p><span style="padding-right:10px" class="custom-main-font-color">{{item.creater.name}}</span><span>{{item.createdAt | dateFilter}}</span></p><p ng-if="!item.richTextContent&&!item.questionId && item.type!=5 && item.type!=7" ng-bind-html="item.content|linkSetMark|wechatEmoji|sanitize|trusted"></p><div ng-if="item.attachments.length==0&&item.hadAttachements" style="width:120px;height:120px"><img src="/source/images/removeTicket.jpg" alt="已经被删除" width="100%" height="100%"></div><div class="mixed" stopparent ticket-image-view ng-if="item.richTextContent||item.questionId||item.attachments.length>0||item.type==7"><section class="chat-item"><section class="text single"><div ng-if="item.richTextContent" set-iframe-content="{{item.richTextContent.richText}}"><iframe style="display:none;min-width:772px" ng-src="source/views/help_center/ui_setting_html/empty.frame.html"></iframe></div><div ng-if="item.questionId"><span attachment-detail-item question-id="{{item.questionId}}"></span></div><div ng-if="item.type!=5 && item.type!=7" ng-repeat="attachment in item.attachments | orderBy:\'-id\'" keep-scroll ng-class="{\'chat-media-item\':item.attachments.length>1||item.content}"><span attachment-detail-item attachment="attachment" attachmentid="{{attachment.id}}"></span></div><div ng-if="item.type==5" ng-repeat="attachment in item.attachments | orderBy:\'-id\'" keep-scroll><div attachment-detail-item attachment="attachment" attachmentid="{{attachment.id}}" maptype="{{item.type}}" mapcontent="{{item.content}}"></div></div><div class="res-link" ng-if="item.type==7" style="margin:5px" keep-scroll><div style="max-width:400px" class="clearfix"><p ng-if="item.linkTitle" class="link-title">{{item.linkTitle}}</p><img alt="" class="link-image pull-left" src="/source/images/reslink.png"><div class="link-content pull-left" style=""><span>{{item.linkAddress}}</span> <a ng-href="{{item.linkAddress}}" target="_blank" class="open-text">在新页面打开 <i class="iconfont" style="font-size:13px">&#xe727;</i></a></div></div></div></section></section></div></div><p class="operation">收藏来自<a class="custom-main-font-color" ui-sref="tickets_detail({id:item.ticketId})" stopparent>工单#{{item.ticketNo}}</a></p><div class="operationbtns" ng-class="{\'displayblock\':!vm.selected}"><span class="operationbtn" ng-click="vm.deleteProject($event,item.id,\'today\');"><i class="iconfont">&#xe64a;</i> 删除收藏项 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="operationbtn" ng-click="vm.translateToProject($event,item.id,item.ticketId);"><i class="iconfont">&#xe626;</i> 转化为项目</span></div><div style="clear:both"></div></section></div></div></section><section class="oldlist commonlist"><h5>以前的收藏</h5><div class="scroll" scroll-f num="1"><div class="innerscroll"><section class="collectioninfo" ng-click="vm.selectedFn(item.id,item.ticketId,\'beforetoday\');" ng-repeat="item in vm.boforeTodayData track by $index" changeable><div class="flag iconfont" ng-class="{\'displayblock\':!vm.selected}" ng-style="vm.favStyle">&#xe640;</div><div class="collection"><p><span style="padding-right:10px" class="custom-main-font-color">{{item.creater.name}}</span><span>{{item.createdAt | dateFilter}}</span></p><p ng-if="!item.richTextContent&&!item.questionId && item.type!=5 && item.type!=7" ng-bind-html="item.content|linkSetMark|wechatEmoji|sanitize|trusted"></p><div ng-if="item.attachments.length==0&&item.hadAttachements" style="width:120px;height:120px"><img src="/source/images/removeTicket.jpg" alt="已经被删除" width="100%" height="100%"></div><div class="mixed" stopparent ticket-image-view ng-if="item.richTextContent||item.questionId||item.attachments.length>0||item.type==7"><section class="chat-item"><section class="text single"><div ng-if="item.richTextContent" set-iframe-content="{{item.richTextContent.richText}}"><iframe style="display:none;min-width:772px" ng-src="source/views/help_center/ui_setting_html/empty.frame.html"></iframe></div><div ng-if="item.questionId"><span attachment-detail-item question-id="{{item.questionId}}"></span></div><div ng-if="item.type!=5" ng-repeat="attachment in item.attachments | orderBy:\'-id\'" keep-scroll ng-class="{\'chat-media-item\':item.attachments.length>1||item.content}"><span attachment-detail-item attachment="attachment" attachmentid="{{attachment.id}}"></span></div><div ng-if="item.type==5" ng-repeat="attachment in item.attachments | orderBy:\'-id\'" keep-scroll><div attachment-detail-item attachment="attachment" attachmentid="{{attachment.id}}" maptype="{{item.type}}" mapcontent="{{item.content}}"></div></div><div class="res-link" ng-if="item.type==7" style="margin:5px" keep-scroll><div style="max-width:400px" class="clearfix"><p ng-if="item.linkTitle" class="link-title">{{item.linkTitle}}</p><img alt="" class="link-image pull-left" src="/source/images/reslink.png"><div class="link-content pull-left" style=""><span>{{item.linkAddress}}</span> <a ng-href="{{item.linkAddress}}" target="_blank" class="open-text">在新页面打开 <i class="iconfont" style="font-size:13px">&#xe727;</i></a></div></div></div></section></section></div></div><p class="operation">收藏来自<a class="custom-main-font-color" ui-sref="tickets_detail({id:item.ticketId})" stopparent>工单#{{item.ticketNo}}</a></p><div class="operationbtns" ng-class="{\'displayblock\':!vm.selected}"><span class="operationbtn" ng-click="vm.deleteProject($event,item.id,\'beforetoday\');"><i class="iconfont">&#xe64a;</i> 删除收藏项 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="operationbtn" ng-click="vm.translateToProject($event,item.id,item.ticketId);"><i class="iconfont">&#xe626;</i> 转化为项目</span></div><div style="clear:both"></div></section></div></div></section></div>');e.put("source/project_management/template/project_category_list.html",'<div class="project-category"><ol class="phase-container"><li class="phase-card" ng-repeat="phase in vm.phases track by phase.id" phase-card="phase" all-phases="vm.phases" phase-index="$index"></li></ol></div>');e.put("source/project_management/template/project_detail.html",'<div class="project-detail-layouts am-fade-and-slide-right" infinite-scroll="scrollLoadEvent();" response-ticket-detail=""><section><div class="project-detail-header"><div class="detail-flex"><div class="detail-icon"><span class="circle" ng-style="{\'background-color\':vm.projectsDetail.currentPhase.color}"></span></div><div class="detail-brief-area"><p><input type="text" required="" maxlength="128" class="form-control" ng-class="{true: \'show_input\',false: \'hide_input\'}[vm.displaySubjectView]" ng-model="vm.projectsDetail.name" ng-mouseover="vm.mouseoverName()" ng-mouseout="vm.mouseoutName()" ng-blur="vm.updateSubject();"></p><div class="brief"><span class="user-name">{{vm.projectsDetail.creater.name}}</span> <span class="created-at">{{vm.projectsDetail.createdAt}}</span></div></div><div class="share-menu"><div class="btn-group pull-right project_btn" ng-if="vm.isClosed"><button class="btn btn-default" ng-click="vm.deleteProject();">删除项目</button></div><div class="btn-group pull-right project_btn" ng-if="!vm.isClosed"><a class="btn btn-default" ng-click="vm.createNewTicket()">创建任务工单</a> <button type="button" class="btn dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button><ul class="dropdown-menu dropdown-menu-right" role="menu"><li><a ng-click="vm.relevanceWorkOrder();">添加已有工单</a></li><li role="presentation" class="divider"></li><li><a ng-click="vm.changeProgress();">变更项目进度</a></li><li><a ng-click="vm.deleteProject();">删除本项目</a></li></ul></div></div></div></div></section><section id="projectDetail"><div class="timeline-area"><dl class="timeline-wrap"><dd class="timeline-row" ng-repeat="log in vm.phaseArr"><div class="stage"><span class="node node-stage" ng-style="{\'background-color\':log.color}"><i class="iconfont">&#xe648;</i>{{log.name}}</span></div><div class="remarks-wrap" ng-repeat="item in log.items"><div ng-if="item.logType==\'remarks\'"><span class="node node-default"></span><div class="content"><p class="node-author"><span class="project_node_fontcolor name">{{item.creater.name}}</span> - {{item.createdAt}}</p><div class="node-message" ng-if="!item.richTextContent && !item.questionId && item.type!=5 && item.type!=7" ng-bind-html="item.content|linkSetMark|wechatEmoji|sanitize|trusted"></div><div ng-if="item.attachments.length==0 && item.hadAttachements"><img src="/source/images/removeTicket.jpg" width="120px" height="120px" alt="已经被删除"></div><div class="chat-item"><div class="text"><div class="mixed" stopparent ticket-image-view><div ng-if="item.richTextContent" set-iframe-content="{{item.richTextContent.richText}}"><iframe style="display:none;min-width:772px" ng-src="source/views/help_center/ui_setting_html/empty.frame.html"></iframe></div><div ng-if="item.questionId"><span attachment-detail-item question-id="{{item.questionId}}"></span></div><div ng-if="item.type!=5 && item.type!=7" ng-repeat="attachment in item.attachments | orderBy:\'-id\'" keep-scroll ng-class="{\'chat-media-item\':item.attachments.length>1||item.new_ticket_content}"><span attachment-detail-item attachment="attachment" attachmentid="{{attachment.id}}"></span></div><div ng-if="item.type==5" ng-repeat="attachment in  item.attachments | orderBy:\'-id\'" keep-scroll><div attachment-detail-item attachment="attachment" attachmentid="{{attachment.id}}" maptype="{{item.type}}" mapcontent="{{item.content}}"></div></div><div class="res-link" ng-if="item.type==7" style="margin:5px" keep-scroll><div style="min-width:300px" class="clearfix"><p ng-if="item.linkTitle" class="link-title">{{item.linkTitle}}</p><img alt="" class="link-image pull-left" src="/source/images/reslink.png"><div class="link-content pull-left" style=""><span>{{item.linkAddress}}</span> <a ng-href="{{item.linkAddress}}" target="_blank" class="open-text">在新页面打开 <i class="iconfont" style="font-size:13px">&#xe727;</i></a></div></div></div></div></div></div></div></div><div class="daily-record" ng-if="item.logType==\'log\'"><div class="daily-log-box">{{item.createdAt}} {{item.content}}</div></div></div></dd><dd class="timeline-row timeline-end-row" ng-if="!vm.isClosed"><span class="node node-default project_node_backcolor"></span><div class="content"><p ng-if="!vm.displayRemarksBox"><span class="node-event project_node_fontcolor" ng-click="vm.showRemarks();">添加备注</span> <span class="node-event project_node_fontcolor" ng-click="vm.changeProgress();">变更项目进度</span></p><div ng-if="vm.displayRemarksBox"><textarea class="form-control" placeholder="请输入项目备注" ng-model="vm.remarks.content"></textarea><p class="remarkbtn-box"><button class="btn btn-confirm project_btn_backcolor" ng-click="vm.addRemarks();">更新</button> <button class="cancel" ng-click="vm.closeAddRemarks();">取消</button></p></div></div></dd></dl></div><div class="timeline-attachment-area"><ul class="nav nav-pills nav-justified"><li ng-class="{\'active\': currentTabIndex==0}"><a href="javascript:void(0)" ng-click="vm.activeTab(0)">项目附件</a></li><li ng-class="{\'active\': currentTabIndex==1}"><a href="javascript:void(0)" ng-click="vm.activeTab(1)">关联工单</a></li><li ng-class="{\'active\': currentTabIndex==2}"><a href="javascript:void(0)" ng-click="vm.activeTab(2)">分享</a></li></ul><div ng-show="currentTabIndex == 0" class="detail-share-area"><div class="related-workorder-wrap attachment-wrap"><div class="attachment-content"><div class="add-attachment-btn" ng-if="!vm.isClosed"><p class="project_upload_color" ewei-webuploader file-queued="vm.fileQueued(file);" upload-progress="vm.uploadProgress(file,percentage)" upload-success="vm.uploadSuccess(file, response)" error="vm.error(handler)" id="pickfiles"><i class="iconfont webuploader">&#xe679;</i>上传附件</p></div><p class="noData" ng-if="vm.projectsDetail.attachments.length <= 0 && vm.isClosed">暂无项目附件</p><ul class="list"><li ng-repeat="file in vm.projectsDetail.attachments"><div class="progress project_btn_back" ng-if="file.isProgress" ng-style="{\'width\':file.progress +\'%\'}"></div><div class="list-wrap"><div class="list-icon"><p style="width:56px;height:47px"><icon-file-type></icon-file-type></p></div><div class="list-content"><p class="title attach" uib-tooltip="{{file.name || file.fileName}}" tooltip-append-to-body="true" ng-bind="file.name || file.fileName"></p><p class="det"><span ng-if="file.isProgress" class="project_upload_color">上传中 {{file.progress}}%</span> <span ng-if="!file.isProgress">{{file.size | fileSize}}</span> <a ng-if="!file.isProgress" target="_blank" ng-href="/no_auth_ewei_attachment?contentUrl={{file.contentUrl || file.result.contentUrl}}&attname={{file.fileName || file.result.fileName}}" class="project_upload_color">下载</a></p></div></div><a class="delete" ng-click="vm.removeAttachment(file);" ng-if="!vm.isClosed"><i class="iconfont">&#xe711;</i></a></li></ul></div></div></div><div ng-show="currentTabIndex == 1" class="detail-share-area"><div class="related-workorder-wrap"><related-work-order ticket-ids="vm.projectsDetail.ticketIds" project-status="vm.isClosed" add-ticket-detail="vm.addticketdetail" ticket-list="vm.TICKET_LISTS"></related-work-order></div></div><div ng-show="currentTabIndex == 2" class="detail-share-area"><share-user class="share-user" ispolymerizesearch="true" ccs="vm.projectsDetail.sharers" isclosed="vm.isClosed" log="vm.projectsDetail.phaseItems" assignable="true" hidetomy="true"></share-user></div></div></section></div>');e.put("source/project_management/template/project_management.html",'<section class="main_panes"><div class="project_classify_area"><div class="project_classify_box hasborder"><div class="title project_classify_borderColor">显示的项目分类<span style="color:#999;font-size:14px">（拖动排序、隐藏或显示分类，仅对本人有效）</span> <button class="btn project_btn_back" ng-click="vm.saveSortable()">返回并保存</button></div><div class="project_classify_list_area"><ul class="project_classify_list_box sortable" ui-sortable="vm.showSortableOptions" ng-model="vm.showData"><li ng-repeat="item in vm.showData" ng-click="addSort(\'edit\',item)" ng-class="{\'project_classify_lsitColor\': item.defalutSystemSetting != \'requirement\' && item.defalutSystemSetting != \'question\' && item.defalutSystemSetting != \'business_opportunity\'}"><div class="default_a" ng-if="item.defalutSystemSetting==\'requirement\'"><i class="iconfont project_icon">&#xe6cb;</i> <span class="list_tit">{{item.name | cutStr : 5}}</span></div><div class="default_b" ng-if="item.defalutSystemSetting==\'question\'"><i class="iconfont project_icon">&#xe6ca;</i> <span class="list_tit">{{item.name | cutStr : 5 }}</span></div><div class="default_c" ng-if="item.defalutSystemSetting==\'business_opportunity\'"><i class="iconfont project_icon">&#xe6cd;</i> <span class="list_tit">{{item.name | cutStr : 5}}</span></div><div ng-if="item.defalutSystemSetting ==\'none\'"><span class="project_icon">{{item.name | backFirstStr}}</span> <span class="list_tit">{{item.name | cutStr : 5}}</span></div></li><li class="add_classify_list" ng-click="addSort(\'add\')" has-permission="project_category_manage"><i class="iconfont project_icon">&#xe648;</i> <span class="list_tit">添加分类</span></li></ul></div></div><div class="project_classify_box"><div class="title project_classify_borderColor">隐藏的项目分类<span style="color:#999;font-size:14px">（触碰后，可点击删除项目分类）</span></div><div class="project_classify_list_area hide_classify_area"><ul class="project_classify_list_box hide_classify_box sortable" ui-sortable="vm.hideSortableOptions" ng-model="vm.hideData"><li ng-repeat="h_items in vm.hideData" ng-click="addSort(\'edit\',h_items)" ng-class="{\'project_classify_lsitColor\': h_items.defalutSystemSetting != \'requirement\' && h_items.defalutSystemSetting != \'question\' && h_items.defalutSystemSetting != \'business_opportunity\'}"><div class="default_a" ng-if="h_items.defalutSystemSetting==\'requirement\'"><i class="iconfont project_icon">&#xe6cb;</i> <span class="list_tit">{{h_items.name | cutStr : 5}}</span></div><div class="default_b" ng-if="h_items.defalutSystemSetting==\'question\'"><i class="iconfont project_icon">&#xe6ca;</i> <span class="list_tit">{{h_items.name | cutStr : 5}}</span></div><div class="default_c" ng-if="h_items.defalutSystemSetting==\'business_opportunity\'"><i class="iconfont project_icon">&#xe6cd;</i> <span class="list_tit">{{h_items.name | cutStr : 5}}</span></div><div ng-if="h_items.defalutSystemSetting ==\'none\' "><span class="project_icon">{{h_items.name | backFirstStr}}</span> <span class="list_tit">{{h_items.name | cutStr : 5}}</span> <a class="delete_btn" ng-click="vm.deleteSortable(h_items,$event)" has-permission="project_category_manage"><i class="iconfont">&#xe600;</i></a></div></li><p class="dont_have_list" ng-if="vm.hideData.length==0" style="position:absolute;left:10px">无隐藏的项目分类</p></ul></div></div></div></section>');e.put("source/project_management/template/universal_list.html",'<div class="main_panes"><header><universal-navigation></universal-navigation></header><div ui-view></div></div>');e.put("source/quick_entry/templates/quick_entry.html",'<div class="quick-entry"><div ng-if="vm.datas.length > 0" class="nav-bar nav-white"><div class="nav-item" ng-repeat="item in vm.datas track by $index"><div ng-class="{\'board-box\': vm.selectedId!=item.id,\'board-box-active\': vm.selectedId==item.id}" ng-click="vm.click(item)"><div><h5 ng-if="item.view && item.view.title == \'CONSOLE_SHORTCUTS_MANAGE\'" class="text" style="margin:5px 0"><i class="iconfont manage">&#xe648;</i></h5><span ng-if="!(item.view && item.view.title==\'CONSOLE_SHORTCUTS_MANAGE\')"><h5 ng-if="item.typeKey!=\'dashboard\' && !item.isLoading" class="number">{{item.count}}</h5><h5 ng-if="item.isLoading" style="margin:0"><img style="width:32px;height:32px" src="/source/quick_entry/images/loading_w.gif"></h5></span><span><h5 ng-if="item.view && item.view.title && item.view.title!=\'VIEW_TITLE_USER\'" class="text ellipsis">{{item.view.title|translate}}</h5><h5 ng-if="!item.view || !item.view.title || (item.view&&item.view.title==\'VIEW_TITLE_USER\')" class="text ellipsis" ng-class="{\'no-number\':item.typeKey==\'dashboard\'}">{{item.name}}</h5></span></div></div></div></div><div ng-if="vm.datas.length > 0" class="list" ui-view></div><div ng-if="vm.datas.length==0" class="loading"><img style="width:60px;height:60px" src="/source/images/home_load/load_black.gif"></div></div>');e.put("source/quick_entry/templates/quick_entry_chat_chating.html",'<div class="ewei-table" style="background-color:#fff" ng-class="{\'no-pager\': tableParams.total()==0}"><div ng-click="chat.setUp();" ng-mouseenter="hoverFun(true);" ng-mouseleave="hoverFun(false);" ng-class="{\'custom-main-font-color\':hoverEffect}" class="chat-table-header-setting"><span><i class="iconfont">&#xe639;</i>设置</span></div><div class="data-area"><table ng-table="tableParams" ewei-table-auto-rows="setRows" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th class="text-left {{item.widthClass}}" ng-repeat="item in chatHeader track by $index" ng-if="item.default||item.active" ewei-custom-column-width="item" column-type="\'chat.queue\'"><span>{{item.title}}</span></th></tr></thead><tbody ng-if="tableParams.total()==0" class="no-data"><tr><td style="background-color:#fff" colspan="{{vm.columns.length}}"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="tableParams.total()>0"><tr ng-repeat="item in chatList track by $index"><td ng-repeat="column in chatHeader track by $index" ng-if="column.default||column.active" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="\'chat.queue\'"><span ng-switch-when="2" ng-switch="column.field"><span ng-switch-when="user.name" ng-bind="item.user.name | nullStringFilter" title="{{item.user.name | nullStringFilter}}"></span> <span ng-switch-when="serviceDesk.name" ng-bind="item.serviceDesk.name | translate" title="{{item.serviceDesk.name | translate}}"></span> </span><span ng-switch-when="3" ng-switch="column.field"><span ng-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span> </span><span ng-switch-default ng-switch="column.field"><span ng-switch-when="createdAt" ng-bind="item.createdAt | dateFilter" title="{{item.createdAt | dateFilter}}"></span> <span ng-switch-when="w_firstMessage" ng-bind="item.w_firstMessage | nullStringFilter" title="{{item.w_firstMessage | nullStringFilter}}"></span> <span ng-switch-when="c_firstMessage"><a class="c75 custom-main-font-color" ng-click="_gotoChatCenter(item.id,item.engineer,item)" ng-bind="item.c_firstMessage | nullStringFilter" title="{{item.c_firstMessage | nullStringFilter}}"></a></span> <span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div><div class="set-up-out" ng-show="showSetUp"><div class="set-up"><div class="Btn" ng-repeat="item in chatHeader track by $index" ng-click="chat.selectColumn($index)">{{item.title}}<div class="position iconfont custom-main-font-color" ng-if="item.default||item.active">&#xe640;</div></div><div style="clear:both"></div><div class="btn-group-common bottom-btnGroup"><button type="button" class="btn btn-confirm custom-background-color btn-class" ng-click="chat.sureSetUp();" ladda="savingSettings" ng-disabled="savingSettings">确定</button> <a class="btn btn-cancel btn-class" ng-click="chat.cancelSetUp();">取消</a></div></div></div><style>.no_data{height:42px;color:#999;padding:0 20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:42px}.chat-table thead tr td:last-child{width:60px;text-align:center;cursor:pointer;color:#999}.set-up-out{position:absolute;right:20px;top:51px}.set-up{width:260px;overflow:hidden;background:#FFF;border:1px solid #999;box-shadow:5px 5px 5px #888;border-radius:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.set-up .Btn{width:100px;height:30px;float:left;margin-left:20px;margin-top:20px;border-radius:5px;border:1px solid #999;text-align:center;color:#333;font-size:14px;line-height:30px;cursor:pointer;position:relative}.set-up .Btn .position{position:absolute;right:-1px;top:-3px;height:26px;width:24px;font-size:26px}.set-up .bottom-btnGroup{width:100%;padding-bottom:20px;margin-top:60px}.set-up .bottom-btnGroup .btn-class{width:100px;height:30px;margin-left:20px;margin-top:20px;border-radius:5px}</style>');e.put("source/quick_entry/templates/quick_entry_chat_closed.html",'<div class="ewei-table" style="background-color:#fff" ng-class="{\'no-pager\': tableParams.total()==0}"><div class="data-area"><table ng-table="tableParams" ewei-table-auto-rows="setRows" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th class="text-left {{item.widthClass}}" ng-repeat="item in endChatHeader track by $index" ewei-custom-column-width="item" column-type="\'chat.end\'"><span>{{item.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="tableParams.total()==0" class="no-data"><tr><td style="background-color:#fff" colspan="{{vm.columns.length}}"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="tableParams.total()>0"><tr ng-repeat="item in endChatList track by $index"><td ng-repeat="column in endChatHeader track by $index" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="\'chat.end\'"><span ng-switch-when="2" ng-switch="column.field"><span ng-switch-default ng-bind="item[column.field0][column.field1] | nullStringFilter" title="{{item[column.field0][column.field1] | nullStringFilter}}"></span> <span ng-switch-when="ticketMetric.responseMinutes" ng-bind=\'item.ticketMetric.responseMinutes | minute_format_filter:"responseMinutes":item.status\'></span> <span ng-switch-when="ticketMetric.solveMinutes" ng-bind=\'item.ticketMetric.solveMinutes | minute_format_filter:"solveMinutes":item.status\'></span> <span ng-switch-when="evaluate.score" title="{{item.ticket.evaluate.scoreName | nullStringFilter}}">{{item.ticket.evaluate.scoreName | nullStringFilter}}</span> <span ng-switch-when="evaluate.solved" title="{{item.ticket.evaluate.solvedName | nullStringFilter}}">{{item.ticket.evaluate.solvedName | nullStringFilter}}</span> </span><span ng-switch-when="3" ng-switch="column.field"><span ng-switch-when="user.role.name" ng-bind="item.user.role.name | translate" title="{{item.user.role.name | translate}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span> </span><span ng-switch-default ng-switch="column.field"><span style="display:block;position:relative" ng-switch-when="ticket_subject"><span style="display:block;position:absolute"><ewei-ticket-sla ticketstatuscolors="ticketStatusColors" ticketid="{{item.ticket_id}}" status="item.ticket_status" format="short" data-template-url="/source/scripts/directives/ewei-ticket-sla/sla_tip.html"></ewei-ticket-sla></span><span style="display:block;padding-right:1px;margin-left:24px;word-break:break-all"><a ng-click="ticketDetailBuried()" class="c75 custom-main-font-color" ui-sref="tickets_detail({id:item.ticket_id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> </span></span><span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div><style>.no_data{height:42px;color:#999;padding:0 20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:42px}.h4-title{background:#f7f7f7;padding:10px 20px;margin:0;height:50px;line-height:34px;font-size:16px;font-weight:bolder;width:100%}</style>');e.put("source/quick_entry/templates/quick_entry_chat_waiting.html",'<div class="ewei-table" style="background-color:#fff" ng-class="{\'no-pager\': tableParams.total()==0}"><div ng-click="waitChat.setUp();" ng-mouseenter="hoverFun(true);" ng-mouseleave="hoverFun(false);" ng-class="{\'custom-main-font-color\':hoverEffect}" class="chat-table-header-setting"><span><i class="iconfont">&#xe639;</i>设置</span></div><div class="data-area"><table ng-table="tableParams" ewei-table-auto-rows="setRows" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th class="text-left {{item.widthClass}}" ng-repeat="item in waitChatHeader track by $index" ng-if="item.default||item.active" ewei-custom-column-width="item" column-type="\'chat.waiting\'"><span>{{item.title}}<span class="sort-indicator"></span></span></th><th class="text-left" style="width:150px;min-width:150px"><span>操作</span></th></tr></thead><tbody ng-if="tableParams.total()==0 && !tableParams.isLoading" class="no-data"><tr><td style="background-color:#fff" colspan="{{waitChatHeader.length}}+1"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="tableParams.total()>0"><tr ng-repeat="item in waitChatList track by $index"><td ng-repeat="column in waitChatHeader track by $index" ng-if="column.default||column.active" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="\'chat.waiting\'"><span ng-switch-when="2" ng-switch="column.field"><span ng-switch-when="serviceCatalog.name" service-catalog-show servicecatalog="item.serviceCatalog"></span> <span ng-switch-when="serviceDesk.name" ng-bind="item.serviceDesk.name | translate" title="{{item.serviceDesk.name | translate}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1] | nullStringFilter" title="{{item[column.field0][column.field1] | nullStringFilter}}"></span></span> <span ng-switch-when="3" ng-switch="column.field"><span ng-switch-when="user.role.name" ng-bind="item.user.role.name | translate" title="{{item.user.role.name | translate}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span></span> <span ng-switch-default ng-switch="column.field"><span ng-switch-when="createdAt" ng-bind="item.createdAt | dateFilter" title="{{item.createdAt | dateFilter}}"></span> <span ng-switch-when="c_firstMessage"><a class="c75" ng-click="_gotoChatCenter(item.id,item.engineer,item)" ng-bind="item.c_firstMessage | nullStringFilter" title="{{item.c_firstMessage | nullStringFilter}}"></a></span> <span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td><td style="text-align:left;width:150px;min-width:150px"><span ng-click="myselfHandleWaitingSession(item.id);" style="cursor:pointer" class="custom-main-font-color">我来处理</span> &nbsp; <span ng-if="item.isMyselfHandle && item.isMyselfHandle==\'false\'" ng-click="selectEngineerHandleWaitingSession(item.id);" style="cursor:pointer" class="custom-main-font-color">分给别人</span></td></tr></tbody></table><div class="footer" ng-if="tableParams.total()==0"><table ng-if="tableParams.total()==0" class="content" style="margin-left:-250px;bottom:20%"><tr><td><h5 style="font-weight:700">如何发起会话?</h5></td></tr><tr><td>方式1:&nbsp;通过<a class="dash-color1" href="{{serviceProvider}}">{{serviceProvider}}</a>的在线交谈发起会话。</td></tr><tr><td>方式2:&nbsp;让客户通过桌面客户端发起。</td><td ng-if="$root.providerLicense && ($root.providerLicense.type !=\'oem\' && !licenseService.hasModule(\'oem\'))"><div class="box" ng-click="downloadApplication();"><h5><i class="iconfont">&#xe653;</i>下载桌面客户端</h5></div></td></tr><tr ng-if="permissionValue"><td>方式3:&nbsp;在网页或者产品页面加入js代码。</td><td><div class="box" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})"><h5><i class="iconfont">&#xe648;</i>添加网页在线客服</h5></div></td></tr><tr ng-if="permissionValue"><td>方式4:&nbsp;接入微信服务号或者企业号。</td><td><div class="box" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})"><h5><i class="iconfont">&#xe648;</i>添加微信客服渠道</h5></div></td></tr></table></div></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div><div class="set-up-out" ng-show="showSetUp"><div class="set-up"><div class="Btn" ng-repeat="item in waitChatHeader track by $index" ng-click="waitChat.selectColumn($index)">{{item.title}}<div class="position iconfont custom-main-font-color" ng-if="item.default||item.active">&#xe640;</div></div><div class="clear"></div><div class="btn-group-common bottom-btnGroup"><button type="button" class="btn btn-confirm custom-background-color btn-class" ng-click="waitChat.sureSetUp();" ladda="savingSettings" ng-disabled="savingSettings">确定</button> <a class="btn btn-cancel btn-class" ng-click="waitChat.cancelSetUp();">取消</a></div></div></div><style>.footer .content{position:absolute;left:50%}.footer .box{border:1px dashed #CAC4C4;padding:0 5px;cursor:pointer;border-radius:4px;font-size:10px;font-weight:700;width:150px}.footer table tr{height:45px}.footer table td{padding:5px}.h4-title{background:#f7f7f7;padding:10px 20px;margin:0;height:50px;line-height:34px;font-size:16px;font-weight:bolder;width:100%}.set-up-out{position:absolute;right:20px;top:51px}.set-up{width:260px;overflow:hidden;background:#FFF;border:1px solid #999;box-shadow:5px 5px 5px #888;border-radius:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.set-up .Btn{width:100px;height:30px;float:left;margin-left:20px;margin-top:20px;border-radius:5px;border:1px solid #999;text-align:center;color:#333;font-size:14px;line-height:30px;cursor:pointer;position:relative}.set-up .Btn .position{position:absolute;right:-1px;top:-3px;height:26px;width:24px;font-size:26px}.set-up .bottom-btnGroup{width:100%;padding-bottom:20px;margin-top:60px}.set-up .bottom-btnGroup .btn-class{width:100px;height:30px;margin-left:20px;margin-top:20px;border-radius:5px}</style>');e.put("source/quick_entry/templates/quick_entry_community.html",'<div class="ewei-table" style="background-color:#fff" ng-class="{\'no-pager\': vm.tableParams.total()==0}"><div class="data-area"><table ng-table="vm.tableParams" ewei-table-auto-rows="vm.setRows" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr class="padding15px"><th ng-repeat="column in vm.columns track by $index" class="text-left {{column.widthClass}}" ewei-custom-column-width="column" column-type="\'community\'" ng-class="{\n                    \'sort-asc\': vm.tableParams.isSortBy(column.field, \'asc\'),\n                    \'sort-desc\': vm.tableParams.isSortBy(column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="vm.sorting(column)"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="vm.tableParams.total()==0" class="no-data"><tr><td style="background-color:#fff" colspan="{{vm.columns.length}}"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-hide="vm.tableParams.total()==0" ng-repeat="group in $groups track by $index"><tr ng-repeat="item in group.data"><td ewei-custom-column-width="vm.columns[0]" column-type="\'community\'"><span ng-bind="item.createdAt" title="{{item.createdAt}}"></span></td><td ewei-custom-column-width="vm.columns[1]" column-type="\'community\'"><span ng-bind="item.user.name" title="{{item.user.name}}"></span></td><td ewei-custom-column-width="vm.columns[2]" column-type="\'community\'"><a class="custom-main-font-color" ng-href="{{\'/#/question_or_article/\'+ item.question.id}}" target="_blank" title="{{item.question.title}}"><span ng-bind="item.question.title"></span></a></td></tr></tbody></table><div class="add-tip" ng-if="vm.role != \'ROLE_NAME_VISITOR\' && vm.tableParams.total() <= 6"><div><div style="display:inline-block;text-align:center"><div ng-click="vm.goAddArticle()" style="border-radius:4px;width:160px;height:40px;border:1px dashed #999;line-height:40px;margin-right:20px;cursor:pointer" class="pull-left"><i style="vertical-align:middle;margin-right:5px" class="iconfont">&#xe648;</i>添加社区文章</div><div ng-click="vm.goEditMenu()" ng-if="vm.role == \'ROLE_NAME_EDITOR\'" style="border-radius:4px;width:160px;height:40px;border:1px dashed #999;line-height:40px;margin-right:20px;cursor:pointer" class="pull-left"><i style="vertical-align:middle;margin-right:5px" class="iconfont">&#xe662;</i>编辑目录</div><div ui-sref="system_setting.detail({\'settingType\':\'system\',\'uri\':\'brand_setting\'})" ng-if="vm.role == \'ROLE_NAME_EDITOR\'" style="border-radius:4px;width:160px;height:40px;border:1px dashed #999;line-height:40px;cursor:pointer" class="pull-left"><i style="vertical-align:middle;margin-right:5px" class="iconfont">&#xe663;</i>定制界面</div></div></div><div style=""><p style="margin-top:20px;color:#999">有可用的社区内容，可促进客户自助服务，减少重复的服务请求</p></div></div></div><div ng-table-pagination="vm.tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div>');e.put("source/quick_entry/templates/quick_entry_engineer.html",'<div class="ewei-table" style="background-color:#fff" ng-class="{\'no-pager\': vm.tableParams.total()==0}"><div class="data-area"><table ng-table="vm.tableParams" ewei-table-auto-rows="vm.setRows" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th ng-repeat="column in vm.columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ng-class="{\n            \'sort-asc\': vm.tableParams.isSortBy(column.sortField, \'asc\'),\n            \'sort-desc\': vm.tableParams.isSortBy(column.sortField, \'desc\'),\n            \'sortable\': column.sortable\n          }" ewei-custom-column-width="column" column-type="\'engineer\'" ng-click="vm.sorting(column)"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="vm.tableParams.total()==0" class="no-data" ng-cloak><tr><td style="background-color:#fff" colspan="{{vm.columns.length}}"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="vm.tableParams.total()>0" ng-repeat="group in $groups track by $index"><tr ng-repeat="item in group.data track by item.id" ng-click="vm.rowClick(item)"><td ewei-custom-column-width="vm.columns[0]" column-type="\'engineer\'"><span><a class="custom-main-font-color c75 ng-binding ellipsis" style="max-width:8em" ui-sref="system_setting.engineer_detail({id:item.id,uri:\'run_engineers\'})" ng-bind="item.user.name | nullStringFilter" title="{{item.user.name | nullStringFilter}}">{{item.user.name}}</a></span></td><td ewei-custom-column-width="vm.columns[1]" column-type="\'engineer\'"><span ng-bind="item.defaultServiceDesk.name | translate" title="{{item.defaultServiceDesk.name | translate}}" class="ellipsis" style="max-width:8em"></span></td><td ewei-custom-column-width="vm.columns[2]" column-type="\'engineer\'"><span ng-bind="item.role.name | translate" title="{{item.role.name | translate}}" class="ellipsis" style="max-width:8em"></span></td><td ewei-custom-column-width="vm.columns[3]" column-type="\'engineer\'"><span ng-bind="item.user.mobilePhone  | nullStringFilter" title="{{item.user.mobilePhone  | nullStringFilter}}"></span></td><td ewei-custom-column-width="vm.columns[4]" column-type="\'engineer\'"><span ng-bind="item.user.lastLoginAt  | nullStringFilter" title="{{item.user.lastLoginAt  | nullStringFilter}}"></span></td><td ewei-custom-column-width="vm.columns[5]" column-type="\'engineer\'"><engineer-status engineer="item" chat-count="item.countChat" chat-max="item.concurrentChatNumber" status="{{item.engineerStatus.userOnline}}"></engineer-status></td><td class="device-icon" ewei-custom-column-width="vm.columns[6]" column-type="\'engineer\'"><span><i class="iconfont" ng-if="item.webLogin && item.webOnline" ng-class="{\'custom-main-font-color\':item.webOnline}">&#xe777;</i> <i class="iconfont" ng-if="item.webLogin && !item.webOnline" ng-class="{\'custom-main-font-color\':item.webOnline}">&#xe658;</i> <i class="iconfont" ng-if="item.androidLogin && item.androidOnline" ng-class="{\'custom-main-font-color\':item.androidOnline}">&#xe776;</i> <i class="iconfont" ng-if="item.androidLogin && !item.androidOnline" ng-class="{\'custom-main-font-color\':item.androidOnline}">&#xe659;</i> <i class="iconfont" ng-if="item.iosLogin && item.iosOnline" ng-class="{\'custom-main-font-color\':item.iosOnline}">&#xe771;</i> <i class="iconfont" ng-if="item.iosLogin && !item.iosOnline" ng-class="{\'custom-main-font-color\':item.iosOnline}">&#xe65a;</i></span></td></tr></tbody></table></div><div ng-table-pagination="vm.tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div><div class="add-tip" ng-if="vm.showAddTip"><div class="btn btn-plus" ng-click="vm.inviteEngineer()"><i class="iconfont">&#xe648;</i></div><div class="desc">邀请小伙伴，加入服务团队<br>任性邀请不限数量</div></div></div>');e.put("source/quick_entry/templates/quick_entry_manage.html",'<section class="main_panes layoutA" style="overflow:hidden"><div class="quick-entry-management"><div class="part-top"><ul ng-sortable="sortableOptions"><li ng-repeat="item in items track by $index" ng-class="{\'manage-animation-reduce\':item.reduce,\'manage-animation-grow\':items[$index].grow}" style="cursor:move"><p class="title-p">{{item.name}}</p><p class="title-symbol">-</p><div class="iconfont tuodong-point myHandle">&#xe656;</div></li></ul><div style="clear:both"></div></div><div class="part-main"><div class="title-bar">自定义快捷入口</div><div class="list-title">工单列表</div><ul class="list-common"><li ng-repeat="item in ticket_views track by $index" ng-click="switchTicketList(item,$index);" has-permission="{{::item.permission}}">{{item.displayTitle||item.title}}<div ng-if="defaultCheckedOptionValues[\'ticket_view_\'+item.id]||ticket_views[$index].pointShow" ng-class="{\'custom-main-font-color\':true,\'iconfont\':true,\'right-top-point\':true,\'manage-point-show\':ticket_views[$index].pointShow,\'manage-point-hide\':ticket_views[$index].pointHide}">&#xe640;</div></li><div style="clear:both"></div></ul><div class="list-title">用户列表</div><ul class="list-common"><li ng-repeat="item in user_default_views track by $index" ng-click="switchCommonList(item,$index,\'user_default\');">{{item.displayTitle||item.title}}<div ng-if="defaultCheckedOptionValues[item.typeKey]||user_default_views[$index].pointShow" ng-class="{\'custom-main-font-color\':true,\'iconfont\':true,\'right-top-point\':true,\'manage-point-show\':user_default_views[$index].pointShow,\'manage-point-hide\':user_default_views[$index].pointHide}">&#xe640;</div></li><li ng-repeat="item in user_views track by $index" ng-click="switchUserList(item,$index);" has-permission="{{::item.permission}}">{{item.displayTitle||item.title}}<div ng-if="defaultCheckedOptionValues[item.typeKey]||user_views[$index].pointShow" ng-class="{\'custom-main-font-color\':true,\'iconfont\':true,\'right-top-point\':true,\'manage-point-show\':user_views[$index].pointShow,\'manage-point-hide\':user_views[$index].pointHide}">&#xe640;</div></li><div style="clear:both"></div></ul><div class="list-title">会话列表</div><ul class="list-common"><li ng-repeat="item in chatList track by $index" ng-click="switchCommonList(item,$index,\'chat_list\');">{{item.title}}<div ng-if="defaultCheckedOptionValues[item.typeKey]||chatList[$index].pointShow" ng-class="{\'custom-main-font-color\':true,\'iconfont\':true,\'right-top-point\':true,\'manage-point-show\':chatList[$index].pointShow,\'manage-point-hide\':chatList[$index].pointHide}">&#xe640;</div></li><div style="clear:both"></div></ul><div class="list-title">社区资源列表</div><ul class="list-common"><li ng-repeat="item in communityResourceList track by $index" ng-click="switchCommonList(item,$index,\'community\');">{{item.title}}<div ng-if="defaultCheckedOptionValues[item.typeKey]||communityResourceList[$index].pointShow" ng-class="{\'custom-main-font-color\':true,\'iconfont\':true,\'right-top-point\':true,\'manage-point-show\':communityResourceList[$index].pointShow,\'manage-point-hide\':communityResourceList[$index].pointHide}">&#xe640;</div></li><div style="clear:both"></div></ul><div class="list-title">仪表盘</div><ul class="list-common"><li ng-repeat="item in dashboardList track by $index" ng-click="switchCommonList(item,$index,\'dashboard\');">{{item.title}}<div ng-if="defaultCheckedOptionValues[item.typeKey]||dashboardList[$index].pointShow" ng-class="{\'custom-main-font-color\':true,\'iconfont\':true,\'right-top-point\':true,\'manage-point-show\':dashboardList[$index].pointShow,\'manage-point-hide\':dashboardList[$index].pointHide}">&#xe640;</div></li><div style="clear:both"></div></ul><div class="btn-group-common button-group-list"><button type="button" class="btn btn-confirm custom-background-color" ng-click="submitManage();" ladda="savingSettings" ng-disabled="savingSettings">确定</button> <a class="btn btn-cancel" ui-sref="quickentry">取消</a></div></div></div></section><style type="text/css">.sortable-ghost{opacity:0}@keyframes length-grow{from{width:0;opacity:0}to{width:16.66%;opacity:1}}@keyframes length-reduce{from{width:16.66%;opacity:1}to{width:0;opacity:0}}@keyframes show-ponit{from{opacity:0}to{opacity:1}}@keyframes hide-point{from{opacity:1}to{opacity:0}}.manage-animation-grow{animation:length-grow 1s}.manage-animation-reduce{animation:length-reduce 1s}.manage-point-show{animation:show-ponit 1s}.manage-point-hide{animation:hide-point 1s}.quick-entry-management{font-size:16px;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none}.quick-entry-management .part-top{height:80px;width:100%;overflow:hidden;border-radius:2px;background-color:#fff}.quick-entry-management .part-main{position:absolute;top:90px;left:0;right:0;bottom:0;overflow-y:auto;overflow-x:hidden;padding-bottom:40px;background-color:#fff;border-radius:2px}.quick-entry-management .part-top .manage-box .title-p{margin:20px 0 0 0}.quick-entry-management .part-top>ul{list-style:none;margin:0;padding:0;height:80px;width:100%}.quick-entry-management .part-top>ul li{padding:0;margin:0;float:left;position:relative;height:80px;text-align:center;color:#404a55;border-right:1px solid #eef2f9;width:14.28%}.quick-entry-management .part-top>ul li .tuodong-point{position:absolute;right:10px;top:0;font-size:16px;cursor:move}.quick-entry-management .part-top>ul li .title-p{margin:20px 0 0 0;font-size:13px;color:#404a55}.quick-entry-management .part-top>ul li .title-symbol{margin:0;color:#6e7b8f}.quick-entry-management .title-bar{width:100%;text-align:left;line-height:50px;height:50px;color:#333;border-bottom:1px solid #DDD;padding-left:20px}.quick-entry-management .list-common{list-style:none;margin:0;padding:0 0 0 20px}.quick-entry-management .list-common li{margin:10px 20px 10px 0;height:30px;font-size:14px;text-align:center;padding:3px 8px;color:#333;border-radius:5px;border:1px solid #999;float:left;position:relative;min-width:100px;cursor:pointer}.quick-entry-management .list-common li .right-top-point{position:absolute;top:-8px;right:-3px;height:26px;width:26px;font-size:26px;padding:0}.quick-entry-management .list-title{width:100%;margin:20px 0 10px 0;padding-left:20px;font-size:14px;color:#333}.quick-entry-management .button-group-list{margin:30px 0 0 20px;width:100%}</style>');e.put("source/quick_entry/templates/quick_entry_servicedesk.html",'<div class="ewei-table" ng-class="{\'no-pager\': vm.tableParams.total()==0}"><div class="data-area"><table ng-table="vm.tableParams" id="vm.tableParams" ewei-table-auto-rows="vm.setRows" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th ng-repeat="column in vm.columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ewei-custom-column-width="column" column-type="\'serviceDesk\'" ng-class="{\n                    \'sort-asc\': vm.tableParams.isSortBy(column.field, \'asc\'),\n                    \'sort-desc\': vm.tableParams.isSortBy(column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="vm.sorting(column)"><span>{{column.title}}<span class="sort-indicator"></span></span></th><th class="operations"><span>操作</span></th></tr></thead><tbody ng-if="vm.datas.length==0 && !vm.tableParams.isLoading" class="no-data"><tr><td style="background-color:#fff" colspan="{{vm.columns.length}}"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="vm.datas.length>0"><tr ng-if="vm.tableParams.total()>0" ng-repeat="item in vm.datas track by $index"><td ng-repeat="column in vm.columns track by $index" ng-if="column.visible" ng-switch="column.field" ewei-custom-column-width="column" column-type="\'serviceDesk\'"><span ng-switch-when="createdAt" title="{{item.createdAt | dateFilter_style1}}">{{item.createdAt | dateFilter_style1}}</span> <span ng-switch-when="updatedAt" title="{{item.updatedAt  | dateFilter_style1}}">{{item.updatedAt | dateFilter_style1}}</span> <span ng-switch-when="name" class="ellipsis" style="max-width:8em"><a class="custom-main-font-color" ng-click="vm.userGroupsBuried()" ui-sref="system_setting.service_desks_edit({id:item.id,type:\'edit\'})" title="{{item[column.field] | translate}}">{{item[column.field] | translate}}</a> </span><span ng-switch-default title="{{item[column.field]}}">{{item[column.field]}}</span></td><td class="operations"><a class="custom-main-font-color" has-permission="service_desk_update" ng-click="vm.edit(item.id, \'edit\')">编辑</a> <a class="custom-main-font-color" has-permission="service_desk_delete" ng-if="item.name != \'默认服务台\' && item.name != \'DEFAULT_SERVICE_DESK_NAME\'" ng-click="vm.remove(item)">删除</a></td></tr></tbody></table></div><div ng-table-pagination="vm.tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div><div class="ticket-loading" ng-if="vm.tableParams.isLoading"><img src="/source/images/ajax-loader.gif"></div></div>');e.put("source/quick_entry/templates/quick_entry_ticket.html",'<style>.footer .content{position:absolute;left:50%}.footer .box{border:1px dashed #CAC4C4;padding:0 5px;cursor:pointer;border-radius:4px;font-size:10px;font-weight:700}.footer table td{padding:5px}.footer table tr{height:45px}</style><div class="ewei-table" style="background-color:#fff" ng-class="{\'no-pager\': vm.tableParams.total()==0}"><div class="data-area" ewei-table-scroll-to-max-right><table ng-table="vm.tableParams" ewei-table-auto-rows="vm.setRows" has-group="false && vm.view.groupBy && vm.view.groupBy.length>0" group-info="$groups" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th ng-repeat="column in vm.columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ewei-custom-column-width="column" column-type="\'ticket\'" custom-field-column-width-info="vm.customFieldsLength" field-column-width-info="vm.fieldsLength" ng-class="{\n                  \'sort-asc\': vm.tableParams.isSortBy(column.field, \'asc\'),\n                  \'sort-desc\': vm.tableParams.isSortBy(column.field, \'desc\'),\n                  \'sortable\': column.sortable\n                }" ng-click="vm.sorting(column)"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="vm.datas.length==0" class="no-data"><tr><td style="background-color:#fff" colspan="{{vm.columns.length}}"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-repeat="group in $groups track by $index"><tr class="ng-table-group" ng-if="group.value!=null"><td colspan="{{columns.length+(showCheckboxes?1:0)}}"><a ng-click="group.$hideRows = !group.$hideRows"><span class="glyphicon" ng-class="{ \'glyphicon-chevron-right\': group.$hideRows, \'glyphicon-chevron-down\': !group.$hideRows }"></span> <strong ng-bind="group.value | nullStringFilter" title="{{group.value | nullStringFilter}}"></strong></a></td></tr><tr ng-class="{highlight: item.id==0}" ng-repeat="item in group.data track by item.id"><td ng-repeat="column in vm.columns track by $index" ng-if="column.visible" ng-switch="column.field" ewei-custom-column-width="column" column-type="\'ticket\'" custom-field-column-width-info="vm.customFieldsLength" field-column-width-info="vm.fieldsLength"><span ng-switch-when="subject"><a ng-if="0!=item.id" ticket-subject ng-click="ticketDetailBuried()" ui-sref="tickets_detail({id:item.id})" subject="item[column.field]" ticket-status-colors="vm.statusColors" ticketid="{{item.id}}" sla-status="item.status" sla-format="short" deleted="item.deleted"></a> <a ng-if="0==item.id" class="custom-main-font-color c75" ng-click="vm.createDemoTicket()" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a><simulation-ticket-pointer ng-if="0==item.id"></simulation-ticket-pointer></span><span ng-switch-when="subscription"><i class="fa" style="position:relative;top:3px;font-size:1.3em;cursor:pointer" ng-class="{\'fa-star-o\':!item.isTarget,\'fa-star\':item.isTarget,\'color_yellow\':item.isTarget}" ng-click="vm.setSubscription(item)"></i> </span><span ng-switch-default><ewei-ticket-field-show field="column.field" ticket="item"></ewei-ticket-field-show></span></td></tr></tbody></table><div class="footer" ng-if="0==vm.tableParams.total()"><div ng-if="vm.isShowCreateNewTicket" class="content" style="margin-left:-100px;cursor:pointer;bottom:50%" ng-click="vm.createNewTicket()"><i class="iconfont" style="font-size:70px;color:#CAC4C4">&#xe65c;</i> <span style="display:block;text-align:center">创建工单</span></div><table ng-if="vm.isShowHowToCreateTicket" class="content" style="margin-left:-250px;bottom:30%"><tr><td><h5 style="font-weight:700">如何发起工单？</h5></td></tr><tr><td>方式1：将帮助中心地址<a class="custom-link-color" href="{{vm.submitNewTicketTip}}" target="_blank">{{vm.submitNewTicketTip}}</a>公布给客户，客户可在帮助中心提交工单。</td></tr><tr ng-if="vm.isAuthorTicketSettingVia"><td>方式2：在网页或者产品页面加入JS代码</td><td><div ng-click="vm.createNewViaWebForm()" class="box"><h5>+添加网页提交工单渠道</h5></div></td></tr><tr ng-if="vm.isAuthorTicketSettingVia"><td>方式3：配置邮件收件箱，公布给客户，接收客户发送的邮件，<br>自动转为工单。</td><td><div ng-click="vm.createNewViaEmail()" class="box"><h5>+添加电子邮件接入</h5></div></td></tr></table></div></div><div ng-table-pagination="vm.tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div>');e.put("source/quick_entry/templates/quick_entry_user.html",'<div class="ewei-table" style="background-color:#fff" ng-class="{\'no-pager\': vm.tableParams.total()==0}"><div class="data-area"><table ng-table="vm.tableParams" ewei-table-auto-rows="vm.setRows" has-group="vm.view.groupBy && vm.view.groupBy.length>0" group-info="$groups" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th ng-repeat="column in vm.columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ewei-custom-column-width="column" column-type="\'user\'" custom-field-column-width-info="vm.customFieldsLength" field-column-width-info="vm.fieldsLength" ng-class="{\n                    \'sort-asc\': vm.tableParams.isSortBy(column.field, \'asc\'),\n                    \'sort-desc\': vm.tableParams.isSortBy(column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="vm.sorting(column)"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="vm.datas.length==0 && !vm.tableParams.isLoading" class="no-data"><tr><td style="background-color:#fff" colspan="{{vm.columns.length}}"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="vm.datas.length>0" ng-repeat="group in $groups track by $index"><tr ng-if="vm.tableParams.total() > 0 && group.value!=null" class="ng-table-group"><td colspan="{{columns.length+(showCheckboxes?1:0)}}"><a ng-click="group.$hideRows = !group.$hideRows"><span class="glyphicon" ng-class="{ \'glyphicon-chevron-right\': group.$hideRows, \'glyphicon-chevron-down\': !group.$hideRows }"></span> <strong ng-bind="group.value | nullStringFilter" title="{{group.value | nullStringFilter}}"></strong></a></td></tr><tr ng-if="vm.tableParams.total() > 0" ng-repeat="item in group.data track by item.id"><td ng-repeat="column in vm.columns track by $index" ng-if="column.visible" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="\'user\'" custom-field-column-width-info="vm.customFieldsLength" field-column-width-info="vm.fieldsLength"><span ng-switch-when="2" ng-switch="column.field"><span ng-switch-when="userGroup.name" ng-bind="item.userGroup.name | translate" title="{{item.userGroup.name | translate}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1] | nullStringFilter" title="{{item[column.field0][column.field1] | nullStringFilter}}"></span> </span><span ng-switch-when="3" ng-switch="column.field"><span ng-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span> </span><span ng-switch-default ng-switch="column.field"><span ng-switch-when="createdAt" ng-bind="item.createdAt | dateFilter_style1" title="{{item.createdAt | dateFilter_style1}}"></span> <span ng-switch-when="updatedAt" ng-bind="item.updatedAt  | dateFilter_style1" title="{{item.updatedAt  | dateFilter_style1}}"></span> <span ng-switch-when="deletedAt" ng-bind="item.deletedAt | dateFilter_style1" title="{{item.deletedAt | dateFilter_style1}}"></span> <span ng-switch-when="lastLoginAt" ng-bind="item.lastLoginAt | dateFilter_style1" title="{{item.lastLoginAt | dateFilter_style1}}"></span> <span ng-switch-when="shared" ng-bind="item.shared | booleanFilter" title="{{item.shared | booleanFilter}}"></span> <span ng-switch-when="status" ng-bind="item.status| ticketStatusFilter" title="{{item.status| ticketStatusFilter}}"></span> <span ng-switch-when="tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span ng-switch-when="name"><a class="custom-main-font-color" ui-sref="customers_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}">{{name}}</a></span> <span ng-switch-default ng-switch="column.type"><span ng-switch-when="checkbox" ng-bind="item[column.field] | checkboxFilter" title="{{item[column.field] | checkboxFilter}}"></span> <span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></span></td></tr></tbody></table><div ng-if="vm.showAddTip"><div class="add-tip" ng-if="vm.typeKey !== \'user_blacklist\'"><div class="btn btn-plus" ng-click="vm.createUser()"><i class="iconfont">&#xe648;</i></div><div class="desc">添加客户<br>提供极致服务</div></div></div></div><div ng-table-pagination="vm.tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div>');e.put("source/quick_entry/templates/quick_entry_usergroup.html",'<div class="ewei-table" ng-class="{\'no-pager\': vm.tableParams.total()==0}"><div class="data-area"><table ng-table="vm.tableParams" id="vm.tableParams" ewei-table-auto-rows="vm.setRows" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th ng-repeat="column in vm.columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ewei-custom-column-width="column" column-type="\'userGroup\'" custom-field-column-width-info="vm.customFieldsLength" field-column-width-info="vm.fieldsLength" ng-class="{\n                    \'sort-asc\': vm.tableParams.isSortBy(column.field, \'asc\'),\n                    \'sort-desc\': vm.tableParams.isSortBy(column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="vm.sorting(column)"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="vm.tableParams.total()==0 && !vm.tableParams.isLoading" class="no-data"><tr><td style="background-color:#fff" colspan="{{vm.columns.length}}"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="vm.tableParams.total()>0"><tr ng-if="vm.tableParams.total()>0" ng-repeat="item in vm.datas track by $index"><td ng-repeat="column in vm.columns track by $index" ng-if="column.visible" ng-switch="column.field" ewei-custom-column-width="column" column-type="\'userGroup\'" custom-field-column-width-info="vm.customFieldsLength" field-column-width-info="vm.fieldsLength"><span ng-switch-when="createdAt" title="{{item.createdAt | dateFilter_style1}}">{{item.createdAt | dateFilter_style1}}</span> <span ng-switch-when="updatedAt" title="{{item.updatedAt  | dateFilter_style1}}">{{item.updatedAt | dateFilter_style1}}</span> <span ng-switch-when="shared" title="{{item.shared | booleanFilter}}">{{item.shared | booleanFilter}}</span> <span ng-switch-when="name"><a class="custom-main-font-color" ng-click="vm.userGroupsBuried()" ui-sref="user_groups_detail({id:item.id})" title="{{item[column.field] | nullStringFilter}}({{item.countUser}})">{{item[column.field] | nullStringFilter}}</a> <span>({{item.countUser}})</span> </span><span ng-switch-default ng-switch="column.type"><span ng-switch-when="checkbox" ng-bind="item[column.field] | checkboxFilter" title="{{item[column.field] | checkboxFilter}}"></span> <span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td></tr></tbody></table></div><div ng-table-pagination="vm.tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div><div class="add-tip" ng-if="vm.showAddTip"><div class="btn btn-plus" ng-click="vm.createUserGroup()"><i class="iconfont">&#xe648;</i></div><div class="desc">添加客户组<br>客户管理更便捷</div></div></div>');e.put("source/remote_control_widget/templates/code.html",'<div><div class="code"><div class="title">输入共享码，远程控制对方的电脑</div><div class="input-group"><input type="text" class="form-control" ng-model="vm.code"> <span class="input-group-btn"><button class="btn button connct-btn custom-main-bgcolor" ladda="vm.connecting" ng-click="vm.connect()">连接</button></span></div></div><div class="tip-info" ng-if="vm.showInfo"><span>共享码由客户在客户端生成并告知<br>如未安装客户端，<a class="link" href="#" ng-click="vm.downloadApp()">点此下载</a></span></div><div class="tip-check" ng-if="vm.showCheck"><check-state subject="vm.checkCode"></check-state><check-state ng-show="vm.startDesk || vm.startVideo" subject="vm.checkClient"></check-state><check-state ng-show="vm.startDesk || vm.startVideo" subject="vm.checkP2p"></check-state><check-state subject="vm.checkChat"></check-state></div><div class="type"><div ng-click="vm.startRemoteType(\'desk\')"><input type="checkbox" checked="checked" ng-click="vm.startRemoteType(\'desk\')" ng-model="vm.startDesk" ng-true-value="1" ng-false-value="0" ng-disabled="vm.connecting"><span>同步开启远程桌面</span></div><div ng-click="vm.startRemoteType(\'video\')"><input type="checkbox" ng-click="vm.startRemoteType(\'video\')" ng-model="vm.startVideo" ng-true-value="1" ng-false-value="0" ng-disabled="vm.connecting"><span>同步开启视频通话</span></div></div></div>');e.put("source/remote_control_widget/templates/contact.html",'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title></title></head><body></body></html>');e.put("source/remote_control_widget/templates/invite.html",'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title></title></head><body></body></html>');e.put("source/remote_control_widget/templates/recent_contact.html",'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title></title></head><body></body></html>');e.put("source/remote_control_widget/templates/remote_control_widget.html",'<div><remote-control-tip show-install="vm.showInstallApp"></remote-control-tip><div class="remote-box" ng-show="vm.panelActived"><div ng-show="vm.showWithTab"><div class="header">远程协助</div><div class="content"><remote-control-code ng-show="vm.showCode">showCode</remote-control-code><remote-control-contact ng-show="vm.showContact">showContact</remote-control-contact><remote-control-recent-contact ng-show="vm.showRecentContact">recent-contact</remote-control-recent-contact><remote-control-invite-before ng-show="vm.showInviteBefore">inviteBefore</remote-control-invite-before></div></div><remote-control-invite ng-show="vm.showInvite">invite</remote-control-invite></div></div>');e.put("source/statistics/chat/chat.channel.detail.view.html",'<div class="statistics-wrap statistics-panel"><div style="margin-top:0" class="data-area"><div class="chart-panel panel" style="display:flex"><div style="flex:1;border-right:1px solid #f2f2f2"><div class="panel-heading"><span ng-click="checked(\'day\')" ng-class="{\'custom-main-font-color\':!showWhichOne.day}">工单数量-日走势</span> | <span ng-click="checked(\'time\')" ng-class="{\'custom-main-font-color\':!showWhichOne.time}">24小时分布</span></div><div class="panel-body"><div ng-if="showWhichOne.day" chart-line-graph-stack chart-option="chartLineGraphStackOption" style="height:400px"></div><div ng-if="showWhichOne.time" chart-line-graph-stack chart-option="chartLineGraphStackOption" style="height:400px"></div></div></div><div style="flex:1"><div class="panel-heading"><span>地理位置分布</span></div><div class="panel-body"><div chart-map-china chart-option="chartMapChinaOption" style="height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">{{data.name}} 统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="chat"></export-report></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="chatDetail"></chart-table></div></div></div></div>');e.put("source/statistics/chat/chat.channel.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'circular\')" ng-class="{\'custom-main-font-color\':!showWhichOne.circular}">服务请求渠道分布</span> | <span ng-click="checked(\'lineGraphStack\')" ng-class="{\'custom-main-font-color\':!showWhichOne.lineGraphStack}">24小时分布</span> | <span ng-click="checked(\'mapChina\')" ng-class="{\'custom-main-font-color\':!showWhichOne.mapChina}">地理位置分布</span></div><div class="panel-body"><div ng-if="quantity.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="quantity.length>0"><div ng-if="showWhichOne.circular" chart-circular chart-option="chartCircularOption" style="width:100%;height:400px"></div><div ng-if="showWhichOne.lineGraphStack" chart-line-graph-stack chart-option="chartLineGraphStackOption" style="width:100%;height:400px"></div><div ng-if="showWhichOne.mapChina" chart-map-china chart-option="chartMapChinaOption" style="width:500px;height:400px;margin:0 auto"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="quantity" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/chat/chat.quality.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'circular\')" ng-class="{\'custom-main-font-color\':!showWhichOne.circular}">评分、解决率和达标率</span> | <span ng-click="checked(\'response\')" ng-class="{\'custom-main-font-color\':!showWhichOne.response}">响应时长分布</span> | <span ng-click="checked(\'solved\')" ng-class="{\'custom-main-font-color\':!showWhichOne.solved}">会话时长分布</span></div><div class="panel-body"><div ng-if="quality.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="quality.length>0"><ol ng-if="showWhichOne.circular" class="circular clearfix"><li ng-repeat="item in chatQuality track by $index"><div chart-circular chart-option="item.chartCircularOption" style="height:100px"></div><p ng-bind="item.title"></p></li></ol><div ng-if="showWhichOne.response" bar-chart option="responseOption" style="height:400px"></div><div ng-if="showWhichOne.solved" bar-chart option="solvedOption" style="height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="quality" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/chat/chat.quantity.detail.view.html",'<div class="statistics-wrap"><div class="data-area"><div class="panel data-panel"><div class="panel-heading">{{data.name}} 统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="quantity"></chart-table></div></div></div></div>');e.put("source/statistics/chat/chat.quantity.view.html",'<div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel"><div class="panel-body"><div ng-if="quantity.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="quantity.length>0"><div lines-chart option="option" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="quantity" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/chat/chat.serviceCatalog.view.html",'<div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><service-catalog-breadcrumb all-service-catalog="allServiceCatalog" selected-service-catalog="selectedServiceCatalog"></service-catalog-breadcrumb></div><div class="panel-body"><div ng-if="total === 0 && loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="total > 0 && loadComplete"><div bar-chart option="options" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">数据明细<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="tableData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/chat/chat.view.html",'<ul class="nav nav-tabs" ng-if="!breadcrumbs || breadcrumbs.length<2"><li ui-sref-active="active"><a ui-sref="statistics.chat.quantity">数量统计</a></li><li ui-sref-active="active"><a ui-sref="statistics.chat.quality">质量统计</a></li><li ui-sref-active="active"><a ui-sref="statistics.chat.channel">渠道来源</a></li><li ui-sref-active="active"><a ui-sref="statistics.chat.serviceCatalog">服务目录</a></li></ul><ul class="breadcrumb" ng-if="breadcrumbs && breadcrumbs.length>1"><li ng-repeat="breadcrumb in breadcrumbs" ng-class="{active: breadcrumbs.length-1 == $index}"><a href="javascript:void(0)" ng-if="breadcrumb.url" class="custom-link-color" ng-click="goto(breadcrumb)">{{breadcrumb.name}}</a> <span ng-if="!breadcrumb.url">{{breadcrumb.name}}</span></li></ul><div class="stat-content-view" ui-view></div>');e.put("source/statistics/customer/customer.customer.detail.view.html",'<div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel" style="display:flex"><div class="chart-panel panel" style="flex:1;border-right:1px solid #e0e5ec"><div class="panel-body"><div lines-chart option="ticketOption" style="width:100%;height:400px"></div></div></div><div class="chart-panel panel" style="flex:1;margin:0"><div class="panel-body"><div lines-chart option="evaluateOption" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-body" style="position:relative"><chart-ticket-table query-params="queryParams" default-columns="defaultColumns" query-name="queryName"></chart-ticket-table></div></div></div></div>');e.put("source/statistics/customer/customer.customer.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'customer\')" ng-class="{\'custom-main-font-color\':showWhichOne.customerEvaluate}">数量</span> | <span ng-click="checked(\'customerEvaluate\')" ng-class="{\'custom-main-font-color\':showWhichOne.customer}">评价</span></div><div class="panel-body"><div ng-if="allData.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="allData.length>0"><div lines-chart ng-if="showWhichOne.customer" option="option" style="width:100%;height:400px"></div><div lines-chart ng-if="showWhichOne.customerEvaluate" option="option" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading"><span>统计数据</span><div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="allData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/customer/customer.customerGroup.detail.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel" style="display:flex"><div class="chart-panel panel" style="flex:1;border-right:1px solid #e0e5ec"><div class="panel-body"><div lines-chart option="ticketOption" style="width:100%;height:400px"></div></div></div><div class="chart-panel panel" style="flex:1;margin:0"><div class="panel-body"><div lines-chart option="evaluateOption" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-body" style="position:relative"><chart-ticket-table query-params="queryParams" default-columns="defaultColumns" query-name="queryName" additional-tip="筛选条件不包含时间段"></chart-ticket-table></div></div></div></div>');e.put("source/statistics/customer/customer.customerGroup.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'customerGroup\')" ng-class="{\'custom-main-font-color\':showWhichOne.customerEvaluate}">数量</span> | <span ng-click="checked(\'customerEvaluate\')" ng-class="{\'custom-main-font-color\':showWhichOne.customerGroup}">评价</span></div><div class="panel-body"><div ng-if="allData.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="allData.length>0"><div lines-chart ng-if="showWhichOne.customerGroup" option="option" style="width:100%;height:400px"></div><div lines-chart ng-if="showWhichOne.customerEvaluate" option="option" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading"><span>统计数据</span><div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="allData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/customer/customer.evaluate.detail.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="panel data-panel"><div class="panel-body"><chart-ticket-table query-params="queryParams" default-columns="defaultColumns" query-name="queryName"></chart-ticket-table></div></div></div></div>');e.put("source/statistics/customer/customer.evaluate.view.html",'<div class="statistics-wrap statistics-ticket-sla"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading">客户满意度</div><div class="panel-body view"><div ng-if="allData.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="allData.length>0"><ul style="width:600px"><li ng-repeat="item in evaluateList track by $index"><div class="echart" echart-pie data="item.data" color="item.color" text="item.text" radius="item.radius"></div><p ng-bind="item.title"></p></li></ul></div></div></div><div class="panel data-panel"><div class="panel-heading"><span>统计数据</span><div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="allData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/customer/customer.view.html",'<ul class="nav nav-tabs" ng-if="breadcrumbs && breadcrumbs.length<2"><li ui-sref-active="active"><a ui-sref="statistics.customer.customerGroup">客户组</a></li><li ui-sref-active="active"><a ui-sref="statistics.customer.customer">客户</a></li><li ui-sref-active="active"><a ui-sref="statistics.customer.evaluate">满意度</a></li></ul><ul class="breadcrumb" ng-if="breadcrumbs && breadcrumbs.length>1"><li ng-repeat="breadcrumb in breadcrumbs" ng-class="{active: breadcrumbs.length-1 == $index}"><a href="javascript:void(0)" ng-if="breadcrumb.url" class="custom-link-color" ng-click="goto(breadcrumb)">{{breadcrumb.name}}</a> <span ng-if="!breadcrumb.url">{{breadcrumb.name}}</span></li></ul><div class="stat-content-view" ui-view></div>');e.put("source/statistics/engineer/engineer.chat.detail.view.html","");e.put("source/statistics/engineer/engineer.chat.quality.detail.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'response\')" ng-class="{\'custom-main-font-color\':!showWhichOne.response}">响应时长</span> | <span ng-click="checked(\'duration\')" ng-class="{\'custom-main-font-color\':!showWhichOne.duration}">会话时长</span> | <span ng-click="checked(\'satisfaction\')" ng-class="{\'custom-main-font-color\':!showWhichOne.satisfaction}">满意度</span></div><div class="panel-body"><div ng-if="allData.length === 0 && loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="loadComplete && allData.length > 0"><div ng-if="showWhichOne.response" lines-chart option="responseOption" style="height:400px"></div><div ng-if="showWhichOne.duration" lines-chart option="durationOption" style="height:400px"></div><div ng-if="showWhichOne.satisfaction" lines-chart option="satisfactionOption" style="height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="allData" total-data="totalData"></chart-table></div></div></div></div>');e.put("source/statistics/engineer/engineer.chat.quality.view.html",'<div class="statistics-wrap statistics-panel statistics-ticket-sla"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'response\')" ng-class="{\'custom-main-font-color\':!showWhichOne.response}">响应时长</span> | <span ng-click="checked(\'duration\')" ng-class="{\'custom-main-font-color\':!showWhichOne.duration}">会话时长</span> | <span ng-click="checked(\'satisfaction\')" ng-class="{\'custom-main-font-color\':!showWhichOne.satisfaction}">满意度</span></div><div class="panel-body"><div ng-if="allData.length === 0 && loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="loadComplete && allData.length > 0"><div ng-if="showWhichOne.response" lines-chart option="responseOption" style="height:400px"></div><div ng-if="showWhichOne.duration" lines-chart option="durationOption" style="height:400px"></div><div ng-if="showWhichOne.satisfaction" lines-chart option="satisfactionOption" style="height:400px"></div></div></div></div><div class="panel data-panel"><div style="margin-top:20px" class="panel-heading"><span>统计数据</span><div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip" placement="left"></tool-tip></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="allData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/engineer/engineer.chat.quantity.view.html",'<div class="statistics-wrap statistics-ticket-sla"><div class="data-area"><div class="chart-panel panel"><div class="panel-body"><div ng-if="allData.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="allData.length>0"><div lines-chart option="option" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div style="margin-top:20px" class="panel-heading"><span>统计数据</span><div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip" placement="left"></tool-tip></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="allData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/engineer/engineer.evaluate.chat.view.html",'<div class="statistics-wrap statistics-ticket-sla"><div class="data-area"><div class="panel data-panel"><div style="margin-top:20px" class="panel-heading"><span>统计数据</span><div class="toolbox pull-right"><tool-tip tip="questionTip" placement="left"></tool-tip></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="allData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/engineer/engineer.view.html",'<ul class="nav nav-tabs" ng-if="breadcrumbs && breadcrumbs.length<2"><li ng-if="scene==\'ticket\'" ui-sref-active="active"><a ui-sref="statistics.engineer.quantityServiceDesk">工作量统计(客服组)</a></li><li ng-if="scene==\'ticket\'" ui-sref-active="active"><a ui-sref="statistics.engineer.qualityServiceDesk">工作质量统计(客服组)</a></li><li ng-if="scene==\'ticket\'" ui-sref-active="active"><a ui-sref="statistics.engineer.quantityEngineer">工作量统计(客服)</a></li><li ng-if="scene==\'ticket\'" ui-sref-active="active"><a ui-sref="statistics.engineer.qualityEngineer">工作质量统计(客服)</a></li><li ng-if="scene==\'ticket\'" ui-sref-active="active"><a ui-sref="statistics.engineer.evaluate">满意度评分(客服)</a></li><li ng-if="scene==\'chat\'" ui-sref-active="active"><a ui-sref="statistics.engineer.chat_quantity">工作量统计</a></li><li ng-if="scene==\'chat\'" ui-sref-active="active"><a ui-sref="statistics.engineer.chat_quality">工作质量统计</a></li><li ng-if="scene==\'chat\'" ui-sref-active="active"><a ui-sref="statistics.engineer.evaluateChat">会话满意度</a></li></ul><div class="scene-wrapper" ng-if="breadcrumbs && breadcrumbs.length<2"><div class="btn-group"><button type="button" class="btn btn-default scene-btn subject">{{ scene === \'ticket\'? \'工单场景\' : \'会话场景\'}}</button> <button type="button" class="btn btn-default dropdown-toggle scene-btn triangle" data-toggle="dropdown" aria-haspopup="false" aria-expanded="true"><span class="caret"></span> <span class="sr-only"></span></button><ul class="dropdown-menu"><li><a ng-click="changeScene(\'ticket\')">工单场景</a></li><li><a ng-click="changeScene(\'chat\')">会话场景</a></li></ul></div></div><ul class="breadcrumb" ng-if="breadcrumbs && breadcrumbs.length>1"><li ng-repeat="breadcrumb in breadcrumbs" ng-class="{active: breadcrumbs.length-1 == $index}"><a href="javascript:void(0)" ng-if="breadcrumb.url" class="custom-link-color" ng-click="goto(breadcrumb)">{{breadcrumb.name}}</a> <span ng-if="!breadcrumb.url">{{breadcrumb.name}}</span></li></ul><div class="stat-content-view" ui-view></div><style>.scene-btn{padding:4px 12px}.scene-btn:active:focus,.scene-btn:focus{outline:0}.subject{min-width:110px}.triangle{min-width:40px}</style>');e.put("source/statistics/service-report/service-report.detail.view.html",'<div class="service-report-detail"><div ng-if="vm.loading" class="loading-mask"></div><div ng-if="vm.loading" class="loading-indicator"><i class="fa fa-spinner fa-pulse"></i></div><div class="header"><h2>致：{{vm.data.template.title}}</h2><a class="text-muted" ng-click="vm.saveTemplate()" ng-disabled="vm.templateSaving">保存模板</a><div class="buttons" ng-if="!vm.showEmailInput"><form id="speaker_form" action="/download_service_report" method="post" target="form_iframe"><input type="hidden" name="data"></form><iframe name="form_iframe" style="display:none"></iframe><a ng-click="vm.download()" class="btn btn-large btn-default" ng-disabled="vm.downloading"><span><i class="r-icon r-icon-download"></i> 下载报告</span></a> <a ng-click="vm.showEmailInputForm()" class="btn btn-large btn-default" ng-disabled="vm.sending"><span><i class="r-icon r-icon-email"></i> 发送报告</span></a> <a ui-sref="statistics.serviceReport" class="btn btn-large btn-default"><span><i class="r-icon r-icon-search"></i> 重选客户</span></a></div><div class="email-input-form" ng-if="vm.showEmailInput"><div class="email-input"><input class="form-control" ng-model="vm.email" onemails="vm.updateEmails($emails)" ng-model-options="{ debounce: 500 }" placeholder="输入email或名字，多个email用逗号隔开" user-email-input="user as user.name for user in vm.loadUsers($viewValue)"></div><a ng-click="vm.sendEmail()" class="btn btn-confirm" ladda="vm.sending"><span>确定</span></a> <a ng-click="vm.hideEmailInputForm()" class="btn btn-cancel">取消</a></div></div><div class="report-content"><section class="header"><h2 class="custom-main-font-color">客户服务报告</h2><p class="text-muted">报告日期 {{ vm.reportDate | date:\'yyyy-MM-dd HH:mm\'}}</p></section><section class="intro"><div ng-if="!vm.introEditMode && !vm.data.template.intro" class="add-tips text-center"><a ng-click="vm.introEditMode=true" class="btn btn-default">添加前言</a></div><h3 ng-if="vm.introEditMode || vm.data.template.intro">前言</h3><div ng-if="!vm.introEditMode && vm.data.template.intro"><pre>{{vm.data.template.intro}}</pre><div class="edit-options"><a ng-if="!vm.introEditMode" ng-click="vm.editIntro()" class="btn btn-cancel custom-main-font-color">编辑修改</a> <a ng-if="!vm.introEditMode" ng-click="vm.deleteIntro()" class="btn btn-cancel">删除前言</a></div></div><div ng-if="vm.introEditMode"><textarea ng-if="vm.introEditMode" class="form-control" cols="30" rows="10" ng-model="vm.intro" maxlength="1000" placeholder="请撰写前言"></textarea><div class="edit-options buttons"><a ng-if="vm.introEditMode" ng-click="vm.saveIntro()" class="btn btn-confirm"><span>确定</span></a> <a ng-if="vm.introEditMode" ng-click="vm.cancelEditIntro()" class="btn btn-cancel">取消</a></div></div></section><section class="brief"><h3>服务摘要 <span ng-if="!vm.dateRangeEditMode" class="desc">({{vm.data.beginTime | date:\'yyyy年MM月dd日\'}}~{{vm.data.endTime | date:\'yyyy年MM月dd日\'}})</span> <i ng-if="!vm.dateRangeEditMode" class="iconfont button" ng-click="vm.dateRangeEditMode=true">&#xe72f;</i> <span class="date-range-form form-inline" ng-if="vm.dateRangeEditMode">开始日期 <input lay-date id="report-begin-time" format="YYYY-MM-DD" istime="false" class="form-control" ng-model="vm.beginTime"> 结束日期 <input lay-date id="report-end-time" format="YYYY-MM-DD" istime="false" class="form-control" ng-model="vm.endTime"> <a ng-click="vm.reloadReport()" class="btn btn-confirm"><span>确定</span></a> <a ng-click="vm.dateRangeEditMode = false" class="btn btn-cancel">取消</a></span></h3><ul class="brief-list"><li>新增工单：{{ vm.data.report.addedTicketNum }}</li><li>完成工单：{{ vm.data.report.finishedTicketNum }}</li><li>SLA达标率：{{ vm.data.report.finishSlaRate }}</li><li>当前待完成工单：{{ vm.data.report.notFinishedTicketNum }}</li><li>服务请求人数：{{ vm.data.report.requesterNum }}</li><li>满意度：{{ vm.data.report.happyRate }}</li><li>评价率：{{ vm.data.report.evaluateRate }}</li><li>问题解决率：{{ vm.data.report.solveRate }}</li></ul></section><section class="detail"><h3>服务明细 <span class="desc">(报告期内处理完毕的工单)</span></h3><div class="group" ng-repeat="group in vm.data.slas track by group.name" ng-if="group.tickets.length > 0"><div class="group-header"><h4><i class="expander iconfont" ng-if="!group.collapsed" ng-click="group.collapsed = !group.collapsed">&#xe60c;</i> <i class="expander iconfont fa-rotate-270" ng-if="group.collapsed" ng-click="group.collapsed = !group.collapsed">&#xe60c;</i> {{group.name}} <span class="column" ng-if="group.slaGroup">达标率：{{ group.finishSlaRate }}</span></h4></div><div class="group-body" ng-if="!group.collapsed"><ul class="ticket-list"><li ng-repeat="ticket in group.tickets"><span class="ticket-id">#{{ticket.ticketNo}}</span> <a ui-sref="tickets_detail({id:ticket.ticketId})" class="ticket-subject custom-main-font-color" title="{{ticket.ticketSubject}}">{{ticket.ticketSubject}}</a> <span class="info">{{ticket.evaluateUserName?ticket.evaluateUserName+\'，\':\'\'}} {{ticket.hasOwnProperty(\'solved\')?(ticket.solved?\'已解决，\':\'未解决，\'):\'\'}} {{ticket.hasOwnProperty(\'score\')?(ticket.score + "分"):\'\'}} 历时{{ ticket.solvedTime?ticket.solvedTime:0 | minute_format_filter }}</span> <span class="status" ng-hide="!group.slaGroup">{{ticket.qualified == 1? \'达标\' : \'不达标\'}}</span></li></ul></div></div></section><section class="page-footer"><p class="text-muted">报告人：{{ vm.currentUser.name }} {{vm.currentUser.mobilePhone?\' | \' + vm.currentUser.mobilePhone:\'\'}} {{vm.currentUser.email?\' | \' + vm.currentUser.email:\'\'}}</p></section></div></div>');e.put("source/statistics/service-report/service-report.view.html",'<div class="service-report"><div class="header"><div ng-show="show != \'redirect\'" class="input-group search-group template"><input ng-model="searchKey" ng-keyup="enterSearch($event)" type="text" class="form-control search-input" placeholder="输入名字或名称，查找客户" aria-label="..."><div class="input-group-btn"><div class="search-group-btn"><button type="button" class="btn btn-default search-btn" ng-click="searchUsers()"><i class="iconfont">&#xe733;</i> <span class="select-name">{{select.name}}</span></button> <button type="button" class="btn btn-default dropdown-toggle select-btn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont">&#xe60c;</i> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu dropdown-menu-right select-list"><li ng-repeat="item in dropdownMenu" ng-click="choose(item)"><a>{{item.name}}</a></li></ul></div><button type="button" class="btn btn-default setting-btn" ng-click="settingTemplate()"><i class="iconfont">&#xe734;</i></button></div><i class="iconfont delete-search-icon" ng-show="searchKey &&searchKey.length>0" ng-click="searchKey=\'\'">&#xe711;</i></div><div ng-show="show == \'redirect\'" class="redirect template"><span>致：{{userName}}</span></div></div><div class="container template" ng-show="show == \'template\' && (templates && templates.length>0)"><p class="title">保存的报告模板</p><div class="row"><div ng-repeat="template in templates" class="col-xs-4 item"><a ng-click="goDetail(\'template\',template)" class="name custom-main-font-color" title="{{(template.type==\'customer\'?((template.user&&template.user.name)?template.user.name:\'未知模板\'):((template.userGroup && template.userGroup.name)?template.userGroup.name:\'未知模板\'))}}"><i class="iconfont custom-main-font-color" ng-if="template.type==\'customer\'">&#xe650;</i> <i class="iconfont custom-main-font-color" ng-if="template.type==\'userGroup\'">&#xe665;</i> {{(template.type==\'customer\'?((template.user&&template.user.name)?template.user.name:\'未知模板\'):((template.userGroup && template.userGroup.name)?template.userGroup.name:\'未知模板\'))}} </a><i ng-click="deleteTemlate(template)" class="iconfont delete-icon">&#xe711;</i></div></div><ewei-template-pagination params="params" change-page="page(number)"></ewei-template-pagination></div><div class="container template" ng-show="show==\'userList\'"><p class="title">搜索结果</p><div class="row" ng-if="user.list && user.list.length>0"><div ng-repeat="item in user.list" class="col-xs-4 item"><a ng-click="goDetail(user.type,item)" class="name custom-main-font-color" title="{{item.name}}{{((item.userGroup &&item.userGroup.name)?(\'( \'+ item.userGroup.name + \' )\'):\'\')}}"><i class="iconfont custom-main-font-color" ng-if="user.type==\'customer\'">&#xe650;</i> <i class="iconfont custom-main-font-color" ng-if="user.type==\'userGroup\'">&#xe665;</i> {{item.name}} {{((item.userGroup &&item.userGroup.name)?("( "+ item.userGroup.name +" )"):\'\')}}</a></div></div><div ng-if="(user.list && user.list.length==0)" class="no-result width-inherit"><span>没有相关数据</span></div><ewei-template-pagination params="userParams" change-page="page(number)"></ewei-template-pagination></div><div class="config-list template" ng-show="show == \'setting\'"><div class="config-item" ng-repeat="config in configs" ng-click="selectConfig(config)"><div class="config-item-heading"><i class="iconfont" ng-if="config.active">&#xe615;</i> <i class="iconfont" ng-if="!config.active">&#xe60c;</i> <span class="config-item-name">{{config.name}}</span></div><div class="config-item-body row" ng-if="config.active"><div class="col-xs-4" ng-repeat="item in config.list"><input type="radio" name="{{config.listName}}" ng-model="config.value" value="{{item.value}}"> <span class="item-name">{{item.name}}</span></div></div></div><div class="btn-list"><a type="button" class="btn btn-confirm custom-background-color" ng-click="save()">确认</a> <a class="cancel" ng-click="cancel()">取消</a></div></div><div ng-show="show == \'redirect\'" class="no-result template"><span><i class="fa fa-spinner fa-pulse"></i></span> <span>正在生成服务报告</span></div><div ng-if="(show==\'template\'&&(templates && templates.length==0))" class="no-result"><span>选择客户，然后生成服务报告</span></div></div>');e.put("source/statistics/ticket/ticket.channel.detail.view.html",'<div class="statistics-wrap statistics-panel"><div style="margin-top:0" class="data-area"><div class="chart-panel panel" style="display:flex"><div style="flex:1;border-right:1px solid #f2f2f2"><div class="panel-heading"><span ng-click="checked(\'day\')" ng-class="{\'custom-main-font-color\':!showWhichOne.day}">工单数量-日走势</span> | <span ng-click="checked(\'time\')" ng-class="{\'custom-main-font-color\':!showWhichOne.time}">24小时分布</span></div><div class="panel-body"><div ng-if="showWhichOne.day" chart-line-graph-stack chart-option="chartLineGraphStackOption" style="height:400px"></div><div ng-if="showWhichOne.time" chart-line-graph-stack chart-option="chartLineGraphStackOption" style="height:400px"></div></div></div><div style="flex:1"><div class="panel-heading"><span>地理位置分布</span></div><div class="panel-body"><div chart-map-china chart-option="chartMapChinaOption" style="height:400px"></div></div></div></div><div class="panel data-panel" style="position:relative"><chart-ticket-table query-params="queryParams" default-columns="defaultColumns" query-name="queryName"></chart-ticket-table></div></div></div>');e.put("source/statistics/ticket/ticket.channel.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'circular\')" ng-class="{\'custom-main-font-color\':!showWhichOne.circular}">服务请求渠道分布</span> | <span ng-click="checked(\'lineGraphStack\')" ng-class="{\'custom-main-font-color\':!showWhichOne.lineGraphStack}">24小时分布</span> | <span ng-click="checked(\'mapChina\')" ng-class="{\'custom-main-font-color\':!showWhichOne.mapChina}">地理位置分布</span></div><div class="panel-body"><div ng-if="quantity.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="quantity.length > 0"><div ng-if="showWhichOne.circular" chart-circular chart-option="chartCircularOption" style="width:100%;height:400px"></div><div ng-if="showWhichOne.lineGraphStack" chart-line-graph-stack chart-option="chartLineGraphStackOption" style="width:100%;height:400px"></div><div ng-if="showWhichOne.mapChina" chart-map-china chart-option="chartMapChinaOption" style="width:100%;height:560px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="quantity" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/ticket/ticket.priority.detail.html",'<div class="stat-content-view statistics-ticket-sla"><div class="statistics-wrap"><div class="data-area"><div class="panel data-panel"><chart-ticket-table query-params="queryParams" default-columns="defaultColumns" query-name="queryName"></chart-ticket-table></div></div></div></div>');e.put("source/statistics/ticket/ticket.priority.view.html",'<div class="stat-content-view statistics-ticket-priority"><div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading">工单数量-优先级</div><div class="panel-body"><div ng-if="data.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="data.length > 0"><div class="echart" echart-radar data="priorityTickets.data" indicator="priorityTickets.indicator"></div></div></div></div><div class="data-panel panel"><div class="panel-heading"><span>统计数据</span> <span class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></span></div><div class="panel-body"><chart-table columns="columns" count="20" data="data" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div></div>');e.put("source/statistics/ticket/ticket.quality.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'circular\')" ng-class="{\'custom-main-font-color\':!showWhichOne.circular}">评分、解决率和达标率</span> | <span ng-click="checked(\'response\')" ng-class="{\'custom-main-font-color\':!showWhichOne.response}">响应时长分布</span> | <span ng-click="checked(\'solved\')" ng-class="{\'custom-main-font-color\':!showWhichOne.solved}">处理时长分布</span></div><div class="panel-body"><div ng-if="quality.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="quality.length > 0"><ol ng-if="showWhichOne.circular" class="clearfix"><li ng-repeat="item in ticketQuality track by $index"><div chart-circular chart-option="item.chartCircularOption" style="height:100px"></div><p ng-bind="item.title"></p></li></ol><div ng-if="showWhichOne.response" bar-chart option="responseOption" style="height:400px"></div><div ng-if="showWhichOne.solved" bar-chart option="solvedOption" style="height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local" style="padding-right:10px"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="quality" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/ticket/ticket.quantity.detail.view.html",'<div class="statistics-wrap"><div class="data-area"><div class="panel data-panel"><chart-ticket-table query-params="queryParams" default-columns="defaultColumns" query-name="queryName"></chart-ticket-table></div></div></div>');e.put("source/statistics/ticket/ticket.quantity.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span>工单数量-日走势</span></div><div class="panel-body"><div ng-if="quantity.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="quantity.length > 0"><div lines-chart option="option" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="quantity" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/ticket/ticket.serviceCatalog.view.html",'<div class="statistics-wrap statistics-ticket-service-catalog"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><service-catalog-breadcrumb all-service-catalog="allServiceCatalog" selected-service-catalog="selectedServiceCatalog"></service-catalog-breadcrumb></div><div class="panel-body"><div ng-if="total === 0 && loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="total > 0 && loadComplete"><div bar-chart option="options" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">数据明细<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="tableData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/ticket/ticket.sla.detail.html",'<div class="stat-content-view statistics-ticket-sla"><div class="statistics-wrap"><div class="data-area detail"><div class="data-panel panel"><div class="panel-heading"><span>统计数据</span> <span class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report></span></div><div class="panel-body ewei-table clear-min-height no-pager"><table ng-table="tableParams" id="tableParams" class="table table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th ng-repeat="column in columns track by $index" ng-if="column.visible" ng-class="{\n                    \'sort-asc\': tableParams.isSortBy(column.field, \'asc\'),\n                    \'sort-desc\': tableParams.isSortBy(column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="sorting(column)"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-repeat="group in $groups track by $index"><tr ng-hide="group.$hideRows" ng-repeat="item in group.data track by $index"><td ng-repeat="col in columns track by $index" ng-switch="col.field"><span ng-switch-when="sla" ng-if="item.isTotal">{{item | translateFieldValue: col.field :col.filter | nullStringFilter }}</span> <span ng-switch-default><a ng-if="col.callbackFunction" class="custom-link-color" ng-click="col.callbackFunction(item)" title="{{item | translateFieldValue: col.field :col.filter}}">{{item | translateFieldValue: col.field :col.filter | nullStringFilter}}</a> <span ng-if="!col.callbackFunction" title="{{item | translateFieldValue: col.field :col.filter}}">{{item | translateFieldValue: col.field :col.filter | nullStringFilter }}</span></span></td></tr></tbody></table></div></div><div class="chart-panel panel"><div class="panel-heading">SLA达标率</div><div class="panel-body"><ul><li ng-repeat="item in slaRecalculates track by $index" ng-switch="item.type"><div ng-switch-when="quota"><p class="caption" ng-bind="item.text"></p><p class="description">SLA指标</p></div><div ng-switch-when="rate"><p class="title" ng-bind="item.title"></p><div class="echart" echart-pie data="item.data" color="item.color" text="item.text"></div><input ng-if="item.time1" class="form-control" type="text" ng-model="item.time1" ng-change="timeChanged(item.group)"> <input ng-if="item.time2" class="form-control" type="text" ng-model="item.time2" ng-change="timeChanged(item.group)"><p ng-if="item.timeChanged!==undefined" ng-class="item.timeChanged?\'recalculate enable\':\'recalculate disable\'" ng-click="recalculate(item.group)"><i class="icon iconfont">&#xe74e;</i>调校指标</p></div><div ng-switch-when="operate"><button type="button" class="btn btn-primary btn-sm" ng-click="resetRecalculate()">复位</button></div></li></ul></div></div></div></div></div>');e.put("source/statistics/ticket/ticket.sla.ticket.html",'<div class="stat-content-view statistics-ticket-sla"><div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading">SLA达标率</div><div class="panel-body view"><ul><li ng-repeat="item in slaRates track by $index"><div class="echart" echart-pie data="item.data" color="item.color" text="item.text"></div><p ng-bind="item.title"></p></li></ul></div></div><div class="data-panel panel"><chart-ticket-table query-params="queryParams" default-columns="defaultColumns" query-name="queryName"></chart-ticket-table></div></div></div></div>');e.put("source/statistics/ticket/ticket.sla.view.html",'<div class="stat-content-view statistics-ticket-sla"><div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading">SLA达标率</div><div class="panel-body view"><div ng-if="data.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="data.length > 0"><ul><li ng-repeat="item in slaRates track by $index"><div class="echart" echart-pie data="item.data" color="item.color" text="item.text"></div><p ng-bind="item.title"></p></li></ul></div></div></div><div class="data-panel panel"><div class="panel-heading"><span>统计数据</span> <span class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></span></div><div class="panel-body"><chart-table columns="columns" count="20" data="data" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div></div>');e.put("source/statistics/ticket/ticket.type.detail.view.html",'<div class="statistics-wrap"><div class="data-area"><div class="panel data-panel"><chart-ticket-table query-params="queryParams" default-columns="defaultColumns" query-name="queryName"></chart-ticket-table></div></div></div>');e.put("source/statistics/ticket/ticket.type.view.html",'<div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading">工单数量 - 工单类型</div><div class="panel-body"><div ng-if="tableData.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="tableData.length > 0"><div bar-chart option="option" style="height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="tableData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/ticket/ticket.view.html",'<ul class="nav nav-tabs" ng-if="!breadcrumbs || breadcrumbs.length<2"><li ui-sref-active="active"><a ui-sref="statistics.ticket.quantity">数量统计</a></li><li ui-sref-active="active"><a ui-sref="statistics.ticket.quality">质量统计</a></li><li ui-sref-active="active"><a ui-sref="statistics.ticket.type">工单类型</a></li><li ui-sref-active="active"><a ui-sref="statistics.ticket.priority">优先级</a></li><li ui-sref-active="active"><a ui-sref="statistics.ticket.channel">渠道来源</a></li><li ui-sref-active="active"><a ui-sref="statistics.ticket.workflow">工作流</a></li><li ui-sref-active="active"><a ui-sref="statistics.ticket.serviceCatalog">服务目录</a></li><li ui-sref-active="active"><a ui-sref="statistics.ticket.sla">SLA分析</a></li></ul><ul class="breadcrumb" ng-if="breadcrumbs && breadcrumbs.length>1"><li ng-repeat="breadcrumb in breadcrumbs" ng-class="{active: breadcrumbs.length-1 == $index}"><a href="javascript:void(0)" ng-if="breadcrumb.url" class="custom-link-color" ng-click="goto(breadcrumb)">{{breadcrumb.name}}</a> <span ng-if="!breadcrumb.url">{{breadcrumb.name}}</span></li></ul><div class="stat-content-view" ui-view></div>');e.put("source/statistics/ticket/ticket.workflow.detail.view.html",'<div class="statistics-wrap statistics-panel" style="width:100%"><div style="margin-top:0" class="data-area"><div class="chart-panel panel" style="display:flex"><div style="border-right:1px solid #f2f2f2;flex:1"><div class="panel-heading"><span>响应耗时分布(单位:分钟)</span></div><div class="panel-body"><div><div echart-stair-bar xaxis="responseChart.xAxis" base-series="responseChart.baseSeries" series="responseChart.series" color="responseChart.color" style="height:400px"></div></div></div></div><div style="flex:1"><div class="panel-heading"><span>处理耗时分布(单位:分钟)</span></div><div class="panel-body"><div echart-stair-bar xaxis="processChart.xAxis" base-series="processChart.baseSeries" series="processChart.series" color="processChart.color" style="height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report></div></div><div class="panel-body"><chart-multi-header-table columns="columns" sub-columns="subColumns" merge-columns="mergeColumns" count="20" data="tableData" total-data="totalData"></chart-multi-header-table></div></div></div></div>');e.put("source/statistics/ticket/ticket.workflow.view.html",'<div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading">工单数量 - 工作流</div><div class="panel-body"><div ng-if="tableData.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="tableData.length > 0"><div bar-chart option="option" style="height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics-menggang/customer/customer.customer.detail.view.html",'<div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel" style="display:flex"><div class="chart-panel panel" style="flex:1;border-right:1px solid #e0e5ec"><div class="panel-heading"><span ng-class="custom-main-font-color">新增趋势</span></div><div class="panel-body"><div lines-chart option="trendOption" style="width:100%;height:400px"></div></div></div><div class="chart-panel panel" style="flex:1;margin:0"><div class="panel-heading"><span ng-class="custom-main-font-color">事件占比</span></div><div class="panel-body"><div pie-chart option="rateOption" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading"><span>统计数据</span><div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div></div>');e.put("source/statistics-menggang/customer/customer.customer.view.html",'<style type="text/css">.panel-heading span{vertical-align:middle;margin:0 10px;cursor:pointer}</style><div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'trend\')" ng-class="{\'custom-main-font-color\':showWhichOne.eventRate}">新增趋势</span> <span ng-click="checked(\'eventRate\')" ng-class="{\'custom-main-font-color\':showWhichOne.trend}">事件占比</span></div><div class="panel-body"><div ng-if="tableData.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="tableData.length>0"><div lines-chart ng-if="showWhichOne.trend" option="option" style="width:100%;height:400px"></div><div pie-chart ng-if="showWhichOne.eventRate" option="option" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading"><span>统计数据</span><div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData" has-add-search="hasAddSearch"></search-box></div></div>');e.put("source/statistics-menggang/customer/customer.customerGroup.detail.view.html",'<div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel" style="display:flex"><div class="chart-panel panel" style="flex:1;border-right:1px solid #e0e5ec"><div class="panel-heading"><span ng-class="custom-main-font-color">新增趋势</span></div><div class="panel-body"><div lines-chart option="trendOption" style="width:100%;height:400px"></div></div></div><div class="chart-panel panel" style="flex:1;margin:0"><div class="panel-heading"><span ng-class="custom-main-font-color">事件占比</span></div><div class="panel-body"><div pie-chart option="rateOption" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading"><span>统计数据</span><div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div></div>');e.put("source/statistics-menggang/customer/customer.customerGroup.view.html",'<style type="text/css">.panel-heading span{vertical-align:middle;margin:0 10px;cursor:pointer}</style><div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'trend\')" ng-class="{\'custom-main-font-color\':showWhichOne.eventRate}">新增趋势</span> <span ng-click="checked(\'eventRate\')" ng-class="{\'custom-main-font-color\':showWhichOne.trend}">事件占比</span></div><div class="panel-body"><div ng-if="tableData.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="tableData.length>0"><div lines-chart ng-if="showWhichOne.trend" option="option" style="width:100%;height:400px"></div><div pie-chart ng-if="showWhichOne.eventRate" option="option" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading"><span>统计数据</span><div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData" has-add-search="hasAddSearch"></search-box></div></div>');e.put("source/statistics-menggang/customer/customer.view.html",'<ul class="nav nav-tabs" ng-if="breadcrumbs && breadcrumbs.length<2"><li ui-sref-active="active"><a ui-sref="statistics-menggang.customer.customer">客户</a></li><li ui-sref-active="active"><a ui-sref="statistics-menggang.customer.customerGroup">客户组</a></li></ul><ul class="breadcrumb" ng-if="breadcrumbs && breadcrumbs.length>1"><li ng-repeat="breadcrumb in breadcrumbs" ng-class="{active: breadcrumbs.length-1 == $index}"><a href="javascript:void(0)" ng-if="breadcrumb.url" class="custom-link-color" ng-click="goto(breadcrumb)">{{breadcrumb.name}}</a> <span ng-if="!breadcrumb.url">{{breadcrumb.name}}</span></li></ul><div class="stat-content-view" ui-view></div>');e.put("source/statistics-menggang/distribution/distribution.area.view.html",'<div class="statistics-wrap statistics-menggang-kpi"><div class="data-area"><div class="chart-panel panel"><div class="panel-body"><div ng-if="tableData.length===0&&loadComplete"><echart-no-data></echart-no-data></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local" style="padding-right:10px"></export-report></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData" has-add-search="hasAddSearch"></search-box></div></div>');e.put("source/statistics-menggang/distribution/distribution.engineer.view.html",'<div class="statistics-wrap statistics-menggang-kpi"><div class="data-area"><div class="chart-panel panel"><div class="panel-body"><div ng-if="tableData.length===0&&loadComplete"><echart-no-data></echart-no-data></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local" style="padding-right:10px"></export-report></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData" has-add-search="hasAddSearch"></search-box></div></div>');e.put("source/statistics-menggang/distribution/distribution.serviceCatalogBySecond.view.html",'<div class="statistics-wrap statistics-menggang-kpi"><div class="data-area"><div class="chart-panel panel"><div class="panel-body"><div ng-if="tableData.length===0&&loadComplete"><echart-no-data></echart-no-data></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local" style="padding-right:10px"></export-report></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData" has-add-search="hasAddSearch"></search-box></div></div>');e.put("source/statistics-menggang/distribution/distribution.serviceCatalogByThird.view.html",'<div class="statistics-wrap statistics-menggang-kpi"><div class="data-area"><div class="chart-panel panel"><div class="panel-body"><div ng-if="tableData.length===0&&loadComplete"><echart-no-data></echart-no-data></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local" style="padding-right:10px"></export-report></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData" has-add-search="hasAddSearch"></search-box></div></div>');e.put("source/statistics-menggang/distribution/distribution.view.html",'<ul class="nav nav-tabs" ng-if="breadcrumbs && breadcrumbs.length<2"><li ui-sref-active="active"><a ui-sref="statistics-menggang.distribution.engineer">在人员上分布</a></li><li ui-sref-active="active"><a ui-sref="statistics-menggang.distribution.serviceCatalogBySecond">在二级目录上分布</a></li><li ui-sref-active="active"><a ui-sref="statistics-menggang.distribution.serviceCatalogByThird">在三级目录上分布</a></li><li ui-sref-active="active"><a ui-sref="statistics-menggang.distribution.area">在区域上分布</a></li></ul><ul class="breadcrumb" ng-if="breadcrumbs && breadcrumbs.length>1"><li ng-repeat="breadcrumb in breadcrumbs" ng-class="{active: breadcrumbs.length-1 == $index}"><a href="javascript:void(0)" ng-if="breadcrumb.url" class="custom-link-color" ng-click="goto(breadcrumb)">{{breadcrumb.name}}</a> <span ng-if="!breadcrumb.url">{{breadcrumb.name}}</span></li></ul><div class="stat-content-view" ui-view></div>');e.put("source/statistics-menggang/performance/performance.kpi.config.view.html",'<div class="statistics-wrap statistics-menggang-kpi-config"><div class="data-area"><div class="panel data-panel kpi-pannel"><div class="kpi-sub-pannel"><ul><li><span class="w200">条件</span> <span class="w200">分值</span></li><li ng-repeat="item in kpiAdjustA track by $index"><div class="name w200" ng-bind="item.name"></div><input class="form-control w200" type="number" ng-model="item.value" placeholder="请设置分值"></li></ul></div><div class="kpi-sub-pannel"><ul><li><span class="w200">服务目录</span> <span class="w200">分值</span></li><li ng-repeat="item in kpiAdjustB track by $index"><span class="name w200" ng-bind="item.name"></span> <input class="form-control w200" type="number" ng-model="item.value" placeholder="请设置分值"></li></ul></div></div><div class="footer"><button type="button" class="btn btn-primary" ng-click="confirm()">确定</button> <button type="button" class="btn" ng-click="cancel()">取消</button></div></div></div>');e.put("source/statistics-menggang/performance/performance.kpi.view.html",'<div class="statistics-wrap statistics-menggang-kpi"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span class="pull-right cursor-pointer" ui-sref="statistics-menggang.performance.kpiConfig"><i class="iconfont custom-main-font-color">&#xe752;</i>KPI核算标准调校</span></div><div class="panel-body"><div ng-if="tableData.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="tableData.length > 0" class="echart-view"><ul><li><div class="echart" echart-pie data="chartDataA.data" color="chartDataA.color" text="chartDataA.text" radius="chartDataA.radius"></div><p ng-bind="chartDataA.title" style="font-size:18px"></p></li><li ng-repeat="item in chartDataB track by $index"><div class="echart" echart-pie data="item.data" color="item.color" text="item.text" radius="item.radius"></div><p ng-bind="item.title"></p></li></ul></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local" style="padding-right:10px"></export-report></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData" has-add-search="hasAddSearch"></search-box></div></div>');e.put("source/statistics-menggang/performance/performance.view.html",'<ul class="nav nav-tabs" ng-if="breadcrumbs && breadcrumbs.length<2"><li ui-sref-active="active"><a ui-sref="statistics-menggang.performance.kpi">KPI</a></li></ul><ul class="breadcrumb" ng-if="breadcrumbs && breadcrumbs.length>1"><li ng-repeat="breadcrumb in breadcrumbs" ng-class="{active: breadcrumbs.length-1 == $index}"><a href="javascript:void(0)" ng-if="breadcrumb.url" class="custom-link-color" ng-click="goto(breadcrumb)">{{breadcrumb.name}}</a> <span ng-if="!breadcrumb.url">{{breadcrumb.name}}</span></li></ul><div class="stat-content-view" ui-view></div>');e.put("source/statistics-menggang/resolutionrate/resolutionrate.resolutionrate.view.html",'<style type="text/css">.panel-heading span{vertical-align:middle;margin:0 10px;cursor:pointer}</style><div class="statistics-wrap"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-class="custom-main-font-color">事件占比</span></div><div class="panel-body"><div ng-if="tableData.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="tableData.length>0"><div pie-chart option="option" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading"><span>统计数据</span><div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData" has-add-search="hasAddSearch"></search-box></div></div>');e.put("source/statistics-menggang/resolutionrate/resolutionrate.view.html",'<ul class="nav nav-tabs" ng-if="breadcrumbs && breadcrumbs.length<2"><li ui-sref-active="active"><a ui-sref="statistics-menggang.resolutionrate.resolutionrate">事件解决率</a></li></ul><ul class="breadcrumb" ng-if="breadcrumbs && breadcrumbs.length>1"><li ng-repeat="breadcrumb in breadcrumbs" ng-class="{active: breadcrumbs.length-1 == $index}"><a href="javascript:void(0)" ng-if="breadcrumb.url" class="custom-link-color" ng-click="goto(breadcrumb)">{{breadcrumb.name}}</a> <span ng-if="!breadcrumb.url">{{breadcrumb.name}}</span></li></ul><div class="stat-content-view" ui-view></div>');e.put("source/statistics-menggang/timeout/timeout.response.view.html",'<div class="statistics-wrap statistics-menggang-timeout statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="selectChart(\'A\')" ng-class="{\'custom-main-font-color\':!chartShow.A}">数量统计</span> | <span ng-click="selectChart(\'B\')" ng-class="{\'custom-main-font-color\':!chartShow.B}">趋势统计</span> | <span ng-click="selectChart(\'C\')" ng-class="{\'custom-main-font-color\':!chartShow.C}">占比统计</span></div><div class="panel-body"><div ng-if="tableData.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="tableData.length > 0" class="echart-view"><div ng-if="chartShow.A" class="echart" echart-bar-stack chart-data="chartDataA"></div><div ng-if="chartShow.B" class="echart" lines-chart option="chartDataB"></div><ul ng-if="chartShow.C"><li ng-repeat="item in chartDataC track by $index"><div class="echart-list" pie-chart option="item"></div></li></ul></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local" style="padding-right:10px"></export-report></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData" has-add-search="hasAddSearch"></search-box></div></div>');e.put("source/statistics-menggang/timeout/timeout.solve.view.html",'<div class="statistics-wrap statistics-menggang-timeout statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="selectChart(\'A\')" ng-class="{\'custom-main-font-color\':!chartShow.A}">数量统计</span> | <span ng-click="selectChart(\'B\')" ng-class="{\'custom-main-font-color\':!chartShow.B}">趋势统计</span> | <span ng-click="selectChart(\'C\')" ng-class="{\'custom-main-font-color\':!chartShow.C}">占比统计</span></div><div class="panel-body"><div ng-if="tableData.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="tableData.length > 0" class="echart-view"><div ng-if="chartShow.A" class="echart" echart-bar-stack chart-data="chartDataA"></div><div ng-if="chartShow.B" class="echart" lines-chart option="chartDataB"></div><ul ng-if="chartShow.C"><li ng-repeat="item in chartDataC track by $index"><div class="echart-list" pie-chart option="item"></div></li></ul></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local" style="padding-right:10px"></export-report></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="tableData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData" has-add-search="hasAddSearch"></search-box></div></div>');e.put("source/statistics-menggang/timeout/timeout.view.html",'<ul class="nav nav-tabs" ng-if="breadcrumbs && breadcrumbs.length<2"><li ui-sref-active="active"><a ui-sref="statistics-menggang.timeout.response">响应超时</a></li><li ui-sref-active="active"><a ui-sref="statistics-menggang.timeout.solve">处理超时</a></li></ul><ul class="breadcrumb" ng-if="breadcrumbs && breadcrumbs.length>1"><li ng-repeat="breadcrumb in breadcrumbs" ng-class="{active: breadcrumbs.length-1 == $index}"><a href="javascript:void(0)" ng-if="breadcrumb.url" class="custom-link-color" ng-click="goto(breadcrumb)">{{breadcrumb.name}}</a> <span ng-if="!breadcrumb.url">{{breadcrumb.name}}</span></li></ul><div class="stat-content-view" ui-view></div>');e.put("source/system-setting/channel-settings/channel-settings.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>渠道管理</strong></p><oem-learn-more style="width:560px" description="通过多种渠道与客户建立连接，客户通过这些渠道发起请求。 " learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1161" type="channel" class="size13"></oem-learn-more><div class="system-setting-search"><div class="input-group"><input type="text" class="form-control search-input" placeholder="搜索" ng-model="searchKey" ng-enter="searchChannel()"> <span class="input-group-addon" style="cursor:pointer;color:#ccc" ng-click="searchChannel()" ng-style="(searchKey!=null&amp;&amp;searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span> <i class="iconfont delete-search-icon" ng-show="searchKey && oldSearchKey" ng-click="cancelSearch()">&#xe711;</i></div><a class="btn btn-default" href="javascript:void(0)" ng-click="toEditchannel(0,\'add\')">添加渠道</a></div></div><div class="channel-setting table-box margin_left20px"><div class="table-responsive"><table class="table new-table"><thead><tr><th class="w520">渠道名称</th><th class="text-center w80">状态</th><th class="text-center w160">更新</th><th class="text-center w140">操作</th></tr></thead><tbody><tr ng-if="channelList.length==0"><td colspan="4" style="border-bottom:none">没有相关渠道</td></tr><tr bindonce ng-repeat="channel in channelList"><td class="w400 padding_top15px"><i class="iconfont channel-setting-icon {{channel.type}}" ng-class="{enabled: !channel.enabled}" ng-bind-html="channel.type | channelIcon | trusted" title="{{ channel.type | channelType}}"></i> <a ng-if="channel.enabled" ng-bind="channel.name" class="channel-name" ng-click="toEditchannel(channel,\'modify\')"></a> <span ng-if="!channel.enabled" class="color999">{{channel.name}}</span><div ng-if="channel.type != \'web\' && channel.type!= \'helpcenter\' && channel.type!= \'sdk\'  && channel.type!= \'api\' && channel.type!= \'dingding\'" style="display:inline-block;overflow:hidden;float:right"><span class="no-verify" ng-if="!channel.verified && (channel.enabled===true || channel.enabled===undefined)">未验证</span> &emsp;<a ng-click="goArticle(channel)" ng-if="!channel.verified && (channel.enabled===true || channel.enabled===undefined)" style="color:#1e8cce">如何验证？</a></div></td><td class="text-center"><span>{{channel.enabled?\'启用\':\'停用\'}}</span></td><td class="text-center"><span>{{channel.updatedAt | dateFilter}}</span></td><td class="text-center"><a ng-if="channel.enabled" ng-click="toEditchannel(channel,\'modify\')">编辑</a> <a ng-if="channel.type != \'helpcenter\' && !channel.enabled" ng-click="enabled(channel,true)">启用</a> <span ng-if="channel.type != \'helpcenter\'">&emsp;|&emsp;</span> <a ng-if="channel.type != \'helpcenter\' && !channel.enabled" ng-click="deletechannel(channel)">删除</a> <a ng-if="channel.type != \'helpcenter\' && channel.enabled" ng-click="enabled(channel,false)">停用</a></td></tr></tbody></table><div class="text-center ng-table-pager" ng-if="allCount>page.pageSize"><ul class="pagination-sm center" uib-pagination total-items="allCount" ng-model="page.pageNumber" items-per-page="page.pageSize" max-size="7" boundary-link-numbers="true" rotate="true" ng-change="reload()" previous-text="&lt;" next-text="&gt;"></ul><span class="color999">共计{{allCount}}条</span></div></div></div></div>');e.put("source/system-setting/evaluate-setting/evaluate-chat.html",'<style>.setting-common-body .form-content{width:615px}.i-check{position:relative;margin-top:30px}.i-check label{width:20px;height:20px;cursor:pointer;top:0;left:0;background:#1A9909;border-radius:4px}.i-check label::after{content:\'\';width:12px;height:7px;position:absolute;top:5px;left:4px;border:3px solid #fff;border-top:none;border-right:none;opacity:0;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg)}.i-check input[type=checkbox]:checked+label::after{opacity:1}.i-check input[type=checkbox]{opacity:0;position:absolute;z-index:2;left:0;top:0;margin:0;width:150px;height:100%;cursor:pointer}.i-check div{position:absolute;top:0;margin-left:30px;font-weight:700}.setting-common-body>ul>li{margin-bottom:30px}.w400{width:400px}</style><div class="setting-head-common"><div class="i-check"><input type="checkbox" ng-click="updateEvaluateConfig(true)" ng-checked="evaluate.open"><label></label><div>自动推送调查问卷</div></div><div style="color:#999">每次服务完成时，系统都自动推送调查问卷给客户，让客户评价服务质量。</div><div ng-if="evaluate.open" class="setting-common-body"><ul><li><div class="title-bar"><span>调查问卷标题</span></div><div class="form-content"><input type="text" ng-model="evaluate.title" class="form-control w400" maxlength="128"></div></li><li style="margin-bottom:5px"><div style="margin-bottom:10px"><div class="title-bar" style="margin-bottom:5px">解决否</div><span style="margin-left:10px;color:#999">询问客户，当前问题是否已得到解决</span></div></li><li style="margin-bottom:5px"><div class="title-bar"><span style="color:#999;font-weight:400">解决否</span></div><div class="form-content"><input type="text" ng-model="evaluate.firstQuestionTitle" maxlength="128" class="form-control w400"></div></li><li><div class="title-bar"><span style="color:#999;font-weight:400">选项</span></div><div class="form-content"><div ng-repeat="firstQuestionOption in evaluate.firstQuestionOptions track by $index" style="display:inline-block;margin-bottom:5px"><input type="text" ng-model="firstQuestionOption.name" maxlength="10" class="form-control w400" style="float:left;margin-right:20px"><div style="float:right;margin-top:5px"><input type="radio" name="firstQuestionOptions" value="" ng-model="firstQuestionOption.defaultValue" ng-click="selectFirstQuestionOptionsRadio(firstQuestionOption)" style="position:relative;top:2px"> <span ng-if="firstQuestionOption.defaultValue==\'\'">如客户未填写，表示默认此项</span></div><p class="tip"></p></div></div></li><li style="margin-bottom:5px"><div style="margin-bottom:10px"><div class="title-bar" style="margin-bottom:5px">满意度</div><span style="margin-left:10px;color:#999">请客户对本次服务进行评价，5分制，1~5颗星</span></div></li><li style="margin-bottom:5px"><div class="title-bar"><span style="color:#999;font-weight:400">满意度</span></div><div class="form-content"><input type="text" ng-model="evaluate.secondQuestionTitle" maxlength="128" class="form-control w400"></div></li><li><div class="title-bar"></div><div class="form-content"><div style="display:flex;align-items:center"><span style="margin-right:5px">如客户未填写，表述默认</span><select class="form-control w60" ng-model="evaluate.secondQuestionDefaultScore"><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select><span style="margin-left:5px">分</span></div></div></li><li style="margin-bottom:5px"><div style="margin-bottom:10px"><div class="title-bar" style="margin-bottom:5px"><input type="checkbox" ng-model="evaluate.loyaltyQuestionOpen"> 忠诚度</div><span style="margin-left:10px;color:#999">请客户对其忠诚度表态，5分制，1~5颗星</span></div></li><li style="margin-bottom:5px"><div class="title-bar"><span style="color:#999;font-weight:400">忠诚度</span></div><div class="form-content"><input type="text" ng-model="evaluate.loyaltyQuestionTitle" maxlength="128" class="form-control w400"></div></li><li><div class="title-bar"></div><div class="form-content"><div style="display:flex;align-items:center"><span style="margin-right:5px">如客户未填写，表述默认</span><select class="form-control w60" ng-model="evaluate.loyaltyQuestionDefaultScore"><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select><span style="margin-left:5px">分</span></div></div></li><li style="margin-bottom:5px"><div style="margin-bottom:10px"><div class="title-bar" style="margin-bottom:5px"><input type="checkbox" ng-model="evaluate.recommendQuestionOpen"> 推荐度</div><span style="margin-left:10px;color:#999">了解客户的推荐意愿，5分制，1~5颗星</span></div></li><li style="margin-bottom:5px"><div class="title-bar"><span style="color:#999;font-weight:400">推荐度</span></div><div class="form-content"><input type="text" ng-model="evaluate.recommendQuestionTitle" maxlength="128" class="form-control w400"></div></li><li><div class="title-bar"></div><div class="form-content"><div style="display:flex;align-items:center"><span style="margin-right:5px">如客户未填写，表述默认</span><select class="form-control w60" ng-model="evaluate.recommendQuestionDefaultScore"><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select><span style="margin-left:5px">分</span></div></div></li><li><div class="title-bar"><span>意见反馈</span></div><div class="form-content"><input type="text" ng-model="evaluate.description" maxlength="128" class="form-control w400"></div></li><li><div class="title-bar"><span style="color:#999;font-weight:400">问题描述</span></div><div class="form-content"><textarea type="textarea" ng-model="evaluate.content" class="form-control" style="width:400px" maxlength="200"></textarea></div></li><li><div class="title-bar"></div><div class="form-content"><button type="button" class="btn btn-primary w100" ng-click="updateEvaluateConfig()">更新</button></div></li></ul></div></div>');e.put("source/system-setting/evaluate-setting/evaluate-ticket.html",'<style>.setting-common-body .form-content{width:615px}.i-check{position:relative;margin-top:30px}.i-check label{width:20px;height:20px;cursor:pointer;top:0;left:0;background:#1A9909;border-radius:4px}.i-check label::after{content:\'\';width:12px;height:7px;position:absolute;top:5px;left:4px;border:3px solid #fff;border-top:none;border-right:none;opacity:0;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg)}.i-check input[type=checkbox]:checked+label::after{opacity:1}.i-check input[type=checkbox]{opacity:0;position:absolute;z-index:2;left:0;top:0;margin:0;width:150px;height:100%;cursor:pointer}.i-check div{position:absolute;top:0;margin-left:30px;font-weight:700}.setting-common-body>ul>li{margin-bottom:30px}.w400{width:400px}</style><div class="setting-head-common"><div class="i-check"><input type="checkbox" ng-click="updateEvaluateConfig(true)" ng-checked="evaluate.open"><label></label><div>自动推送调查问卷</div></div><div style="color:#999">每次服务完成时，系统都自动推送调查问卷给客户，让客户评价服务质量。</div><div ng-if="evaluate.open" class="setting-common-body"><ul><li><div class="title-bar"><span>调查问卷标题</span></div><div class="form-content"><input type="text" ng-model="evaluate.title" class="form-control w400" maxlength="128"></div></li><li style="margin-bottom:5px"><div style="margin-bottom:10px"><div class="title-bar" style="margin-bottom:5px">签名栏</div><span style="margin-left:10px;color:#999">现场工程师也可在手机App上调出调查问卷，供客户当场评价并签名确认</span></div></li><li><div class="title-bar"><span>客户签名</span></div><div class="form-content form-group"><select class="form-control w400" ng-model="evaluate.signSet"><option value="dependOnEngineer">工单处理完毕时，由工程师选择是否由客户签字确认</option><option value="mustSign">工单处理完毕时，必须由客户签字确定</option><option value="noSign">工单处理完毕时，不开启客户签字功能</option></select></div></li><li style="margin-bottom:5px"><div style="margin-bottom:10px"><div class="title-bar" style="margin-bottom:5px">解决否</div><span style="margin-left:10px;color:#999">询问客户，当前问题是否已得到解决</span></div></li><li style="margin-bottom:5px"><div class="title-bar"><span style="color:#999;font-weight:400">解决否</span></div><div class="form-content"><input type="text" ng-model="evaluate.firstQuestionTitle" maxlength="128" class="form-control w400"></div></li><li><div class="title-bar"><span style="color:#999;font-weight:400">选项</span></div><div class="form-content"><div ng-repeat="firstQuestionOption in evaluate.firstQuestionOptions track by $index" style="display:inline-block;margin-bottom:5px"><input type="text" ng-model="firstQuestionOption.name" maxlength="10" class="form-control w400" style="float:left;margin-right:20px"><div style="float:right;margin-top:5px"><input type="radio" name="firstQuestionOptions" value="" ng-model="firstQuestionOption.defaultValue" ng-click="selectFirstQuestionOptionsRadio(firstQuestionOption)" style="position:relative;top:2px"> <span ng-if="firstQuestionOption.defaultValue==\'\'">如客户未填写，表示默认此项</span></div><p class="tip"></p></div></div></li><li style="margin-bottom:5px"><div style="margin-bottom:10px"><div class="title-bar" style="margin-bottom:5px">满意度</div><span style="margin-left:10px;color:#999">请客户对本次服务进行评价，5分制，1~5颗星</span></div></li><li style="margin-bottom:5px"><div class="title-bar"><span style="color:#999;font-weight:400">满意度</span></div><div class="form-content"><input type="text" ng-model="evaluate.secondQuestionTitle" maxlength="128" class="form-control w400"></div></li><li><div class="title-bar"></div><div class="form-content"><div style="display:flex;align-items:center"><span style="margin-right:5px">如客户未填写，表述默认</span><select class="form-control w60" ng-model="evaluate.secondQuestionDefaultScore"><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select><span style="margin-left:5px">分</span></div></div></li><li style="margin-bottom:5px"><div style="margin-bottom:10px"><div class="title-bar" style="margin-bottom:5px"><input type="checkbox" ng-model="evaluate.loyaltyQuestionOpen"> 忠诚度</div><span style="margin-left:10px;color:#999">请客户对其忠诚度表态，5分制，1~5颗星</span></div></li><li style="margin-bottom:5px"><div class="title-bar"><span style="color:#999;font-weight:400">忠诚度</span></div><div class="form-content"><input type="text" ng-model="evaluate.loyaltyQuestionTitle" maxlength="128" class="form-control w400"></div></li><li><div class="title-bar"></div><div class="form-content"><div style="display:flex;align-items:center"><span style="margin-right:5px">如客户未填写，表述默认</span><select class="form-control w60" ng-model="evaluate.loyaltyQuestionDefaultScore"><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select><span style="margin-left:5px">分</span></div></div></li><li style="margin-bottom:5px"><div style="margin-bottom:10px"><div class="title-bar" style="margin-bottom:5px"><input type="checkbox" ng-model="evaluate.recommendQuestionOpen"> 推荐度</div><span style="margin-left:10px;color:#999">了解客户的推荐意愿，5分制，1~5颗星</span></div></li><li style="margin-bottom:5px"><div class="title-bar"><span style="color:#999;font-weight:400">推荐度</span></div><div class="form-content"><input type="text" ng-model="evaluate.recommendQuestionTitle" maxlength="128" class="form-control w400"></div></li><li><div class="title-bar"></div><div class="form-content"><div style="display:flex;align-items:center"><span style="margin-right:5px">如客户未填写，表述默认</span><select class="form-control w60" ng-model="evaluate.recommendQuestionDefaultScore"><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select><span style="margin-left:5px">分</span></div></div></li><li><div class="title-bar"><span>意见反馈</span></div><div class="form-content"><input type="text" ng-model="evaluate.description" maxlength="128" class="form-control w400"></div></li><li><div class="title-bar"><span style="color:#999;font-weight:400">问题描述</span></div><div class="form-content"><textarea type="textarea" ng-model="evaluate.content" class="form-control" style="width:400px" maxlength="200"></textarea></div></li><li><div class="title-bar"></div><div class="form-content"><button type="button" class="btn btn-primary w100" ng-click="updateEvaluateConfig()">更新</button></div></li></ul></div></div>');e.put("source/system-setting/sla-setting/sla-setting.html",'<div style="overflow:auto;min-width:1200px"><form id="editSlaForm" name="editSlaForm" onsubmit="return false"><input type="hidden" ng-model="ticketSla.id"><div class="setting-head-common"><div class="nav-title"><a ng-click="cancelEditSla();">SLA </a>》 <span ng-if="!$stateParams.id">添加SLA</span><span ng-if="$stateParams.id>0">{{ticketSla.name}}</span></div><oem-learn-more type="sla_edit" description="SLA由响应时长和处理时长两个指标组成，从工单创建时间点开始计时，到达第一个公开回复时间点为响应时长，到达最后一个处理完毕时间点为处理时长，中间剔除非工作时段和暂停的时间。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/528" class="know-more"></oem-learn-more></div><h4 class="margin_left20px padding_top10px size13"><strong>SLA规则名称</strong></h4><div class="padding_left20px padding_right10px" style="width:530px"><input type="text" class="form-control size14" ng-model="ticketSla.name" required maxlength="64"></div><h4 class="margin_left20px padding_top10px size13"><strong>客户组</strong></h4><div class="padding_left20px padding_right10px" style="width:530px"><transfer-select name="客户组" type="userGroupType" total="userGroupTotal" has-more="userGroupHasMore" list="userGroupList" value="ticketSla.userGroups" on-load="onLoad()" on-search="onSearch(key)" on-load-more="onLoadMore()" on-change="onChange(type, value)"></transfer-select></div><h4 class="margin_left20px padding_top10px size13"><strong>服务目录</strong></h4><div class="margin_left20px padding_top1px" style="width:504px"><service-catalog-select selectedservicecatalog="ticketSla.serviceDesk" null-show-name="所有服务目录"></service-catalog-select></div><div class="padding_top8px margin_left20px size13"><div style="float:left;margin-top:45px"><p style="margin-top:15PX"><strong>{{priority[0].name}}</strong></p><p style="margin-top:20PX"><strong>{{priority[1].name}}</strong></p><p style="margin-top:20PX"><strong>{{priority[2].name}}</strong></p><p style="margin-top:20PX"><strong>{{priority[3].name}}</strong></p><p style="margin-top:20PX"><strong>{{priority[4].name}}</strong></p></div><div style="float:left;width:335px"><p style="padding:0 0 0 15px;font-size:13px;margin:20px 0 0 0;width:100px"><strong><span>响应时长</span></strong></p><div style="list-style:none" class="sl tryu margin_left10px size13"><ul style="list-style:none" class="block padding_left35px padding_top15px"><li><input type="number" min="0" required class="sla1 try1 size12 center" ng-model="ticketSla.p1_reply_hours"><div class="sla2">Hour</div><input type="number" min="0" max="59" required class="sla3 try1 size12 center" ng-model="ticketSla.p1_reply_minutes"><div class="sla2">Minute</div></li></ul><ul style="list-style:none" class="block padding_left35px padding_top30px"><li><input type="number" min="0" required class="sla1 try1 size12" ng-model="ticketSla.p2_reply_hours"><div class="sla2">Hour</div><input type="number" min="0" max="59" required class="sla3 try1 size12" ng-model="ticketSla.p2_reply_minutes"><div class="sla2">Minute</div></li></ul><ul style="list-style:none" class="block padding_left35px padding_top30px"><li><input type="number" min="0" required class="sla1 try1 size12" ng-model="ticketSla.p3_reply_hours"><div class="sla2">Hour</div><input type="number" min="0" max="59" required class="sla3 try1 size12" ng-model="ticketSla.p3_reply_minutes"><div class="sla2">Minute</div></li></ul><ul style="list-style:none" class="block padding_left35px padding_top30px"><li><input type="number" min="0" required class="sla1 try1 size12" ng-model="ticketSla.p4_reply_hours"><div class="sla2">Hour</div><input type="number" min="0" max="59" required class="sla3 try1 size12" ng-model="ticketSla.p4_reply_minutes"><div class="sla2">Minute</div></li></ul><ul style="list-style:none" class="block padding_left35px padding_top30px"><li><input type="number" min="0" required class="sla1 try1 size12" ng-model="ticketSla.p5_reply_hours"><div class="sla2">hour</div><input type="number" min="0" max="59" required class="sla3 try1 size12" ng-model="ticketSla.p5_reply_minutes"><div class="sla2">Minute</div></li></ul></div><section style="clear:both"></section></div><div style="float:left;width:335px"><p style="padding:0 0 0 15px;font-size:13px;margin:20px 0 0 0;width:100px"><strong><span>处理时长</span></strong></p><div class="sl tryu margin_left15px size13"><ul style="list-style:none" class="block padding_left35px padding_top15px"><li><input type="number" min="0" required class="sla1 try1 size12" ng-model="ticketSla.p1_resolve_days"><div class="sla2">Day</div><input type="number" min="0" max="23" ng-pattern="resolveHoursPattern" required class="sla1 try1 size12" ng-model="ticketSla.p1_resolve_hours"><div class="sla2">Hour</div><input type="number" min="0" max="59" ng-pattern="resolveMinutePattern" required class="sla1 try1 size12" ng-model="ticketSla.p1_resolve_minutes"><div class="sla2">Minute</div></li></ul><ul style="list-style:none" class="block padding_left35px padding_top30px"><li><input type="number" min="0" required class="sla1 try1 size12" ng-model="ticketSla.p2_resolve_days"><div class="sla2">Day</div><input type="number" min="0" max="23" ng-pattern="resolveHoursPattern" required class="sla1 try1 size12" ng-model="ticketSla.p2_resolve_hours"><div class="sla2">Hour</div><input type="number" min="0" max="59" ng-pattern="resolveMinutePattern" required class="sla1 try1 size12" ng-model="ticketSla.p2_resolve_minutes"><div class="sla2">Minute</div></li></ul><ul style="list-style:none" class="block padding_left35px padding_top30px"><li><input type="number" min="0" required class="sla1 try1 size12" ng-model="ticketSla.p3_resolve_days"><div class="sla2">Day</div><input type="number" min="0" max="23" ng-pattern="resolveHoursPattern" required class="sla1 try1 size12" ng-model="ticketSla.p3_resolve_hours"><div class="sla2">Hour</div><input type="number" min="0" max="59" ng-pattern="resolveMinutePattern" required class="sla1 try1 size12" ng-model="ticketSla.p3_resolve_minutes"><div class="sla2">Minute</div></li></ul><ul style="list-style:none" class="block padding_left35px padding_top30px"><li><input type="number" min="0" required class="sla1 try1 size12" ng-model="ticketSla.p4_resolve_days"><div class="sla2">Day</div><input type="number" min="0" max="23" ng-pattern="resolveHoursPattern" required class="sla1 try1 size12" ng-model="ticketSla.p4_resolve_hours"><div class="sla2">Hour</div><input type="number" min="0" max="59" ng-pattern="resolveMinutePattern" required class="sla1 try1 size12" ng-model="ticketSla.p4_resolve_minutes"><div class="sla2">Minute</div></li></ul><ul style="list-style:none" class="block padding_left35px padding_top30px"><li><input type="number" min="0" required class="sla1 try1 size12" ng-model="ticketSla.p5_resolve_days"><div class="sla2">Day</div><input type="number" min="0" max="23" ng-pattern="resolveHoursPattern" required class="sla1 try1 size12" ng-model="ticketSla.p5_resolve_hours"><div class="sla2">Hour</div><input type="number" min="0" max="59" ng-pattern="resolveMinutePattern" required class="sla1 try1 size12" ng-model="ticketSla.p5_resolve_minutes"><div class="sla2">Minute</div></li></ul></div><section style="clear:both"></section></div><section style="clear:both"></section><p style="margin-top:50px;width:504px" class="line_solid_02"></p><div class="padding_top25px padding_bottom20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEditSla();">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="saveSla(ticketSla);" ng-disabled="!editSlaForm.$valid||isClick">更新</button></div></div></form></div>');e.put("source/telephone_channels/templates/cti_port.html",'<style>.tip-message{height:40px;background-color:#FFF5E8;padding-left:13px;line-height:40px;margin:0 0 30px 10px}.border-color-red{border-color:#e82020}.border-color-gray{border-color:#ccc}</style><div class="setting-common-body"><p ng-if="cti.id>0 && !cti.verified" class="tip-message">此渠道尚未验证成功，请尝试拨通电话完成验证。</p><ul><li><div class="title-bar"><span>渠道名称 <span style="color:#e82020">*</span></span></div><div class="form-content"><input type="text" ng-model="cti.name" ng-blur="changeCti(cti,\'nameBorder\')" ng-class="{true: \'border-color-red\', false: \'border-color-gray\'}[cti.nameBorder]" class="form-control w400" maxlength="25"><p class="tip">取一个简短的名称，在工单和报告中显示为工单渠道来源。</p></div></li><li><div class="title-bar"><span>话机种类 <span style="color:#e82020">*</span></span></div><div class="form-content"><select class="form-control w400" ng-model="cti.voiceSystem"><option value="sip">SIP电话机（接入IP语音网关）</option><option value="phone_box">普通电话机（外接电话盒子）</option></select><p class="tip">可以选用普通话机，通过USB电话盒子（另购）与电脑终端相连接；也可以选择使用系统内置的SIP电话机，连接企业的IP语音网关，通过耳麦接打电话。两种方案都支持来去电弹屏和通话录音，取决于企业的客服坐席目前使用何种话机。方案对比</p></div></li><li ng-if="!cti.voiceSystem || cti.voiceSystem == \'sip\'"><div class="title-bar"><span>SIP线路地址 <span style="color:#e82020">*</span></span></div><div class="form-content" style="width:750px"><div class="pull-left"><input type="text" ng-model="cti.sipAddress" ng-blur="changeCti(cti,\'addressBorder\')" ng-class="{true: \'border-color-red\', false: \'border-color-gray\'}[cti.addressBorder]" class="form-control w400"><p class="tip">SIP语音网关的IP地址或域名。</p></div><div class="pull-left margin_left30px"><div style="display:inline-block"><label>端口 <span style="color:#e82020">*</span></label></div><div class="margin_left10px" style="display:inline-block"><input type="text" ng-model="cti.sipPort" ng-blur="changeCti(cti,\'portBorder\')" ng-class="{true: \'border-color-red\', false: \'border-color-gray\'}[cti.portBorder]" class="form-control w200" maxlength="5"></div><p class="tip margin_left50px">默认端口号通常是5060，如果不是请修改。</p></div></div></li><li ng-if="!cti.voiceSystem || cti.voiceSystem == \'sip\'"><div class="title-bar"><span>外呼代理IP</span></div><div class="form-content" style="width:750px"><div class="pull-left"><input type="text" ng-model="cti.proxyAddress" class="form-control w400"><p class="tip">SIP语音网关进行外呼时的代理IP，默认一般跟SIP线路地址一致</p></div><div class="pull-left margin_left30px"><div style="display:inline-block"><label>端口</label></div><div class="margin_left20px" style="display:inline-block"><input type="text" ng-model="cti.proxyPort" class="form-control w200" maxlength="5"></div><p class="tip margin_left50px">默认端口号通常是5060，如果不是请修改。</p></div></div></li><li><div class="title-bar"><span>电话录音</span></div><div class="form-content"><select class="form-control w400" ng-model="cti.saveRecord"><option value="true">保存电话录音</option><option value="false">不保存电话录音</option></select></div></li><li><div class="title-bar"></div><div class="form-content"><button type="button" class="btn btn-primary w100" ng-disabled="btnDisabled" ng-click="saveOrUpdateCTI(cti)">更新</button> <a ui-sref="system_setting.detail({uri:\'telephone_channels\',settingType:\'ticket\'})" style="margin-left:20px;color:#999">取消</a></div></li></ul></div>');e.put("source/views/agent/agent.html",'<div id="main_panes">客服 客服 客服 客服 客服 客服</div>');e.put("source/views/agent/agent.new.html",'<div id="main_panes">新建客户 新建客服 新建客服 新建客服 新建客服 新建客服</div>');e.put("source/views/aside/helper.html",'<div class="aside relative w330" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind-html="title | trusted"></h4></div></div><div class="aside-body"><div ng-show="content" ng-bind-html="content | trusted"></div><p>&nbsp;</p></div><tabset justified="true"><tab active="helper.video[\'active\']" disabled="helper.video[\'disabled\']"><tab-heading><i class="fa fa-video-camera"></i> {{\'VIDEO\' | translate}}</tab-heading><p>&nbsp;</p><div class="text-center">{{helper.video[\'content\'] | trusted}}</div></tab><tab active="helper.reference[\'active\']" disabled="helper.reference[\'disabled\']"><tab-heading><i class="fa fa-question-circle"></i> {{\'REFERENCE\' | translate}}</tab-heading><p>&nbsp;</p><ul><li ng-repeat="list in helper.reference[\'lists\']" class="padding5px"><a href="{{list.url}}" target="_blank">{{list.title}}</a></li></ul></tab></tabset></div><div class="absolute bottom0"><div class="btn-group btn-group-justified"><div class="btn-group"><button type="button" class="btn btn-default">{{\'GOTO_FORUM\'|translate}}</button></div><div class="btn-group"><button type="button" class="btn btn-default">{{\'SUBMIT_REQUEST\'|translate}}</button></div></div></div></div>');e.put("source/views/aside/messages.html",'<div class="aside w330" tabindex="-1" role="dialog"><div class="aside-dialog"><div class=""><h5 class="margin10px c00" ng-bind="chatTimeOutWarning.title|translate"></h5><div class="list-group size14"><div ng-repeat="list in chatTimeOutWarning[\'lists\']" class="list-group-item"><div class="flex cursorhand" ng-click="acceptedChatWarning(list);$hide();"><div class="box_flex_1"><h5 class="list-group-item-heading c00">会话#{{list.chat_id}}异常</h5><p class="list-group-item-text c03">{{list.content}}</p></div></div></div><div class="list-group-item c00" ng-show="chatTimeOutWarning[\'lists\'].length==0" translate="NO_MESSAGES"></div></div></div></div></div>');e.put("source/views/aside/notice.html",'<div class="aside relative w330 text-left" tabindex="-1" role="dialog"><div class="aside-dialog"><div class=""><h5 class="margin10px c00" ng-bind-html="title | trusted"></h5><div class="list-group size14"><a ng-click="addTabToTicket();removeNotice()" ng-repeat="list in notice[\'lists\']" class="list-group-item" style="margin-top:0;margin-bottom:-1px"><span class="pull-right margin_left20px size10">12:31</span><h5 class="list-group-item-heading">{{list.title}}</h5><p class="list-group-item-text c03">{{list.description}}</p></a><div class="list-group-item c00" ng-if="!notice[\'lists\'].length" translate="NO_TASK"></div></div></div></div></div>');e.put("source/views/aside/notice1.html",'<div style="float:left" class="aside relative w330 text-left" tabindex="-2" role="dialog"><div class="aside-dialog"><div class=""><h5 class="margin10px c00" ng-bind-html="title | trusted"></h5><div class="list-group size14"><a ng-click="addTabToTicket();removeNotice()" ng-repeat="list in notice[\'lists\']" class="list-group-item" style="margin-top:0;margin-bottom:-1px"><span class="pull-right margin_left20px size10">12:31</span><h5 class="list-group-item-heading">会话请求队列</h5><p class="list-group-item-text c03">会话请求队列</p></a><div class="list-group-item c00" ng-if="!notice[\'lists\'].length" translate="NO_TASK"><p>会话请求队列</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p></div></div></div></div></div>');e.put("source/views/chart/chart.html",'<section class="main_panes layoutA"><div class="statistics-chart-wrap"><div class="header"><span class="statisticsChart_title_font">统计报表</span><ul style="list-style:none;margin:16px 0 0;padding:0"><li style="font-weight:700" ui-sref="chart.performance" ui-sref-opts="{reload: true}" class="statisticsChart_float_left statisticsChart_margin_right_43" ng-class="chartPerformance" has-permission="ticket_performance_statistics"><input type="radio" name="chartNav" id="chartPerformance" style="display:none" ng-checked="$state.current.name==\'chart.performance\'||$state.current.name==\'chart.performance.number\'||$state.current.name==\'chart.performance.sla\'||$state.current.name==\'chart.performance.response_time\'||$state.current.name==\'chart.performance.other\'" class="chartNavInput"><label ng-click="chartPerformanceBuried()" class="statisticsChart_font statisticsChart_hover_pointer chartNavLabel" for="chartPerformance">绩效指标</label></li><li class="statisticsChart_float_left statisticsChart_margin_right_43 statisticsChart_hover_pointer" ui-sref="chart.distribute" ui-sref-opts="{reload: true}" ng-class="chartDistribute" has-permission="ticket_distributed_statistics"><input type="radio" name="chartNav" id="chartDistribute" style="display:none" ng-checked="$state.current.name==\'chart.distribute\'||$state.current.name==\'chart.distribute.request_distribute\'||$state.current.name==\'chart.distribute.ticket_prop_distribute\'||$state.current.name==\'chart.distribute.top_engineer\'||$state.current.name==\'chart.distribute.top_servicedesk\'" class="chartNavInput"><label ng-click="chartDistributeBuried()" class="statisticsChart_font statisticsChart_hover_pointer chartNavLabel" for="chartDistribute">分布排行</label></li><li class="statisticsChart_float_left statisticsChart_margin_right_43 statisticsChart_hover_pointer" ui-sref="chart.customer" ui-sref-opts="{reload: true}" ng-class="chartAnalyse" has-permission="customer_analyze_statistics"><input type="radio" name="chartNav" id="chartAnalyse" style="display:none" ng-checked="$state.current.name==\'chart.customer\'||$state.current.name==\'chart.customer.customer_analyse\'||$state.current.name==\'chart.customer.top_customer\'||$state.current.name==\'chart.customer.top_usergroup\'||$state.current.name==\'chart.customer.customer_integral\'" class="chartNavInput"><label ng-click="chartAnalyseBuried()" class="statisticsChart_font statisticsChart_hover_pointer chartNavLabel" for="chartAnalyse">客户分析</label></li><li class="switch-to-new" has-permissions="statistics_engineer_performance,statistics_ticket_statistics,statistics_chat_statistics,statistics_customer_statistics,service_report"><a class="btn" ui-sref="statistics" ui-sref-opts="{reload: true}"><i class="iconfont">&#xe74c;</i> <span>切换到新版</span></a></li><div style="clear:both"></div></ul></div><div ui-view></div></div></section>');e.put("source/views/chart/chart_analyze.html",'<div><chart-tool-bar showfilter="false" showexport="true"></chart-tool-bar><ul style="list-style:none;padding-left:1%;padding-right:1%;margin:30px auto 0"><li class="statisticsChart_float_left statisticsChart_distribute_li_box statisticsChart_hover_pointer statisticsChart_li_background" ui-sref="chart.customer.customer_analyse"><input type="checkbox" style="display:none" ng-checked="$state.current.name==\'chart.customer.customer_analyse\'" id="chartCustomerNavCustomer_analyse" class="chartCustomerNavInput"><label for="chartCustomerNavCustomer_analyse" class="chartCustomerNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">概览</span><br><span class="statisticsChart_font_size_13">存量、增量、分布、活跃度</span></label></li><li class="statisticsChart_float_left statisticsChart_distribute_li_box statisticsChart_hover_pointer" ui-sref="chart.customer.top_customer"><input type="checkbox" style="display:none" ng-checked="$state.current.name==\'chart.customer.top_customer\'" id="chartCustomerNavTop_customer" class="chartCustomerNavInput"><label for="chartCustomerNavTop_customer" class="chartCustomerNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">TOP10客户</span><br><span class="statisticsChart_font_size_13">服务请求、社区活动、满意度</span></label></li><li class="statisticsChart_float_left statisticsChart_distribute_li_box statisticsChart_hover_pointer" ui-sref="chart.customer.top_usergroup"><input type="checkbox" style="display:none" ng-checked="$state.current.name==\'chart.customer.top_usergroup\'" id="chartCustomerNavTop_usergroup" class="chartCustomerNavInput"><label for="chartCustomerNavTop_usergroup" class="chartCustomerNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">TOP10客户组</span><br><span class="statisticsChart_font_size_13">服务请求、社区活动、满意度</span></label></li><li class="statisticsChart_float_left statisticsChart_distribute_li_box statisticsChart_hover_pointer" style="border-right:1px solid #ccc" ui-sref="chart.customer.customer_integral"><input type="checkbox" style="display:none" ng-checked="$state.current.name==\'chart.customer.customer_integral\'" id="chartCustomerNavCustomer_integral" class="chartCustomerNavInput"><label for="chartCustomerNavCustomer_integral" class="chartCustomerNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">积分排行榜</span><br><span class="statisticsChart_font_size_13">TOP100</span></label></li><div style="clear:both"></div></ul><div ui-view></div></div>');e.put("source/views/chart/chart_distribute.html",'<div><chart-tool-bar showfilter="false" showexport="true"></chart-tool-bar><ul style="list-style:none;padding-left:1%;padding-right:1%;margin:30px auto 0"><li class="statisticsChart_float_left statisticsChart_distribute_li_box statisticsChart_hover_pointer statisticsChart_li_background" ui-sref="chart.distribute.request_distribute"><input type="checkbox" style="display:none" ng-checked="$state.current.name==\'chart.distribute.request_distribute\'" id="chartDistributeNavRequest_distribute" class="chartDistributeNavInput"><label for="chartDistributeNavRequest_distribute" class="chartDistributeNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">服务请求分布</span> <span class="iconfont" bs-tooltip placement="bottom" html="t" rue data-title="<p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>溢出率=筛选条件内未接通的服务请求/筛选条件内所有服务请求*100%</p>\n                            <p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>删除率=筛选条件内已删除的服务请求/筛选条件内所有服务请求*100%</p>">&#xe649;</span><br><span class="statisticsChart_font_size_13">服务请求来源和质量</span></label></li><li class="statisticsChart_float_left statisticsChart_distribute_li_box statisticsChart_hover_pointer" ui-sref="chart.distribute.ticket_prop_distribute"><input type="checkbox" style="display:none" ng-checked="$state.current.name==\'chart.distribute.ticket_prop_distribute\'" id="chartDistributeNavTicket_prop_distribute" class="chartDistributeNavInput"><label for="chartDistributeNavTicket_prop_distribute" class="chartDistributeNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">工单属性分布</span><br><span class="statisticsChart_font_size_13">类型、优先级、服务目录、标签</span></label></li><li class="statisticsChart_float_left statisticsChart_distribute_li_box statisticsChart_hover_pointer" ui-sref="chart.distribute.top_engineer"><input type="checkbox" style="display:none" ng-checked="$state.current.name==\'chart.distribute.top_engineer\'" id="chartDistributeNavTop_engineer" class="chartDistributeNavInput"><label for="chartDistributeNavTop_engineer" class="chartDistributeNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">TOP10客服</span><br><span class="statisticsChart_font_size_13">接单、关单、团队协作、技术支持、社区贡献</span></label></li><li class="statisticsChart_float_left statisticsChart_distribute_li_box statisticsChart_hover_pointer" style="border-right:1px solid #ccc" ui-sref="chart.distribute.top_servicedesk"><input type="checkbox" style="display:none" ng-checked="$state.current.name==\'chart.distribute.top_servicedesk\'" id="chartDistributeNavTop_servicedesk" class="chartDistributeNavInput"><label for="chartDistributeNavTop_servicedesk" class="chartDistributeNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">TOP10客服组</span><br><span class="statisticsChart_font_size_13">接单、关单、团队协作、技术支持、社区贡献</span></label></li><div style="clear:both"></div></ul><div ui-view></div></div>');e.put("source/views/chart/customer_analyse.html",'<div style="width:98%;margin-left:1%;padding-bottom:20px" class="chart_performance_canvas_border statisticsChart_padding_top_10"><div class="tab-content statisticsChart_margin_bottom30"><div class="chart_select_toggle_box"><div class="statisticsChart_float_right"><input type="radio" id="chart_request_distribute_time_day" style="display:none" class="chart_request_distribute_time_input" name="chart_request_distribute_time" ng-click="switchYearAndMonthByIncremental(\'year\');" ng-checked="byIncrementalType==\'year\'"><label for="chart_request_distribute_time_day" class="chart_select_toggle_time">年度</label></div><div class="statisticsChart_float_right"><input type="radio" id="chart_request_distribute_time_hour" style="display:none" class="chart_request_distribute_time_input" name="chart_request_distribute_time" ng-click="switchYearAndMonthByIncremental(\'month\');" ng-checked="byIncrementalType==\'month\'"><label for="chart_request_distribute_time_hour" class="chart_select_toggle_time chart_select_toggle_time_first">月度</label></div><div style="clear:both"></div></div><div id="customer_analyse_incremental" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content statisticsChart_margin_bottom30"><div class="chart_select_toggle_box"><div class="statisticsChart_float_right"><input type="radio" id="chart_request_distribute_time_year" style="display:none" class="chart_request_distribute_time_input" name="chart_request_distribute_year" ng-click="switchYearAndMonthByHelpcenter(\'year\');" ng-checked="byHelpcenterType==\'year\'"><label for="chart_request_distribute_time_year" class="chart_select_toggle_time">年度</label></div><div class="statisticsChart_float_right"><input type="radio" id="chart_request_distribute_time_month" style="display:none" class="chart_request_distribute_time_input" name="chart_request_distribute_year" ng-click="switchYearAndMonthByHelpcenter(\'month\');" ng-checked="byHelpcenterType==\'month\'"><label for="chart_request_distribute_time_month" class="chart_select_toggle_time chart_select_toggle_time_first">月度</label></div><div style="clear:both"></div></div><div id="helpcenter" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div><div class="tab-content statisticsChart_float_left" style="width:50%"><div id="customer_analyse_byusergroup" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content statisticsChart_float_left" style="width:50%"><div id="customer_analyse_byusergroupscale" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div style="clear:both"></div></div></div>');e.put("source/views/chart/customer_integral.html",'<div style="width:98%;margin-left:1%;padding-bottom:20px" class="chart_performance_canvas_border statisticsChart_padding_top_10"><div class="tab-content"><div id="customer_integral" class="chart_performance_canvas_box" style="width:100%;height:2000px"></div></div></div>');e.put("source/views/chart/performance.html",'<section><div><chart-tool-bar showfilter="false" showexport="false"></chart-tool-bar><ul style="list-style:none;padding-left:1%;padding-right:1%;margin:30px auto 0"><li class="statisticsChart_float_left statisticsChart_li_box statisticsChart_hover_pointer statisticsChart_li_background" ui-sref="chart.performance.number"><input type="checkbox" style="display:none" name="chartPerformanceNav" ng-checked="$state.current.name==\'chart.performance.number\'" id="chartPerformanceNavNumber" class="chartPerformanceNavInput"><label for="chartPerformanceNavNumber" class="chartPerformanceNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">数量</span> <span class="statisticsChart_font_size_13">(合计)</span> <span class="iconfont" bs-tooltip placement="bottom" html="t" rue data-title="<p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>新建=筛选条件内创建且未被删除的工单</p>\n                            <p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>完成=筛选条件内处理完毕且当前状态是处理完毕或已关闭的工单</p>\n                            <p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>暂停=筛选条件内当前状态是暂停的工单</p>\n                            <p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>处理中=筛选条件内工单当前状态为处理中的工单</p>">&#xe649;</span><br><span class="statisticsChart_font_size_13">新建:{{sumNewNum}}，完成:{{sumEndNum}}，暂停:{{sumPaddingNum}}，处理中:{{sumOpenNum}}</span></label></li><li class="statisticsChart_float_left statisticsChart_li_box statisticsChart_hover_pointer" ui-sref="chart.performance.response_time"><input type="checkbox" style="display:none" name="chartPerformanceNav" ng-checked="$state.current.name==\'chart.performance.response_time\'" id="chartPerformanceNavResponseTimeOne" class="chartPerformanceNavInput"><label for="chartPerformanceNavResponseTimeOne" class="chartPerformanceNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">时长</span> <span class="statisticsChart_font_size_13">(平均)</span> <span class="iconfont" bs-tooltip placement="bottom" html="t" rue data-title="<p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>平均相应时长=分母中的工单响应时长总和/筛选条件内响应的且当前状态是处理完毕或者已关闭的工单</p>\n                            <p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>平均处理时长=分母中的工单处理完毕所需天数总和/筛选条件内处理完毕的且当前状态是处理完毕或者已关闭的工单</p>">&#xe649;</span><br><span class="statisticsChart_font_size_13">响应{{avgResponseTime}}小时，处理{{avgHandleTime}}天</span></label></li><li class="statisticsChart_float_left statisticsChart_li_box statisticsChart_hover_pointer" ui-sref="chart.performance.sla"><input type="checkbox" style="display:none" name="chartPerformanceNav" ng-checked="$state.current.name==\'chart.performance.sla\'" id="chartPerformanceNavResponseTimeTwo" class="chartPerformanceNavInput"><label for="chartPerformanceNavResponseTimeTwo" class="chartPerformanceNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">SLA</span> <span class="statisticsChart_font_size_13">(达标率{{avgSlaRate}}%)</span> <span class="iconfont" bs-tooltip placement="bottom" html="t" rue data-title="<p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>SLA达标率=筛选时间段内响应达标且处理达标的工单/筛选时间段内处理完毕且当前状态是处理完毕或者已关闭的工单*100%</p>\n                            <p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>响应达标率=分母中响应达标的工单/筛选时间段内处理完毕且当前状态是处理完毕或者已关闭的工单*100%</p>\n                            <p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>处理达标率=分母中处理达标的工单/筛选时间段内处理完毕且当前状态是处理完毕或者已关闭的工单*100%</p>">&#xe649;</span><br><span class="statisticsChart_font_size_13">响应达标率{{avgResponseSlaRate}}%</span> ， <span class="statisticsChart_font_size_13">处理达标率{{avgResolveSlaRate}}%</span></label></li><li class="statisticsChart_float_left statisticsChart_li_box statisticsChart_hover_pointer" ui-sref="chart.performance.other"><input type="checkbox" style="display:none" name="chartPerformanceNav" ng-checked="$state.current.name==\'chart.performance.other\'" id="chartPerformanceNavResponseTimeThree" class="chartPerformanceNavInput"><label for="chartPerformanceNavResponseTimeThree" class="chartPerformanceNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">解决率</span> <span class="iconfont" bs-tooltip placement="bottom" html="t" rue data-title="<p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>解决率=已解决/（当前状态为已关闭和处理完毕的工单）*100%</p>\n                            <p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>未解决=筛选条件内评价为未解决且当前状态是已关闭或处理完毕的工单</p>\n                            <p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>已解决=筛选条件内评价为已解决或未评价且当前状态为已关闭或处理完毕的工单</p>">&#xe649;</span><br><span class="statisticsChart_font_size_13">解决率{{solvedRateNum}}%</span></label></li><li class="statisticsChart_float_left statisticsChart_li_box statisticsChart_hover_pointer" style="border-right:1px solid #ccc" ui-sref="chart.performance.other"><input type="checkbox" style="display:none" name="chartPerformanceNav" ng-checked="$state.current.name==\'chart.performance.other\'" id="chartPerformanceNavResponseTimeFour" class="chartPerformanceNavInput"><label for="chartPerformanceNavResponseTimeFour" class="chartPerformanceNavLabel statisticsChart_hover_pointer"><span class="statisticsChart_font_size_20">满意度</span> <span class="iconfont" bs-tooltip placement="bottom" html="t" rue data-title="<p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>满意度=分母中评价为好或中的工单/筛选条件内当前状态是已关闭和处理完毕的工单*100%</p>\n                            <p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>好=筛选条件内评价为好且当前状态是已关闭和处理完毕的工单</p>\n                            <p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>中=筛选条件内评价为中且当前状态为已关闭和处理完毕的工单</p>\n                            <p style=\'text-align:left;font-weight:normal;padding-bottom:5px;\'>差=筛选条件内评价为差且当前状态为已关闭和处理完毕的工单</p>">&#xe649;</span><br><span class="statisticsChart_font_size_13">满意度{{evaluateRate}}%</span></label></li><div style="clear:both"></div></ul><div ui-view></div></div></section>');e.put("source/views/chart/performance_number.html",'<div id="chart_performance" style="width:98%;height:400px;margin-left:1%;padding-bottom:20px" class="chart_performance_canvas_border chart_performance_canvas_box statisticsChart_padding_top_10"></div><div class="tab-content"></div><div class="ticket-table margin10px" style="position:relative;height:451px"><div class="ticket-title clearfix"><i class="iconfont ticket-list-icon">&#xe636;</i><h3 class="title-txt">工单列表{{tableParamsTitle?">>" + tableParamsTitle:\'\'}}</h3><div class="title-handle"><span chart-ticket-field></span></div></div><eweitable2 ng-show="tickets.length!=0" hide-title="true"></eweitable2><h4 ng-show="tickets.length==0" style="padding-left:10px;text-align:center">没有记录</h4><div class="performance-loading" ticket-loading="/api/performance_count_list.json"><img src="/source/images/ajax-loader.gif"></div></div>');e.put("source/views/chart/performance_other.html",'<div class="chart_performance_canvas_border statisticsChart_padding_top_10" style="width:98%;margin-left:1%;padding-bottom:20px"><div ng-show="$state.current.name==\'chart.performance.response_time\'"><div id="chart_response" class="chart_performance_canvas_box statisticsChart_margin_bottom30" style="width:100%;height:300px"></div><div id="chart_handle" class="chart_performance_canvas_box statisticsChart_margin_bottom30" style="width:100%;height:300px"></div></div><div class="statisticsChart_margin_bottom30" ng-show="$state.current.name==\'chart.performance.other\'"><div id="chart_solved_rate" style="width:590px;height:300px" class="statisticsChart_float_left"></div><div id="chart_evaluate" style="width:590px;height:300px" class="statisticsChart_float_left"></div><div id="chart_isEvaluate" style="width:590px;height:300px" class="statisticsChart_float_left"></div><div style="clear:both"></div></div><div id="chart_SLARate" ng-show="$state.current.name==\'chart.performance.sla\'" style="width:100%;height:300px" class="chart_performance_canvas_box"></div></div><div class="tab-content"></div><div class="ticket-table margin10px" style="position:relative;height:451px"><div class="ticket-title clearfix"><i class="iconfont ticket-list-icon">&#xe636;</i><h3 class="title-txt">工单列表</h3><div class="title-handle"><div chart-ticket-field></div></div></div><eweitable2 ng-show="tickets.length!=0" hide-title="true"></eweitable2><h4 ng-show="tickets.length==0" style="padding-left:10px;text-align:center">没有记录</h4><div class="performance-loading" ticket-loading="/api/performance_count_list.json"><img src="/source/images/ajax-loader.gif"></div></div>');e.put("source/views/chart/performance_response_time.html",'<div class="chart_performance_canvas_border statisticsChart_padding_top_10" style="width:98%;margin-left:1%;padding-bottom:20px"><div ng-show="$state.current.name==\'chart.performance.response_time\'"><div id="chart_response" class="chart_performance_canvas_box statisticsChart_margin_bottom30" style="width:100%;height:300px"></div><div id="chart_handle" class="chart_performance_canvas_box statisticsChart_margin_bottom30" style="width:100%;height:300px"></div></div><div class="statisticsChart_margin_bottom30" ng-show="$state.current.name==\'chart.performance.other\'"><div id="chart_solved_rate" style="width:30%;height:300px" class="statisticsChart_float_left"></div><div id="chart_evaluate" style="width:30%;height:300px" class="statisticsChart_float_left"></div><div id="chart_isEvaluate" style="width:30%;height:300px" class="statisticsChart_float_left"></div><div style="clear:both"></div></div><div id="chart_SLARate" ng-show="$state.current.name==\'chart.performance.sla\'" style="width:100%;height:300px" class="chart_performance_canvas_box"></div></div><div class="tab-content"></div><div class="ticket-table margin10px" style="position:relative;height:451px"><div class="ticket-title clearfix"><i class="iconfont ticket-list-icon">&#xe636;</i><h3 class="title-txt">工单列表</h3><div class="title-handle"><span chart-ticket-field></span></div></div><eweitable2 ng-show="tickets.length!=0" hide-title="true"></eweitable2><h4 ng-show="tickets.length==0" style="padding-left:10px;text-align:center">没有记录</h4><div class="performance-loading" ticket-loading="/api/performance_count_list.json"><img src="/source/images/ajax-loader.gif"></div></div>');e.put("source/views/chart/performance_sla.html",'<div class="chart_performance_canvas_border statisticsChart_padding_top_10" style="width:98%;margin-left:1%;padding-bottom:20px"><div ng-show="$state.current.name==\'chart.performance.response_time\'"><div id="chart_response" class="chart_performance_canvas_box statisticsChart_margin_bottom30" style="width:100%;height:300px"></div><div id="chart_handle" class="chart_performance_canvas_box statisticsChart_margin_bottom30" style="width:100%;height:300px"></div></div><div class="statisticsChart_margin_bottom30" ng-show="$state.current.name==\'chart.performance.other\'"><div id="chart_solved_rate" style="width:30%;height:300px" class="statisticsChart_float_left"></div><div id="chart_evaluate" style="width:30%;height:300px" class="statisticsChart_float_left"></div><div id="chart_isEvaluate" style="width:30%;height:300px" class="statisticsChart_float_left"></div><div style="clear:both"></div></div><div id="chart_SLARate" ng-show="$state.current.name==\'chart.performance.sla\'" style="width:100%;height:300px" class="chart_performance_canvas_box"></div></div><div class="tab-content"></div><div class="ticket-table margin10px" style="position:relative;height:451px"><div class="ticket-title clearfix"><i class="iconfont ticket-list-icon">&#xe636;</i><h3 class="title-txt">工单列表</h3><div class="title-handle"><span chart-ticket-field></span></div></div><eweitable2 ng-show="tickets.length!=0" hide-title="true"></eweitable2><h4 ng-show="tickets.length==0" style="padding-left:10px;text-align:center">没有记录</h4><div class="performance-loading" ticket-loading="/api/performance_count_list.json"><img src="/source/images/ajax-loader.gif"></div></div>');e.put("source/views/chart/request_distribute.html",'<div style="width:98%;margin-left:1%;padding-bottom:20px" class="chart_performance_canvas_border statisticsChart_padding_top_10"><div class="tab-content statisticsChart_margin_bottom30"><div class="chart_select_toggle_box"><div class="statisticsChart_float_right"><input type="radio" id="chart_request_distribute_time_day" style="display:none" class="chart_request_distribute_time_input" name="chart_request_distribute_time" ng-click="switchHourAndDay(\'day\');" ng-checked="byTimeType==\'day\'"><label for="chart_request_distribute_time_day" class="chart_select_toggle_time">日</label></div><div class="statisticsChart_float_right"><input type="radio" id="chart_request_distribute_time_hour" style="display:none" class="chart_request_distribute_time_input" name="chart_request_distribute_time" ng-click="switchHourAndDay(\'hour\');" ng-checked="byTimeType==\'hour\'"><label for="chart_request_distribute_time_hour" class="chart_select_toggle_time chart_select_toggle_time_first">24小时</label></div><div style="clear:both"></div></div><div id="distribute_bytime" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content"><div id="distribute_byip" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div><div class="tab-content statisticsChart_float_left" style="width:50%"><div id="distribute_bychannel" class="chart_performance_canvas_box" style="width:100%;height:400px"></div><p class="chart_img_hyperlink_font_box"><span class="chart_img_hyperlink_font">点击可查看单个渠道的溢出率</span><br><a href="#" class="chart_img_hyperlink_all_ditch_font" ng-click="allChannelOverflow();">全部渠道</a></p></div><div class="tab-content statisticsChart_float_left" style="width:50%"><div id="distribute_byoverflow" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div style="clear:both"></div></div><div><div class="tab-content statisticsChart_float_left" style="width:50%"><div id="distribute_bydeleterate" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content statisticsChart_float_left" style="width:50%"><div id="distribute_bydeletereason" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div style="clear:both"></div></div></div>');e.put("source/views/chart/service_report.html",'<div class="service-report"><div class="header"><div ng-show="show != \'redirect\'" class="input-group search-group template"><input ng-model="searchKey" ng-keyup="enterSearch($event)" type="text" class="form-control search-input" placeholder="输入名字或名称，查找客户" aria-label="..."><div class="input-group-btn"><div class="search-group-btn"><button type="button" class="btn btn-default search-btn" ng-click="searchUsers()"><i class="iconfont">&#xe733;</i> <span class="select-name">{{select.name}}</span></button> <button type="button" class="btn btn-default dropdown-toggle select-btn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont">&#xe60c;</i> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu dropdown-menu-right select-list"><li ng-repeat="item in dropdownMenu" ng-click="choose(item)"><a>{{item.name}}</a></li></ul></div><button type="button" class="btn btn-default setting-btn" ng-click="settingTemplate()"><i class="iconfont">&#xe734;</i></button></div><i class="iconfont delete-search-icon" ng-show="searchKey &&searchKey.length>0" ng-click="searchKey=\'\'">&#xe711;</i></div><div ng-show="show == \'redirect\'" class="redirect template"><span>致：{{userName}}</span></div></div><div class="container template" ng-show="show == \'template\' && (templates && templates.length>0)"><p class="title">保存的报告模板</p><div class="row"><div ng-repeat="template in templates" class="col-xs-4 item"><a ng-click="goDetail(\'template\',template)" class="name custom-main-font-color"><i class="iconfont custom-main-font-color" ng-if="template.type==\'customer\'">&#xe650;</i> <i class="iconfont custom-main-font-color" ng-if="template.type==\'userGroup\'">&#xe665;</i> {{(template.type==\'customer\'?((template.user&&template.user.name)?template.user.name:\'未知模板\'):((template.userGroup && template.userGroup.name)?template.userGroup.name:\'未知模板\'))}} </a><i ng-click="deleteTemlate(template)" class="iconfont delete-icon">&#xe711;</i></div></div><ewei-template-pagination params="params" change-page="page(number)"></ewei-template-pagination></div><div class="container template" ng-show="show==\'userList\'"><p class="title">搜索结果</p><div class="row" ng-if="user.list && user.list.length>0"><div ng-repeat="item in user.list" class="col-xs-4 item"><a ng-click="goDetail(user.type,item)" class="name custom-main-font-color"><i class="iconfont custom-main-font-color" ng-if="user.type==\'customer\'">&#xe650;</i> <i class="iconfont custom-main-font-color" ng-if="user.type==\'userGroup\'">&#xe665;</i> {{item.name}} {{((item.userGroup &&item.userGroup.name)?("( "+ item.userGroup.name +" )"):\'\')}}</a></div></div><div ng-if="(user.list && user.list.length==0)" class="no-result width-inherit"><span>没有相关数据</span></div><ewei-template-pagination params="userParams" change-page="page(number)"></ewei-template-pagination></div><div class="config-list template" ng-show="show == \'setting\'"><div class="config-item" ng-repeat="config in configs" ng-click="selectConfig(config)"><div class="config-item-heading"><i class="iconfont" ng-if="config.active">&#xe615;</i> <i class="iconfont" ng-if="!config.active">&#xe60c;</i> <span class="config-item-name">{{config.name}}</span></div><div class="config-item-body row" ng-if="config.active"><div class="col-xs-4" ng-repeat="item in config.list"><input type="radio" name="{{config.listName}}" ng-model="config.value" value="{{item.value}}"> <span class="item-name">{{item.name}}</span></div></div></div><div class="btn-list"><a type="button" class="btn btn-confirm custom-background-color" ng-click="save()">确认</a> <a class="cancel" ng-click="cancel()">取消</a></div></div><div ng-show="show == \'redirect\'" class="no-result template"><span><i class="fa fa-spinner fa-pulse"></i></span> <span>正在生成服务报告</span></div><div ng-if="(show==\'template\'&&(templates && templates.length==0))" class="no-result"><span>选择客户，然后生成服务报告</span></div></div>');e.put("source/views/chart/service_report_detail.html",'<div class="service-report-detail"><div ng-if="vm.loading" class="loading-mask"></div><div ng-if="vm.loading" class="loading-indicator"><i class="fa fa-spinner fa-pulse"></i></div><div class="header"><h2>致：{{vm.data.template.title}}</h2><a class="text-muted" ng-click="vm.saveTemplate()" ng-disabled="vm.templateSaving">保存模板</a><div class="buttons" ng-if="!vm.showEmailInput"><form id="speaker_form" action="/download_service_report" method="post" target="form_iframe"><input type="hidden" name="data"></form><iframe name="form_iframe" style="display:none"></iframe><a ng-click="vm.download()" class="btn btn-large btn-default" ng-disabled="vm.downloading"><span><i class="r-icon r-icon-download"></i> 下载报告</span></a> <a ng-click="vm.showEmailInputForm()" class="btn btn-large btn-default" ng-disabled="vm.sending"><span><i class="r-icon r-icon-email"></i> 发送报告</span></a> <a ui-sref="chart.serviceReport" class="btn btn-large btn-default"><span><i class="r-icon r-icon-search"></i> 重选客户</span></a></div><div class="email-input-form" ng-if="vm.showEmailInput"><div class="email-input"><input class="form-control" ng-model="vm.email" onemails="vm.updateEmails($emails)" ng-model-options="{ debounce: 500 }" placeholder="输入email或名字，多个email用逗号隔开" user-email-input="user as user.name for user in vm.loadUsers($viewValue)"></div><a ng-click="vm.sendEmail()" class="btn btn-confirm" ladda="vm.sending"><span>确定</span></a> <a ng-click="vm.hideEmailInputForm()" class="btn btn-cancel">取消</a></div></div><div class="report-content"><section class="header"><h2 class="custom-main-font-color">客户服务报告</h2><p class="text-muted">报告日期 {{ vm.reportDate | date:\'yyyy-MM-dd HH:mm\'}}</p></section><section class="intro"><div ng-if="!vm.introEditMode && !vm.data.template.intro" class="add-tips text-center"><a ng-click="vm.introEditMode=true" class="btn btn-default">添加前言</a></div><h3 ng-if="vm.introEditMode || vm.data.template.intro">前言</h3><div ng-if="!vm.introEditMode && vm.data.template.intro"><pre>{{vm.data.template.intro}}</pre><div class="edit-options"><a ng-if="!vm.introEditMode" ng-click="vm.editIntro()" class="btn btn-cancel custom-main-font-color">编辑修改</a> <a ng-if="!vm.introEditMode" ng-click="vm.deleteIntro()" class="btn btn-cancel">删除前言</a></div></div><div ng-if="vm.introEditMode"><textarea ng-if="vm.introEditMode" class="form-control" cols="30" rows="10" ng-model="vm.intro" maxlength="1000" placeholder="请撰写前言"></textarea><div class="edit-options buttons"><a ng-if="vm.introEditMode" ng-click="vm.saveIntro()" class="btn btn-confirm"><span>确定</span></a> <a ng-if="vm.introEditMode" ng-click="vm.cancelEditIntro()" class="btn btn-cancel">取消</a></div></div></section><section class="brief"><h3>服务摘要 <span ng-if="!vm.dateRangeEditMode" class="desc">({{vm.data.beginTime | date:\'yyyy年MM月dd日\'}}~{{vm.data.endTime | date:\'yyyy年MM月dd日\'}})</span> <i ng-if="!vm.dateRangeEditMode" class="iconfont button" ng-click="vm.dateRangeEditMode=true">&#xe72f;</i> <span class="date-range-form form-inline" ng-if="vm.dateRangeEditMode">开始日期 <input lay-date id="report-begin-time" format="YYYY-MM-DD" istime="false" class="form-control" ng-model="vm.beginTime"> 结束日期 <input lay-date id="report-end-time" format="YYYY-MM-DD" istime="false" class="form-control" ng-model="vm.endTime"> <a ng-click="vm.reloadReport()" class="btn btn-confirm"><span>确定</span></a> <a ng-click="vm.dateRangeEditMode = false" class="btn btn-cancel">取消</a></span></h3><ul class="brief-list"><li>新增工单：{{ vm.data.report.addedTicketNum }}</li><li>完成工单：{{ vm.data.report.finishedTicketNum }}</li><li>SLA达标率：{{ vm.data.report.finishSlaRate }}</li><li>当前待完成工单：{{ vm.data.report.notFinishedTicketNum }}</li><li>服务请求人数：{{ vm.data.report.requesterNum }}</li><li>满意度：{{ vm.data.report.happyRate }}</li><li>评价率：{{ vm.data.report.evaluateRate }}</li><li>问题解决率：{{ vm.data.report.solveRate }}</li></ul></section><section class="detail"><h3>服务明细 <span class="desc">(报告期内处理完毕的工单)</span></h3><div class="group" ng-repeat="group in vm.data.slas track by group.name" ng-if="group.tickets.length > 0"><div class="group-header"><h4><i class="expander iconfont" ng-if="!group.collapsed" ng-click="group.collapsed = !group.collapsed">&#xe60c;</i> <i class="expander iconfont fa-rotate-270" ng-if="group.collapsed" ng-click="group.collapsed = !group.collapsed">&#xe60c;</i> {{group.name}} <span class="column" ng-if="group.slaGroup">达标率：{{ group.finishSlaRate }}</span></h4></div><div class="group-body" ng-if="!group.collapsed"><ul class="ticket-list"><li ng-repeat="ticket in group.tickets"><span class="ticket-id">#{{ticket.ticketNo}}</span> <a ui-sref="tickets_detail({id:ticket.ticketId})" class="ticket-subject custom-main-font-color" title="{{ticket.ticketSubject}}">{{ticket.ticketSubject}}</a> <span class="info">{{ticket.evaluateUserName?ticket.evaluateUserName+\'，\':\'\'}} {{ticket.hasOwnProperty(\'solved\')?(ticket.solved?\'已解决，\':\'未解决，\'):\'\'}} {{ticket.hasOwnProperty(\'score\')?(ticket.score == 2 ?\'好。\': (ticket.score == 1?\'中。\':\'差。\')):\'\'}} 历时{{ ticket.solvedTime?ticket.solvedTime:0 | minute_format_filter }}</span> <span class="status" ng-hide="!group.slaGroup">{{ticket.qualified == 1? \'达标\' : \'不达标\'}}</span></li></ul></div></div></section><section class="page-footer"><p class="text-muted">报告人：{{ vm.currentUser.name }} {{vm.currentUser.mobilePhone?\' | \' + vm.currentUser.mobilePhone:\'\'}} {{vm.currentUser.email?\' | \' + vm.currentUser.email:\'\'}}</p></section></div></div>');e.put("source/views/chart/ticket_prop_distribute.html",'<div style="width:98%;margin-left:1%;padding-bottom:20px" class="chart_performance_canvas_border statisticsChart_padding_top_10"><div class="statisticsChart_margin_bottom30"><div class="tab-content statisticsChart_float_left" style="width:50%"><div id="distribute_bypriority" class="chart_performance_canvas_box" style="width:90%;height:400px"></div></div><div class="tab-content statisticsChart_float_left" style="width:50%"><div id="distribute_bytype" class="chart_performance_canvas_box" style="width:90%;height:400px"></div></div><div style="clear:both"></div></div><div class="tab-content"><div id="distribute_byservicecatalog" class="chart_performance_canvas_box" style="width:100%;height:400px"></div><p class="chart_img_hyperlink_font_box"><span class="chart_img_hyperlink_font">点击可查看此服务目录的子服务目录分布统计</span><br><span ng-repeat="breadcrumb in breadcrumbs track by breadcrumb.id"><a ng-bind="breadcrumb.name" class="chart_img_hyperlink_all_ditch_font" ng-click="selectServicecatalog(breadcrumb.name,breadcrumb.id,$index);"></a>-></span></p></div><div class="tab-content"><div id="distribute_bytag" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div></div>');e.put("source/views/chart/top_customer.html",'<div style="width:98%;margin-left:1%;padding-bottom:20px" class="chart_performance_canvas_border statisticsChart_padding_top_10"><div class="tab-content statisticsChart_margin_bottom30"><div id="request_count_bycustomer" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content statisticsChart_margin_bottom30"><div id="helpcenter_count_bycustomer" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content statisticsChart_margin_bottom30"><div id="good_count_bycustomer" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content"><div id="poor_count_bycustomer" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div></div>');e.put("source/views/chart/top_engineer.html",'<div style="width:98%;margin-left:1%;padding-bottom:20px" class="chart_performance_canvas_border statisticsChart_padding_top_10"><div class="tab-content statisticsChart_margin_bottom30"><div id="distribute_byfirstreply" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content statisticsChart_margin_bottom30"><div id="distribute_byclose" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content statisticsChart_margin_bottom30"><div id="distribute_byparticipate" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content statisticsChart_margin_bottom30"><div id="distribute_bytechsupport" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content"><div id="distribute_byhelpcenter" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div></div>');e.put("source/views/chart/top_servicedesk.html",'<div style="width:98%;margin-left:1%;padding-bottom:20px" class="chart_performance_canvas_border statisticsChart_padding_top_10"><div class="statisticsChart_margin_bottom30"><div class="tab-content statisticsChart_float_left" style="width:50%"><div id="distribute_bygroupfirstreply" class="chart_performance_canvas_box" style="width:90%;height:400px"></div></div><div class="tab-content statisticsChart_float_left" style="width:50%"><div id="distribute_bygroupclose" class="chart_performance_canvas_box" style="width:90%;height:400px"></div></div><div style="clear:both"></div></div><div class="statisticsChart_margin_bottom30"><div class="tab-content statisticsChart_float_left" style="width:50%"><div id="distribute_bygroupparticipate" class="chart_performance_canvas_box" style="width:90%;height:400px"></div></div><div class="tab-content statisticsChart_float_left" style="width:50%"><div id="distribute_bygrouptechsupport" class="chart_performance_canvas_box" style="width:90%;height:400px"></div></div><div style="clear:both"></div></div><div class="tab-content"><div id="distribute_bygrouphelpcenter" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div></div>');e.put("source/views/chart/top_usergroup.html",'<div style="width:98%;margin-left:1%;padding-bottom:20px" class="chart_performance_canvas_border statisticsChart_padding_top_10"><div class="tab-content statisticsChart_margin_bottom30"><div id="request_count_byusergroup" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content statisticsChart_margin_bottom30"><div id="helpcenter_count_byusergroup" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content statisticsChart_margin_bottom30"><div id="good_count_byusergroup" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div><div class="tab-content"><div id="poor_count_byusergroup" class="chart_performance_canvas_box" style="width:100%;height:400px"></div></div></div>');e.put("source/views/chat_list/chatQueue.html",'<div class="title clearfix"><h5><strong>进行中的会话</strong></h5><div class="loading-img"><img ng-if="tableParams.isLoading" src="/source/quick_entry/images/loading.gif"></div><div class="chat-search"><search-component searchkey="searchKey" searchmethods="searchChatList()" clear-search="clearSearch()" placeholderval="placeholderVal"></search-component></div></div><div class="ewei-table" style="background-color:#fff;top:46px" ng-class="{\'no-pager\': tableParams.total()==0}"><div ng-click="chat.setUp();" ng-mouseenter="hoverFun(true);" ng-mouseleave="hoverFun(false);" ng-class="{\'custom-main-font-color\':hoverEffect}" class="chat-table-header-setting"><span><i class="iconfont">&#xe639;</i>设置</span></div><div class="data-area"><table ng-table="tableParams" ewei-table-auto-rows="setRows" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th class="text-left {{item.widthClass}}" ng-repeat="item in chatHeader track by $index" ng-if="item.default||item.active" ng-class="{\n              \'sort-asc\': tableParams.isSortBy(item.field, \'asc\'),\n              \'sort-desc\': tableParams.isSortBy(item.field, \'desc\'),\n              \'sortable\': item.sortable\n            }" ng-click="sorting(item)" ewei-custom-column-width="item" column-type="\'chat.queue\'"><span>{{item.title}} <span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="tableParams.total()==0" class="no-data"><tr><td style="background-color:#fff;width:250px"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="tableParams.total()>0"><tr ng-repeat="item in chatList track by $index"><td ng-repeat="column in chatHeader track by $index" ng-if="column.default||column.active" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="\'chat.queue\'"><span ng-switch-when="2" ng-switch="column.field"><span ng-switch-when="user.name" ng-bind="item.user.name | nullStringFilter" title="{{item.user.name | nullStringFilter}}"></span> <span ng-switch-when="serviceDesk.name" ng-bind="item.serviceDesk.name | translate" title="{{item.serviceDesk.name | translate}}"></span></span><span ng-switch-when="3" ng-switch="column.field"><span ng-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span> </span><span ng-switch-default ng-switch="column.field"><span ng-switch-when="createdAt" ng-bind="item.createdAt | dateFilter" title="{{item.createdAt | dateFilter}}"></span> <span ng-switch-when="w_firstMessage" ng-bind="item.w_firstMessage | nullStringFilter" title="{{item.w_firstMessage | nullStringFilter}}"></span> <span ng-switch-when="c_firstMessage"><a class="c75 custom-main-font-color" ng-click="_gotoChatCenter(item.id,item.engineer,item)" ng-bind="item.c_firstMessage | nullStringFilter" title="{{item.c_firstMessage | nullStringFilter}}"></a></span><span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div><div class="set-up-out" ng-show="showSetUp"><div class="set-up"><div class="Btn" ng-repeat="item in chatHeader track by $index" ng-click="chat.selectColumn($index)">{{item.title}}<div class="position iconfont custom-main-font-color" ng-if="item.default||item.active">&#xe640;</div></div><div style="clear:both"></div><div class="btn-group-common bottom-btnGroup"><button type="button" class="btn btn-confirm custom-background-color btn-class" ng-click="chat.sureSetUp();" ladda="savingSettings" ng-disabled="savingSettings">确定</button> <a class="btn btn-cancel btn-class" ng-click="chat.cancelSetUp();">取消</a></div></div></div><style>.loading-img{height:24px;width:24px;position:absolute;left:120px;top:15px}.loading-img>img{width:100%;height:100%}.no_data{height:42px;color:#999;padding:0 20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:42px}.chat-fy{display:flex;justify-content:center;margin-top:20px}.h4-title{background:#f7f7f7;padding:10px 20px;margin:0;height:50px;line-height:34px;font-size:16px;width:100%;border-bottom:1px solid #ddd}.chat-table thead tr td:last-child{width:60px;text-align:center;cursor:pointer;color:#999}.chat-table thead tr td:last-child:hover{text-decoration:none;color:#3bb6ee}.set-up-out{position:absolute;right:20px;top:100px}.set-up{width:260px;overflow:hidden;background:#FFF;border:1px solid #999;box-shadow:5px 5px 5px #888;border-radius:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.set-up .Btn{width:100px;height:30px;float:left;margin-left:20px;margin-top:20px;border-radius:5px;border:1px solid #999;text-align:center;color:#333;font-size:14px;line-height:30px;cursor:pointer;position:relative}.set-up .Btn .position{position:absolute;right:-1px;top:-3px;height:26px;width:24px;font-size:26px}.set-up .bottom-btnGroup{width:100%;padding-bottom:20px;margin-top:60px}.set-up .bottom-btnGroup .btn-class{width:100px;height:30px;margin-left:20px;margin-top:20px;border-radius:5px}</style>');e.put("source/views/chat_list/chat_list.html",'<div id="main_panes"><section class="main_panes layoutA"><div class="pane left"><div class="title"><h5 style="padding-left:8px"><strong>会话</strong></h5><div style="float:right;margin:15px 25px 0 0;transition:transform 1s;font-size:15px;cursor:pointer;color:#6e7b8f" ng-style="rotateObj" class="iconfont" ng-click="refreshChatList();">&#xe753;</div></div><div class="list box99" style="top:46px"><div class="list-group"><a class="line_off block padding10px padding_left20px padding_right20px" ui-sref="chat_list.waitChatQueue" ui-sref-active="box02"><span>待接通的会话</span><span class="show_num_right">{{total_waiting}}</span> </a><a class="line_off block padding10px padding_left20px padding_right20px" ui-sref="chat_list.chatQueue" ui-sref-active="box02"><span>进行中的会话</span><span class="show_num_right">{{total_ongoing}}</span> </a><a class="line_off block padding10px padding_left20px padding_right20px" ui-sref="chat_list.endChatQueue" ui-sref-active="box02"><span>已结束的会话</span><span class="show_num_right">{{total_closed}}</span> </a><a class="line_off block padding10px padding_left20px padding_right20px" ui-sref="chat_list.untreatedChatQueue" ui-sref-active="box02"><span>漏接的会话</span><span class="show_num_right">{{total_untreated}}</span></a></div></div></div><div class="pane right" ui-view></div></section><style>.show_num_right{float:right}</style></div>');e.put("source/views/chat_list/deleteChat.html",'<div class="modal-inner-content confirm-content"><p>{{modalTip}}</p></div><div class="clearfix"><button type="button" class="btn btn-cancel pull-right" ng-click="$hide();">取消</button> <button type="button" class="btn btn-confirm margin_right20px pull-right" ng-click="$ok()" ng-disabled="disabled">确认</button></div>');e.put("source/views/chat_list/endChatQueue.html",'<div class="title clearfix"><span class="text">已结束会话</span><div class="loading-img"><img ng-if="tableParams.isLoading" src="/source/quick_entry/images/loading.gif"></div><div class="chat-search"><search-component ng-hide="isCanDeleteChat" searchkey="searchKey" searchmethods="searchChatList()" clear-search="clearSearch()" placeholderval="placeholderVal"></search-component><a ng-show="isCanDeleteChat" href="" class="btn custom-background-color delete-chat" ng-click="deleteChat()">删除会话</a></div></div><div class="ewei-table" style="background-color:#fff;top:46px" ng-class="{\'no-pager\': vm.tableParams.total()==0}"><div class="data-area"><table ng-table="tableParams" ewei-table-auto-rows="setRows" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th style="width:25px;padding:13px 0" ng-if="endChatList.length > 0"><input type="checkbox" ng-model="checkboxes.checked" ng-change="selectAllCheckbox()"></th><th class="text-left {{item.widthClass}}" ng-repeat="item in endChatHeader track by $index" ng-class="{\n              \'sort-asc\': tableParams.isSortBy(item.field, \'asc\'),\n              \'sort-desc\': tableParams.isSortBy(item.field, \'desc\'),\n              \'sortable\': item.sortable\n            }" ng-click="sorting(item)" ewei-custom-column-width="item" column-type="\'chat.end\'"><span>{{item.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="tableParams.total()==0" class="no-data"><tr><td style="background-color:#fff;width:250px"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="tableParams.total()>0"><tr ng-repeat="item in endChatList track by $index"><td><input type="checkbox" ng-model="checkboxes.items[item.id]" ng-change="selectSingleCheckbox(checkboxes.items[item.id])"></td><td ng-repeat="column in endChatHeader track by $index" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="\'chat.end\'"><span ng-switch-default ng-switch="column.field"><span style="display:block;position:relative" ng-switch-when="first_message"><span style="display:block;padding-right:1px;word-break:break-all"><a ng-if="item.ticket_id" ng-click="ticketDetailBuried()" class="c75 custom-main-font-color" ui-sref="tickets_detail({id:item.ticket_id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <span ng-if="!item.ticket_id" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span> </span></span><span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div><style>.loading-img{height:24px;width:24px;display:inline-block;vertical-align:top}.loading-img>img{width:100%;height:100%}.no_data{height:42px;color:#999;padding:0 20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:42px}.h4-title{background:#f7f7f7;padding:10px 20px;margin:0;height:50px;line-height:34px;font-size:16px;width:100%;border-bottom:1px solid #ddd}.delete-chat{margin:8px 20px 0 0;color:#fff}.detail-wrap .title{margin:20px}.detail-wrap .title .text{font-size:16px}</style>');e.put("source/views/chat_list/untreatedChatQueue.html",'<div class="title clearfix"><span class="text">漏接的会话</span><div class="loading-img"><img ng-if="tableParams.isLoading" src="/source/quick_entry/images/loading.gif"></div><div class="chat-search"><div ng-show="selectedId.length>0 && hasDeletePermission" style="margin:10px 20px 0 0"><span style="margin-right:30px;cursor:pointer" ng-click="clearSelected()">取消选中</span> <button type="button" class="btn btn-confirm custom-background-color" ng-click="deleteChats()">删除会话</button></div><search-component ng-show="selectedId.length==0" searchkey="searchKey" searchmethods="searchChatList()" clear-search="clearSearch()" placeholderval="placeholderVal"></search-component></div></div><div class="ewei-table" style="background-color:#fff;top:46px" ng-class="{\'no-pager\':tableParams.total()==0}"><div ng-click="untreatedChat.setUp();" ng-mouseenter="hoverFun(true);" ng-mouseleave="hoverFun(false);" ng-class="{\'custom-main-font-color\':hoverEffect}" class="chat-table-header-setting"><span><i class="iconfont">&#xe639;</i>设置</span></div><div class="data-area"><table ng-table="tableParams" ewei-table-auto-rows="setRows" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th class="text-left" style="height:35px" ng-if="untreatedChatList.length > 0"><input type="checkbox" ng-model="untreatedChat.checked" ng-click="setMutipleEngineer(true)"></th><th class="text-left {{item.widthClass}}" ng-repeat="item in untreatedChatHeader track by $index" ng-if="item.default||item.active" ewei-custom-column-width="item" column-type="\'chat.untreated\'"><span>{{item.title}}<span class="sort-indicator"></span></span></th><th class="text-left" style="min-width:150px"><span>操作</span></th></tr></thead><tbody ng-if="tableParams.total()==0" class="no-data"><tr><td style="background-color:#fff;width:250px"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="tableParams.total()>0"><tr ng-repeat="item in untreatedChatList track by $index"><td><input type="checkbox" ng-model="item.checked" style="position:relative;top:2px" ng-click="setMutipleEngineer(false)" id="{{engineer.id}}"></td><td ng-repeat="column in untreatedChatHeader track by $index" ng-if="column.default||column.active" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="\'chat.untreated\'"><span ng-switch-when="2" ng-switch="column.field"><span ng-switch-when="serviceCatalog.name" service-catalog-show servicecatalog="item.serviceCatalog"></span> <span ng-switch-when="serviceDesk.name" ng-bind="item.serviceDesk.name | translate" title="{{item.serviceDesk.name | translate}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1] | nullStringFilter" title="{{item[column.field0][column.field1] | nullStringFilter}}"></span> </span><span ng-switch-when="3" ng-switch="column.field"><span ng-switch-when="user.role.name" ng-bind="item.user.role.name | translate" title="{{item.user.role.name | translate}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span> </span><span ng-switch-default ng-switch="column.field"><span ng-switch-when="createdAt" ng-bind="item.createdAt | dateFilter" title="{{item.createdAt | dateFilter}}"></span> <span ng-switch-when="firstMessage" ng-bind="item.firstMessage | nullStringFilter" title="{{item.firstMessage | nullStringFilter}}"></span> <span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td><td style="text-align:left;min-width:150px"><span style="cursor:pointer" ng-if="hasDeletePermission" class="custom-main-font-color" ng-click="deleteChats([item.id])">删除</span> &nbsp; <span style="cursor:pointer" class="custom-main-font-color" ng-click="chatToTicket(item)">生成工单</span></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div><div class="set-up-out" ng-show="showSetUp"><div class="set-up"><div class="Btn" ng-repeat="item in untreatedChatHeader track by $index" ng-click="untreatedChat.selectColumn($index)">{{item.title}}<div class="position iconfont custom-main-font-color" ng-if="item.default||item.active">&#xe640;</div></div><div class="clear"></div><div class="btn-group-common bottom-btnGroup"><button type="button" class="btn btn-confirm custom-background-color btn-class" ng-click="untreatedChat.sureSetUp();" ladda="savingSettings" ng-disabled="savingSettings">确定</button> <a class="btn btn-cancel btn-class" ng-click="untreatedChat.cancelSetUp();">取消</a></div></div></div><style>.loading-img{height:24px;width:24px;display:inline-block;vertical-align:top}.loading-img>img{width:100%;height:100%}.no_data{height:42px;color:#999;padding:0 20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:42px}.h4-title{background:#f7f7f7;padding:10px 20px;margin:0;height:50px;line-height:34px;font-size:16px;width:100%;border-bottom:1px solid #ddd}.set-up-out{position:absolute;right:20px;top:100px}.set-up{width:260px;overflow:hidden;background:#FFF;border:1px solid #999;box-shadow:5px 5px 5px #888;border-radius:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.set-up .Btn{width:100px;height:30px;float:left;margin-left:20px;margin-top:20px;border-radius:5px;border:1px solid #999;text-align:center;color:#333;font-size:14px;line-height:30px;cursor:pointer;position:relative}.set-up .Btn .position{position:absolute;right:-1px;top:-3px;height:26px;width:24px;font-size:26px}.set-up .bottom-btnGroup{width:100%;padding-bottom:20px;margin-top:60px}.set-up .bottom-btnGroup .btn-class{width:100px;height:30px;margin-left:20px;margin-top:20px;border-radius:5px}.detail-wrap .title{margin:20px}.detail-wrap .title .text{font-size:16px}</style>');e.put("source/views/chat_list/waitChatQueue.html",'<div class="title clearfix"><h5><strong>待接通的会话</strong></h5><div class="loading-img"><img ng-if="tableParams.isLoading" src="/source/quick_entry/images/loading.gif"></div><div class="chat-search"><search-component searchkey="searchKey" searchmethods="searchChatList()" clear-search="clearSearch()" placeholderval="placeholderVal"></search-component></div></div><div class="ewei-table" style="background-color:#fff;top:46px" ng-class="{\'no-pager\':tableParams.total()==0}"><div ng-click="waitChat.setUp();" ng-mouseenter="hoverFun(true);" ng-mouseleave="hoverFun(false);" ng-class="{\'custom-main-font-color\':hoverEffect}" class="chat-table-header-setting"><span><i class="iconfont">&#xe639;</i>设置</span></div><div class="data-area"><table ng-table="tableParams" ewei-table-auto-rows="setRows" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th class="text-left {{item.widthClass}}" ng-repeat="item in waitChatHeader track by $index" ng-if="item.default||item.active" ewei-custom-column-width="item" column-type="\'chat.waiting\'"><span>{{item.title}}<span class="sort-indicator"></span></span></th><th class="text-left" style="min-width:150px"><span>操作</span></th></tr></thead><tbody ng-if="tableParams.total()==0" class="no-data"><tr><td style="background-color:#fff;width:250px"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="tableParams.total()>0"><tr ng-repeat="item in waitChatList track by $index"><td ng-repeat="column in waitChatHeader track by $index" ng-if="column.default||column.active" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="\'chat.waiting\'"><span ng-switch-when="2" ng-switch="column.field"><span ng-switch-when="serviceCatalog.name" service-catalog-show servicecatalog="item.serviceCatalog"></span><span ng-switch-when="serviceDesk.name" ng-bind="item.serviceDesk.name | translate" title="{{item.serviceDesk.name | translate}}"></span><span ng-switch-default ng-bind="item[column.field0][column.field1] | nullStringFilter" title="{{item[column.field0][column.field1] | nullStringFilter}}"></span></span> <span ng-switch-when="3" ng-switch="column.field"><span ng-switch-when="user.role.name" ng-bind="item.user.role.name | translate" title="{{item.user.role.name | translate}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span></span> <span ng-switch-default ng-switch="column.field"><span ng-switch-when="createdAt" ng-bind="item.createdAt | dateFilter" title="{{item.createdAt | dateFilter}}"></span><span ng-switch-when="c_firstMessage"><a class="c75" ng-click="_gotoChatCenter(item.id,item.engineer,item)" ng-bind="item.c_firstMessage | nullStringFilter" title="{{item.c_firstMessage | nullStringFilter}}"></a></span><span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td><td style="text-align:left;min-width:150px"><span ng-click="myselfHandleWaitingSession(item.id);" style="cursor:pointer" class="custom-main-font-color">我来处理</span> &nbsp; <span ng-if="item.isMyselfHandle && item.isMyselfHandle==\'false\'" ng-click="selectEngineerHandleWaitingSession(item.id);" style="cursor:pointer" class="custom-main-font-color">分给别人</span></td></tr></tbody></table><div class="footer" ng-if="tableParams.total()==0"><table ng-if="tableParams.total()==0" class="content" style="margin-left:-250px;bottom:20%"><tr><td><h5 style="font-weight:700">如何发起会话?</h5></td></tr><tr><td>方式1:&nbsp;通过<a class="dash-color1" href="{{serviceProvider}}">{{serviceProvider}}</a>的在线交谈发起会话。</td></tr><tr><td>方式2:&nbsp;让客户通过桌面客户端发起。</td><td ng-if="$root.providerLicense && $root.providerLicense.type !=\'oem\' && !licenseService.hasModule(\'oem\')"><div class="box" ng-click="downloadApplication();"><h5><i class="iconfont">&#xe653;</i>下载桌面客户端</h5></div></td></tr><tr ng-if="permissionValue"><td>方式3:&nbsp;在网页或者产品页面加入js代码。</td><td><div class="box" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})"><h5><i class="iconfont">&#xe648;</i>添加网页在线客服</h5></div></td></tr><tr ng-if="permissionValue"><td>方式4:&nbsp;接入微信服务号或者企业号。</td><td><div class="box" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})"><h5><i class="iconfont">&#xe648;</i>添加微信客服渠道</h5></div></td></tr></table></div></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div><div class="set-up-out" ng-show="showSetUp"><div class="set-up"><div class="Btn" ng-repeat="item in waitChatHeader track by $index" ng-click="waitChat.selectColumn($index)">{{item.title}}<div class="position iconfont custom-main-font-color" ng-if="item.default||item.active">&#xe640;</div></div><div class="clear"></div><div class="btn-group-common bottom-btnGroup"><button type="button" class="btn btn-confirm custom-background-color btn-class" ng-click="waitChat.sureSetUp();" ladda="savingSettings" ng-disabled="savingSettings">确定</button> <a class="btn btn-cancel btn-class" ng-click="waitChat.cancelSetUp();">取消</a></div></div></div><style>.loading-img{height:24px;width:24px;position:absolute;left:120px;top:15px}.loading-img>img{width:100%;height:100%}.no_data{height:42px;color:#999;padding:0 20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:42px}.footer .content{position:absolute;left:50%}.footer .box{border:1px dashed #CAC4C4;padding:0 5px;cursor:pointer;border-radius:4px;font-size:10px;font-weight:700;width:150px}.footer table tr{height:45px}.footer table td{padding:5px}.h4-title{background:#f7f7f7;padding:10px 20px;margin:0;height:50px;line-height:34px;font-size:16px;width:100%;border-bottom:1px solid #ddd}.set-up-out{position:absolute;right:20px;top:100px}.set-up{width:260px;overflow:hidden;background:#FFF;border:1px solid #999;box-shadow:5px 5px 5px #888;border-radius:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.set-up .Btn{width:100px;height:30px;float:left;margin-left:20px;margin-top:20px;border-radius:5px;border:1px solid #999;text-align:center;color:#333;font-size:14px;line-height:30px;cursor:pointer;position:relative}.set-up .Btn .position{position:absolute;right:-1px;top:-3px;height:26px;width:24px;font-size:26px}.set-up .bottom-btnGroup{width:100%;padding-bottom:20px;margin-top:60px}.set-up .bottom-btnGroup .btn-class{width:100px;height:30px;margin-left:20px;margin-top:20px;border-radius:5px}</style>');e.put("source/views/customer/batch_modify_ngineers.html",'<form class="form-horizontal" name="engineerEditForm" style="padding:0 30px"><div class="form-group"><label class="col-sm-3 control-label" style="text-align:left">角色</label><div class="col-sm-9"><select required="required" class="form-control" ng-model="engineer.role.id" ng-options="role.id as role.name for role in engineer_roles"><option value="">请选择</option></select></div></div><div class="form-group"><label class="col-sm-3 control-label" style="text-align:left">所属客服组</label><div class="col-sm-9"><button type="button" class="btn btn-default form-control" ng-model="$parent.selectedServiceDeskNames" data-placeholder="请选择" data-multiple="1" max-length="0" bs-options="serviceDesk.name as serviceDesk.name for serviceDesk in serviceDesks" bs-select ng-blur="updateServiceDesks();">Action <span class="caret"></span></button></div></div><div class="form-group"><label ng-style="nullSelectError" class="col-sm-3 control-label" style="text-align:left">首选客服组</label><div class="col-sm-9"><select required="required" class="form-control" required="required" ng-model="engineer.defaultServiceDesk.id" ng-options="serviceDesk.id as serviceDesk.name for serviceDesk in engineer.serviceDesks" ng-change="checkPreferredServiceDesk(engineer.defaultServiceDesk.id)"><option value="">请选择</option></select></div></div><div class="form-group"><label class="col-sm-3 control-label" style="text-align:left">标签</label><div class="col-sm-9"><ewei-tags-input tags="engineer.user.tags" who="user" whoid="{{engineer.user.id}}"></ewei-tags-input></div></div><div class="form-group" style="margin-top:40px"><div class="col-sm-offset-3 col-sm-2"><button type="button" class="btn btn-default" style="padding:7px 40px" ng-click="$hide()">取消</button></div><div class="col-sm-offset-1 col-sm-6"><button type="submit" ng-click="save()" ng-disabled="!engineerEditForm.$valid" class="btn btn-primary" style="padding:7px 40px">更新</button></div></div></form>');e.put("source/views/customer/customer.detail.chat_logs.html",'<div style="height:407px" class="scrollable chat size12 margin_right10px margin_left10px"><div class="widget-content padded padding_top20px"><ul style="margin-left:-50px" keep-scroll ticket-image-view><li ng-repeat="chatLog in chatLogs track by $index"><div ng-if="chatLog.type!=\'log\'"><div class="w50 h60 pull-left"><image-show imageurl="{{chatLog.user.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="img-circle w40 h40"></image-show></div><div class="bubble"><a class="user-name" href=""><strong>{{chatLog.user.name}}</strong></a> <span>{{chatLog.createdAt|dateFilter}}</span><p ng-if="chatLog.type==\'text\'">{{chatLog.content}}</p><div class="margin10px" ng-if="chatLog.type!=\'text\'" attachment-detail-item attachment="chatLog.attachment" attachmentid="{{chatLog.attachment.id}}" question-id="{{chatLog.questionId}}"></div></div><div class="clearfix"></div></div><div ng-if="chatLog.type==\'log\'"><div class="w50 h60 pull-left"><img width="32" height="32" src="source/images/avatar-female1.jpg"></div><div class="bubble"><div><span>{{chatLog.createdAt}}<strong>系统消息</strong></span></div><p><span ng-if="chatLog.operate==\'accept_chat\'">{{chatLog.user.name}}接受了会话请求</span> <span ng-if="chatLog.operate==\'quit_chat\'">{{chatLog.user.name}}退出了会话</span> <span ng-if="chatLog.operate==\'response_chat_invite\'">{{chatLog.user.name}}加入了会话</span> <span ng-if="chatLog.operate==\'reject_chat_invite\'">会话转接结束，对方拒绝</span> <span ng-if="chatLog.operate==\'no_reply_chat_invite\'">会话转接结束，对方未接</span> <span ng-if="chatLog.operate==\'request_remote_desk\'">{{chatLog.user.name}}发起远程桌面请求</span> <span ng-if="chatLog.operate==\'accept_remote_desk\'">{{chatLog.user.name}}接受远程桌面请求</span> <span ng-if="chatLog.operate==\'reject_remote_desk\'">{{chatLog.user.name}}拒绝远程桌面请求</span> <span ng-if="chatLog.operate==\'cancel_remote_desk\'">{{chatLog.user.name}}取消远程桌面请求</span> <span ng-if="chatLog.operate==\'remote_desk_start\'">{{chatLog.user.name}}远程桌面开始</span> <span ng-if="chatLog.operate==\'remote_desk_end\'">{{chatLog.user.name}}远程桌面结束</span> <span ng-if="chatLog.operate==\'video_call_start\'">{{chatLog.user.name}}远程视频开始</span> <span ng-if="chatLog.operate==\'video_call_end\'">{{chatLog.user.name}}远程视频结束</span> <span ng-if="chatLog.operate==\'chat_to_ticket\'">{{chatLog.user.name}} 已经转到生成或转接到工单 #{{chatLog.content}}</span></p></div><div class="clearfix"></div></div></li></ul><p ng-if="chatLogs.length==0">没有相关会话记录</p><br class="clear_both"><br><a ng-if="chatLogs.length>0" href="" ng-click="showMore()"><strong>More...</strong></a></div></div>');e.put("source/views/customer/customer.detail.help_center_footprints.html",'<div ng-if="(questionsISubscription.length+questionsMine.length+questionIAnswer.length+questionIComment.length)>0"><section class="margin_left20px padding_top20px size13"><span class="pull-right margin_right2px">已获得 {{voteCountMine}} <img style="" src="source/images/form5.jpg">赞同</span> <input type="radio" name="tab2" id="tab11" class="tabs" checked="checked" ng-click="setQuestViewItem(\'question_i_subscription\')"><label for="tab11" class="cursorhand">关注的 （{{questionsISubscription.length}}）</label><input type="radio" name="tab2" id="tab22" class="tabs" ng-click="setQuestViewItem(\'question_mine\')"><label for="tab22" class="cursorhand">提问的（{{questionsMine.length}}）</label><input type="radio" name="tab2" id="tab33" class="tabs" ng-click="setQuestViewItem(\'question_i_answer\')"><label for="tab33" class="cursorhand">回答的 （{{questionIAnswer.length}}）</label><input type="radio" name="tab2" id="tab44" class="tabs" ng-click="setQuestViewItem(\'question_i_comment\')"><label for="tab44" class="cursorhand">评论的 （{{questionIComment.length}}）</label></section><p class="padding_top22px margin_left20px line_solid1"></p><div class="margin_top45px"><div class="artli size12" ng-show="questViewItem==\'question_i_subscription\'"><ul class="list-group margin10px c00 size13"><li class="block margin_top5px" ng-repeat="item in questionsISubscription track by $index"><a ng-if="item.topic.type==\'questions\'" target="_blank" ng-href="/question_{{item.id}}" class="c00 text_overflow_hide" style="color:#1e8cce"><img alt="" src="source/images/form/li1.jpg" class="w20 h20"> {{item.title}}</a> <a ng-if="item.topic.type!=\'questions\'" target="_blank" ng-href="/article_{{item.id}}" class="c00 text_overflow_hide" style="color:#1e8cce"><img alt="" src="source/images/form/li2.jpg" class="w20 h20"> {{item.title}}</a><p class="margin_left25px c03 size12 margin_top10px" ng-if="item.topic.type!=\'questions\'">{{item.author.name}}，{{item.voteCount}}人赞，{{item.commentCount}}人评论，{{item.subscriptionCount}}人关注</p><p class="margin_left25px c03 size12 margin_top10px" ng-if="item.topic.type==\'questions\'">{{item.author.name}}，{{item.answerCount}}人回答 {{item.subscriptionCount}}关注</p></li></ul></div><div class="artli size12" ng-show="questViewItem==\'question_mine\'"><ul class="list-group margin10px c00 size13"><li class="block margin_top5px" ng-repeat="item in questionsMine track by $index"><a ng-if="item.topic.type==\'questions\'" target="_blank" ng-href="/question_{{item.id}}" class="c00 text_overflow_hide" style="color:#1e8cce"><img alt="" src="source/images/form/li1.jpg" class="w20 h20"> {{item.title}}</a> <a ng-if="item.topic.type!=\'questions\'" target="_blank" ng-href="/article_{{item.id}}" class="c00 text_overflow_hide" style="color:#1e8cce"><img alt="" src="source/images/form/li2.jpg" class="w20 h20"> {{item.title}}</a><p class="margin_left25px c03 size12 margin_top10px" ng-if="item.topic.type!=\'questions\'">{{item.author.name}}，{{item.voteCount}}人赞，{{item.commentCount}}人评论，{{item.subscriptionCount}}人关注</p><p class="margin_left25px c03 size12 margin_top10px" ng-if="item.topic.type==\'questions\'">{{item.author.name}}，{{item.answerCount}}人回答 {{item.subscriptionCount}}关注</p></li></ul></div><div class="artli size12" ng-show="questViewItem==\'question_i_answer\'"><ul class="list-group margin10px c00 size13"><li class="block margin_top5px" ng-repeat="item in questionIAnswer track by $index"><a ng-if="item.topic.type==\'questions\'" target="_blank" ng-href="/question_{{item.id}}" class="c00 text_overflow_hide" style="color:#1e8cce"><img alt="" src="source/images/form/li1.jpg" class="w20 h20"> {{item.title}}</a> <a ng-if="item.topic.type!=\'questions\'" target="_blank" ng-href="/article_{{item.id}}" class="c00 text_overflow_hide" style="color:#1e8cce"><img alt="" src="source/images/form/li2.jpg" class="w20 h20"> {{item.title}}</a><p class="margin_left25px c03 size12 margin_top10px" ng-if="item.topic.type!=\'questions\'">{{item.author.name}}，{{item.voteCount}}人赞，{{item.commentCount}}人评论，{{item.subscriptionCount}}人关注</p><p class="margin_left25px c03 size12 margin_top10px" ng-if="item.topic.type==\'questions\'">{{item.author.name}}，{{item.answerCount}}人回答 {{item.subscriptionCount}}关注</p></li></ul></div><div class="artli size12" ng-show="questViewItem==\'question_i_comment\'"><ul class="list-group margin10px c00 size13"><li class="block margin_top5px" ng-repeat="item in questionIComment track by $index"><a ng-if="item.topic.type==\'questions\'" target="_blank" ng-href="/question_{{item.id}}" class="c00 text_overflow_hide" style="color:#1e8cce"><img alt="" src="source/images/form/li1.jpg" class="w20 h20"> {{item.title}}</a> <a ng-if="item.topic.type!=\'questions\'" target="_blank" ng-href="/article_{{item.id}}" class="c00 text_overflow_hide" style="color:#1e8cce"><img alt="" src="source/images/form/li2.jpg" class="w20 h20"> {{item.title}}</a><p class="margin_left25px c03 size12 margin_top10px" ng-if="item.topic.type!=\'questions\'">{{item.author.name}}，{{item.voteCount}}人赞，{{item.commentCount}}人评论，{{item.subscriptionCount}}人关注</p><p class="margin_left25px c03 size12 margin_top10px" ng-if="item.topic.type==\'questions\'">{{item.author.name}}，{{item.answerCount}}人回答 {{item.subscriptionCount}}关注</p></li></ul></div><div class="artli size12" ng-show="questViewItem==\'article_mine\'"><ul class="list-group margin10px c00 size13"><li class="block margin_top5px" ng-repeat="item in articlesMine track by $index"><a ng-if="item.topic.type==\'questions\'" target="_blank" ng-href="/question_{{item.id}}" class="c00 text_overflow_hide" style="color:#1e8cce"><img alt="" src="source/images/form/li1.jpg" class="w20 h20"> {{item.title}}</a> <a ng-if="item.topic.type!=\'questions\'" target="_blank" ng-href="/article_{{item.id}}" class="c00 text_overflow_hide" style="color:#1e8cce"><img alt="" src="source/images/form/li2.jpg" class="w20 h20"> {{item.title}}</a><p class="margin_left25px c03 size12 margin_top10px" ng-if="item.topic.type!=\'questions\'">{{item.author.name}}，{{item.voteCount}}人赞，{{item.commentCount}}人评论，{{item.subscriptionCount}}人关注</p><p class="margin_left25px c03 size12 margin_top10px" ng-if="item.topic.type==\'questions\'">{{item.author.name}}，{{item.answerCount}}人回答 {{item.subscriptionCount}}关注</p></li></ul></div></div></div><p ng-if="(questionsISubscription.length+questionsMine.length+questionIAnswer.length+questionIComment.length)==0" class="text-left padding_top20px padding_left30px">没有相关的社区活动</p>');e.put("source/views/customer/customer.detail.html",'<style>input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none!important;margin:0}input[type=number]{-moz-appearance:textfield}#user-select ul{width:100%;max-height:400px;overflow:auto}</style><div id="main_panes"><section class="main_panes layoutC"><header><div class="title"><group-user-ticket-chain group="customer.userGroup" user="customer" ticket="ticket" webchat="webchat" active="user"></group-user-ticket-chain><span class="pull-right ticket-btn-next" ng-click="viewNextAccount();" ng-if="showNextAccountBtn" style="margin-right:50px"><i class="fa fa-chevron-right"></i></span> <span class="pull-right operation-button-wrapper"><customer-operation-button ng-if="!hasSelected" customer="customer" on-add-ticket="addTicket();" on-merge="merge()" on-reset-password="resetPassword()" on-switch-blacklist="switchBlacklist()" on-delete="deleteCustomer()"></customer-operation-button></span></div></header><div class="pane left" style="overflow:auto"><div class="box0 c00 border0 padding10px"><fieldset><div class="form-group" style="position:relative"><label>账号</label><a class="custom-link-color pull-right" style="cursor:pointer" ng-click="modifyAccount()" ng-hide="!editableCustomer">修改账号</a><p><i class="iconfont" style="font-size:20px;color:#ccc;vertical-align:middle">&#xe7b3;</i> {{customer.mobilePhone | nullStringFilter}}</p><p><i class="iconfont" style="font-size:20px;color:#ccc;vertical-align:middle">&#xe7b6;</i> {{customer.email | nullStringFilter}}</p></div></fieldset><div style="border-bottom:1px solid #efefef;margin:0 -10px 10px"></div><fieldset ng-disabled="!editableCustomer"><div class="form-group" style="position:relative"><label>分组</label><user-group-select selectedusergroup="customer.userGroup" customer="customer" useredit="true"></user-group-select></div></fieldset><fieldset ng-disabled="!editableCustomer"><div class="form-group" style="position:relative"><label>关联客户组</label><user-related-group-input related-user-groups="customer.relatedUserGroups" customer="customer"></user-related-group-input></div></fieldset><fieldset ng-disabled="!editableCustomer"><div class="form-group"><label>共享工单</label><select name="shared" ng-model="customer.shared" class="form-control" ng-change="updateShared();"><option value="false" ng-selected="customer.shared==false">否</option><option value="true" ng-selected="customer.shared==true">是</option></select></div><div class="form-group"><label>联系邮箱 <i class="fa fa-question-circle" style="color:#ccc;font-size:16px" uib-tooltip="仅作为联系资料使用，不能做为登录账号。" tooltip-append-to-body="true" tooltip-placement="right"></i></label><input type="email" ng-model="customer.contactEmail" maxlength="128" class="form-control" ng-blur="updateEmail();"></div><div class="form-group"><label>昵称</label><input type="text" ng-model="customer.nickname" maxlength="32" class="form-control" ng-blur="updateNickname()"></div><div class="form-group"><label>联系手机 <i class="fa fa-question-circle" style="color:#ccc;font-size:16px" uib-tooltip="仅作为联系资料使用，不能做为登录账号。" tooltip-append-to-body="true" tooltip-placement="right"></i></label><input type="text" ng-model="customer.contactMobilePhone" maxlength="11" class="form-control" ng-blur="updateMobilePhone();"></div><div class="form-group"><label>电话</label><input type="text" ng-model="customer.phone" maxlength="16" class="form-control" ng-blur="updatePhone();"></div><div class="form-group"><label>标签</label><ewei-tags-input tags="customer.tags" who="user" whoid="{{customer.id}}"></ewei-tags-input></div><div class="form-group"><label>External ID</label><div class="input-group" ng-if="userExternalIdValueUrl"><input ng-keyup="externalIdValueChange()" type="text" ng-model="customer.externalId" maxlength="128" class="form-control" ng-blur="updateExternalId();" style="border-right:none"> <a class="input-group-btn" target="_blank" href="{{userExternalIdValueUrl+fromParams+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}"><span class="btn btn-default" style="padding:6px;height:34px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:18px;vertical-align:middle"></i></span></a></div><input ng-if="!userExternalIdValueUrl" ng-keyup="externalIdValueChange()" type="text" ng-model="customer.externalId" maxlength="128" class="form-control" ng-blur="updateExternalId();"></div></fieldset><user-custome-field user-id="customer.id" edit="editableCustomer" external-url-authorize="externalUrlAuthorize"></user-custome-field></div></div><div class="pane right am-fade-and-slide-right ng-scope" style="overflow:auto"><div class="flex ng-scope margin_left5px"><div class="w50 padding10px"><image-show imageurl="{{customer.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="img-circle w40 h40" editable="true"></image-show></div><div class="box_flex_1"><div style="padding-top:20px;font-size:14px" ng-if="!editableCustomer" class="padding10px"><strong>{{customer.name}}</strong><p style="padding:10px 0" ng-bind="customer.notes"></p></div><div ng-if="editableCustomer" class="padding10px"><strong><input type="text" ng-model="customer.name" required maxlength="32" class="form-control" ng-class="{true: \'show_input\',false: \'hide_input\'}[displayNameView]" ng-mouseover="mouseoverName();" ng-mouseout="mouseoutName()" ng-blur="updateName();"></strong><textarea style="resize:none" type="text" ng-model="customer.notes" maxlength="512" placeholder="{{userNotes.text | characters:100}}" class="form-control" ng-class="{true: \'show_input\',false: \'hide_input\'}[displayNotes]" ng-mouseover="mouseoverNotes();" ng-mouseout="mouseoutNotes()" ng-blur="updateNotes()"></textarea></div></div></div><ul class="nav nav-tabs user-group-tabs"><li role="presentation" ng-class="{\'active\': $state.current.name==\'customers_detail.tickets\'||$state.current.name==\'requester_tickets_detail.tickets\'||$state.current.name==\'webchat_requester_detail.tickets\'}"><a href="javascript:void(0)" ng-click="goTickets();">工单({{countTicketByUserId}})</a></li><li role="presentation" ng-class="{\'active\': $state.current.name==\'customers_detail.help_center_footprints\'||$state.current.name==\'requester_tickets_detail.requester_tickets_help_center_footprints\'||$state.current.name==\'webchat_requester_detail.requester_webchat_help_center_footprints\'}"><a href="javascript:void(0)" ng-click="goHelpCenterFootprints();">社区活动({{countQuestionByUserId}})</a></li><li role="presentation" ng-class="{\'active\': $state.current.name==\'customers_detail.chat_logs\'||$state.current.name==\'requester_tickets_detail.requester_tickets_chat_logs\'||$state.current.name==\'webchat_requester_detail.requester_webchat_chat_logs\'}"><a href="javascript:void(0)" ng-click="goChatLogs();">会话(最新3天)</a></li></ul><div class="margin10px margin_left15px" ui-view></div></div></section></div>');e.put("source/views/customer/customer.detail.tickets.html",'<div class="margin_top20px margin_left10px margin_bottom10px"><div class="btn-group margin10px"><button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">{{statusLabel}} <span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu" role="menu"><li><a ng-click="go(\'all_ticket\');">所有工单</a></li><li><a ng-click="go(\'not_closed\');">未关闭的</a></li><li><a ng-click="go(\'closed\');">已关闭的</a></li><li><a ng-click="go(\'deleted\');">已删除的</a></li><li><a ng-click="go(\'cc\');">抄送的</a></li></ul></div><span style="font-size:\'14px\'">共{{params.total()}}条记录</span> <span id="span" style="display:none">,满意度{{countbisd}}%,解决率{{countsovle}}%</span></div><eweitable></eweitable>');e.put("source/views/customer/customer.list.html",'<div class="title"><h5><strong ng-bind="::viewTitle"></strong> <button type="button" class="btn btn-link" ng-show="!defaultSorting" ng-click="clearSorting();" style="padding-top:0;padding-bottom:0"><small class="c75 custom-main-font-color">恢复默认排序</small></button></h5><ewei-question description="view.description"></ewei-question><div class="margin10px pull-right margin10px padding_right10px padding_top5px" ng-if="hasSelected"><button type="button" class="btn-clear" ng-click="cancelAllSelected();">取消选中</button><div class="btn-group"><button type="button" class="btn btn-confirm gray-btn" ng-if="view.title==\'VIEW_TITLE_USER\'" ng-click="settingUserGroup();" has-permission="customer_update">移入一个客户组</button> <button type="button" class="btn btn-confirm gray-btn" ng-if="view.title==\'VIEW_TITLE_USER_BLACKLIST\'" ng-click="blacklist();">移出黑名单</button> <button type="button" class="btn btn-confirm dropdown-toggle" style="min-width:20px;border-left:1px solid rgba(0,0,0,.15);border-bottom-left-radius:0;border-top-left-radius:0" data-toggle="dropdown"><span class="caret" style="top:14px;left:5px"></span> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu dropdown-menu-right" role="menu"><li ng-if="view.title==\'VIEW_TITLE_USER\'" has-permission="customer_update"><a ng-click="settingUserGroup();">移入一个客户组</a></li><li has-permission="customer_merge"><a ng-click="mergeUser();">合并客户</a></li><li has-permission="customer_blacklist_manage"><a ng-click="blacklist();"><span ng-if="view.title==\'VIEW_TITLE_USER\'">加入黑名单</span> <span ng-if="view.title==\'VIEW_TITLE_USER_BLACKLIST\'">移出黑名单</span></a></li><li has-permission="customer_delete"><a ng-click="deleteUsers();">删除</a></li></ul></div></div><div ng-if="!hasSelected" class="btn-group pull-right margin10px padding_right10px padding_top5px"><a class="btn btn-default" ng-click="viewAccounList()">逐条查看</a> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" style="border-radius:0 4px 4px 0"><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu dropdown-menu-right" role="menu"><li ng-if="view.title==\'VIEW_TITLE_USER\'" has-permissions="customer_create"><a ng-click="createUser()">添加客户</a></li><li has-permission="customer_view_manage" has-permissions="customer_view_manage"><a ng-click="editList();">编辑列表</a></li><li role="presentation" class="divider"></li><li has-permission="customer_export" has-permissions="customer_export"><a ng-click="exportExcel();">导出Excel</a></li><li has-permission="customer_import" has-permissions="customer_import"><a ng-click="import();">批量导入</a></li></ul></div><div class="title-box padding_top5px padding_right10px pull-right" ng-show="hideTitle!==\'true\' && !hasSelected"><div class="search-box"><input type="button" value="清除搜索条件" ng-show="(argument.searchKey!=null&&argument.searchKey!=\'\')||isAdvancedQuery" ng-click="clearSearch();" class="tip"><div class="input-group"><input type="text" class="form-control txt" placeholder="搜索姓名/昵称/email/手机/电话/标签" ng-model="argument.searchKey" ng-enter="search(argument.searchKey)"> <span class="input-group-addon" style="cursor:pointer" ng-click="search(argument.searchKey)" ng-style="(argument.searchKey!=null&&argument.searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span><div class="input-group-btn"><button type="button" class="btn btn-default" data-toggle="modal" data-target="#queryModal" data-placement="bottom" data-animation="am-flip-x" style="background-color:#eee;height:34px"><span class="caret"></span></button><user-advanced-query></user-advanced-query></div></div></div></div></div><eweitable2></eweitable2><div class="ticket-loading" ng-if="!view || isCustomerLoading"><img src="/source/images/ajax-loader.gif"></div>');e.put("source/views/customer/customer_views.html",'<div id="main_panes"><section class="main_panes layoutB" style=""><div class="pane left"><div class="title"><h5 style="padding-left:8px"><strong>用户管理</strong></h5></div><div class="list box99"><div class="list-group margin10px"><a ui-sref="customer_views.detail({id:view.id,type:view.type})" ui-sref-active="box02" class="block padding10px20px" ng-repeat="view in views track by $index" ng-click="clickEvent(view)" has-permission="{{view.permission}}" has-module="customer_manage"><span>{{view.title|translate}}</span></a></div></div></div><div class="pane right" style="overflow-y:auto" ui-view></div></section></div>');e.put("source/views/customer/engineer_import_explain.html",'<ul style="margin:0 auto"><li style="list-style:none"><strong>1、导入选择文件后,会出现对应关系的表格，表格说明如下：</strong><br><table border="1" class="margin_left10px;" style="margin:0 auto" width="90%"><tr><td width="50" style="text-align:center">第一列:</td><td>&nbsp;&nbsp;&nbsp;&nbsp;Excel文件标题: 这一列是文件中sheet的第二行的提示数据，标题列至少3列，最多6列，如无相关信息可以不填写。</td></tr><tr><td width="50" style="text-align:center">第二列:</td><td>&nbsp;&nbsp;&nbsp;&nbsp;对应系统中的字段: 这一列与文件无关，是属于内部存储数据的字段，选择了对应字段后，则会将Excel文件中与标题列对应的数据导入对应字段(如: Excel中标题列的字段是:a，对应字段是:姓名，则文件中的a这一列识别为客户的姓名)，对应字段中必须包含姓名、电子邮件和社区角色字段且必须填写。</td></tr></table><strong>2、注意事项：</strong><div style="width:90%"><ul><li>对应字段中必须包含姓名、电子邮件和社区角色列且必须填写，其他列可以不填，但标题列不能少于3列，不能超过6列。</li><li>如果导入时没有选择昵称或者昵称没有填写，则昵称默认为姓名。</li><li>社区角色的值只能是：‘访客’、‘作者’、‘编辑’，如果填写其他系统将无法识别</li><li>导入客服组和角色时，如果填写已存在的，则分配对应的客服组和角色，否则客服组为自动添加到默认服务台，角色自动设置为客服</li><li>如果角色为管理员，那么社区角色自动转换为编辑，与后面选择的无关</li><li>需要导入的文件中，不能出现重复的电子邮箱、手机号码</li><li>电子邮箱的格式必须按照aa@bb.cc(.dd)的格式填写，如(ewei@qq.com、ewei@163.com.cn,ewei@vip.qq.com等)。</li><li>手机号码必须是正常的11位手机号码。</li></ul></div></li></ul><div class="modal-footer"><button ng-click="$hide()" type="button" class="btn btn-primary">确定</button></div><style type="text/css">#tab{border-collapse:collapse}#tab td,#tab th{border:1px solid #666}</style>');e.put("source/views/customer/fields_check_list.html",'<div><div style="text-align:left;font-size:16px">请选择需要导出的字段:</div><input type="checkbox" id="allChecked" ng-click="allChecked()"> 全选<div style="border-top:1px solid #E5E5E5"></div><span style="display:inline-block;margin-right:30px;width:100px" ng-repeat="field in fields"><input ng-click="isAll();" type="checkbox" name="checked" value="{{$index}}">{{" "+field}}</span><br><div class="modal-footer"><button type="button" id="saveButton" class="btn btn-primary" ng-click="$export()">导出</button></div></div>');e.put("source/views/customer/import_error_message.html",'<div><div ng-bind-html="message | trusted"></div><div class="modal-footer"><button ng-if="message.indexOf(\'跳过\')>0" ng-click="hide()" type="button" class="btn btn-default">取消</button> <button ng-if="message.indexOf(\'跳过\')>0" ng-click="ok()" type="button" class="btn btn-primary">继续</button> <button ng-if="message.indexOf(\'跳过\')<0" ng-click="hide()" type="button" class="btn btn-primary">确定</button></div></div>');e.put("source/views/customer/merge_to_other_user.html",'<div class="modal-inner-content"><form name="userForm"><p class="ng-binding">您确定要将此客户{{customer.id}}合并到其他客户中去吗？</p><div class="form-group"><input type="number" name="name" ng-model="mergeUser.targetUserNo" required="" class="form-control" placeholder="请输入要合并到的客户ID"></div></form></div><div class="modal-footer"><button type="button" class="btn btn-confirm" ng-click="$ok()" ng-disabled="userForm.name.$invalid">确认</button> <button type="button" class="btn btn-cancel" ng-click="$hide();hideCustomer()">取消</button></div>');e.put("source/views/customer/merge_user.html",'<style>.userBox{height:36px;margin-top:20px;border-bottom:1px solid #E4E4E4}.userBox ul,.userSelect ul{list-style:none;margin-left:-40px}.editBtn,.userLi{width:90px;height:36px;color:#69C;float:left;margin-left:10px;background-color:#F6F6F6;border:1px solid #E4E4E4;text-align:center;line-height:36px;cursor:pointer;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.active{background-color:#fff;border-bottom-color:#fff;color:#000}.userSelect{padding:30px 0;font-size:14px}.userSelect li{margin-left:30px}</style><div class="modal-inner-content"><div class="modal-header"><button type="button" class="close" ng-click="hideModal()">×</button><h5 class="modal-title ng-binding center"><span ng-if="selection==\'settings0\'">请选择合并到哪一个客户</span> <span ng-if="selection==\'settings1\'">合并客户</span></h5></div><div class="userSelect" style="min-height:100px" ng-if="selection==\'settings0\'"><ul><li ng-repeat="list in lists"><div class="radio" style="margin:5px"><label><input type="radio" name="radios" ng-model="form.selectRadio" value="{{list.id}}"><span style="font-weight:700">{{list.name}}</span></label></div>&emsp;&nbsp;<span style="color:#999">{{list.lastLoginAt || \'最近未登录\'}}</span></li></ul></div><div class="userBox" ng-if="selection==\'settings1\'"><span ng-click="editBox(100)" ng-class="{true:\'active\'}[actived==100]" class="editBtn">合并客户</span><ul><li ng-click="temp($index,this)" ng-repeat="list in lists" class="userLi" ng-if="list.id!=form.selectRadio" ng-class="{true:\'active\'}[actived==$index]">{{list.name}}</li></ul></div><br><div style="max-height:50vh;padding:0 50px 0 13px;overflow:auto" ng-if="selection==\'settings1\'"><div class="edit" ng-hide="available"><div class="form-group"><label>分组</label><user-group-select selectedusergroup="userInfo.target.userGroup" customer=""></user-group-select></div><div class="form-group"><label>共享工单</label><select ng-options="item.value as item.option for item in checkedOption" ng-model="userInfo.target.shared" class="form-control ng-pristine ng-valid ng-touched"></select></div><div class="form-group"><label>姓名</label><input type="text" ng-model="userInfo.target.name" class="form-control"></div><div class="form-group"><label>昵称</label><input type="text" ng-model="userInfo.target.nickname" class="form-control"></div><div class="form-group"><label>备注</label><input type="text" ng-model="userInfo.target.notes" class="form-control"></div><div class="form-group"><label>Email</label><input type="text" ng-model="userInfo.target.email" class="form-control"></div><div class="form-group"><label>手机</label><input type="text" ng-model="userInfo.target.mobilePhone" class="form-control"></div><div class="form-group"><label>电话</label><input type="text" ng-model="userInfo.target.phone" class="form-control"></div><div class="form-group"><label>标签</label><ewei-tags-input tags="userInfo.target.tags" who="user" whoid=""></ewei-tags-input></div><div class="form-group"><label>External ID</label><input type="text" ng-model="userInfo.target.externalId" class="form-control"></div><user-merge-custom-field ticket="ticket"></user-merge-custom-field></div><div class="model" ng-show="available"><div class="form-group"><label>分组</label><input type="text" ng-model="userCustom.userGroup.name" class="form-control" readonly="readonly"></div><div class="form-group"><label>共享工单</label><select name="shared" ng-model="customer.shared" class="form-control ng-pristine ng-valid ng-touched" readonly="readonly" disabled="disabled"><option value="false" ng-selected="userCustom.shared==null||userCustom.shared==false" selected="selected">否</option><option value="true" ng-selected="userCustom.shared==true">是</option></select></div><div class="form-group"><label>姓名</label><input type="text" ng-model="userCustom.name" class="form-control" readonly="readonly"></div><div class="form-group"><label>昵称</label><input type="text" ng-model="userCustom.nickname" class="form-control" readonly="readonly"></div><div class="form-group"><label>备注</label><input type="text" ng-model="userCustom.notes" class="form-control" readonly="readonly"></div><div class="form-group"><label>Email</label><input type="text" ng-model="userCustom.email" class="form-control" readonly="readonly"></div><div class="form-group"><label>手机</label><input type="text" ng-model="userCustom.mobilePhone" class="form-control" readonly="readonly"></div><div class="form-group"><label>电话</label><input type="text" ng-model="userCustom.phone" class="form-control" readonly="readonly"></div><div class="form-group"><label>标签</label><input type="text" ng-model="userCustom.list" class="form-control" readonly="readonly"></div><div class="form-group"><label>External ID</label><input type="text" ng-model="userCustom.externalId" class="form-control" readonly="readonly"></div><fieldset ng-disabled="true"><user-merge-custom-field ticket="ticketMerge"></user-merge-custom-field></fieldset></div></div></div><div class="modal-footer"><div class="form-group" ng-if="selection==\'settings0\'"><button type="button" class="btn btn-confirm" ng-click="nextTo()">下一步</button> <button type="button" class="btn btn-cancel" style="margin-left:18px" ng-click="hideModal()">取消</button></div><div class="form-group" ng-if="selection==\'settings1\'"><button type="button" class="btn btn-confirm" ng-click="$ok()">提交</button> <button type="button" class="btn btn-cancel" style="margin-left:18px" ng-click="hideModal()">取消</button></div></div>');e.put("source/views/customer/send_email_again.html",'<div class="text-center" style="font-size:14px"><p style="margin-top:30px">发送注册邮件至</p><p style="margin-top:28px;margin-bottom:50px;font-weight:700">{{engineer.user.email}}</p><input type="button" ng-click="emailBtn()" class="btn btn-primary" style="padding:7px 45px;margin-bottom:40px" value="确认"></div>');e.put("source/views/customer/setting.external_url.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>字段扩展URL密钥</strong></p></div><oem-learn-more type="external_url" description="扩展URL是第三方应用系统（比如CRM）的链接，填写在易维帮助台客户属性字段，\n      \t\t\t\t可以与字段值组合成查询命令URL，方便客服人员一键点击，快速访问第三方系统查询客户资料。\n      \t\t\t\t扩展URL密钥提供了一种加密的调用方法，以安全的方式访问第三方系统，不需要更复杂的单点登录系统集成。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/512" class="know-more"></oem-learn-more><div class="padding_top13px"><h4 class="padding_top10px size14"><strong>密钥:</strong></h4><div class="padding_top10px padding_bottom410px"><div style="font-weight:700;padding-top:0" class="radius5 border03 inline_block padding10px w300 h40 padding10px size14" ng-bind="externalUrl.externalUrlSecret"></div><a ng-click="changeSecret()" href="javascript:void(0)" class="margin_left20px c75 size14">更换密钥</a></div><h4 class="padding_top10px size14"><strong>使用方法:</strong></h4><div class="size14"><table style="line-height:30px"><tbody><tr><td>1、加密方法只是一个选项，第三方系统可以选择忽略加密参数，并不影响数据访问。</td></tr><tr><td>2、千万不要泄露密钥。更换密钥后，要确保第三方系统也更新使用新的密钥。</td></tr><tr><td>3、{{$root.provider.name}}总是将时间戳(_timestamp参数)和签名(_sign参数)组合在扩展URL的后面，第三方系统得到的URL大约是：<br>&nbsp;&nbsp;&nbsp;&nbsp;http://domain.com/........_timestamp=1453965620764&_sign=cdd62edc5e3fc6186f9afbeb9ec6965d</td></tr><tr><td>4、第三方系统抽取时间戳，与密钥一起组成下列字符串：<br>&nbsp;&nbsp;&nbsp;&nbsp;#_timestamp=<b>时间戳</b>##secret=<b>密钥</b>#</td></tr><tr><td>5、将拼接好的字符串进行MD5加密，如果加密结果与签名（_sign）相符，则可信任此访问。</td></tr></tbody></table></div></div></div>');e.put("source/views/customer/setting.html",'<div id="main_panes"><section class="main_panes layoutB box99" style=""><div class="pane left"><div class="title"><nav class="btn-group btn-groupA"><span class="btn btn-default" ui-sref="customer_views">视图 </span><span class="btn btn-default active" ui-sref="customer_setting">设置</span></nav></div><div class="list box99"><div class="list-group margin10px"><a bindonce ng-click="customerSetBuried(menu.uri)" ui-sref="customer_setting.{{menu.uri}}()" class="block padding10px" ui-sref-active="box02" ng-repeat="menu in menus track by $index" has-permission="{{menu.permission}}"><span bo-bind="menu.title|translate"></span></a></div><div class="margin_top10px"><div class="padding10px line_solid_02"><i class="fa fa-cog"></i> <span>更多设置</span></div><div class="margin_top10px"><button ng-repeat="btnGroup in btnList" class="btn btn-default margin_left10px" has-permissions="{{btnGroup.permission}}" ng-if="btnGroup.show" ui-sref="{{btnGroup.sref}}">{{btnGroup.name}}</button></div></div></div></div><div class="pane right am-fade-and-slide-right" style="overflow-y:auto" ui-view></div></section></div>');e.put("source/views/customer/setting.user_custom_field.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>客户字段</strong></p><oem-learn-more type="ticket_custom_field" description="你可以增加更多的客户属性字段，以满足你的业务需要。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/566"></oem-learn-more></div><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:330px">客户字段名称</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="editUserCustomField(0,\'add\')">+ 添加字段</a></th></tr></thead><tbody><tr><td>External ID</td><td class="text-right"><a ng-click="editUserCustomField(0,\'update\')">编辑</a></td></tr><tr ng-repeat="userCustomField in userCustomFields |orderBy:\'active\' :true" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:330px;padding-top:12px"><a ng-bind="userCustomField.title" ng-if="userCustomField.active" class="channel-name" ng-click="editUserCustomField(userCustomField.id,\'update\')"></a> <span ng-bind="userCustomField.title" ng-if="!userCustomField.active" class="channel-name"></span></td><td class="text-right"><a ng-if="!userCustomField.systemFieldKey" ng-click="editUserCustomField(userCustomField.id,\'copy\');">克隆</a><span ng-if="!userCustomField.systemFieldKey">&emsp;|&emsp;</span> <a ng-if="userCustomField.active || userCustomField.systemFieldKey" ng-click="editUserCustomField(userCustomField.id,\'update\')">编辑</a> <a ng-if="!userCustomField.active && !userCustomField.systemFieldKey" ng-click="enabled(this,true)">启用</a><span ng-if="!userCustomField.systemFieldKey">&emsp;|&emsp;</span> <a ng-if="!userCustomField.active && !userCustomField.systemFieldKey" ng-click="deleteUserCustomField(0,this,$index)">删除</a> <a ng-if="userCustomField.active && !userCustomField.systemFieldKey" ng-click="enabled(this,false)">停用</a></td></tr></tbody></table></div></div></div>');e.put("source/views/customer/setting.user_custom_field_edit.html",'<style>.form-content .form-group{width:400px}.form-content ul li{list-style:none;float:left}.add-box{font-size:25px}.add-box i{margin-left:20px;cursor:pointer}.add-box .fa-plus-circle{color:#6C6}.catalog-btn{width:120px;height:36px;line-height:36px;border:1px solid #2AC62A;color:#2AC62A;cursor:pointer;text-align:center;border-radius:5px}.fa-edit:hover{color:#3BA2DF}.cascade-content{width:770px}.cascade-box{width:770px;padding:20px;border:1px solid #CCC;clear:both;float:left;margin-top:55px}.cascade-content :first-child{margin-top:0}.delete-tip{width:120px;height:36px;padding:10px;color:#3BA2DF;border:1px solid #3BA2DF;float:right;position:relative;top:-49px;border-radius:5px;cursor:pointer}.add-tip{width:120px;height:36px;padding:10px;color:#3C3;border:1px solid #3C3;border-radius:5px;cursor:pointer;clear:both;float:left;margin-top:20px}</style><div class="setting-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'user_custom_field\',settingType:\'customer\'})">客户字段 </a>》 <span ng-if="checkId==0">添加字段</span> <span ng-if="checkId>0">{{userCustomField.title}}</span></div><oem-learn-more type="user_custom_field" description="你可以添加更多的客户属性字段，以满足你的业务需求。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/566" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li class="active">字段属性</li></ul><div class="setting-common-body"><ul><li><div class="title-bar"><span>字段名称</span></div><div class="form-content"><input type="text" ng-model="userCustomField.title" class="form-control w400" maxlength="32" ng-disabled="userCustomField.systemField"><p class="tip">在界面上显示的字段名称。</p></div></li><li><div class="title-bar"><span>填写说明</span></div><div class="form-content"><input type="text" ng-model="userCustomField.notes" class="form-control w400" ng-disabled="userCustomField.systemField"><p class="tip">简要说明，提示客服如何填写。</p></div></li><li ng-if="userCustomField.type != \'checkbox\' && !userCustomField.systemField"><div class="title-bar"><span>是否必填</span></div><div class="form-content"><select class="form-control w400" ng-model="userCustomField.required" ng-change="isRequiredChange()"><option value="false">选填</option><option value="true">必填</option></select><p class="tip" ng-if="!showJurisdictionPromet">客服创建新客户时，是否必须填写此字段。</p><p class="tip" style="color:red" ng-if="showJurisdictionPromet">*更改为必填字段之后，字段的可见范围与操作将默认为全部角色且无法更改。</p></div></li><li><div class="title-bar"><span>字段样式</span></div><div class="form-content"><select class="form-control w400" ng-model="userCustomField.type" ng-disabled="userCustomField.systemField || (checkId > 0 && editType != \'copy\')" ng-change="changeReg(userCustomField.type)" ng-options="item.value as item.option for item in styleOptions"></select><p ng-if="userCustomField.type!=\'options\'&&userCustomField.type!=\'multi_options\'" class="tip">选择一种字段样式。</p><div ng-if="userCustomField.type==\'options\'||userCustomField.type==\'multi_options\'" class="margin_top10px"><input type="checkbox" ng-model="userCustomField.openSearch"> 开启搜索功能</div></div></li><li ng-if="userCustomField.type==\'options\'"><div class="title-bar"><span>选项</span></div><div class="form-content"><div ng-repeat="optionItem in userCustomField.customFieldOptions track by $index"><div class="pull-left"><div class="form-group input-group margin_bottom10px"><span class="input-group-addon">选项</span> <input type="text" class="form-control" ng-model="optionItem.name"></div><div class="margin_bottom10px" style="font-weight:400"><input type="radio" ng-if="!userCustomField.systemFieldKey" name="default" ng-selected="selectId==$index" value="{{optionItem.name}}" ng-click="selectRadio(this)" ng-model="userCustomField.defaultValue"> <input type="radio" ng-if="userCustomField.systemFieldKey == \'ticket_type\'" name="default" value="{{optionItem.value}}" ng-click="selectRadio(this)" ng-model="userCustomField.defaultValue"> <input type="radio" ng-if="userCustomField.systemFieldKey == \'priority\'" name="default" value="{{optionItem.value}}" ng-model="userCustomField.defaultValue"> <input type="checkbox" ng-if="userCustomField.type==\'scade_options\'" value="{{optionItem.name}}" ng-model="userCustomField.defaultValue"> 默认选中</div></div><div ng-if="userCustomField.systemFieldKey != \'priority\'" class="pull-left add-box"><i class="fa fa-minus-circle" ng-style="{color:($index==0 ? \'color:#CCCCCC\': \'color:#FF6666\')}" ng-click="toDeleteOption($index);"></i> <i class="fa fa-plus-circle" ng-if="$index==userCustomField.customFieldOptions.length-1" ng-click="toAddOption($index)"></i></div><div ng-if="userCustomField.systemFieldKey == \'priority\'" class="pull-left add-box"><i class="fa fa-minus-circle" style="color:#CCC"></i></div></div></div></li><li ng-if="userCustomField.type==\'multi_options\'"><div class="title-bar"><span>选项</span></div><div class="form-content"><div ng-repeat="optionItem in userCustomField.customFieldOptions track by $index"><div class="pull-left"><div class="form-group input-group margin_bottom10px"><span class="input-group-addon">选项</span> <input type="text" class="form-control" ng-keydown="checkMultiValue($event)" ng-model="optionItem.name"></div><div class="margin_bottom10px" style="font-weight:400;position:relative"><input type="checkbox" value="{{optionItem.name}}" name="default" ng-model="optionItem.defaultValue"> 默认选中</div></div><div class="pull-left add-box"><i class="fa fa-minus-circle" ng-style="{color:($index==0 ? \'color:#CCCCCC\': \'color:#FF6666\')}" ng-click="toDeleteOption($index);"></i> <i class="fa fa-plus-circle" ng-if="$index==userCustomField.customFieldOptions.length-1" ng-click="toAddOption($index)"></i></div></div></div></li><li ng-if="userCustomField.type==\'cascade_options\'"><div class="title-bar"><span>选项</span></div><div class="form-content cascade-content"><div class="cascade-box" ng-repeat="item in mulOptions"><div class="form-group input-group"><span class="input-group-addon">一级选项</span> <input type="text" class="form-control" ng-keydown="checkCascadetiValue($event)" ng-model="item.value"></div><p class="delete-tip" ng-if="$index>0" ng-click="delMainOption($index)">x 删除一级选项</p><div class="children-option" style="margin-left:80px" ng-repeat="subItem in item.children"><div class="pull-left"><div class="form-group input-group"><span class="input-group-addon">二级选项</span> <input type="text" class="form-control" ng-keydown="checkCascadetiValue($event)" ng-model="subItem.value"></div></div><div class="pull-left add-box"><i class="fa fa-minus-circle" ng-style="{color:($index==0 ? \'color:#CCCCCC\': \'color:#FF6666\')}" ng-click="delSubOption(this,$index);"></i> <i class="fa fa-plus-circle" ng-if="$index==item.children.length-1" ng-click="addSubOption(this)"></i></div></div></div><p class="add-tip" ng-click="addMainOption()">+ 添加一级选项</p></div></li><li ng-if="userCustomField.type != \'options\' && userCustomField.type != \'checkbox\' && userCustomField.type != \'date\' &&userCustomField.type != \'date_to_date\' && userCustomField.type != \'date_time\' &&userCustomField.type != \'cascade_options\' &&userCustomField.type != \'multi_options\' && !userCustomField.systemField"><div class="title-bar"><span>正则表达式</span></div><div class="form-content"><div class="pull-left"><input type="text" class="form-control w400" ng-model="userCustomField.regexpForValidation" ng-disabled="userCustomField.type !== \'text\' && userCustomField.type !== \'textarea\' && userCustomField.type !== \'regexp\'"></div><p class="tip" style="margin-top:13px;clear:both">验证输入是否有效。如需调整，请点击编辑按钮。</p></div></li><li ng-if="userCustomField.type == \'text\' || userCustomField.type == \'number\' ||userCustomField.type == \'currency\' || userCustomField.type == \'phone\' || userCustomField.type == \'mobile_phone\' || userCustomField.type == \'email\' || userCustomField.type == \'regexp\'"><div class="title-bar"><span>扩展URL</span></div><div class="form-content"><input type="text" class="form-control w400" ng-model="userCustomField.url"><p class="tip">第三方系统查询命令。跳转第三方系统，按照字段值执行查询操作。 请输入扩展URL并用{value}占位，如不使用占位符，系统将把字段值紧跟在URL后面。 如需加密，请进入<b>系统设置-字段扩展URL密钥</b>进行设置。</p></div></li><li><div class="title-bar"><span><span style="color:red">*</span>字段默认列宽</span></div><div class="form-content" style="position:relative"><input type="text" ng-model="userCustomField.defaultLength" ng-blur="recoveryDefault(userCustomField)" ng-disabled="userCustomField.id == 0" class="form-control w400" maxlength="10"> <span style="position:absolute;top:8px;left:376px">px</span><p class="tip">用于设置客户列表中该字段的默认列宽（仅对PC版客户列表有效）</p></div></li><li ng-show="userCustomField.systemField != \'externalId\'"><custom-field-jurisdiction></custom-field-jurisdiction></li><li><div class="title-bar"></div><div class="form-content"><button type="button" class="btn btn-primary w100" ng-disabled="btnDisabled" ng-click="saveuserCustomField(userCustomField)">更新</button></div></li></ul></div></div>');e.put("source/views/customer/setting.user_custom_view.html",'<style>.w300{width:300px!important}.margin_left53px{margin-left:53px}.description p,.form-inline p{color:#999}.floatLeft ul{list-style:none;margin:0;min-height:40px;padding-bottom:30px;padding-left:0}.floatLeft ul li{border:1px solid #ccc;padding:5px 10px;background:#F8F8F8;width:150px;margin-top:10px;cursor:move;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.notShowTable{width:400px}.notShowTable li{margin:0 10px 0 0}.showTable{width:150px}.chkCustom,.chkDefault{border:none}</style><div class="setting-head-common"><div class="nav-title"><p class="channel"><strong>客户视图</strong></p></div><oem-learn-more type="user_custom_view" description="你可以选择想要的客户字段在列表中显示，以满足你的业务需求。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/604" class="know-more"></oem-learn-more><div><div class="padding_top30px padding_bottom10px form-inline"><label class="margin_right20px size14">标题</label><input type="hidden" class="form-control w300"> <input class="form-control w300" disabled="disabled" value="客户"></div><div class="padding_top10px padding_bottom10px description"><label class="margin_right25px size14 floatLeft">描述</label><textarea ng-model="description" rows="4" class="form-control w300" maxlength="70"></textarea><p class="margin_left53px margin_top10px size13">请简要描述该视图所包含的客户内容，方便大家理解。</p></div><h4 class="size14"><strong>字段列表</strong></h4><p class="margin_bottom10px margin_top5px size13">在列表中拖放来选择和重新排序。</p><div class="clearFloat"><div class="floatLeft"><p><strong>不显示的列</strong></p><ul ui-sortable="sortableOptions" ng-model="noUseOptions" class="sortable clearFloat notShowTable"><li ng-repeat="noUseOption in noUseOptions" class="floatLeft" title="{{noUseOption.value}}">{{noUseOption.value}}</li></ul></div><div class="floatLeft margin_left50px"><p><strong>显示的列</strong></p><ul ui-sortable="useSortableOptions" ng-model="useOptions" class="sortable clearFloat showTable"><li ng-repeat="useOption in useOptions" class="floatLeft" title="{{useOption.value}}">{{useOption.value}}</li></ul></div><div class="floatLeft margin_left10px"><p><strong>列宽</strong></p><div ng-repeat="item in useOptions" style="position:relative" ng-mouseenter="showDefault(item)" ng-mouseleave="showDefault(item)"><input ng-model="item.length" style="height:30px;width:70px;margin-top:10px" type="text" class="form-control" maxlength="10"><div style="position:absolute;top:2px;left:80px;width:130px"><span style="color:#999;font-size:14px">px</span> <span ng-click="setDefault(item)" ng-show="item.isShowDefault" style="color:#1E8CCE;font-size:14px;cursor:pointer">恢复为默认列宽</span></div></div></div></div><div class="margin_bottom20px"><h4 class="size14" style="margin-top:0"><strong>分组</strong></h4><select class="form-control w300" ng-model="userSortModel.groupBy"><option value="">不分组</option><option value="userGroup.name">客户组</option></select><h4 class="padding_top10px size14"><strong>排序</strong></h4><select class="form-control w300" ng-model="userSortModel.orderBy" ng-change="orderByChange();"><option value="">不排序</option><option value="id">编号</option></select></div><div ng-if="userSortModel.orderBy"><input type="radio" name="order" ng-model="userSortModel.order" value="asc">&nbsp;升序 <input type="radio" style="margin-left:20px" name="order" ng-model="userSortModel.order" value="desc">&nbsp;降序</div><div class="padding_top55px line_solid_02 clearFloat"></div><div class="padding_top25px margin_bottom50px clearFloat"><span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateView();">更新</button></div></div></div>');e.put("source/views/customer/setting.user_group_custom_field.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>客户组字段</strong></p><oem-learn-more description="你可以添加更多的客户组属性字段，以满足你的业务需求。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/592" class="size13"></oem-learn-more></div><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:330px">字段名称</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="editUserGroupCustomField(0,\'add\')">+ 添加字段</a></th></tr></thead><tbody ui-sortable="sortableOptions" ng-model="userGroupCustomFieldsActive"><tr ng-repeat="userGroupCustomField in userGroupCustomFieldsActive" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:330px;padding-top:12px"><a ng-bind="userGroupCustomField.title" ng-if="userGroupCustomField.active" class="channel-name" ng-click="editUserGroupCustomField(userGroupCustomField.id,\'update\')"></a> <span ng-bind="userGroupCustomField.title" ng-if="!userGroupCustomField.active" class="channel-name"></span></td><td class="text-right"><a ng-click="editUserGroupCustomField(userGroupCustomField.id,\'copy\');">克隆</a><span>&emsp;|&emsp;</span> <a ng-if="userGroupCustomField.active" ng-click="editUserGroupCustomField(userGroupCustomField.id,\'update\')">编辑</a> <span ng-if="userGroupCustomField.active">&emsp;|&emsp;</span> <a ng-if="userGroupCustomField.active" type="button" style="cursor:move" class="myHandle ui-sortable-handle">拖动排序</a> <a ng-if="!userGroupCustomField.active" ng-click="enabled(this,true)">启用</a><span>&emsp;|&emsp;</span> <a ng-if="!userGroupCustomField.active" ng-click="deleteUserGroupCustomField(0,this,$index)">删除</a> <a ng-if="userGroupCustomField.active" ng-click="enabled(this,false)">停用</a></td></tr></tbody><tbody style="border-top:0"><tr ng-repeat="userGroupCustomField in userGroupCustomFieldsNoActive" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:330px;padding-top:12px"><a ng-bind="userGroupCustomField.title" ng-if="userGroupCustomField.active" class="channel-name" ng-click="editUserGroupCustomField(userGroupCustomField.id,\'update\')"></a> <span ng-bind="userGroupCustomField.title" ng-if="!userGroupCustomField.active" class="channel-name"></span></td><td class="text-right"><a ng-click="editUserGroupCustomField(userGroupCustomField.id,\'copy\');">克隆</a><span>&emsp;|&emsp;</span> <a ng-if="userGroupCustomField.active" ng-click="editUserGroupCustomField(userGroupCustomField.id,\'update\')">编辑</a> <a ng-if="!userGroupCustomField.active" ng-click="enabled(this,true)">启用</a><span>&emsp;|&emsp;</span> <a ng-if="!userGroupCustomField.active" ng-click="deleteUserGroupCustomField(0,this,$index)">删除</a> <a ng-if="userGroupCustomField.active" ng-click="enabled(this,false)">停用</a></td></tr></tbody></table></div></div></div>');e.put("source/views/customer/setting.user_group_custom_field_edit.html",'<style>.form-content .form-group{width:400px}.form-content ul li{list-style:none;float:left}.add-box{font-size:25px}.add-box i{margin-left:20px;cursor:pointer}.add-box .fa-plus-circle{color:#6C6}.catalog-btn{width:120px;height:36px;line-height:36px;border:1px solid #2AC62A;color:#2AC62A;cursor:pointer;text-align:center;border-radius:5px}.fa-edit:hover{color:#3BA2DF}.cascade-content{width:770px}.cascade-box{width:770px;padding:20px;border:1px solid #CCC;clear:both;float:left;margin-top:55px}.cascade-content :first-child{margin-top:0}.delete-tip{width:120px;height:36px;padding:10px;color:#3BA2DF;border:1px solid #3BA2DF;float:right;position:relative;top:-49px;border-radius:5px;cursor:pointer}.add-tip{width:120px;height:36px;padding:10px;color:#3C3;border:1px solid #3C3;border-radius:5px;cursor:pointer;clear:both;float:left;margin-top:20px}</style><div class="setting-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'user_group_custom_field\',settingType:\'customer\'})">客户组字段 </a>》 <span ng-if="checkId==0">添加字段</span> <span ng-if="checkId>0">{{userGroupCustomField.title}}</span></div><oem-learn-more type="user_custom_field" description="你可以添加更多的客户组属性字段，以满足你的业务需求。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/320" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li class="active">字段属性</li></ul><div class="setting-common-body"><ul><li><div class="title-bar"><span>字段名称</span></div><div class="form-content"><input type="text" ng-model="userGroupCustomField.title" class="form-control w400" maxlength="32"><p class="tip">在界面上显示的字段名称。</p></div></li><li><div class="title-bar"><span>填写说明</span></div><div class="form-content"><input type="text" ng-model="userGroupCustomField.notes" class="form-control w400" ng-disabled="userGroupCustomField.systemField"><p class="tip">简要说明，提示客服如何填写。</p></div></li><li ng-if="userGroupCustomField.type != \'checkbox\' && !userGroupCustomField.systemField"><div class="title-bar"><span>是否必填</span></div><div class="form-content"><select class="form-control w400" ng-model="userGroupCustomField.required" ng-change="isRequiredChange()"><option value="false">选填</option><option value="true">必填</option></select><p class="tip" ng-if="!showJurisdictionPromet">客服创建新客户组时，是否必须填写此字段。</p><p class="tip" style="color:red" ng-if="showJurisdictionPromet">*更改为必填字段之后，字段的可见范围与操作将默认为全部角色且无法更改。</p></div></li><li><div class="title-bar"><span>字段样式</span></div><div class="form-content"><select class="form-control w400" ng-model="userGroupCustomField.type" ng-disabled="userGroupCustomField.systemField || (checkId > 0 && editType != \'copy\')" ng-change="changeReg(userGroupCustomField.type)" ng-options="item.value as item.option for item in styleOptions"></select><p ng-if="userGroupCustomField.type!=\'options\'&&userGroupCustomField.type!=\'multi_options\'" class="tip">选择一种字段样式。</p><div ng-if="userGroupCustomField.type==\'options\'||userGroupCustomField.type==\'multi_options\'" class="margin_top10px"><input type="checkbox" ng-model="userGroupCustomField.openSearch"> 开启搜索功能</div></div></li><li ng-if="userGroupCustomField.type==\'options\'"><div class="title-bar"><span>选项</span></div><div class="form-content"><div ng-repeat="optionItem in userGroupCustomField.customFieldOptions track by $index"><div class="pull-left"><div class="form-group input-group margin_bottom10px"><span class="input-group-addon">选项</span> <input type="text" class="form-control" ng-model="optionItem.name"></div><div class="margin_bottom10px"><input type="radio" ng-if="!userGroupCustomField.systemFieldKey" name="default" value="{{optionItem.name}}" ng-click="selectRadio(this)" ng-model="userGroupCustomField.defaultValue"> <input type="checkbox" ng-if="userGroupCustomField.type==\'scade_options\'" value="{{optionItem.name}}" ng-model="userGroupCustomField.defaultValue"> 默认选中</div></div><div class="pull-left add-box"><i class="fa fa-minus-circle" ng-style="{color:($index==0 ? \'color:#CCCCCC\': \'color:#FF6666\')}" ng-click="toDeleteOption($index);"></i> <i class="fa fa-plus-circle" ng-if="$index==userGroupCustomField.customFieldOptions.length-1" ng-click="toAddOption($index)"></i></div></div></div></li><li ng-if="userGroupCustomField.type==\'multi_options\'"><div class="title-bar"><span>选项</span></div><div class="form-content"><div ng-repeat="optionItem in userGroupCustomField.customFieldOptions track by $index"><div class="pull-left"><div class="form-group input-group margin_bottom10px"><span class="input-group-addon">选项</span> <input type="text" class="form-control" ng-keydown="checkMultiValue($event)" ng-model="optionItem.name"></div><div class="margin_bottom10px"><input type="checkbox" value="{{optionItem.name}}" name="default" ng-model="optionItem.defaultValue"> 默认选中</div></div><div class="pull-left add-box"><i class="fa fa-minus-circle" ng-style="{color:($index==0 ? \'color:#CCCCCC\': \'color:#FF6666\')}" ng-click="toDeleteOption($index);"></i> <i class="fa fa-plus-circle" ng-if="$index==userGroupCustomField.customFieldOptions.length-1" ng-click="toAddOption($index)"></i></div></div></div></li><li ng-if="userGroupCustomField.type==\'cascade_options\'"><div class="title-bar"><span>选项</span></div><div class="form-content cascade-content"><div class="cascade-box" ng-repeat="item in mulOptions"><div class="form-group input-group"><span class="input-group-addon">一级选项</span> <input type="text" class="form-control" ng-keydown="checkCascadetiValue($event)" ng-model="item.value"></div><p class="delete-tip" ng-if="$index>0" ng-click="delMainOption($index)">x 删除一级选项</p><div class="children-option" style="margin-left:80px" ng-repeat="subItem in item.children"><div class="pull-left"><div class="form-group input-group"><span class="input-group-addon">二级选项</span> <input type="text" class="form-control" ng-keydown="checkCascadetiValue($event)" ng-model="subItem.value"></div></div><div class="pull-left add-box"><i class="fa fa-minus-circle" ng-style="{color:($index==0 ? \'color:#CCCCCC\': \'color:#FF6666\')}" ng-click="delSubOption(this,$index);"></i> <i class="fa fa-plus-circle" ng-if="$index==item.children.length-1" ng-click="addSubOption(this)"></i></div></div></div><p class="add-tip" ng-click="addMainOption()">+ 添加一级选项</p></div></li><li ng-if="userGroupCustomField.type != \'options\' && userGroupCustomField.type != \'checkbox\' && userGroupCustomField.type != \'date\' &&userGroupCustomField.type != \'date_to_date\'&&userGroupCustomField.type != \'date_time\' &&userGroupCustomField.type != \'cascade_options\' &&userGroupCustomField.type != \'multi_options\' && !userGroupCustomField.systemField"><div class="title-bar"><span>正则表达式</span></div><div class="form-content"><div class="pull-left"><input type="text" class="form-control w400" ng-model="userGroupCustomField.regexpForValidation" ng-disabled="userGroupCustomField.type !== \'text\' && userGroupCustomField.type !== \'textarea\' && userGroupCustomField.type !== \'regexp\'"></div><p class="tip" style="margin-top:13px;clear:both">验证输入是否有效。如需调整，请点击编辑按钮。</p></div></li><li ng-if="userGroupCustomField.type == \'text\' || userGroupCustomField.type == \'number\' ||userGroupCustomField.type == \'currency\' || userGroupCustomField.type == \'phone\' || userGroupCustomField.type == \'mobile_phone\' || userGroupCustomField.type == \'email\' || userGroupCustomField.type == \'regexp\'"><div class="title-bar"><span>扩展URL</span></div><div class="form-content"><input type="text" class="form-control w400" ng-model="userGroupCustomField.url"><p class="tip">第三方系统查询命令。跳转第三方系统，按照字段值执行查询操作。 请输入扩展URL并用{value}占位，如不使用占位符，系统将把字段值紧跟在URL后面。 如需加密，请进入<b>系统设置-字段扩展URL密钥</b>进行设置。</p></div></li><li><div class="title-bar"><span><span style="color:red">*</span>字段默认列宽</span></div><div class="form-content" style="position:relative"><input type="text" ng-model="userGroupCustomField.defaultLength" ng-blur="recoveryDefault(userGroupCustomField)" class="form-control w400" maxlength="10"> <span style="position:absolute;top:8px;left:376px">px</span><p class="tip">用于设置客户组列表中该字段的默认列宽（仅对PC版客户组列表有效）</p></div></li><li><custom-field-jurisdiction></custom-field-jurisdiction></li><li><div class="title-bar"></div><div class="form-content"><button type="button" class="btn btn-primary w100" ng-disabled="btnDisabled" ng-click="saveuserGroupCustomField(userGroupCustomField)">更新</button></div></li></ul></div></div>');e.put("source/views/customer/setting.user_group_custom_view.html",'<style>.w300{width:300px!important}.margin_left53px{margin-left:53px}.description p,.form-inline p{color:#999}.floatLeft ul{list-style:none;margin:0;min-height:40px;padding-bottom:30px;padding-left:0}.floatLeft ul li{border:1px solid #ccc;padding:5px 10px;background:#F8F8F8;width:150px;margin-top:10px;cursor:move;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.notShowTable{width:400px}.notShowTable li{margin:0 10px 0 0}.showTable{width:150px}.chkCustom,.chkDefault{border:none}</style><div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>客户组视图</strong></p></div><oem-learn-more type="user_custom_view" description="你可以选择想要的客户组字段在列表中显示，以满足你的业务需求。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/604" class="know-more"></oem-learn-more><div><div class="padding_top30px padding_bottom10px form-inline"><label class="margin_right20px size14">标题</label><input type="hidden" class="form-control w300"> <input class="form-control w300" disabled="disabled" value="客户分组"></div><div class="padding_top10px padding_bottom10px description"><label class="margin_right25px size14 floatLeft">描述</label><textarea ng-model="description" rows="4" class="form-control w300" maxlength="70"></textarea><p class="margin_left53px margin_top10px size13">请简要描述该视图所包含的客户组内容，方便大家理解。</p></div><h4 class="size14"><strong>字段列表</strong></h4><p class="margin_bottom10px margin_top5px size13">在列表中拖放来选择和重新排序。</p><div class="clearFloat"><div class="floatLeft"><p><strong>不显示的列</strong></p><ul ui-sortable="sortableOptions" ng-model="noUseOptions" class="sortable clearFloat notShowTable"><li ng-repeat="noUseOption in noUseOptions" class="floatLeft" title="{{noUseOption.value}}">{{noUseOption.value}}</li></ul></div><div class="floatLeft margin_left50px"><p><strong>显示的列</strong></p><ul ui-sortable="useSortableOptions" ng-model="useOptions" class="sortable clearFloat showTable"><li ng-repeat="useOption in useOptions" class="floatLeft" title="{{useOption.value}}">{{useOption.value}}</li></ul></div><div class="floatLeft margin_left10px"><p><strong>列宽</strong></p><div ng-repeat="item in useOptions" style="position:relative" ng-mouseenter="showDefault(item)" ng-mouseleave="showDefault(item)"><input ng-model="item.length" style="height:30px;width:70px;margin-top:10px" type="text" class="form-control" maxlength="10"><div style="position:absolute;top:2px;left:80px;width:130px"><span style="color:#999;font-size:14px">px</span> <span ng-click="setDefault(item)" ng-show="item.isShowDefault" style="color:#1E8CCE;font-size:14px;cursor:pointer">恢复为默认列宽</span></div></div></div></div><div class="padding_top55px line_solid_02 clearFloat"></div><div class="padding_top25px margin_bottom50px clearFloat"><span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateView();">更新</button></div></div></div>');e.put("source/views/customer/update_customer_account.html",'<div class="modal-inner-content"><div class="form-group"><label>Email</label><input type="text" name="email" id="email" ng-blur="blurMobilePhoneOrEmail()" ng-model="newUser.email" onkeyup="this.value=this.value.replace(/[, ]/g,\'\')" maxlength="255" class="form-control"></div><div class="form-group"><label>手机</label><input type="text" name="mobilePhone" id="mobilePhone" ng-blur="blurMobilePhoneOrEmail()" ng-model="newUser.mobilePhone" onkeyup="this.value=this.value.replace(/[, ]/g,\'\')" maxlength="16" class="form-control"></div></div><div class="modal-footer"><button type="button" id="saveButton" class="btn btn-confirm" ng-click="$save()" ng-disabled="!newUser.password && !newUser.mobilePhone && !newUser.email">确认</button> <button type="button" class="btn btn-cancel" ng-click="$hide();hideBlack()">取消</button></div>');e.put("source/views/customer/update_customer_password.html",'<div class="modal-inner-content" style="color:#333;font-size:13px"><div class="form-group clearfix"><div class="col-md-2"><label>新密码<span style="color:red">*</span></label></div><div class="col-md-10"><input type="text" name="password" id="password" ng-model="resetPasswordModel.password" placeholder="输入密码（6-16位字母、数字、字符或组合）" onkeyup="this.value=this.value.replace(/[, ]/g,\'\')" maxlength="255" class="form-control"></div></div><div class="form-group clearfix"><div class="col-md-offset-2 col-md-10"><p>将新密码告知客户？</p><div class="form-group clearfix" style="margin-top:5px;margin-bottom:10px"><div class="col-md-3" style="padding-left:0"><label><input type="checkbox" ng-model="resetPasswordModel.notifyWithMail"> 邮件通知</label></div><div class="col-md-3"><label><input type="checkbox" ng-model="resetPasswordModel.notifyWithSMS"> 短信通知</label></div></div><div style="color:#999">勾选后，新密码将发送至客户账号（手机或Email）,请确保通道可用。</div></div></div></div><div class="modal-footer"><button type="button" id="saveButton" class="btn btn-confirm" ng-click="$save()" ng-disabled="!resetPasswordModel.password || resetPasswordModel.password.length<6">确认</button> <button type="button" class="btn btn-cancel" ng-click="$hide();hideBlack()">取消</button></div>');e.put("source/views/customer/user_add.html",'<script type="text/javascript">$(function(){\n        setTimeout(function() {\n            var inputs = $("#addUserForm").find("#name,#email,#userGroup");\n            inputs.keypress(function(e){\n                if (e.which == 13){\n                    var idx = inputs.index(this);\n                    inputs[idx + 1].focus();\n                    inputs[idx + 1].select();\n                    e.preventDefault();\n                }\n            });\n        }, 200);\n    })<\/script><style>input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none!important;margin:0}input[type=number]{-moz-appearance:textfield}#user-select ul{width:100%;max-height:400px;overflow:auto}.modal-footer{border-top:1px solid #e5e5e5;padding-bottom:0;padding-left:0}.add-user-form label>span.required{color:red}</style><div class="modal-inner-content" style="max-height:420px;padding-right:15px;overflow:auto;padding-bottom:14px"><form name="addUserForm" id="addUserForm" class="css-form add-user-form" novalidate><div class="form-group"><label>名字 <span class="required">*</span></label><input placeholder="必填,允许重名" type="text" name="name" id="name" ng-model="newUser.name" required maxlength="32" class="form-control"></div><div class="form-group"><label>Email</label><input placeholder="选填,全局唯一" type="email" name="email" id="email" ng-model="newUser.email" maxlength="255" class="form-control" ng-pattern="/^([a-zA-Z0-9-&._]+)@[a-zA-Z0-9-]([._]?[a-zA-Z0-9-])*(\\.\\w{2,6})+$/i"></div><div class="form-group" style="position:relative"><label>客户分组</label><user-group-select selectedusergroup="newUser.userGroup" customer="customer" useredit="false"></user-group-select></div><div class="form-group"><label>手机</label><input placeholder="选填,全局唯一" type="mobilePhone" name="mobilePhone" id="mobilePhone" ng-model="newUser.mobilePhone" maxlength="11" class="form-control" ng-pattern="/^1\\d{10}$/"></div><div ng-if="moreField" class="form-group"><label>External ID</label><input placeholder="" type="text" name="external_id" ng-model="newUser.externalId" maxlength="255" class="form-control"></div><div bindonce ng-repeat="userCustomField in userCustomFields " class="form-group"><label ng-if="userCustomField.customField.type==\'text\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span></label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'text\' && userCustomField.customField.moreField"><input type="text" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value);" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0" ng-model="userCustomField.value" class="form-control" ng-if="userCustomField.customField.type==\'text\'" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);"></div><label ng-if="userCustomField.customField.type==\'phone\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span></label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'phone\' && userCustomField.customField.moreField"><input type="text" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value);" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0" ng-model="userCustomField.value" class="form-control" ng-if="userCustomField.customField.type==\'phone\'" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);"></div><label ng-if="userCustomField.customField.type==\'date_time\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span></label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'date_time\' && userCustomField.customField.moreField"><input lay-date type="text" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0" ng-model="userCustomField.value" class="form-control" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-change="updateValue($index);"></div><label ng-if="userCustomField.customField.type==\'textarea\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span></label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'textarea\' && userCustomField.customField.moreField"><textarea ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0" type="textarea" class="form-control" rows="4" ng-model="userCustomField.value" ng-if="userCustomField.customField.type==\'textarea\'" maxlength="1000" textarea-auto-height="140" style="overflow:hidden" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);"></textarea></div><label ng-if="userCustomField.customField.type==\'email\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span></label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'email\' && userCustomField.customField.moreField"><input type="text" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0" ng-model="userCustomField.value" class="form-control" placeholder="{{userCustomField.customField.notes}}" maxlength="255" ng-blur="updateValue($index);" ng-pattern="/^[A-Za-z0-9]+(\\.?[\\w-]+)*@[\\w-]+(\\.[\\w-]+)+$/"></div><label ng-if="userCustomField.customField.type==\'regexp\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span></label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'regexp\' && userCustomField.customField.moreField"><input ng-model="userCustomField.value" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0" class="form-control" placeholder="{{userCustomField.customField.notes}}" maxlength="20" ng-blur="updateValue($index);"></div><label ng-if="userCustomField.customField.type==\'number\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span></label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'number\' && userCustomField.customField.moreField"><input type="text" ng-model="userCustomField.value" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0" class="form-control" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);"></div><label ng-if="userCustomField.customField.type==\'decimal\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span></label><div class="form-group has-feedback" ng-if="userCustomField.customField.type==\'decimal\' && userCustomField.customField.moreField"><input type="text" ng-model="userCustomField.value" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0" class="form-control" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);"></div><label ng-if="userCustomField.customField.type==\'date\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span></label><div class="input-group input-size-middle date-input" ng-if="userCustomField.customField.type==\'date\' && userCustomField.customField.moreField"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0" ng-click="open($event,userCustomField.customField)" ng-change="change($index);filedValueChange($index,userCustomField.customField.url,userCustomField.value);" max-date="chartSelectedDate.end" is-open="userCustomField.customField.startForm" ng-model="userCustomField.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" name="startFrom"> <span class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,userCustomField.customField)" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><div class="form-group clearfix" ng-if="userCustomField.customField.type==\'checkbox\' && userCustomField.customField.moreField"><input type="checkbox" ng-change="change($index);filedValueChange($index,userCustomField.customField.url,userCustomField.value);" ng-model="userCustomField.value" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0" ng-true-value="true" ng-false-value="false"><label ng-if="userCustomField.customField.type==\'checkbox\'">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span></label><span ng-if="userCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userCustomField.customField.notes}})</span></div><label ng-if="userCustomField.customField.type==\'options\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span></label><span ng-if="userCustomField.customField.notes && userCustomField.customField.type==\'options\' && userCustomField.customField.moreField" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userCustomField.customField.notes}})</span><radio-options ng-if="userCustomField.customField.type==\'options\' && userCustomField.customField.moreField" ticket-id="userId" ticket-field="userCustomField" category="userCustomField"></radio-options><label ng-if="userCustomField.customField.type==\'cascade_options\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span> <span ng-if="userCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userCustomField.customField.notes}})</span></label><cascade-options ng-if="userCustomField.customField.type==\'cascade_options\' && userCustomField.customField.moreField" ticket-id="userId" ticket-field="userCustomField"></cascade-options><label ng-if="userCustomField.customField.type==\'multi_options\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span> <span ng-if="userCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userCustomField.customField.notes}})</span></label><multi-options ng-if="userCustomField.customField.type==\'multi_options\' && userCustomField.customField.moreField" ticket-id="ticket.id" ticket-field="userCustomField"></multi-options><label ng-if="userCustomField.customField.type==\'date_to_date\' && userCustomField.customField.moreField">{{userCustomField.customField.title}} <span class="required" ng-if="userCustomField.customField.required">*</span></label><div class="row" ng-if="userCustomField.customField.type==\'date_to_date\' && userCustomField.customField.moreField"><div class="col-md-5"><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0" ng-click="timeFrameOpen($event,userCustomField.customField,\'startTimeForm\')" ng-change="change($index);filedValueChange($index,userCustomField.customField.url,userCustomField.value);" is-open="userCustomField.customField.startTimeForm" ng-model="userCustomField.customField.startTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" max-date="userCustomField.customField.endTime"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,userCustomField.customField,\'startTimeForm\')" type="button" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div class="col-md-2"><p style="text-align:center;padding-top:10px">至</p></div><div class="col-md-5"><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0" ng-click="timeFrameOpen($event,userCustomField.customField,\'endTimeForm\')" ng-change="change($index);filedValueChange($index,userCustomField.customField.url,userCustomField.value);" is-open="userCustomField.customField.endTimeForm" ng-model="userCustomField.customField.endTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" min-date="userCustomField.customField.startTime"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,userCustomField.customField,\'endTimeForm\')" type="button" ng-disabled="!userCustomField.customField.required && userCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div></div><div ng-if="moreField" class="form-group" style="position:relative"><label>关联客户组</label><user-related-group-input related-user-groups="newUser.relatedUserGroups"></user-related-group-input></div></form><div ng-if="moreField"><div class="form-group"><label>登录密码</label><input placeholder="凭Email/手机号码+密码登录" type="password" onkeyup="this.value=this.value.replace(/[, ]/g,\'\')" name="password" id="password" ng-model="newUser.password" maxlength="16" class="form-control"></div><div class="form-group"><label>电话号码</label><input placeholder="电话号码" type="text" ng-model="newUser.phone" maxlength="16" class="form-control"></div><div class="form-group"><lable>备注</lable><textarea id="textarea" class="form-control ng-pristine ng-valid ng-valid-maxlength ng-touched" style="resize:none;height:71px" ng-model="newUser.notes" textarea-auto-height="120" maxlength="512"></textarea></div></div><a class="custom-main-font-color" ng-click="showMoreField()" href="javascript:void(0);" ng-if="!moreField">更多字段</a></div><div class="modal-footer btn-group-common"><button type="button" id="saveButton" class="btn btn-confirm custom-background-color" ng-click="$save()" ng-disabled="!addUserForm.$valid">保存</button> <button type="button" class="btn btn-cancel" ng-click="$hide()">取消</button></div>');e.put("source/views/customer/user_excel_url.choice.html",'<div style="width:100%"><div style="width:90%" ng-show="!importUserComplete"><ul><li style="list-style:none"><div style="float:left"><span class="margin_right20px"><a href="javascript:void(0)" style="color:#1e8cce" ng-click="$template(2);" target="_blank">Excel模板</a></span> <span class="margin_right20px size15" ng-file-select ng-model="excelFile" ng-file-change="$read(excelFile)" style="cursor:pointer"><img class="padding_bottom5px" src="source/images/daoru.jpg"><strong>选择文件</strong> </span><span class="margin_right20px" ng-if="view.type!=\'userGroup\'"><a href="javascript:void(0);" ng-click="$explain()" style="color:#1E8CCE">详细说明</a></span> <span ng-if="fileIsNUll"><strong>{{fileName}}</strong></span></div><br></li></ul></div><div style="width:90%" ng-show="importUserComplete"><ul><li style="list-style:none"><div style="float:left">导入成功<span></span>{{successCount}}个 <span ng-show="failureCount>0">,失败 <span>{{failureCount}}</span>个 <a class="c74" ng-click="downLoadfailureCustomerRecored()" href="javascript:void(0)">点击下载导入失败的列表</a>，修改并删除失败原因列后重新导入</span></div><br></li></ul></div><table border="1" id="tables" width="90%" align="center" ng-if="fileIsNUll&&!importUserComplete"><tr height="30"><th>Excel文件标题</th><th>对应系统中的字段</th></tr><tr ng-repeat="option in titleOptions" align="center"><td width="30%">{{option.title}}</td><td width="40%"><select class="form-control w230 ng-pristine ng-valid ng-touched" style="height:100%;width:100%" name="selectCustomerPropertyOptions" ng-model="option.selectProperty" ng-options="item.value as item.option for item in options"></select></td></tr></table><div class="modal-footer"><label ng-show="!importUserComplete" title="如果email或手机或External Id查询到一个客户，则更新这个客户信息" for="repeatedUpdate">覆盖更新 <input type="checkbox" value="true" name="repeatedCustomerUpdate" id="repeatedCustomerUpdate"></label><button type="button" class="btn btn-confirm" ng-disabled="importting" ng-show="!importUserComplete" ng-click="$save(excelFile)">导入</button> <button type="button" class="btn btn-cancel" ng-click="hideBatchAddCustomerModal()"><span ng-show="!importUserComplete">取消</span> <span ng-show="importUserComplete">完成</span></button></div></div><style type="text/css">#tables th{text-align:center}</style>');e.put("source/views/customer/user_group.detail.customers.html","<div></div><eweitable></eweitable>");e.put("source/views/customer/user_group.detail.html",'<div id="main_panes"><section class="main_panes layoutC"><header><div class="title"><group-user-ticket-chain group="userGroup" user="customer" ticket="ticket" webchat="webchat" active="group"></group-user-ticket-chain><span class="pull-right ticket-btn-next" ng-click="viewNextUserGroup();" ng-if="showNextUserGroupBtn" style="margin-right:50px"><i class="fa fa-chevron-right"></i></span> <span class="pull-right operation-button-wrapper"><customer-group-operation-button ng-if="!hasSelected" customer-group="userGroup" on-create="addCustomer();" on-delete="deleteUserGroup()"></customer-group-operation-button></span></div></header><div class="pane left" style="overflow:auto"><div class="box0 c00 border0 padding10px"><fieldset ng-disabled="!editableGroup"><div class="form-group"><label>Email域名</label><span style="font-size:1em;color:#aaa">多个用英文逗号分隔</span> <input type="text" ng-model="userGroup.domainNames" maxlength="512" class="form-control" ng-blur="updateDomainNames();"></div><div class="form-group"><label>组内成员工单共享</label><select ng-model="userGroup.shared" class="form-control" ng-change="updateShared();"><option value="false" ng-selected="userGroup.shared==false">否</option><option value="true" ng-selected="userGroup.shared==true">是</option></select></div><div class="form-group"><label>标签</label><ewei-tags-input tags="userGroup.tags" who="user_group" whoid="{{userGroup.id}}"></ewei-tags-input></div><div class="form-group"><label>备注</label><textarea ng-model="userGroup.notes" placeholder="请输入长度不超过200" maxlength="200" class="form-control" ng-blur="updateNotes();"></textarea></div><div class="form-group"><label>绑定到客服组</label><select class="form-control" ng-model="userGroup.serviceDesk" ng-options="serviceDesk.name for serviceDesk in serviceDesks" ng-change="updateServiceDesk();"><option value="">-</option></select></div><div class="form-group"><user-group-custome-field user-group-id="userGroup.id" external-url-authorize="externalUrlAuthorize"></user-group-custome-field></div></fieldset></div></div><div class="pane right am-fade-and-slide-right ng-scope" style="overflow:auto"><div class="flex ng-scope margin_left5px"><div class="w50 padding10px"><i class="iconfont">&#xe665;</i></div><div class="box_flex_1"><div style="padding-top:20px;font-size:14px" ng-if="!editableGroup" class="padding10px"><strong>{{userGroup.name}}</strong></div><div ng-if="editableGroup" class="padding10px"><strong><input type="text" ng-model="userGroup.name" required maxlength="128" class="form-control" ng-class="{true: \'show_input\',false: \'hide_input\'}[displayNameView]" ng-mouseover="mouseoverName()" ng-mouseout="mouseoutName()" ng-blur="updateName();"></strong></div></div></div><ul class="nav nav-tabs user-group-tabs"><li role="presentation" ng-class="{\'active\': $state.current.name==\'user_groups_detail.customers\'||$state.current.name==\'user_group_customers_detail.customers\'||$state.current.name==\'user_group_requester_tickets_detail.customers\'||$state.current.name==\'webchat_user_group_detail.customers\'||$state.current.name==\'webchat_user_group_detail\'}"><a href="javascript:void(0)" ng-click="goCustomers();">客户({{clientcount}})</a></li><li role="presentation" ng-class="{\'active\': $state.current.name==\'user_groups_detail.tickets\'||$state.current.name==\'user_group_customers_detail.tickets\'||$state.current.name==\'user_group_requester_tickets_detail.tickets\'||$state.current.name==\'webchat_user_group_detail.tickets\'}"><a href="javascript:void(0)" ng-click="goTickets()">工单({{clientTicketcount}})</a></li><li role="presentation" ng-class="{\'active\': $state.current.name==\'user_groups_detail.sla\'||$state.current.name==\'user_group_customers_detail.sla\'||$state.current.name==\'user_group_requester_tickets_detail.sla\'||$state.current.name==\'webchat_user_group_detail.sla\'}"><a href="javascript:void(0)" ng-click="goSla();">SLA时间</a></li></ul><div class="margin10px margin_left15px" style="color:#666;font-size:13px" ui-view></div></div></section></div>');e.put("source/views/customer/user_group.detail.sla.html",'<div style="width:887px;height:60px" class="margin_top60px margin_bottom20px"><div style="float:left"><p class="font_b margin_bottom10px">个性化SLA时间</p><p style="color:#999;font-size:12px">客户组的SLA时间默认依从服务商的营业时间，如有不同，可单独设置。</p><p style="color:#999;font-size:12px">设置后，本组下所有客户的工单的响应耗时和处理耗时，将只按照本组的SLA时间进行计算（扣除非工作时段）</p><div style="clear:both"></div></div><toggle-switch class="switch-container J_switchContainer" ng-model="workingTime.status" ng-click="saveWorkingTime()" on-label="开" off-label="关"><toggle-switch></toggle-switch></toggle-switch></div><div ng-show="workingTime && workingTime.status"><business-hours-week></business-hours-week></div><div ng-show="workingTime && workingTime.status" style="position:relative"><div class="padding_top55px line_solid_02"></div><div class="calendar-wrap margin_top20px" style="width:520px;display:inline-block"><ewei-calendar holidays="holidayArray" current-year="currentYear" current-month="currentMonth" on-date-change="onDateChange($yearMonth, $date, $isHoliday)" on-year-month-change="onYearMonthChange($yearMonth)" saturday-as-holiday="saturdayAsHoliday" sunday-as-holiday="sundayAsHoliday"></ewei-calendar><p class="padding_top20px">点选日期切换工作日状态。黑色为工作日，红色非工作日</p></div><div style="position:absolute;top:180px;left:600px"><p><input type="checkbox" ng-model="saturdayAsHoliday" ng-true-value="true" ng-false-value="false"> 周六为非工作日</p><p class="padding_top20px"><input type="checkbox" ng-model="sundayAsHoliday" ng-true-value="true" ng-false-value="false"> 周日为非工作日</p></div><div class="padding_top55px line_solid_02"></div><div class="col-md-7 padding_top30px padding_left10px padding_bottom30px"><button type="button" class="btn btn-primary w100" ng-click="saveWorkingTime();">更新</button></div></div>');e.put("source/views/customer/user_group.list.html",'<div class="title"><h5><strong ng-bind="::viewTitle"></strong> <button type="button" class="btn btn-link" ng-show="!defaultSorting" ng-click="clearSorting();" style="padding-top:0;padding-bottom:0"><small class="c75 custom-main-font-color">恢复默认排序</small></button></h5><ewei-question description="view.description"></ewei-question><div class="margin10px pull-right margin10px padding_right10px padding_top5px" ng-if="hasSelected"><button type="button" class="btn-clear" ng-click="cancelAllSelected();">取消选中</button> <button type="button" has-permission="customer_group_delete" class="btn btn-confirm" ng-click="deleteUserGroups()">批量删除</button></div><div ng-if="!hasSelected" class="btn-group pull-right margin10px padding_right10px padding_top5px"><a class="btn btn-default" ng-click="viewAccounList()">逐条查看</a> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" style="border-radius:0 4px 4px 0"><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu dropdown-menu-right" role="menu"><li has-permissions="customer_group_create"><a ng-click="createUserGroup()">添加客户组</a></li><li has-permission="customer_view_manage" has-permissions="customer_view_manage"><a ng-click="editList();">编辑列表</a></li><li role="presentation" class="divider"></li><li has-permission="customer_export" has-permissions="customer_export"><a ng-click="exportExcel();">导出Excel</a></li><li has-permission="customer_import" has-permissions="customer_import"><a ng-click="import();">批量导入</a></li></ul></div><div class="title-box padding_top5px padding_right10px pull-right" ng-show="hideTitle!==\'true\' && !hasSelected"><div class="search-box"><input type="button" value="清除搜索条件" ng-show="(argument.searchKey!=null&&argument.searchKey!=\'\')||isAdvancedQuery" ng-click="clearSearch();" class="tip"><div class="input-group"><input type="text" class="form-control txt" placeholder="{{placeholder}}" ng-model="argument.searchKey" ng-enter="search(argument.searchKey)"> <span class="input-group-addon" style="cursor:pointer;border-radius:0 6px 6px 0" ng-click="search(argument.searchKey)" ng-style="(argument.searchKey!=null&&argument.searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span></div></div></div></div><eweitable2></eweitable2><div class="ticket-loading" ng-if="!view || isCustomerLoading"><img src="/source/images/ajax-loader.gif"></div>');e.put("source/views/customer/user_group_add.html",'<script type="text/javascript">$(function(){\n        setTimeout(function() {\n            var inputs = $("#addUserGroupForm").find("#name,#shared,#domainNames");\n            inputs.keypress(function(e){\n                if (e.which == 13){\n                    var idx = inputs.index(this);\n                    inputs[idx + 1].focus();\n                    inputs[idx + 1].select();\n                    e.preventDefault();\n                }\n            });\n        }, 500);\n    })<\/script><form name="addUserGroupForm" id="addUserGroupForm" class="css-form" novalidate><div class="modal-inner-content" style="max-height:420px;padding-right:15px;overflow:auto"><div class="form-group"><label>分组名称*</label><input type="text" name="name" id="name" ng-model="newUserGroup.name" required maxlength="128" class="form-control"></div><div class="form-group"><label>组内成员工单共享</label><select name="shared" id="shared" ng-model="newUserGroup.shared" class="form-control"><option value="false" ng-selected="newUserGroup.shared==false">否</option><option value="true" ng-selected="newUserGroup.shared">是</option></select></div><div class="form-group"><label>Email域名</label><span style="font-size:1em;color:#aaa">多个用英文逗号分隔</span> <input type="text" id="domainNames" name="domainNames" ng-model="newUserGroup.domainNames" maxlength="512" class="form-control" ng-pattern="/^\\s*(?:([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4})\\b[,]?)+$/i"></div><user-group-custome-field group-field="groupField" external-url-authorize="externalUrlAuthorize"></user-group-custome-field></div><div class="modal-footer btn-group-common"><button type="button" class="btn btn-confirm custom-background-color" ng-click="$save()" ng-disabled="!addUserGroupForm.$valid"><span>保存</span></button> <button type="button" class="btn btn-cancel" ng-click="$hide()">取消</button></div></form>');e.put("source/views/customer/user_import_explain.html",'<ul ng-if="view.type==\'user\'" style="margin:0 auto"><li style="list-style:none"><strong>1、导入选择文件后,会出现对应关系的表格，表格说明如下：</strong><br><table border="1" class="margin_left10px;" style="margin:0 auto" width="90%"><tr><td width="50" style="text-align:center">第一列:</td><td>&nbsp;&nbsp;&nbsp;&nbsp;Excel文件标题: 这一列是文件中每个sheet的第一行的提示数据，标题列至少5列，最多11列，如无相关信息可以不填写。</td></tr><tr><td width="50" style="text-align:center">第二列:</td><td>&nbsp;&nbsp;&nbsp;&nbsp;对应系统中的字段: 这一列与文件无关，是属于内部存储数据的字段，选择了对应字段后，则会将Excel文件中与标题列对应的数据导入对应字段(如: Excel中标题列的字段是:a，对应字段是:姓名，则文件中的a这一列识别为客户的姓名)，对应字段中必须包含姓名和电子邮件字段且必须填写。</td></tr></table><strong>2、注意事项：</strong><div style="width:90%"><ul><li>对应字段中必须包含姓名和电子邮件列且必须填写，其他列可以不填，但标题列不能少于5，不能超过11。</li><li>如果导入时没有选择昵称或者昵称没有填写，则昵称默认为姓名。</li><li>导入文件中，所有字段都有长度限制，姓名、电子邮箱、电话、备注、名称、扩展编号不能超过128个字符，个性签名不能超过64个字符。</li><li>选择了是否共享工单，那么这一列的值只能为‘是’、‘否’或者不填，不填则默认为‘否’，否则无法识别。</li><li>需要导入的文件中，不能出现重复的电子邮箱、手机号码和扩展编号，因为三项可以作为用户登录的用户名。</li><li>电子邮箱的格式必须按照aa@bb.cc(.dd)的格式填写，如(ewei@qq.com、ewei@163.com.cn,ewei@vip.qq.com等)。</li><li>手机号码必须是正常的11位手机号码。</li><li>密码不能含有空格、汉字和一些不合法的特殊字符，具体能包含的字符，请搜索<a target="_Blank" style="color:#1E8CCE" href="http://baike.baidu.com/link?url=xqs6Rj76BqOmioqeVmIyqmeFA7Ht62eNOdP105EQIIDhU7DGsecSVYRdR-GchDcGL-A7wqn2Uji7bRsyFrjbUK">ASCII码表</a>，表中的第33-126的字符为合法字符。</li><li>标签请用 空格 间隔，支持中英文及数字。</li></ul></div></li></ul><div class="modal-footer"><button ng-click="$hide()" type="button" class="btn btn-confirm">确定</button></div><style type="text/css">#tab{border-collapse:collapse}#tab td,#tab th{border:1px solid #666}</style>');e.put("source/views/customer/users.html",'<div id="main_panes"><div id="ember3317" class="workspace has-play" style=""><header class="modeCol2"><div class="pull-left" style="width:291px;border-right:1px solid #ccc"><div class="pane pull-left left"><nav class="btn-group"><span class="btn btn-default">tab1 </span><span class="btn btn-default">tab2 </span><span id="ember3401" class="btn btn-default active">tab3</span></nav></div></div><div class="table_cell"><div class="pane pull-right right margin_top3px"><button data-ember-action="107" class="btn btn-default btn-sm">App</button> <button class="btn btn-default btn-sm">按钮</button></div><div class="pane pull-left left"><h5>&nbsp; 列表标题这是一个分两列的导航栏布局</h5></div></div></header><div ui-view></div></div></div>');e.put("source/views/help_center/addCatalog.html",'<style>.artli ul li div{display:block;position:static}</style><div class="artli"><div><ul style="list-style:none;margin:0;padding:0"><li class="size13"><div class="form-group" style="padding:0 20px;width:100%"><label for="Catalog" style="height:15px">目录名称*</label><input class="form-control" id="Catalog" ng-model="newTopic.name" maxlength="32"></div></li><li class="size13"><div class="form-group" style="padding:0 20px;width:100%"><label for="Catalog" style="height:15px">授权用户*</label><select class="form-control" ng-model="newTopic.access" ng-disabled="newTopic.type==\'manage\'||newTopic.type==\'draft\'||newTopic.type==\'deletes\'"><option value="{{item.access}}" ng-repeat="item in options track by $index" ng-selected="newTopic.access==item.access">{{item.name}}</option></select></div></li><li><div ng-if="newTopic.access==\'specify_usergroup\'" class="form-group" style="padding:0 20px;width:100%"><ewei-multiple placeholderval="请输入客户组名称" tags="targetItem" who="user_groups"></ewei-multiple></div><div ng-if="newTopic.access==\'specify_servicedesk\'" class="form-group" style="padding:0 20px;width:100%"><ewei-multiple placeholderval="请输入客服组名称" tags="targetItem" who="service_desks"></ewei-multiple></div></li></ul></div><div class="modal-footer"><div style="float:right;display:inline-block" class="btn-group-common"><button type="button" class="btn btn-confirm w80 custom-background-color" ng-click="$save(newTopic,newTopicAccessObj);">更新</button> <button type="button" class="btn btn-cancel w80" ng-click="$hide();">取消</button></div></div></div>');e.put("source/views/help_center/community.html",'<div id="main_panes"><section class="main_panes layoutB" style=""><div class="pane left"><div class="title"><h5 style="padding-left:8px"><strong>社区管理</strong></h5></div><div class="list box99"><div class="list-group"><a ui-sref="community.detail({id:view.id,type:view.type})" class="block padding10px20px padding_left20px" ui-sref-active="box02" bindonce ng-repeat="view in views track by $index" ng-click="detail($index,view.title);"><span ng-if="view.count>=0" class="pull-right">{{view.count}}</span><span bo-bind="view.title|translate"></span></a></div></div></div><div class="pane right" style="overflow-y:auto" ui-view></div></section></div>');e.put("source/views/help_center/resource_edit.html",'<style>.outter-div ul li div{display:block;position:static}.outter-div ul{list-style:none;margin:0;padding:0}.outter-div ul li{margin:0;padding:0 0 0 6px}</style><div class="outter-div"><ul><li><div class="form-group"><input class="form-control" maxlength="32" ng-model="oldTopic.name"></div></li><li class="size13"><div class="form-group"><label for="Catalog" style="height:15px">授权用户*</label><select class="form-control" ng-model="oldTopic.access"><option value="{{item.access}}" ng-repeat="item in options track by $index" ng-selected="oldTopic.access==item.access">{{item.name}}</option></select></div></li><li><div ng-if="oldTopic.access==\'specify_usergroup\'" class="form-group" style="position:relative"><ewei-multiple placeholderval="请输入客户组名称" tags="targetItem" who="user_groups"></ewei-multiple></div><div ng-if="oldTopic.access==\'specify_servicedesk\'" class="form-group"><ewei-multiple placeholderval="请输入客服组名称" tags="targetItem" who="service_desks"></ewei-multiple></div></li></ul></div><div class="modal-footer"><div style="float:right;display:inline-block" class="btn-group-common"><button type="button" class="btn btn-confirm w80 custom-background-color" ng-click="$save(oldTopic);">更新</button> <button type="button" class="btn btn-cancel w80" ng-click="$hide();">取消</button></div></div>');e.put("source/views/help_center/select_ldap_fields.html",'<form name="selectLdapFiledForm" class="css-form" novalidate><div class="modal-inner-content"><div class="form-group"><select class="form-control" id="selectFieldItem" name="selectFieldItem" ng-model="selectFieldItem" ng-change="$fieldChange(selectFieldItem)" required ng-options="optionitem.value as optionitem.caption for optionitem in eweiUserFields"></select></div></div><div class="modal-footer" style="margin:15px -20px -20px"><button type="button" class="btn btn-default" ng-click="$hide()">取消</button> <button type="button" class="btn btn-primary" ng-click="$ok()" ng-disabled="!selectLdapFiledForm.$valid">确认</button></div></form>');e.put("source/views/help_center/select_ticket_web_form_fields.html",'<div class="modal-inner-content"><select class="form-control" ng-model="selectItem" id="formFieldSelect" ng-options="item.name for item in selectItems"></select></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">取消</button> <button type="button" class="btn btn-primary" ng-click="$addFiled()">更新</button></div>');e.put("source/views/help_center/setting.html",'<div id="main_panes"><section class="main_panes layoutB box99" style=""><div class="pane left" ng-show="divShow"><div class="title"><nav class="btn-group btn-groupA"><span class="btn btn-default" ui-sref="community">视图</span> <span class="btn btn-default active" ui-sref="helpcenter_setting">设置</span></nav><div ng-click="updateDivShow();" ng-show="leftDivShow" style="width:40px;height:48px;line-height:48px;text-align:center;float:right;cursor:pointer"><strong><i class="fa fa-angle-double-left" style="font-size:30px"></i></strong></div></div><div class="list box99"><div class="list-group"><a bindonce ui-sref="helpcenter_setting.detail({type:menu.type})" class="block padding10px" ui-sref-active="box02" ng-repeat="menu in menus track by $index" ng-click="detail($index,menu.title);"><span bo-bind="menu.title|translate"></span></a></div><div class="margin_top10px"><div class="padding10px line_solid_02"><i class="fa fa-cog"></i> <span>更多设置</span></div><div class="margin_top10px"><button ng-repeat="btnGroup in btnList" class="btn btn-default margin_left10px" has-permissions="{{btnGroup.permission}}" ui-sref="{{btnGroup.sref}}">{{btnGroup.name}}</button></div></div></div></div><div class="pane left" ng-show="divShow" style="width:40px" ng-hide="divShow"><div class="title" style="border:none"><div ng-click="updateDivShow();" style="width:100%;height:48px;line-height:48px;text-align:center;cursor:pointer"><strong><i class="fa fa-angle-double-right" style="font-size:30px"></i></strong></div></div><div class="list box99"><div class="list-group"></div></div></div><div ng-class="{true: \'right\', false: \'\'}[divShow]" ng-style="uiStyle" class="pane am-fade-and-slide-right" style="overflow-y:auto" ui-view></div></section></div>');e.put("source/views/help_center/topic_edit.html",'<style>.outter-div ul li div{display:block;position:static}.outter-div ul{list-style:none;margin:0;padding:0}.outter-div ul li{margin:0;padding:0 0 0 6px}</style><div class="outter-div"><ul><li><div class="size13" style="display:block;line-height:30px"><strong>{{editName}}</strong></div></li><li style="padding-right:15px"><div class="form-group"><input class="form-control" maxlength="32" ng-model="oldTopic.name"></div></li></ul></div><div class="modal-footer"><div style="float:right;display:inline-block" class="btn-group-common"><button type="button" class="btn btn-confirm w80 custom-background-color" ng-click="$save(oldTopic);">更新</button> <button type="button" class="btn btn-cancel w80" ng-click="$hide();">取消</button></div></div>');e.put("source/views/system_setting/activeByKey_license.html",'<div class="modal-inner-content" class="css-form" novalidate><form name="activeLicenseForm"><div class="form-group"><input type="text" required="required" class="form-control input-lg" ng-model="license.key" placeholder="输入你的激活码"></div><div class="modal-footer" style="text-align:center"><button type="button" class="btn btn-primary" style="width:100px" ng-disabled="!activeLicenseForm.$valid" ng-click="active()">{{activeBtn}}</button> <button type="button" class="btn btn-default" ng-click="$hide()">取消</button></div></form></div>');e.put("source/views/system_setting/alter_domain.html",'<div class="modal-inner-content" class="css-form" novalidate><form name="changeSubdomainForm"><div class="form-group subDomain-area"><p><input style="width:300px;height:34px;font-size:12px;display:inline-block" required="required" ng-model="provider.subDomain" class="form-control" ng-class="{\'errorBorder\':errorBorder}" max-length="32" ng-change="change()"> <span style="font-size:20px;font-family:Arial"><strong>.{{::currentDomainRoot}}</strong></span></p><p style="font-size:13px;padding-top:8px">4-32位数字、字母、\'-\'组成的字符串（注： \'-\' 英文中的连字符不得用于开头及结尾处）</p><p style="color:#f81818;padding-top:5px" class="size13">{{errorMessage}}</p></div><div class="modal-footer btn-group-common"><button type="button" id="saveButton" class="btn btn-confirm custom-background-color" ng-click="update()" ng-disabled="!submit_btn">更新</button> <button type="button" class="btn btn-cancel" ng-click="$hide()">取消</button></div></form></div>');e.put("source/views/system_setting/alter_email.html",'<form name="changEmailForm" class="form-horizontal alert-chang-form"><div class="modal-inner-content" class="" novalidate><div class="form-group"><label class="col-sm-3 control-label">新邮箱</label><div class="col-sm-6"><input type="email" class="form-control" name="userNewEmail" ng-model="user.email" required="required"></div></div><div class="form-group"><label class="col-sm-3 control-label">验证码</label><div class="col-sm-6"><div class="input-group"><input type="text" name="userNewEmailCode" class="form-control" ng-model="user.code" placeholder="输入你接收到的验证码" required="required"> <span class="input-group-btn"><button class="btn btn-default" type="button" ng-disabled="!changEmailForm.userNewEmail.$valid||!editable" ng-click="updateEmail()">{{sendEmailToUser}}</button></span></div></div></div></div><div class="form-group"><div class="col-sm-6 col-sm-offset-3"><button type="button" ng-click="updateEmailVerify()" ng-disabled="!changEmailForm.userNewEmail.$valid || !changEmailForm.userNewEmailCode.$valid" class="btn btn-info-chang">确认修改</button></div></div></form>');e.put("source/views/system_setting/alter_mobile.html",'<form name="changEmailForm" class="form-horizontal alert-chang-form"><div class="modal-inner-content" class="" novalidate><div class="form-group"><label class="col-sm-3 control-label">新手机</label><div class="col-sm-6"><input type="text" class="form-control" name="userNewMobile" ng-model="user.mobile" required="required"></div></div><div class="form-group"><label class="col-sm-3 control-label">验证码</label><div class="col-sm-6"><div class="input-group"><input type="text" name="userNewMobileCode" class="form-control" ng-model="user.code" placeholder="输入你接收到的验证码" required="required"> <span class="input-group-btn"><button class="btn btn-default" type="button" ng-disabled="!changEmailForm.userNewMobile.$valid||!editable" ng-click="updateMobile()">{{sendMobileToUser}}</button></span></div></div></div></div><div class="form-group"><div class="col-sm-6 col-sm-offset-3"><button type="button" ng-click="updateMobileVerify()" ng-disabled="!changEmailForm.userNewMobile.$valid || !changEmailForm.userNewMobileCode.$valid" class="btn btn-info-chang">确认修改</button></div></div></form>');e.put("source/views/system_setting/alter_own_permission.html",'<style>.modal.center .modal-dialog{overflow:hidden;top:50%;background-color:#fff;border-radius:7px;max-width:860px;width:860px}.modal.center .modal-content{border:none}.modal.center .modal-body{height:535px;overflow:scroll}.css-form{overflow:hidden}.checkboxes{margin-right:20px;margin-bottom:25px;display:inline-block}</style><div name="editRoleForm" class="css-form" novalidate><fieldset ng-disabled="!formEditable"><div class="padding_top30px margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">客服和客服组管理权限</strong></div><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:15px">可见范围</strong> <span class="size13 w300" style="display:inline-block" ng-model="engineerAccessScope">{{engineerAccessScope.label}}</span></div><div style="margin-left:-15px;padding-top:15px;height:80px" class="padding15px size14"><strong class="size14" style="margin-right:15px">基本操作</strong> <span class="size13"><span ng-if="checkboxes[\'engieer_create\']" class="checkboxes">添加客服 </span><span ng-if="checkboxes[\'engieer_delete\']" class="checkboxes">删除客服 </span><span ng-if="checkboxes[\'engieer_update\']" class="checkboxes">编辑客服 </span><span ng-if="checkboxes[\'service_desk_create\']" class="checkboxes">添加客服组 </span><span ng-if="checkboxes[\'service_desk_delete\']" class="checkboxes">删除客服组 </span><span ng-if="checkboxes[\'service_desk_update\']" class="checkboxes">编辑客服组</span></span></div><div style="margin-left:-15px;margin-top:-40px" class="padding15px size14"><strong class="size14" style="margin-right:15px">高级操作</strong> <span class="size13"><span ng-if="checkboxes[\'engineer_import\']" class="checkboxes">批量导入客服 </span><span ng-if="checkboxes[\'engineer_export\']" class="checkboxes">导出客服资料 </span><span ng-if="checkboxes[\'role_manage\']" class="checkboxes">角色列表和增删改</span></span></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">客户和客户组管理权限</strong></div><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:15px">可见范围</strong> <span class="size13 w300" style="display:inline-block" ng-model="customerAccessScope">{{customerAccessScope.label}}</span></div><div style="margin-left:-15px;padding-top:15px;height:80px" class="padding15px size14"><strong class="size14" style="margin-right:15px">基本操作</strong> <span class="size13"><span ng-if="checkboxes[\'customer_create\']" class="checkboxes">添加客户 </span><span ng-if="checkboxes[\'customer_delete\']" class="checkboxes">删除客户 </span><span ng-if="checkboxes[\'customer_merge\']" class="checkboxes">合并客户 </span><span ng-if="checkboxes[\'customer_update\']" class="checkboxes">编辑客户 </span><span ng-if="checkboxes[\'customer_group_create\']" class="checkboxes">添加客户组 </span><span ng-if="checkboxes[\'customer_group_delete\']" class="checkboxes">删除客户组 </span><span ng-if="checkboxes[\'customer_group_update\']" class="checkboxes">编辑客户组</span></span></div><div style="margin-left:-15px;margin-top:-40px;height:80px" class="padding15px size14"><strong class="size14" style="margin-right:15px">高级操作</strong> <span class="size13"><span ng-if="checkboxes[\'customer_import\']" class="checkboxes">批量导入客户 </span><span ng-if="checkboxes[\'customer_export\']" class="checkboxes">导出客户资料 </span><span ng-if="checkboxes[\'customer_view_manage\']" class="checkboxes">编辑视图 </span><span ng-if="checkboxes[\'customer_blacklist_manage\']" class="checkboxes">黑名单列表和删改</span></span></div><div style="margin-left:-15px;margin-top:-40px;height:80px" class="padding15px size14"><strong class="size14" style="margin-right:15px">客户设置</strong> <span class="size13"><span ng-if="checkboxes[\'customer_setting_customfield\']" class="checkboxes">自定义客户字段 </span><span ng-if="checkboxes[\'customer_group_setting_customfield\']" class="checkboxes">自定义客户组字段 </span><span ng-if="checkboxes[\'customer_setting_customfield_url_secret\']" class="checkboxes">字段扩展URL密钥</span></span></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">工单管理权限</strong></div><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:15px">可见范围</strong> <span class="size13 w300" style="display:inline-block" ng-model="ticketAccessScope">{{ticketAccessScope.label}}</span></div><div style="margin-left:-15px;padding-top:15px;height:120px" class="padding15px size14 clearfix"><strong class="size14" style="margin-right:19px;float:left">基本功能</strong><div class="size13" style="float:left;width:703px"><span ng-if="checkboxes[\'ticket_create\']" class="checkboxes">添加工单 </span><span ng-if="checkboxes[\'ticket_delete\']" class="checkboxes">删除工单 </span><span ng-if="checkboxes[\'ticket_merge\']" class="checkboxes">合并工单 </span><span ng-if="checkboxes[\'ticket_update\']" class="checkboxes">编辑工单属性 </span><span ng-if="checkboxes[\'ticket_reply\']" class="checkboxes">回复工单 </span><span ng-if="checkboxes[\'ticket_print\']" class="checkboxes">打印工单 </span><span ng-if="checkboxes[\'ticket_detail_export\']" class="checkboxes">导出工单 </span><span ng-if="checkboxes[\'ticket_review\']" class="checkboxes">工单审核 </span><span ng-if="checkboxes[\'ticket_reply_pending\']" class="checkboxes">暂停工单 </span><span ng-if="checkboxes[\'ticket_reply_solved\']" class="checkboxes">处理完毕工单 </span><span ng-if="checkboxes[\'ticket_force_handle\']" class="checkboxes">强制处理工单 </span><span ng-if="checkboxes[\'ticket_operate_log\']" class="checkboxes">工单操作日志</span></div></div><div style="margin-left:-15px;margin-top:-40px;height:80px" class="padding15px size14 clearfix"><strong class="size14" style="margin-right:19px;float:left">高级功能</strong><div class="size13" style="float:left;width:703px"><span ng-if="checkboxes[\'ticket_view_manage\']" class="checkboxes">编辑视图 </span><span ng-if="checkboxes[\'ticket_export\']" class="checkboxes">导出工单列表 </span><span ng-if="checkboxes[\'ticket_suspended_manage\']" class="checkboxes">隔离区列表和删改 </span><span ng-if="checkboxes[\'ticket_deleted_manage\']" class="checkboxes">回收站列表和删改 </span><span ng-if="checkboxes[\'batch_ticket_create\'] && $root.hasBatchTicketCreateModule" class="checkboxes">高级建单</span></div></div><div style="margin-left:-15px;margin-top:-40px" class="padding15px size14 clearfix"><strong class="size14" style="margin-right:19px;float:left">工单设置</strong><div class="size13" style="float:left;width:703px"><span ng-if="checkboxes[\'ticket_public_quick_reply\']" class="checkboxes">编辑公共快捷回复 </span><span ng-if="checkboxes[\'ticket_public_template\']" class="checkboxes">编辑公共工单模板 </span><span ng-if="checkboxes[\'ticket_public_workflow\']" class="checkboxes">编辑工作流 </span><span ng-if="checkboxes[\'ticket_setting_customfield\']" class="checkboxes">自定义工单字段 </span><span ng-if="checkboxes[\'ticket_custom_form\']" class="checkboxes">工单类型扩展表单管理</span></div></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">会话管理权限</strong></div><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:15px">可见范围</strong> <span class="size13 w300" style="display:inline-block" ng-model="chatAccessScope">{{chatAccessScope.label}}</span></div><div style="margin-left:-15px;padding-top:15px;height:80px" class="padding15px size14"><strong class="size14" style="margin-right:15px">基本操作</strong> <span class="size13"><span ng-if="checkboxes[\'chat_create\']" class="checkboxes">创建会话 </span><span ng-if="checkboxes[\'chat_delete\']" class="checkboxes">删除会话 </span><span ng-if="checkboxes[\'chat_transfer\']" class="checkboxes">转接会话 </span><span ng-if="checkboxes[\'chat_invite\']" class="checkboxes">邀请多方会话 </span><span ng-if="checkboxes[\'chat_shows_busy\']" class="checkboxes">示忙 </span><span ng-if="checkboxes[\'chat_reception\']" class="checkboxes">主动接待会话 </span><span ng-if="checkboxes[\'chat_call_out\']" class="checkboxes">电话拨号盘（呼出电话）</span></span></div><div style="margin-left:-15px;margin-top:-40px;height:100px" class="padding15px size14"><strong class="size14" style="margin-right:15px">高级操作</strong> <span class="size13"><span ng-if="checkboxes[\'ticket_force_join_chat\']" class="checkboxes">插入会话</span> <span ng-if="checkboxes[\'chat_force_transfer\']" class="checkboxes">强制转接会话</span> <span ng-if="checkboxes[\'ticket_chat_assign\']" class="checkboxes">分派等待中的会话</span> <span ng-if="checkboxes[\'chat_setting\']" class="checkboxes">会话设置</span> <span ng-if="checkboxes[\'chat_edit_automation\']" class="checkboxes">编辑自动化程序</span> <span ng-if="checkboxes[\'chat_edit_trigger\']" class="checkboxes">编辑触发器</span> <span ng-if="checkboxes[\'chat_edit_evaluate\']" class="checkboxes">调查问卷</span> <span style="margin-left:75px" ng-if="checkboxes[\'chat_quality\']" class="checkboxes">质检会话</span></span></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">项目看板权限</strong></div><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:15px">可见范围</strong> <span class="size13 w300" style="display:inline-block" ng-model="projectAccessScope">{{projectAccessScope.label}}</span></div><div style="margin-left:-15px;padding-top:15px;height:80px" class="padding15px size14"><strong class="size14" style="margin-right:15px">基本操作</strong> <span class="size13"><span ng-if="checkboxes[\'project_create\']" class="checkboxes">创建项目 </span><span ng-if="checkboxes[\'project_delete\']" class="checkboxes">删除项目</span></span></div><div style="margin-left:-15px;margin-top:-40px" class="padding15px"><strong class="size14" style="margin-right:15px">高级操作</strong> <span class="size13"><span ng-if="checkboxes[\'project_category_manage\']" class="checkboxes" style="margin-bottom:0">管理项目分类</span></span><div style="margin-left:75px;margin-top:12px;margin-bottom:25px;line-height:18px;color:#999;width:520px"><p>拥有管理项目分类权限的客服，才可添加、编辑和删除项目分类，其中排序、隐藏</p><p>或显示项目分类，无权限控制，仅对本人有效。</p></div></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">社区管理权限</strong></div><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:15px">社区角色</strong> <span class="size13 w300" style="display:inline-block" ng-model="communityAccessScope">{{communityAccessScope.label}}</span><div style="margin-left:75px;margin-top:12px;margin-bottom:40px;line-height:18px;color:#999;width:520px"><p>访客，可见公开的社区内容，点赞、收藏、分享、评论、回答问题和发布问题到可见的版块目录中。</p><p>作者，具备访客所有权限，可见公开的社区内容，支持添加文章、编辑本人发布的文章（保存为草稿）和回复评论。</p><p>编辑，具备作者所有权限，可见公开的社区内容，支持添加编辑文章到可见的版块目录中。</p></div><div style="margin-left:-15px;margin-top:-40px;height:80px" class="padding15px size14"><strong class="size14" style="margin-right:15px">高级操作</strong> <span class="size13"><span ng-if="checkboxes[\'helpcenter_website_manage\']" class="checkboxes">网站管理 </span><span ng-if="checkboxes[\'helpcenter_topic_manage\']" class="checkboxes">目录管理 </span><span ng-if="checkboxes[\'helpcenter_ui_settings\']" class="checkboxes">界面设置</span></span></div></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">统计报告权限</strong></div><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:15px">可见范围</strong> <span class="size13 w300" style="display:inline-block" ng-model="reportAccessScope">{{reportAccessScope.label}}</span></div><div style="margin-left:-15px;padding-top:15px;height:80px" class="padding15px size14"><strong class="size14" style="margin-right:15px">基本操作</strong> <span class="size13"><span ng-if="checkboxes[\'statistics_engineer_performance\']" class="checkboxes">客服绩效 </span><span ng-if="checkboxes[\'statistics_ticket_statistics\']" class="checkboxes">工单统计 </span><span ng-if="checkboxes[\'statistics_chat_statistics\']" class="checkboxes">会话统计 </span><span ng-if="checkboxes[\'statistics_customer_statistics\']" class="checkboxes">客户统计 </span><span ng-if="checkboxes[\'service_report\']" class="checkboxes">服务报告 </span><span ng-if="checkboxes[\'ticket_performance_statistics\']" class="checkboxes">绩效指标 </span><span ng-if="checkboxes[\'ticket_distributed_statistics\']" class="checkboxes">分布排行 </span><span ng-if="checkboxes[\'customer_analyze_statistics\']" class="checkboxes">客户分析</span></span></div><div style="margin-left:-15px;margin-top:-40px;height:80px" class="padding15px size14"><strong class="size14" style="margin-right:15px">高级操作</strong> <span class="size13"><span ng-if="checkboxes[\'statistics_export\']" class="checkboxes">数据导出 </span><span ng-if="checkboxes[\'custom_statistics_report\']" class="checkboxes">自定义统计报告</span></span></div></div><div class="margin_left20px size14 clearfix" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">系统设置权限</strong></div><div class="margin_left20px clearfix" style="padding-top:5px"><div style="margin-left:-15px;padding-top:15px;height:80px" class="padding15px size14 clearfix"><strong class="size14" style="margin-right:19px;float:left">高级操作</strong><div class="size13" style="float:left;width:703px"><span ng-if="checkboxes[\'system_setting_company_account\']" class="checkboxes">公司账号 </span><span ng-if="checkboxes[\'system_setting_domain\']" class="checkboxes">独立域名 </span><span ng-if="checkboxes[\'system_setting_app_market\']" class="checkboxes">应用市场 </span><span ng-if="checkboxes[\'system_setting_operation_log\']" class="checkboxes">操作日志 </span><span ng-if="checkboxes[\'system_setting_tags\']" class="checkboxes">标签 </span><span ng-if="checkboxes[\'system_setting_email\']" class="checkboxes">通知邮件 </span><span ng-if="checkboxes[\'system_setting_logo\']" class="checkboxes">界面LOGO </span><span ng-if="checkboxes[\'system_setting_helpcenter_custom\']" class="checkboxes">帮助中心界面个性化 </span><span ng-if="checkboxes[\'release_helpcenter_announcement\']" class="checkboxes">帮助中心公告 </span><span ng-if="checkboxes[\'system_setting_helpcenter_sso\']" class="checkboxes">单点登录 </span><span ng-if="checkboxes[\'system_setting_helpcenter_access_control\']" class="checkboxes">安全与访问控制 </span><span ng-if="checkboxes[\'system_setting_oem\']" class="checkboxes">OEM设置 </span><span ng-if="checkboxes[\'system_setting_helpcenter_friend_provider\']" class="checkboxes">友商设置 </span><span ng-if="checkboxes[\'system_setting_webhook\']" class="checkboxes">Webhook </span><span ng-if="checkboxes[\'assign_rules_permissions\']" class="checkboxes">智能分派 </span><span ng-if="checkboxes[\'ticket_setting_service_catalog\']" class="checkboxes">编辑服务目录 </span><span ng-if="checkboxes[\'ticket_setting_work_time\']" class="checkboxes">编辑营业时段 </span><span ng-if="checkboxes[\'ticket_setting_business_rules\']" class="checkboxes">编辑SLA </span><span ng-if="checkboxes[\'ticket_setting_automation\']" class="checkboxes">编辑自动化程序 </span><span ng-if="checkboxes[\'ticket_setting_ticket_trigger\']" class="checkboxes">编辑触发器 </span><span ng-if="checkboxes[\'ticket_setting_via\']" class="checkboxes">渠道接入管理 </span><span ng-if="checkboxes[\'system_setting_ticket_evaluate\']" class="checkboxes">调查问卷 </span><span ng-if="checkboxes[\'automaton_manage\']" class="checkboxes">智能机器人设置</span></div></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">通话管理权限</strong></div><div class="margin_left20px" style="padding-top:5px"><div><strong class="size14" style="margin-right:15px">可见范围</strong> <span class="size13 w300" style="display:inline-block" ng-model="callRecordAccessScope">{{callRecordAccessScope.label}}</span></div><div style="margin-left:-15px;padding-top:15px;height:80px" class="padding15px size14 clearfix"><strong class="size14" style="margin-right:19px;float:left">高级操作</strong><div class="size13" style="float:left;width:703px"><span ng-if="checkboxes[\'callcenter_seat_monitor\']" class="checkboxes">坐席监控 </span><span ng-if="checkboxes[\'call_quality\']" class="checkboxes">通话质检 </span><span ng-if="checkboxes[\'call_settings\']" class="checkboxes">呼叫中心设置</span></div></div></div></fieldset></div>');e.put("source/views/system_setting/alter_password.html",'<form name="changPasswordForm" class="form-horizontal alert-chang-form"><div class="modal-inner-content" class="" novalidate><div class="form-group"><label class="col-sm-3 control-label">旧密码</label><div class="col-sm-6"><input type="password" required="required" class="form-control" onkeyup="this.value=this.value.replace(/[, ]/g,\'\')" ng-model="user.oldpassword"></div></div><div class="form-group"><label class="col-sm-3 control-label">新密码</label><div class="col-sm-6"><input type="password" required="required" class="form-control" onkeyup="this.value=this.value.replace(/[, ]/g,\'\')" ng-model="user.password"></div></div><div class="form-group"><label class="col-sm-3 control-label">确认密码</label><div class="col-sm-6"><input type="password" required="required" class="form-control" onkeyup="this.value=this.value.replace(/[, ]/g,\'\')" ng-model="user.password2"></div></div><div class="form-group"><div class="col-sm-6 col-sm-offset-3"><button type="button" ng-click="updatePassword()" ng-disabled="!changPasswordForm.$valid" class="btn btn-info-chang">确认修改</button></div></div></div></form>');e.put("source/views/system_setting/alter_unbind_third.html",'<form name="changUnbindThirdForm" class="form-horizontal alert-chang-form"><div class="modal-inner-content" class="" novalidate><p class="text-center" style="margin-bottom:30px">是否确认解除绑定？</p></div><div class="form-group"><div class="text-center"><button type="button" ng-click="makeSureUnbind()" class="btn btn-info-chang margin_right15px">确 认</button> &nbsp;&nbsp;&nbsp;&nbsp; <button type="button" class="btn btn-info-chang" ng-click="$hide()">关 闭</button></div></div></form>');e.put("source/views/system_setting/apply_free_license.html",'<div class="modal-inner-content" class="css-form" novalidate><div style="text-align:center;font-size:16px"><strong>专业客服软件，免费使用</strong></div><div style="text-align:center;color:#666;font-size:14px;margin:10px 0 20px">请填写表格，申请开通免费使用授权</div><form name="changeAlonedomainForm"><div class="form-group" style="margin-bottom:20px"><div class="row"><div class="col-lg-10 col-lg-offset-1"><input required="required" ng-model="providerApplyFree.companyName" class="form-control" placeholder="公司全名"></div></div><div class="row" style="margin-top:15px"><div class="col-lg-5 col-lg-offset-1"><select required="required" ng-model="providerApplyFree.scale" class="form-control"><option value="">企业规模</option><option value="50人以下">50人以下</option><option value="50-200">50-200</option><option value="200-1000">200-1000</option><option value="1000人以上">1000人以上</option></select></div><div class="col-lg-5"><select required="required" ng-model="providerApplyFree.scene" class="form-control"><option value="">应用场景</option><option value="客户服务">客户服务</option><option value="it服务">IT服务</option><option value="客户和it服务">两种场景都要用到</option><option value="其他">其他（可填写附言）</option></select></div></div><div class="row" style="margin-top:15px"><div class="col-lg-5 col-lg-offset-1"><select required="required" ng-model="providerApplyFree.payIntentions" class="form-control"><option value="">付费意向</option><option value="只想用免费服务，收费的话就不用了">只想用免费服务，收费的话就不用了</option><option value="先用免费服务，效果好的话可以付费">先用免费服务，效果好的话可以付费</option><option value="不确定，我可能会选别家的服务">不确定，我可能会选别家的服务</option></select></div><div class="col-lg-5"><select required="required" ng-model="providerApplyFree.onlineProgram" class="form-control"><option value="">上线计划</option><option value="1个月内上线使用">1个月内上线使用</option><option value="3个月内上线使用">3个月内上线使用</option><option value="调研中，还没有计划">调研中，还没有计划</option></select></div></div><div class="row" style="margin-top:15px"><div class="col-lg-5 col-lg-offset-1"><input required="required" ng-model="providerApplyFree.name" class="form-control" placeholder="你的姓名"></div><div class="col-lg-5"><input required="required" ng-model="providerApplyFree.tel" class="form-control" placeholder="你的手机"></div></div><div class="row" style="margin-top:15px"><div class="col-lg-10 col-lg-offset-1"><textarea required="required" ng-model="providerApplyFree.postscript" class="form-control" placeholder="附言"></textarea></div></div><div class="row" style="margin-top:15px;padding:0 15px"><button type="button" class="btn btn-primary col-lg-10 col-lg-offset-1" ng-disabled="continue" ng-click="update()">提交</button></div></div></form></div>');e.put("source/views/system_setting/bind_integral.html",'<div class="modal-inner-content" class="css-form" novalidate><form name="bindForm"><div class="form-group"><p style="color:red">{{bind_error_msg}}</p><label style="float:left">会员Email</label><br class="clear_both"><input type="email" required="required" class="form-control" ng-model="user.targetEmail"></div><div class="form-group"><label style="float:left">密码</label><br class="clear_both"><input type="password" class="form-control" required="required" ng-model="user.password"></div><div class="form-group"><button type="button" ng-disabled="!bindForm.$valid" ng-click="bind()" style="width:100px;height:30px;background-color:#000;color:#FFF;border:0;padding-top:2px;padding-left:12px" class="btn btn-primary">绑定</button> <button type="button" class="btn btn-default" style="width:60px;height:30px;padding-top:2px;padding-left:12px" ng-click="$hide()">取消</button></div></form></div>');e.put("source/views/system_setting/captcha_modal.html",'<div class="modal" tabindex="-1" role="dialog" style="z-index:1060"><div class="modal-dialog" style="width:400px"><div class="modal-content" style="width:400px;margin:auto"><div class="modal-header" style="padding:10px;border:none"><button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">×</span></button><h4 class="modal-title" style="font-weight:400">图形验证码</h4></div><div class="modal-body" style="padding:20px 10px"><div class="form-group" style="margin-bottom:0"><div class="input-group"><input type="text" name="captcha" class="form-control" ng-model="captcha" maxlength="6" placeholder="" required="required" style="height:42px;font-size:20px"> <span class="input-group-btn"><img ng-src="/captcha.jpg?verifyCodeNo={{verifyCodeNo}}&r={{rnd}}" ng-click="refreshCaptcha()" style="height:42px;margin-left:3px" title="点击刷新"></span></div></div></div><div class="modal-footer" style="padding:10px"><button type="button" class="btn btn-confirm custom-background-color" ng-click="onOk(captcha)" style="height:42px;width:100%">确定</button></div></div></div></div>');e.put("source/views/system_setting/config_alone_domain.html",'<div class="modal-inner-content" class="css-form" novalidate><div style="text-align:center;font-size:16px"><strong>绑定独立域名申请</strong></div><div class="row"><div style="text-align:center;color:#666;font-size:14px;margin-top:10px;margin-bottom:20px" class="col-lg-10 col-lg-offset-1">政府规定域名必须备案才能解析，请提交你的域名备案资料供审核。 审核通过后，我们将为您开通域名绑定服务。有问题请致电028-86622829</div></div><form name="configurationAlonedomainForm"><div ng-if="showTableNum == 1" style="margin-bottom:20px"><div class="row"><div class="col-lg-10 col-lg-offset-1">请预先设定你的域名CNAME记录，指向cname.ewei.com</div></div><div class="row margin_top15px"><div class="col-lg-10 col-lg-offset-1"><input required="required" ng-model="newProvider.aloneDomain" class="form-control" placeholder="要绑定的域名"></div></div><div class="row margin_top15px"><div class="col-lg-10 col-lg-offset-1"><a href="javascript:void(0)" style="color:#428bca" ng-click="verifyProviderDomain()">验证CNAME记录是否配置正确</a></div></div><div class="row margin_top15px"><div class="col-lg-10 col-lg-offset-1"><input required="required" ng-model="newProvider.recordNumber" class="form-control" placeholder="域名备案号"></div></div><div class="row margin_top15px" style="margin-top:30px;padding:0 15px"><button type="button" class="btn btn-primary col-lg-10 col-lg-offset-1" ng-disabled="verify" ng-click="showTable(2)">{{buttonName}}</button></div></div><div class="form-group" style="margin-bottom:20px" ng-if="showTableNum == 2"><div class="row"><div class="col-lg-10 col-lg-offset-1"><input required="required" ng-model="newProvider.companyName" class="form-control" placeholder="公司全名"></div></div><div class="row" style="margin-top:15px"><div class="col-lg-5 col-lg-offset-1"><select required="required" ng-model="newProvider.scale" class="form-control"><option value="">企业规模</option><option value="50人以下">50人以下</option><option value="50-200">50-200</option><option value="200-1000">200-1000</option><option value="1000人以上">1000人以上</option></select></div><div class="col-lg-5"><select required="required" ng-model="newProvider.scene" class="form-control"><option value="">应用场景</option><option value="客户服务">客户服务</option><option value="it服务">IT服务</option><option value="客户和it服务">两种场景都要用到</option><option value="其他">其他（可填写附言）</option></select></div></div><div class="row" style="margin-top:15px"><div class="col-lg-5 col-lg-offset-1"><select required="required" ng-model="newProvider.payIntentions" class="form-control"><option value="">付费意向</option><option value="只想用免费服务，收费的话就不用了">只想用免费服务，收费的话就不用了</option><option value="先用免费服务，效果好的话可以付费">先用免费服务，效果好的话可以付费</option><option value="不确定，我可能会选别家的服务">不确定，我可能会选别家的服务</option></select></div><div class="col-lg-5"><select required="required" ng-model="newProvider.onlineProgram" class="form-control"><option value="">上线计划</option><option value="1个月内上线使用">1个月内上线使用</option><option value="3个月内上线使用">3个月内上线使用</option><option value="调研中，还没有计划">调研中，还没有计划</option></select></div></div><div class="row" style="margin-top:15px"><div class="col-lg-5 col-lg-offset-1"><input required="required" ng-model="newProvider.name" class="form-control" placeholder="你的姓名"></div><div class="col-lg-5"><input required="required" ng-model="newProvider.tel" class="form-control" placeholder="你的手机"></div></div><div class="row" style="margin-top:15px"><div class="col-lg-10 col-lg-offset-1"><textarea required="required" ng-model="newProvider.postscript" class="form-control" placeholder="附言"></textarea></div></div><div class="row" style="margin-top:15px;padding:0 15px"><button type="button" class="btn btn-default col-lg-10 col-lg-offset-1" ng-click="showTable(1)">返回</button></div><div class="row" style="margin-top:15px;padding:0 15px"><button type="button" class="btn btn-primary col-lg-10 col-lg-offset-1" ng-click="update()">提交</button></div></div></form></div>');e.put("source/views/system_setting/engineer_excel_url.choice.html",'<div style="width:100%"><div style="width:90%" ng-show="!importComplete"><ul><li style="list-style:none"><div style="float:left"><span class="margin_right20px"><a href="javascript:void(0)" style="color:#1e8cce" ng-click="$template(2);" target="_blank">Excel模板</a></span> <span class="margin_right20px size15" ng-file-select ng-model="excelFile" ng-file-change="$read(excelFile)" style="cursor:pointer"><img class="padding_bottom5px" src="source/images/daoru.jpg"><strong>选择文件</strong> </span><span class="margin_right20px" ng-if="view.type!=\'userGroup\'"><a href="javascript:void(0);" ng-click="$explain()" style="color:#1E8CCE">详细说明</a></span> <span ng-if="fileIsNUll"><strong>{{fileName}}</strong></span></div><br></li></ul></div><div style="width:90%" ng-show="importComplete"><ul><li style="list-style:none"><div style="float:left">导入成功<span></span>{{successCount}}个 <span ng-show="failureCount>0">,失败 <span>{{failureCount}}</span>个 <a class="c74" ng-click="downLoadfailureRecored()" href="javascript:void(0)">点击下载导入失败的列表</a>，修改并删除失败原因列后重新导入</span></div><br></li></ul></div><table border="1" id="tables" width="90%" align="center" ng-if="fileIsNUll&&!importComplete"><tr height="30"><th>Excel文件标题</th><th>对应系统中的字段</th></tr><tr ng-repeat="option in titleOptions" align="center"><td width="30%">{{option.title}}</td><td width="40%"><select class="form-control w230 ng-pristine ng-valid ng-touched" style="height:100%;width:100%" name="selectEngineerPropertyOptions" ng-model="option.selectProperty" ng-options="item.value as item.option for item in options"></select></td></tr></table><div class="modal-footer"><label ng-show="!importComplete" title="如果email或手机号码查询到一个客服，则更新这个客服信息" for="repeatedUpdate">覆盖更新 <input type="checkbox" value="true" name="repeatedUpdate" id="repeatedUpdate"></label><button type="button" class="btn btn-default" ng-click="hideImportModal()"><span ng-show="!importComplete">取消</span><span ng-show="importComplete">完成</span></button> <button type="button" class="btn btn-primary" ng-disabled="importting" ng-show="!importComplete" ng-click="$save(excelFile)">导入</button></div></div><style type="text/css">#tables th{text-align:center}</style>');e.put("source/views/system_setting/exchange_integral_complete.html",'<div class="modal-inner-content" class="css-form" novalidate><div style="width:883px;height:369px"><div style="width:843px;height:300px;margin:0 auto"><div class="pull-left"><p class="size14 font_b">第三步：收取授权码</p><div style="width:390px;height:250px;border:1px solid #e4e4e4"><p class="font_b text-center padding_top80px">恭喜！你已成功兑换{{exchangeNumber}}个免费授权！</p><p class="text-center padding_top20px">我们将把授权码发送到你的{{providerEweiProductName|replace_ewei_productname}}<br>管理员邮箱，请注意查收。</p></div></div><div class="pull-left margin_left40px"><p class="size14 font_b">常见问题</p><div style="width:390px;height:250px;border:1px solid #e4e4e4;color:#09f" class="line_blue"><ul style="list-style:none;margin-left:-30px" class="padding_top10px"><li><a href="#">为什么我有部分积分不可用？</a></li><li><a href="#">积分的有效期多长时间？</a></li><li><a href="#">怎样挣取更多的积分？</a></li><li><a href="#">怎样赠送积分？</a></li><li><a href="#">积分只能在我与客服之间赠送吗？别人家不可以赠送给我？</a></li><li><a href="#">积分不够兑换怎么办？</a></li><li><a href="#">我有很多积分，为何只能兑换10个授权？</a></li><li><a href="#">兑换后多长时间能收到新的授权码？</a></li><li><a href="#">怎样激活新的授权码？</a></li><li><a href="#">用积分兑换的授权与花钱购买的授权有区别吗？</a></li><li><a href="#">我可以把积分兑换的授权与买的授权合并使用吗？</a></li><li><a href="#">我打算付费购买授权了，怎样购买呢？</a></li></ul></div></div></div></div></div>');e.put("source/views/system_setting/exchange_integral_execute.html",'<div class="modal-inner-content" class="css-form" novalidate><div style="width:883px;height:369px"><div style="width:843px;height:300px;margin:0 auto"><div class="pull-left"><form name="exchangeExcuteForm"><p class="size14 font_b">第二步：兑换</p><div style="width:390px;height:250px;border:1px solid #e4e4e4"><div style="width:180px;height:150px" class="pull-left text-center size13 padding_top20px"><p>每客服年授权等值积分</p><input style="width:160px;height:24px;line-height:normal" class="font_b text-center" ng-model="perEngineerIntegral" disabled="disabled"><p class="padding_top20px">你可兑换的授权数量</p><input type="number" style="width:160px;height:24px;line-height:normal" min="1" max="10" class="font_b text-center" ng-model="exchange.exchangeNumber"></div><div style="width:180px;height:150px" class="pull-left text-center size13 padding_top20px"><p>可用额度</p><input style="width:120px;height:24px;line-height:normal" ng-model="available" class="font_b text-center" placeholder="18740"><p class="padding_top20px">本次消费</p><input style="width:120px;height:24px;line-height:normal" class="font_b text-center" ng-model="exchange.needIntegral"></div><p style="margin-top:170px" class="line_solid_02 margin_right20px margin_left20px"></p><div class="margin_top20px margin_left20px"><button style="width:90px;height:29px;background-color:#000;color:#FFF;border-radius:0;padding-top:5px" class="btn btn-primary btn-lg size13" ng-disabled="!exchangeExcuteForm.$valid" ng-click="execute()">{{executeBtn}}</button> &nbsp;将扣减你的可用额度和总积分</div></div></form></div><div class="pull-left margin_left40px"><p class="size14 font_b">常见问题</p><div style="width:390px;height:250px;border:1px solid #e4e4e4;color:#09f" class="line_blue"><ul style="list-style:none;margin-left:-30px" class="padding_top10px"><li><a href="#">为什么我有部分积分不可用？ </a></li><li><a href="#">积分的有效期多长时间？</a></li><li><a href="#">怎样挣取更多的积分？</a></li><li><a href="#">怎样赠送积分？</a></li><li><a href="#">积分只能在我与客服之间赠送吗？别人家不可以赠送给我？</a></li><li><a href="#">积分不够兑换怎么办？</a></li><li><a href="#">我有很多积分，为何只能兑换10个授权？</a></li><li><a href="#">兑换后多长时间能收到新的授权码？</a></li><li><a href="#">怎样激活新的授权码？</a></li><li><a href="#">用积分兑换的授权与花钱购买的授权有区别吗？</a></li><li><a href="#">我可以把积分兑换的授权与买的授权合并使用吗？</a></li><li><a href="#">我打算付费购买授权了，怎样购买呢？</a></li></ul></div></div></div></div></div>');e.put("source/views/system_setting/exchange_integral_get.html",'<div class="modal-inner-content" class="css-form" novalidate><div style="width:883px;height:369px"><div style="width:843px;height:300px;margin:0 auto"><div class="pull-left"><p class="size14 font_b">第一步：获取可用积分</p><div style="width:390px;height:250px;border:1px solid #e4e4e4"><div style="width:180px;height:150px" class="pull-left text-center size13 padding_top20px"><p>你的总积分</p><input style="width:120px;height:24px;line-height:normal" disabled="disabled" ng-model="total" class="font_b text-center"><p class="padding_top20px">可用额度</p><input style="width:120px;height:24px;line-height:normal" disabled="disabled" ng-model="available" class="font_b text-center"></div><div style="width:180px;height:150px" class="pull-left text-center size13 padding_top20px"><p>已开通的客服账号数量</p><input style="width:160px;height:24px;line-height:normal" disabled="disabled" ng-model="engineerNumber" class="font_b text-center"><p class="padding_top20px">每客服年授权等值积分</p><input style="width:160px;height:24px;line-height:normal" disabled="disabled" class="font_b text-center" ng-model="perEngineerIntegral"></div><p style="margin-top:170px" class="line_solid_02 margin_right20px margin_left20px"></p><div ng-if="available<engineerNumber*perEngineerIntegral"><div class="pull-right margin_right20px">还差<span class="size24 font_b margin_right5px margin_left5px">{{engineerNumber*perEngineerIntegral-available}}</span> 分</div><br><p style="color:#ff8200;margin-top:30px;margin-bottom:20px" class="text-center">很遗憾，你的积分不足以换取你需要的授权</p></div><div ng-if="available>=engineerNumber*perEngineerIntegral" style="text-align:center"><button style="width:90px;height:29px;margin-top:20px;background-color:#000;color:#FFF;border-radius:0;padding-top:5px" ng-click="exchangeIntegralModal_execute()" class="btn btn-primary btn-lg size13">兑换</button></div></div></div><div class="pull-left margin_left40px"><p class="size14 font_b">常见问题</p><div style="width:390px;height:250px;border:1px solid #e4e4e4;color:#09f" class="line_blue"><ul style="list-style:none;margin-left:-30px" class="padding_top10px"><li><a href="#">为什么我有部分积分不可用？ </a></li><li><a href="#">积分的有效期多长时间？</a></li><li><a href="#">怎样挣取更多的积分？</a></li><li><a href="#">怎样赠送积分？</a></li><li><a href="#">积分只能在我与客服之间赠送吗？别人家不可以赠送给我？</a></li><li><a href="#">积分不够兑换怎么办？</a></li><li><a href="#">我有很多积分，为何只能兑换10个授权？</a></li><li><a href="#">兑换后多长时间能收到新的授权码？</a></li><li><a href="#">怎样激活新的授权码？</a></li><li><a href="#">用积分兑换的授权与花钱购买的授权有区别吗？</a></li><li><a href="#">我可以把积分兑换的授权与买的授权合并使用吗？</a></li><li><a href="#">我打算付费购买授权了，怎样购买呢？</a></li></ul></div></div></div></div></div>');e.put("source/views/system_setting/exchange_integral_not_bind.html",'<div class="modal-inner-content" class="css-form" novalidate><button type="button" class="close" ng-click="$hide()">&times;</button><div style="width:500px;height:200px" class="text1 line_blue"><ul style="margin-left:60px"><li><p style="width:auto;margin-top:10px" class="size13">无法获取你的积分，因为还没有绑定你的易维社区账号</p></li><li><button style="width:160px;height:42px;background-color:#09f;margin-left:80px" ng-click="bindModal()" type="button" class="btn btn-primary size16 margin_top30px">绑定会员账号</button></li><li><p style="width:auto;margin-top:30px;margin-left:30px" class="size13 text-center">在弹出的登录页面，用你的易维会员账号登录<br>还没有注册易维会员？<a href="#">去逛逛</a></p></li></ul></div></div>');e.put("source/views/system_setting/get_free_license_modal.html",'<div style="width:600px;height:320px"><div style="width:100%;height:120px;line-height:130px;text-align:center;font-size:20px">喜欢就继续用吧，永久免费</div><div style="width:100%;height:140px"><div onclick="window.open(\'http://help.ewei.com/article_369\')" style="cursor:pointer;width:50%;height:40px;line-height:40px;margin:0 auto;background-color:#1e90ff;text-align:center;-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px"><img src="source/images/u127.png" alt=""><strong style="font-size:16px;color:#fff">微信关注, 获取免费授权码</strong></div><div onclick="window.open(\'http://help.ewei.com/article_372\')" style="cursor:pointer;width:50%;height:40px;line-height:40px;margin:0 auto;background-color:#1e90ff;margin-top:30px;text-align:center;-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px"><img src="source/images/u129.png" alt=""><strong style="font-size:16px;color:#fff">微博关注, 获取免费授权码</strong></div></div><div style="width:100%;height:70px;line-height:80px;text-align:center;font-size:13px">不想继续用了? <span style="color:#1e90ff;cursor:pointer" ng-click="goFeedback(\'opinion\')">吐槽一下, 帮助我们改进产品</span></div></div>');e.put("source/views/system_setting/get_license_feedback.html",'<div style="width:600px;height:320px" ng-show="!submit"><div style="width:90%;height:60px;line-height:60px;text-align:left;font-size:20px;margin:0 auto">{{title}}</div><div style="width:90%;height:220px;text-align:center;margin:0 auto"><textarea id="feedbackContent" ng-model="feedbackContent" style="width:100%;height:210px" placeholder="{{inputTip}}"></textarea></div><div style="width:90%;height:40px;line-height:40px;margin:0 auto"><button class="btn btn-primary" ng-click="submitFeedback(submiTtype)">提交</button></div></div><div style="width:600px;height:320px" ng-show="submit"><div style="width:90%;height:160px;line-height:60px;text-align:center;font-size:20px;margin:0 auto"><img src="source/images/u135.png"></div><div style="width:90%;height:160px;line-height:40px;text-align:center;margin:0 auto;font-size:16px" ng-if="submiTtype==\'opinion\'">感谢你的反馈！<br>请继续关注{{providerEweiProductName|replace_ewei_productname}}，见证我们的成长</div><div style="width:90%;height:160px;line-height:40px;text-align:center;margin:0 auto;font-size:16px" ng-if="submiTtype==\'renewals\'||submiTtype==\'addCapacity\'">你的服务请求已提交，我们将很快回复你！<br>如需了解进度，可凭你的Email登录help.ewei.com查询工单</div></div>');e.put("source/views/system_setting/need_more_function.html",'<div style="width:600px;height:220px"><div style="width:100%;height:80px;line-height:60px;text-align:left;font-size:16px;text-align:center;margin:0 auto"><strong>{{functionTitle}}</strong></div><div style="width:100%;height:80px;text-align:center;font-size:13px;margin:0 auto">{{functionDescription}}</div><div style="width:100%;height:60px;line-height:40px;text-align:center;font-size:13px"><a style="color:#1e90ff;cursor:pointer" target="_blank" href="{{functionLinkHref}}">{{functionLinkText}}</a></div></div>');e.put("source/views/system_setting/now_activity_data.html",'<div class="modal-inner-content css-form padding_left30px" novalidate><div class="form-group"><div class="row"><div style="line-height:34px">工单数量：{{providerActivityData.ticketCount}}</div></div><div class="row" style="margin-top:5px"><div style="line-height:34px">会话数量：{{providerActivityData.chatCount}}</div></div><div class="row" style="margin-top:5px"><div style="line-height:34px">文章数量：{{providerActivityData.articleCount}}</div></div><div class="row" style="margin-top:5px"><div style="line-height:34px">问答数量：{{providerActivityData.questionCount}}</div></div><div class="row" style="margin-top:5px"><div style="line-height:34px">下载资源：{{providerActivityData.helpcenterResourcesCount}}</div></div></div></div>');e.put("source/views/system_setting/present_integral.html",'<form name="presentForm"><div class="modal-inner-content" class="css-form" novalidate><div style="width:390px;height:200px;margin-left:10px" class="text1"><ul style="margin-left:30px"><li><p style="width:auto;float:left;margin-left:-30px;margin-top:10px" class="size13"><strong>可用额度</strong><a href="#" style="color:#09f"> （什么是可用额度？）</a></p><p><input type="number" ng-model="integral.amount" disabled="disabled" style="width:350px;height:29px;float:left;margin-left:-30px"></p></li><li><p style="width:auto;float:left;margin-left:-30px;margin-top:10px" class="size13"><strong>本次赠送积分</strong></p><p><input type="number" ng-model="integral.sendScore" min="0" style="width:350px;height:29px;float:left;margin-left:-30px"></p></li><li><p style="width:auto;float:left;margin-left:-30px;margin-top:10px" class="size13"><strong>接收方</strong></p><p><input type="email" ng-model="integral.targetEmail" disabled="disabled" style="width:350px;height:29px;float:left;margin-left:-30px"></p></li></ul></div><div style="width:390px;height:auto;margin-left:50px;padding-top:10px;padding-bottom:30px"><p style="margin-top:25px" class="size13"><button ng-if="currentUserEmail != integral.targetEmail" style="width:100px;height:30px;background-color:#000;color:#FFF;border:0;padding-top:2px;padding-left:12px" type="button" ng-click="presentIntegral()" class="btn btn-primary btn-sm size13 pull-left margin_right2px"><strong>确认</strong></button> <button ng-if="currentUserEmail == integral.targetEmail" style="width:100px;height:30px;background-color:#000;color:#FFF;border:0;padding-top:2px;padding-left:12px" type="button" ng-click="hideModal()" class="btn btn-primary btn-sm size13 pull-left margin_right2px"><strong>关闭</strong></button> &nbsp; <span ng-if="currentUserEmail != integral.targetEmail" style="margin-left:30px">将扣减你的可用额度和总积分</span> <span ng-if="currentUserEmail == integral.targetEmail" style="margin-left:30px;color:red">您是该服务商的创建人,不能赠送积分给自己</span></p></div></div></form>');e.put("source/views/system_setting/provider_expense_record.html",'<div style="height:500px;overflow-y:auto"><table ng-table="tableParams" class="table table-striped table-hover"><tbody><tr class="ng-table-group"><td>时间</td><td>充值</td><td>消费</td><td>补差/退款</td><td>余额</td></tr><tr bindonce class="padding15px" ng-repeat="providerExpenseRecord in providerExpenseRecords track by $index"><td>{{providerExpenseRecord.time}}</td><td><span ng-if="providerExpenseRecord.type ==1">{{providerExpenseRecord.amount|number:2}}</span></td><td><span ng-if="providerExpenseRecord.type ==2">{{providerExpenseRecord.amount|number:2}}</span></td><td><span ng-if="providerExpenseRecord.type ==3">{{providerExpenseRecord.amount|number:2}}</span></td><td>{{providerExpenseRecord.AccountBalance|number:2}}</td></tr></tbody></table></div>');e.put("source/views/system_setting/setting.JIRA_app_detail.html",'<html style="overflow:auto;min-width:870px;overflow:scroll"><div style="margin-top:25px"><img style="width:48px;height:48px" class="margin_left20px size16" src="source/images/daoru9.jpg"></div><div style="position:relative;min-width:870px"><div class="padding_top13px"><button style="width:60px;height:24px;border-radius:5px;background-color:#3c0;color:#FFF;border:0;padding-top:2px;padding-left:12px" type="button" ui-sref="system_setting.JIRA_app_install" class="btn btn-primary btn-sm size13 pull-right margin_right2px"><strong>安装</strong></button><p class="margin_left20px size16"><strong>Ewei Helpdesk for JIRA</strong></p><p style="width:auto" class="margin_left20px line_solid_02"></p><p class="margin_left20px size13">Ewei Helpdesk for JIRA连接你的{{providerEweiProductName|replace_ewei_productname}}与你的JIRA（著名的bug管理工具），客服人员可以从工单提取产品的问题，一键提交给研发部门。研发人员在JIRA可以访问工单链接，了解客户及问题的详情。你还可以安装《JIRA for Ewei Helpdesk》应用，研发人员不但可以浏览工单详情，还可以直接回复工单，当问题被解决关闭JIRA问题后，工单可同步被关闭。 ......<a target="_blank" href="{{eweiHelpcenterApiUrl}}">了解更多</a></p></div></div><p class="margin_left20px padding_top60px size13"><strong>界面预览</strong></p><p style="width:auto" class="margin_left20px line_solid_02"></p><div class="text"><ul><li><div style="margin-top:20px;margin-left:60px"><div style="width:240px;height:240px;margin-top:15px"><img src="source/images/daoru14.gif"></div></div></li><li><div style="margin-top:20px;margin-left:60px"><div style="width:240px;height:240px;border:1px solid #e4e4e4;margin-top:15px"></div></div></li><li><div style="margin-top:20px;margin-left:60px"><div style="width:240px;height:240px;border:1px solid #e4e4e4;margin-top:15px"></div></div></li><li><div style="margin-top:20px;margin-left:60px"><img src="source/images/daoru13.gif"></div></li></ul></div><p style="padding-top:280px" class="margin_left20px size13"><strong>开发者信息</strong></p><p style="width:auto" class="margin_left20px line_solid_02"></p><div class="margin_left20px margin_top15px tex"><ul class="size13"><li>收费： <span style="margin-left:32px">免费</span></li><li>开发者： <span style="margin-left:20px">英孚凯尔信息技术有限公司</span></li><li>网址： <span style="margin-left:32px"><a style="color:#1e8cce" href="http://www.ewei.com">http://www.ewei.com</a></span></li><li>Email： <span style="margin-left:26px">developer@infocare.cn</span></li></ul></div></html>');e.put("source/views/system_setting/setting.JIRA_app_install.html",'<html style="overflow:auto;min-width:870px;overflow:scroll"><div style="margin-top:25px"><img style="width:48px;height:48px" class="margin_left20px size16" src="source/images/daoru9.jpg"></div><div style="position:relative;min-width:870px"><div class="padding_top13px"><p class="margin_left20px size16"><strong>安装 Ewei Helpdesk for JIRA</strong></p><p style="width:auto" class="margin_left20px line_solid_02"></p></div></div><p class="margin_left20px padding_top25px size14"><strong>你的JIRA网址</strong></p><input disabled="disabled" style="width:390px;height:24px" class="margin_left20px" value=" "><p class="margin_left20px padding_top25px size14"><strong>账号</strong></p><input disabled="disabled" style="width:390px;height:24px" class="margin_left20px" value=" "><p class="margin_left20px padding_top25px size14"><strong>密码</strong></p><input disabled="disabled" style="width:390px;height:24px" class="margin_left20px" value=" ">&nbsp; <button disabled="disabled" style="width:45px;height:20px;border-radius:5px;color:#333;border:1px solid #333;background-color:#FFF;padding-top:0;padding-left:10px" type="button" class="btn btn-primary btn-sm size13 margin_right2px"><strong>验证</strong></button><div class="padding_top60px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ui-sref="system_setting.JIRA_app_detail">取消</button> <span class="padding_left15px"></span> <button type="button" disabled="disabled" class="btn btn-primary btn-sm padding_left30px padding_right30px">更新</button> &nbsp;* 请先验证，确认应用可以连接你的JIRA之后，再点击更新按钮。</div></html>');e.put("source/views/system_setting/setting.access.html",'<style>td.selected{background-color:#f8f8f8;border:solid #CCC 1px;cellspacing:0}.backgroundcolor{background-color:#F5F5F5}.border{border:1px solid #fff}.active{background:#F5F5F5;border:1px solid #e4e4e4}</style><div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>访问控制</strong></p></div><oem-learn-more type="helpcenter_setting_access" description="你可以根据客户群体的特点，配置最优的访问控制方案，比如售前和售后，对外客服和对内支持等。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/371" class="know-more"></oem-learn-more><div style="margin-top:50px"><div class="pull-left"><strong>谁可以访问<br>你的帮助中心？</strong></div><div style="margin-left:150px;line-height:20px;margin-top:20px;height:auto;border:solid #000 0" border="0" cellspacing="0"><div ng-class="{backgroundcolor:accessConfig.requiredLogin == \'false\'}"><div align="left" valign="center" style="padding:15px 10px;border:1px solid #ccc"><input name="fruit" type="radio" ng-model="accessConfig.requiredLogin" value="false" style="float:left"> &nbsp; 访客<br><span style="margin-left:21px">任何人都可以浏览公开的内容，当用户点赞、评论、提问、回答、关注、查询工单时，才被要求登录。</span></div></div><div ng-class="{backgroundcolor:accessConfig.requiredLogin == \'true\'}"><div align="left" valign="center" style="margin-top:20px;padding:15px 10px;border:1px solid #ccc"><input name="fruit" type="radio" ng-model="accessConfig.requiredLogin" value="true" style="float:left"> &nbsp; 登录用户<br><span style="margin-left:21px">先登录后访问，包括移动端App</span></div></div></div><div style="margin-top:49px" class="pull-left"><strong>IP地址限制</strong></div><div style="margin-left:150px;line-height:20px;margin-top:50px;padding:15px 10px;border:1px solid #ccc" id="fang3"><input type="checkbox" name="checkbox" ng-model="accessConfig.restrictIp" ng-true-value="true" ng-false-value="false" class="pull-left"> &nbsp; 仅允许白名单之内的IP来访<p style="margin-top:15px;padding-left:21px">输入IP地址 <span style="color:#ccc">（支持*通配符，多个IP之间以空格分隔）</span></p><p style="margin-top:5px;padding-left:21px"><input style="width:566px" class="form-control" ng-disabled="!accessConfig.restrictIp" ng-model="accessConfig.ipWhiteList"></p><div style="margin-top:15px;padding-left:21px" id="fang4"><input type="checkbox" name="checkbox" ng-model="accessConfig.excludeApp" ng-true-value="true" ng-false-value="false" class="pull-left"> &nbsp;移动端访问不受IP地址规则限制</div></div><div style="margin-top:20px"><div style="margin-left:150px;background-color:#ffc;padding:15px 10px;color:#999" id="fang5"><p>如果你配置了SSO、LDAP、API和社交帐户登录，要确保这些外部服务的IP地址列在白名单之内</p><p>即便位于白名单之外，作为客服人员，你依然可以通过{{consoleCenterUrl}}登录管理中心</p></div></div><button style="margin-top:20px;margin-left:160px" ng-click="updateAccessConfig()" type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px">更新</button></div></div>');e.put("source/views/system_setting/setting.announcement_setting.html",'<style>.wangEditor-container .wangEditor-textarea-container{height:auto!important}</style><div class="setting-head-common"><div class="setting-common-body"><ul><li><div class="title-bar" style="padding-top:0"><span>网站公告</span></div><div class="form-content"><switch style="vertical-align:middle;margin-right:10px" name="enabled" class="small-switch" ng-model="announcement.enabled" ng-change="onSwitchOpen"></switch><span class="color999">{{announcement.enabled?"已启用公告":"已关闭公告"}}</span><p class="color999 padding_top8px">开启全员公告后，用户首次进入帮助中心将弹屏通知重要信息。</p></div></li></ul><ul ng-if="announcement.enabled"><li><div class="title-bar"></div><div class="form-content"><div>标题<span class="required">*</span><span style="color:#ccc;padding-left:10px">（标题最多60字）</span></div><div class="padding_top8px" style="width:430px"><input ng-model="announcement.title" type="text" maxlength="60" class="form-control"></div></div></li><li><div class="title-bar"></div><div class="form-content"><div>公告正文<span class="required">*</span><span style="color:#ccc;padding-left:10px">（正文最多500字）</span></div><div class="padding_top8px" oc-lazy-load="[\'source/js/wangEditor/css/wangEditor.css\', \'source/js/wangEditor/js/wangEditor.min.js\']"><textarea ewei-text-editor maxlength="500" ng-model="announcement.content" cols="30" rows="10" style="height:auto"></textarea></div></div></li><li><div class="title-bar"></div><div class="form-content"><div>有效期<span class="required">*</span></div><div class="padding_top8px" style="width:430px"><div class="input-group input-size-middle date-input"><input type="text" datetime-picker="yyyy/MM/dd HH:mm:ss" button-bar="datetimepickerConfig.buttonBar" datepicker-options="datetimepickerConfig.datepickerOptions" timepicker-options="datetimepickerConfig.timepickerOptions" datepicker-append-to-body="true" is-open="isOpen" ng-model="announcement.expireAt" ng-click="onPickerClick($event)" class="form-control" when-closed="onPickerClosed();"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="onPickerClick($event)" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div class="color999 padding_top8px">设定公告有效期，则有效期后，公告自动关闭。</div></div></li><li><div class="title-bar"></div><div class="form-content w600"><button type="button" ng-click="releaseAnnoucement();" class="btn btn-primary btn-sm padding_left30px padding_right30px">发布</button></div></li></ul></div></div>');e.put("source/views/system_setting/setting.api.html","API");e.put("source/views/system_setting/setting.app_market.html",'<style type="text/css">dynamic-frame{overflow:hidden;height:100%;width:100%;display:block}dynamic-frame iframe{width:100%;height:100%;border:none}</style><dynamic-frame></dynamic-frame>');e.put("source/views/system_setting/setting.appearance.html",'<div class="setting-head-common"><div class="setting-common-body"><ul><li><div class="title-bar margin_top10px"><span>站标</span></div><div class="form-content"><div style="width:56px;height:56px;padding:7px;border:1px solid #e4e4e4" class="pull-left"><image-show imageurl="{{helpcenter.icon.contentUrl}}" islogo="true" imagestyle="head.40.40" imageclass="w40 h40 img-responsive-h" defaultimageurl="source/images/logo_gray_40.png"></image-show></div><div style="margin-left:10px" class="pull-left"><label style="display:none" for="inputfile"></label><div class="_box1 tihian custom-main-font-color" ng-multiple="false" ng-file-change="uploadImage(imagefile,\'icon\')" ng-model="imagefile" ng-file-select style="width:70px;border:none;text-align:left;margin-top:5px;margin-bottom:5px">更换站标</div><div>56X56图片，文件不要超过50KB</div></div></div></li><li><div class="title-bar margin_top10px"><span>LOGO</span></div><div class="form-content"><div style="width:56px;height:56px;padding:7px;border:1px solid #e4e4e4" class="pull-left"><image-show imageurl="{{helpcenter.logo.contentUrl}}" islogo="true" imagestyle="head.40.40" imageclass="w40 h40 img-responsive-h" defaultimageurl="source/images/logo_40.png"></image-show></div><div style="margin-left:10px" class="pull-left"><label style="display:none" for="inputfile"></label><div class="_box1 tihian custom-main-font-color" ng-multiple="false" ng-file-change="uploadImage(imagefile,\'logo\')" ng-model="imagefile" ng-file-select style="width:70px;border:none;text-align:left;margin-top:5px;margin-bottom:5px">更换LOGO</div><div>56X56图片，文件不要超过50KB</div></div></div></li><li><div class="title-bar"><span>帮助中心名称</span></div><div class="form-content"><input class="form-control w300" maxlength="30" ng-model="helpcenter.name"><p class="tip">更新后，改变Web、小屏和小程序帮助中心的名称。</p></div></li><li><div class="title-bar"><span>超链接</span></div><div class="form-content"><input class="form-control w300" maxlength="30" ng-model="helpcenter.logoUrl"><p class="tip">更新后，改变Web、小屏的logo跳转地址。</p></div></li><li><div class="title-bar"><span>客户界面颜色</span></div><div class="form-content"><spectrum-colorpicker ng-model="helpcenter.headBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker><p class="tip">改变Web、小屏和小程序帮助中心界面颜色。</p></div></li><li><div class="title-bar"><span>联系方式</span></div><div class="form-content"><input class="form-control w300" maxlength="30" ng-model="helpcenter.helpCenterChannel.phone"><p class="tip">设置帮助中心展示给客户的联系方式</p></div></li><li><div class="title-bar"><span>打赏</span></div><div class="form-content"><switch name="enabled" class="small-switch" style="vertical-align:middle;margin-right:10px" ng-model="helpcenter.rewardEnabled"></switch><span>{{helpcenter.rewardEnabled?\'已启用\':\'未启用\'}}</span><p class="tip">开启后，工单服务时，客户可通过客服设置的收款二维码为服务打赏。</p></div></li><li><div class="form-content padding_left10px w600"><button type="button" ng-click="updateHelpcenter();" class="btn btn-primary btn-sm padding_left30px padding_right30px">更新</button></div></li></ul></div></div>');e.put("source/views/system_setting/setting.brand_setting.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>品牌设置</strong></p></div><p style="margin-top:15px">在软件界面上展示企业自己的Logo品牌。</p><ul class="nav-list clearfix"><li has-permission="system_setting_helpcenter_custom" ui-sref="system_setting.detail.helpcenter_appearance" ui-sref-active="active">帮助中心网站</li><li has-permission="release_helpcenter_announcement" ui-sref="system_setting.detail.announcement_setting" ui-sref-active="active">帮助中心公告</li><li has-permission="system_setting_logo" ui-sref="system_setting.detail.logo_setting" ui-sref-active="active">客服控制台界面</li><li has-permission="system_setting_email" ui-sref="system_setting.detail.email_setting" ui-sref-active="active">通知邮件模板</li><li has-permission="system_setting_domain" ui-sref="system_setting.detail.domain_setting" ui-sref-active="active">域名</li><li has-permission="system_setting_oem" ui-sref="system_setting.detail.oem_setting" ui-sref-active="active">OEM品牌定制</li></ul><div ui-view></div></div>');e.put("source/views/system_setting/setting.company_account.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>企业账号</strong></p></div><oem-learn-more type="system_setting_company_account" description="请编辑完善你的公司/组织资料。亲，如果喜欢易维帮助台，就猛戳购买吧。" learn-more-url="http://helpdesk.ewei.com/price.html" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ui-sref="system_setting.detail.provider" has-permission="system_setting_company_account" ui-sref-active="active">企业账号</li><li ui-sref="system_setting.detail.sms_log" ui-sref-active="active">短信记录</li><li ui-sref="system_setting.detail.operation_log" has-permission="system_setting_operation_log" ui-sref-active="active">操作日志</li></ul><div ui-view></div></div>');e.put("source/views/system_setting/setting.company_account.license(old).html",'<style type="text/css">.auth-info .notvisable{background:#999}.auth-info .rm{background:#ef4350}.auth-info .rm-font{color:#ef4350!important}.auth-info .zy{background:#f4971a}.auth-info .zy-font{color:#f4971a!important}.auth-info .qy{background:#7bbd2e}.auth-info .qy-font{color:#7bbd2e!important}.auth-info .qyjq{background:#1064a6}.auth-info .qyjq-font{color:#1064a6!important}.auth-info .oem{background:#292a63}.auth-info .oem-font{color:#292a63!important}.auth-info{width:152px;float:left;height:225px;text-align:center;margin:0 10px;border:1px solid #e4e4e4}.auto-info-shadow{box-shadow:5px 5px 5px #E4E4E4}.auth-info .titleinfo{width:100%;height:52px!important;line-height:52px;font-size:16px;color:#FFF;position:relative}.auth-info .titleinfo .corner{position:absolute;display:block;top:0;right:0;height:51px}.auth-info .explain{text-align:center;font-size:14px;height:30px;border-radius:30px;width:100px;margin:15px auto;color:#FFF;line-height:30px}.auth-info .introduce{width:100%;height:123px;color:#999}.auth-info .introduce-rm{color:#ef4350!important}.auth-info .introduce-zy{color:#f4971a!important}.auth-info .introduce-qy{color:#7bbd2e!important}.auth-info .introduce-qyjq{color:#1064a6!important}.auth-info .introduce-oem{color:#292a63!important}.auth-info .introduce ul{list-style:none;margin:0;padding:0}.auth-info .introduce ul li{margin:0;padding:0;height:25px;text-align:center;line-height:25px}</style><table style="line-height:40px;width:100%"><tr><td align="right" class="size14" style="width:100px">当前授权计划：</td><td class="size13"><strong>{{type}}</strong></td></tr><tr><td colspan="2"><div ng-class="{\'auth-info\':true,\'auto-info-shadow\':rmVariable}" ng-if="licenseType==\'free\'" ng-mouseenter="rmEnter();" ng-mouseleave="rmLeave();"><div ng-class="{\'titleinfo\':true,\'notvisable\':licenseType!=\'free\'||!rmVariable,\'rm\':licenseType==\'free\'||rmVariable}">免费版 <img src="source/images/now_version.png" ng-if="licenseType==\'free\'" class="corner"></div><div ng-class="{\'explain\':true,\'notvisable\':licenseType!=\'free\'||!rmVariable,\'rm\':licenseType==\'free\'||rmVariable}">免费体验</div><div ng-class="{\'introduce\':true,\'rm-font\':rmVariable,\'introduce-rm\':licenseType==\'free\'}"><ul><li><span>√<span>工单系统</span></span></li><li><span>√<span>在线客服</span></span></li><li><span>√<span>移动客服</span></span></li><li><span>√<span>知识库</span></span></li></ul></div></div><div ng-class="{\'auth-info\':true,\'auto-info-shadow\':rmVariable}" ng-if="licenseType==\'public\'" ng-mouseenter="rmEnter();" ng-mouseleave="rmLeave();"><div ng-class="{\'titleinfo\':true,\'rm\':true}">企业服务 <img src="source/images/now_version.png" ng-if="licenseType==\'public\'" class="corner"></div><div ng-class="{\'explain\':true,\'rm\':true}" ng-hide="licenseType==\'public\'">历史版本</div><div ng-class="{\'explain\':true,\'rm\':true}" ng-show="licenseType==\'public\'" ng-click="accountRechargeSubmit(\'public\');" style="cursor:pointer">账户充值</div><div ng-class="{\'introduce\':true,\'rm-font\':rmVariable,\'introduce-rm\':licenseType==\'public\'}"><ul><li><span>√<span>工单系统</span></span></li><li><span>√<span>在线客服</span></span></li><li><span>√<span>移动客服</span></span></li><li><span>√<span>知识库</span></span></li></ul></div></div><div ng-class="{\'auth-info\':true,\'auto-info-shadow\':rmVariable}" ng-if="licenseType==\'blend\'" ng-mouseenter="rmEnter();" ng-mouseleave="rmLeave();"><div ng-class="{\'titleinfo\':true,\'rm\':true}">企业服务增强版 <img src="source/images/now_version.png" ng-if="licenseType==\'blend\'" class="corner"></div><div ng-class="{\'explain\':true,\'rm\':true}" ng-hide="licenseType==\'blend\'">历史版本</div><div ng-class="{\'explain\':true,\'rm\':true}" ng-show="licenseType==\'blend\'" ng-click="accountRechargeSubmit(\'blend\');" style="cursor:pointer">账户充值</div><div ng-class="{\'introduce\':true,\'rm-font\':rmVariable,\'introduce-rm\':licenseType==\'blend\'}"><ul><li><span>√<span>工单系统</span></span></li><li><span>√<span>在线客服</span></span></li><li><span>√<span>移动客服</span></span></li><li><span>√<span>知识库</span></span></li></ul></div></div><div ng-class="{\'auth-info\':true,\'auto-info-shadow\':zyVariable}" ng-mouseenter="zyEnter();" ng-mouseleave="zyLeave();" ng-if="licenseType==\'professional\'||licenseType==\'enterprise_trial\'||licenseType==\'free\'"><div ng-class="{\'titleinfo\':true,\'notvisable\':licenseType!=\'professional\'||!zyVariable,\'zy\':licenseType==\'professional\'||zyVariable}">专业版 <img src="source/images/now_version.png" ng-if="licenseType==\'professional\'" class="corner"></div><div ng-hide="licenseType==\'professional\'"><div ng-class="{\'explain\':true,\'notvisable\':licenseType!=\'professional\'||!zyVariable,\'zy\':licenseType==\'professional\'||zyVariable}" ng-click="accountRechargeSubmit(\'professional\');" style="cursor:pointer">{{buy_version.zy}}</div></div><div ng-class="{\'explain\':true,\'zy\':licenseType==\'professional\'||zyVariable}" ng-show="licenseType==\'professional\'" ng-click="accountRechargeSubmit(\'professional\');" style="cursor:pointer">账户充值</div><div ng-class="{\'introduce\':true,\'zy-font\':zyVariable,\'introduce-zy\':licenseType==\'professional\'}"><ul><li><span>√<span>免费版全部功能特性</span></span></li><li><span>√<span>电话客服</span></span></li><li><span>√<span>客户社区</span></span></li><li><span>√<span>7x24智能客服</span></span></li></ul></div></div><div ng-class="{\'auth-info\':true,\'auto-info-shadow\':qyVariable}" ng-mouseenter="qyEnter();" ng-mouseleave="qyLeave();" ng-if="licenseType==\'enterprise\'||licenseType==\'enterprise_trial\'||licenseType==\'free\'"><div ng-class="{\'titleinfo\':true,\'notvisable\':licenseType!=\'enterprise\'&&licenseType!=\'enterprise_trial\',\'qy\':licenseType==\'enterprise\'||licenseType==\'enterprise_trial\'||qyVariable}">企业版 <img src="source/images/now_version.png" ng-if="licenseType==\'enterprise\'" class="corner"> <img src="source/images/trial_version.png" ng-if="licenseType==\'enterprise_trial\'" class="corner"></div><div ng-hide="licenseType==\'enterprise\'"><div ng-class="{\'explain\':true,\'notvisable\':licenseType!=\'enterprise\'&&licenseType!=\'enterprise_trial\',\'qy\':licenseType==\'enterprise\'||licenseType==\'enterprise_trial\'||qyVariable}" ng-click="accountRechargeSubmit(\'enterprise\');" style="cursor:pointer">{{buy_version.qy}}</div></div><div ng-class="{\'explain\':true,\'qy\':licenseType==\'enterprise\'||licenseType==\'enterprise_trial\'||qyVariable}" ng-show="licenseType==\'enterprise\'" ng-click="accountRechargeSubmit(\'enterprise\');" style="cursor:pointer">账户充值</div><div ng-class="{\'introduce\':true,\'qy-font\':qyVariable,\'introduce-qy\':licenseType==\'enterprise_trial\'||licenseType==\'enterprise\'}"><ul><li><span>√<span>专业版所有功能特性</span></span></li><li><span>√<span>远程协助</span></span></li><li><span>√<span>自定义角色</span></span></li><li><span>√<span>API和SDK</span></span></li></ul></div></div><div ng-class="{\'auth-info\':true,\'auto-info-shadow\':qyjqVariable}" ng-mouseenter="qyjqEnter();" ng-mouseleave="qyjqLeave();" ng-if="licenseType==\'enterprise_plus\'||licenseType==\'enterprise_trial\'||licenseType==\'free\'"><div ng-class="{\'titleinfo\':true,\'notvisable\':licenseType!=\'enterprise_plus\'||!qyjqVariable,\'qyjq\':licenseType==\'enterprise_plus\'||qyjqVariable}">企业增强版 <img src="source/images/now_version.png" ng-if="licenseType==\'enterprise_plus\'" class="corner"></div><div ng-hide="licenseType==\'enterprise_plus\'"><div ng-class="{\'explain\':true,\'notvisable\':licenseType!=\'enterprise_plus\'||!qyjqVariable,\'qyjq\':licenseType==\'enterprise_plus\'||qyjqVariable}" ng-click="accountRechargeSubmit(\'enterprise_plus\');" style="cursor:pointer">{{buy_version.qyjq}}</div></div><div ng-class="{\'explain\':true,\'qyjq\':licenseType==\'enterprise_plus\'||qyjqVariable}" ng-show="licenseType==\'enterprise_plus\'" ng-click="accountRechargeSubmit(\'enterprise_plus\');" style="cursor:pointer">账户充值</div><div ng-class="{\'introduce\':true,\'qyjq-font\':qyjqVariable,\'introduce-qyjq\':licenseType==\'enterprise_plus\'}"><ul><li><span>√<span>企业版所有功能特性</span></span></li><li><span>√<span>自定义客服界面LOGO</span></span></li><li><span>√<span>跨企业工单协同</span></span></li><li><span>√<span>支持PaaS部署</span></span></li></ul></div></div><div ng-class="{\'auth-info\':true,\'auto-info-shadow\':oemVariable}" ng-mouseenter="oemEnter();" ng-mouseleave="oemLeave();" ng-if="false"><div ng-class="{\'titleinfo\':true,\'notvisable\':licenseType!=\'oem\'||!oemVariable,\'oem\':licenseType==\'oem\'||oemVariable}">OEM版 <img src="source/images/now_version.png" ng-if="licenseType==\'oem\'" class="corner"></div><div ng-class="{\'explain\':true,\'notvisable\':licenseType!=\'oem\'||!oemVariable,\'oem\':licenseType==\'oem\'||oemVariable}" ng-show="buy_version.oem">联系我们</div><div ng-class="{\'explain\':true,\'notvisable\':licenseType!=\'oem\'||!oemVariable,\'oem\':licenseType==\'oem\'||oemVariable}" ng-hide="buy_version.oem" ng-click="accountRechargeSubmit(\'oem\');" style="cursor:pointer">联系我们</div><div ng-class="{\'introduce\':true,\'oem-font\':oemVariable,\'introduce-oem\':licenseType==\'oem\'}"><ul><li><span>√<span>企业增强版所有功能</span></span></li><li><span>√<span>OEM定制</span></span></li><li><span>√<span>个性化计费方案</span></span></li><li><span>√<span>支持私有云部署</span></span></li></ul></div></div><div style="clear:all"></div></td></tr><tr ng-if="licenseType==\'trial\'"><td align="right" class="size14">授权期限：</td><td class="size13"><strong style="color:red" ng-if="overdueDays<0">已过期{{-overdueDays}}天（于{{overdueTime}}）</strong> <strong style="color:red" ng-if="overdueDays==0">即将过期（于{{overdueTime}}）</strong> <strong ng-if="overdueDays>0">{{overdueDays}}天后结束（于{{overdueTime}}）</strong> <a ng-click="applyFreeLicense()" style="color:#1E8CCE" class="margin_left20px">申请永久免费授权</a></td></tr><tr ng-if="licenseType==\'enterprise_trial\'"><td align="right" class="size14">授权期限：</td><td class="size13"><a>免费体验授权将于{{overdueDays}}天后结束，结束后，你的授权计划将变为《免费版》</a></td></tr><tr ng-if="licenseType!=\'trial\'&&licenseType!=\'free\'&&licenseType!=\'public\'&&licenseType!=\'blend\'&&licenseType!=\'enterprise_trial\'"><td align="right" class="size14">授权期限：</td><td class="size13"><strong>根据您的使用情况，预估当前版本授权将于{{expenseLevel}}个月后结束</strong></td></tr><tr ng-if="licenseType==\'free\'"><td align="right" class="size14">授权期限：</td><td class="size13">无期限</td></tr><tr ng-if="licenseType==\'public\'||licenseType==\'blend\'"><td align="right" class="size14">授权期限：</td><td class="size13"><strong style="color:red" ng-if="overdueDays<0">已过期{{-overdueDays}}天（于{{overdueTime}}）</strong> <strong style="color:red" ng-if="overdueDays==0">即将过期（于{{overdueTime}}）</strong> <strong ng-if="overdueDays>0">企业版试用授权将于{{overdueDays}}天后结束（于{{overdueTime}}）</strong></td></tr><tr><td align="right" class="size14">使用量：</td><td class="size13"><strong>{{usedCapacity}}客服数据</strong> <a style="color:#1E8CCE" href="javascript:void(0)" ng-click="getProviderActivityData();" class="margin_left20px">明细</a></td></tr><tr><td align="right" class="size14">账户余额：</td><td class="size13"><form method="post" name="recharge" target="_blank"><strong ng-class="{negative:isNegative}">{{accountBalance|number:2}} 元</strong><input type="hidden" name="providerId" value="{{currentProviderId}}"> <input type="hidden" name="providerNumber" value="{{providerNumber}}"> <a style="color:#1E8CCE" href="javascript:void(0)" ng-click="getProviderExpenseRecord();" class="margin_left20px">消费记录</a></form></td></tr></table><hr><div style="float:right;margin-right:20px"><h5 style="font-weight:bolder">升级到企业服务，更多的个性化定制，更好的技术支持</h5><p>详细了解计费规则，请致电400-812-3602/18615713299。</p></div>');e.put("source/views/system_setting/setting.company_account.license.html",'<style type="text/css">.payRecord{margin:10px}.payRecord h3{font-size:14px;font-weight:700;color:#000}</style><div class="payRecord"><h3>充值记录</h3><table class="table table-bordered"><thead><tr><th>编号</th><th>类型</th><th>金额</th><th>容量</th><th>下单时间</th></tr></thead><tbody><tr ng-repeat="item in payRecordObj"><td>{{item.orderNumber}}</td><td ng-if="item.dataCapacity != null && item.engineerCount == null">购买容量</td><td ng-if="item.dataCapacity == null && item.engineerCount != null">短信充值</td><td>{{item.orderAmount}}</td><td ng-if="item.dataCapacity != null && item.engineerCount == null">{{item.dataCapacity}}GB</td><td ng-if="item.dataCapacity == null && item.engineerCount != null">{{item.engineerCount}}个</td><td>{{item.orderTime}}</td></tr></tbody></table></div>');e.put("source/views/system_setting/setting.domain_setting.html",'<div style="width:900px"><div class="padding_top13px"><oem-learn-more type="system_setting_domain_setting" description="为你的易维帮助台配置你自己的独立域名，彰显自主品牌价值。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/397" class="margin_left20px size13"></oem-learn-more></div><p class="margin_left20px padding_top25px size14"><strong>你的{{$root.provider.name}}Internet地址</strong></p><input disabled="disabled" style="width:390px" class="margin_left20px form-control" value=" {{ewei_internet_url}}"><div class="margin_left20px padding_top25px size14"><button type="button" class="btn btn-default btn-sm" ng-click="alterSubDomainModal()">更改二级域名</button> <span class="margin_left10px size12">换一个好记的域名，比如 mycompany.ewei.com</span></div><div has-module="self_domain"><p class="margin_left20px padding_top25px size14"><strong>你的独立域名</strong></p><input disabled="disabled" style="width:390px;display:inline-block" class="margin_left20px form-control" value=" {{provider.aloneDomain}}"><div style="line-height:34px;display:inline-block" class="margin_left20px"><strong>请另行配置CNAME别名指向:cname.ewei.com</strong></div><p class="margin_left20px padding_top25px size14"><strong>ICP备案号</strong></p><div><input disabled="disabled" style="width:390px;display:inline-block" class="margin_left20px form-control" value=" {{provider.recordNumber}}"> <span ng-if="provider.isAloneDomainChecked==null&&provider.aloneDomain !=null" class="margin_left10px padding_left10px padding_right10px size12" style="color:#f81818;background:#eee;display:inline-block;height:34px;line-height:34px">审核中...</span> <span ng-if="provider.isAloneDomainChecked==true" class="margin_left10px padding_left10px padding_right10px size12" style="color:#f81818;background:#eee;display:inline-block;height:34px;line-height:34px">已审核通过</span> <span ng-if="provider.isAloneDomainChecked==false" class="margin_left10px padding_left10px padding_right10px size12" style="color:#f81818;background:#eee;display:inline-block;height:34px;line-height:34px">审核不通过</span></div><div class="margin_left20px padding_top25px size14"><button data-toggle="modal" data-target="#modal_use_own_domain" type="button" class="btn btn-default btn-sm" ng-click="configAloneDomainModal()">配置独立域名</button> <span class="margin_left10px size12">换你自己的域名，比如 mycompany.com</span></div></div><div style="display:none"><p style="margin-left:400px;color:#f81818;margin-top:60px" class="size12">以下为独立服务器的界面</p><div style="width:auto" class="margin_left20px padding_top5px line_solid_02"></div><p class="margin_left20px padding_top25px size14"><strong>你的{{providerEweiProductName|replace_ewei_productname}}Internet地址</strong></p><input style="width:390px;height:24px;color:#ccc" class="margin_left20px size12" value="  请输入域名或IP地址"><table><tbody><tr><td><input style="width:390px;height:24px;color:#ccc" class="margin_left20px size12" value="  请输入域名或IP地址"></td><td style="vertical-align:bottom"><a style="color:#e04006" class="padding_left10px J_add size30">-</a></td></tr><tr><td><a style="color:#7bbf6a" class="margin_left20px J_add size20"><strong>+</strong></a></td></tr></tbody></table><div class="padding_top20px padding_left20px size14"><button style="width:100px;height:30px;background-color:#000;color:#FFF;border-radius:0" type="button" class="btn btn-primary btn-sm">保存</button> <span class="margin_left10px size12">别忘了DNS解析</span></div></div></div>');e.put("source/views/system_setting/setting.dynamic_content_setting.html","自定义动态内容");e.put("source/views/system_setting/setting.email_setting.html",'<style>.button{font-size:12px;text-align:center;padding:0;vertical-align:middle;line-height:22px;margin:0;Height:26px;Width:60px}</style><div style="overflow:scroll;overflow:auto;min-width:870px"><div class="padding_top13px"><oem-learn-more type="system_setting_email_setting" description="工单回复和社区更新信息都将以邮件方式通知客服和客户。如果你是易维帮助台的付费客户，则可以配置你自己的发件箱、发件人、邮件正文落款。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/378" class="margin_left20px size13"></oem-learn-more></div><div><p class="margin_left20px padding_top25px size14"><strong>通知邮件发件箱</strong></p><div class="padding_top25px size14 form-group"><input class="margin_left20px form-control w300" style="display:inline-block" ng-model="emailSetting.senderAddress"> <a class="margin_left10px size12" style="display:inline-block;color:#1e8cce" ng-click="restoreDefaultSender()">恢复默认发件箱</a></div></div><div class="padding_top10px margin_left20px"><p class="size14"><strong>发件人</strong></p><input class="size12 form-control w300" value="易维帮助台" ng-model="emailSetting.senderName"></div><form name="emailForm" id="emailForm"><div class="margin_top30px"><div class="clearfix"><button style="width:60px;height:24px;border-radius:5px;padding-top:2px;margin-right:50px" ng-click="previewTemplate()" type="button" class="btn btn-default btn-sm pull-right">预览</button><p class="margin_left20px size13"><strong>邮件正文HTML模板</strong></p></div><div><textarea id="email_setting_defaultTemplet" class="hidden form-control">\n          <div>\n            {{content}}\n            <div style="width:100%;height:5px;border-bottom:1px solid #ccc"></div>\n            <div style="font-size:12px;color:#888">\n              此邮件为${(provider.name)!}的通知，由 <a href="http://www.ewei.com" target="_blank">易维帮助台</a> 发送\n            </div>\n          </div>\n        </textarea><textarea class="tryul margin_left20px margin_top10px size13" style="width:850px;height:134px;resize:none" ng-model="emailSetting.emailTemplet">\n        </textarea></div><div class="margin_left20px clearfix"><span class="pull-right" style="margin-right:50px;margin-top:5px"><a style="color:#1e8cce" href="javascript:void(0)" ng-click="restoreDefaultTemplet();">恢复系统默认模板</a></span> * 邮件正文必须包含{{contentTag}}</div></div></form><form action="/email_template_preview" method="POST" target="_blank" id="email_template_preview_form" name="email_template_preview_form"><input type="hidden" id="email_template_preview_content" name="email_template_preview_content"></form><div class="margin_left20px padding_top30px line_solid_02"></div><div class="padding_top60px padding_left20px"><button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateEmailSetting();">更新</button></div></div>');e.put("source/views/system_setting/setting.engineer_detail.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><a style="color:#1E8CDD;margin-right:10px;font-weight:700;text-decoration:none" ui-sref="system_setting.detail({uri:engineer_type+\'_engineers\',settingType:\'engineers\'})">{{engineer_status}}</a> 》 <span style="margin-right:10px"><span ng-if="engineer.id==null">添加客服</span> <span ng-if="engineer.id!=null">{{engineer.user.name}}</span></span></p></div><oem-learn-more type="system_setting_engineer_edit" description="客服是为客户提供服务的人员，客服必须注册易维帮助台账号，方可登录客服控制台和帮助中心客服界面。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/379" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ui-sref="system_setting.engineer_detail.engineer_edit" ui-sref-active="active">{{engineer.user.name||\'添加客服\'}}</li><li ng-show="!hideSla" ui-sref="system_setting.engineer_detail.engineer_flextime" ui-sref-active="active">弹性工作时间</li></ul><div ui-view></div></div>');e.put("source/views/system_setting/setting.engineer_edit.html",'<style type="text/css">input.has-error{border:1px solid red}input.has-right{border:1px solid #7cfc00}</style><div class="margin20px" style="width:900px;padding-left:20px"><div class="col-md-6" style="font-size:14px;color:#666;width:750px"><div ng-if="engineer.id != null && engineer.user.status == 0" style="padding:10px;background-color:#FFF5E8;margin-top:20px;border-radius:4px">该客服的账号已被停用，禁止登录。可重新<a href="javascript:void(0);" ng-click="starAndStopEngineer(\'start\')" style="color:#1e8cce">启用账号</a>，或者 <a href="javascript:void(0);" ng-click="deleteEngineer()" style="color:#1e8cce">删除</a>该客服。</div><div ng-if="engineer.id != null && engineer.user.status == 2 && sendEmailSuccess" style="padding:10px;background-color:#FFF5E8;margin-top:20px;border-radius:4px">注册邮件已发出。请通知该客服，点击邮件中的链接，设置登录密码，即可完成注册。</div><div ng-if="engineer.id != null && engineer.user.status == 2 && !sendEmailSuccess" style="padding:10px;background-color:#FFF5E8;margin-top:20px;border-radius:4px">该客服尚未完成注册，账号不可用。可 <a href="javascript:void(0);" ng-click="deleteEngineer()" style="color:#1e8cce">删除</a> 该客服，或者 <a style="color:#1e8cce" href="javascript:void(0)" ng-click="sendEmailAgain()">重发注册邮件</a></div><form name="engineerEditForm" class="form-horizontal" style="margin-top:20px"><div class="clearfix" style="margin-bottom:40px"><div class="form-group" style="margin-bottom:14px"><label class="col-md-2 control-label" style="text-align:left">客服姓名*</label><div class="col-md-7"><input ng-class="{\'form-control\':true,\'has-error\':engineerEditForm.kfName.$invalid&&!engineerEditForm.kfName.$pristine}" type="text" required="required" ng-model="engineer.user.name" maxlength="32" name="kfName" id="kfName"></div></div><div class="col-md-offset-2 col-md-10" style="line-height:14px;padding-left:8px;color:#999">填写真实姓名，便于工作协同和统计绩效。</div></div><div class="clearfix" style="margin-bottom:40px"><div class="form-group" style="margin-bottom:14px"><label class="col-md-2 control-label" style="text-align:left">客服昵称*</label><div class="col-md-7"><input class="form-control" type="text" ng-model="engineer.nickname" maxlength="32"></div></div><div class="col-md-offset-2 col-md-10" style="line-height:14px;padding-left:8px;color:#999">面向客户的称谓，客服人员可自行修改。</div></div><div class="clearfix" style="margin-bottom:40px"><div class="form-group" style="margin-bottom:14px"><label class="col-md-2 control-label" style="text-align:left">客服账号*</label><span ng-show="emailHasRegisted" style="color:red;display:inline-block;line-height:34px">此邮箱已被注册,请重新填写！</span> <a has-permission="engieer_update" href="javascript:void(0);" ng-click="starAndStopEngineer(\'stop\')" ng-if="engineer.id != null && engineer.user.status == 1" style="display:inline-block;line-height:34px;color:#3BB1EE;text-decoration:none">停用此账号</a><div class="col-md-7" ng-if="engineer.ISemailExamined || (engineer_type === \'wait\' && engineer.user.email && !engineer.ISmobilePhoneExamined)"><input name="email" id="email" ng-class="{\'form-control\':true,\'has-error\':engineerEditForm.email.$invalid&&!engineerEditForm.email.$pristine}" type="email" required="required" ng-model="engineer.user.email" ng-disabled="email_visble" maxlength="128" ng-pattern="/^([a-zA-Z0-9-&._]+)@[a-zA-Z0-9-]([._]?[a-zA-Z0-9-])*(\\.\\w{2,6})+$/i"></div><div class="col-md-7" ng-if="engineer.ISmobilePhoneExamined || (engineer_type === \'wait\' && !engineer.user.email && engineer.user.mobilePhone)"><input name="cellphone" id="cellphone" ng-class="{\'form-control\':true,\'has-error\':engineerEditForm.cellphone.$invalid&&!engineerEditForm.cellphone.$pristine}" type="text" ng-model="engineer.user.mobilePhone" disabled="disabled" maxlength="16"></div><span ng-if="engineer.id==null" class="padding_top3px help-block">Email是客服人员的登录账号，请填写真实邮箱地址，否则不能通过验证</span></div><div class="col-md-offset-2 col-md-10" style="line-height:20px;padding-left:8px;color:#999" ng-if="!isedit"><p>填写真实存在的邮箱地址，以便接收注册邮件。</p><p>客服收信后，点击链接设置密码完成注册，在此之前，账号处于待验证状态，不可用</p><p>请填写常用邮箱，便于用邮件处理工单。</p></div><div class="col-md-offset-2 col-md-10" style="line-height:20px;padding-left:8px;color:#999" ng-if="isedit"><p>验证的手机或邮箱才可作为客服账号。</p></div></div><div class="clearfix" style="margin-bottom:40px"><div class="form-group" style="margin-bottom:14px"><label class="col-md-2 control-label" style="text-align:left">角色</label><div class="col-md-7"><select required="required" ng-disabled="engineer.isCreator || !hasJurisdiction" class="btn btn-default form-control" ng-init="engineer.role.id=init_engineer_roleId" ng-model="engineer.role.id" ng-options="role.id as role.name for role in engineer_roles"><option value="">请选择</option></select></div></div><div class="col-md-offset-2 col-md-10" style="line-height:14px;padding-left:8px;color:#999">选择适当的角色，控制客服人员对数据的访问和操作。进入角色详情可查看权限配置。</div></div><div class="clearfix" style="margin-bottom:40px"><div class="form-group" style="margin-bottom:14px"><label class="col-md-2 control-label" style="text-align:left">所属客服组</label><div class="col-md-7"><service-desk-mutil-select selectedservicedesk="engineer.serviceDesks"></service-desk-mutil-select></div></div><div class="col-md-offset-2 col-md-10" style="line-height:14px;padding-left:8px;color:#999">客服至少必须属于一个客服组，也可以属于多个客服组，共享客户、工单和会话。</div></div><div class="clearfix" style="margin-bottom:40px"><div class="form-group" style="margin-bottom:14px"><label ng-style="nullSelectError" class="col-md-2 control-label" style="text-align:left">首选客服组</label><div class="col-md-7"><select required="required" class="btn btn-default form-control" ng-model="engineer.defaultServiceDesk.id" ng-options="serviceDesk.id as serviceDesk.name for serviceDesk in engineer.serviceDesks" ng-change="checkPreferredServiceDesk(engineer.defaultServiceDesk.id)"><option value="">请选择</option></select></div></div><div class="col-md-offset-2 col-md-8" style="line-height:20px;padding-left:8px;color:#999">客服必须属于且仅属于一个首选客服组。在未申明客服组的情况下分派工单（比如抢单）给客服，工单的客服组将自动继承客服的首选客服组。</div></div><div class="clearfix" style="margin-bottom:60px"><div class="form-group" style="margin-bottom:14px"><label class="col-md-2 control-label" style="text-align:left">标签</label><div class="col-md-7"><ewei-tags-input tags="engineer.user.tags" who="user" whoid="{{engineer.user.id}}"></ewei-tags-input></div></div></div><div class="clearfix" style="margin-bottom:40px"><div class="form-group" style="margin-bottom:14px"><div class="col-md-7" style="padding-left:85px"><button type="submit" class="btn btn-primary col-md-offset-2 w100" ng-disabled="!engineerEditForm.$valid || !isHavePermissionEdit||processing" ng-click="save()">{{submit_button}}</button></div></div><div class="col-md-offset-2 col-md-10" ng-if="engineer.id==null" style="line-height:14px;padding-left:8px;color:#999">更新成功，系统将向客服的邮箱发送注册邮件。</div></div></form></div></div>');e.put("source/views/system_setting/setting.engineer_flextime.html",'<div style="width:830px;height:60px" class="margin_top60px margin_bottom20px"><div style="float:left;padding-left:10px"><p class="font_b margin_bottom10px">弹性工作时间</p><p style="color:#999;font-size:12px">客服的工作时间默认与营业时间一致，如有不同，可单独设置弹性工作时间</p><p style="color:#999;font-size:12px">设置后，该客服处理工单的响应速度和处理工时，将只按照本人的工作时间进行计算（扣除非工作时段）</p><div style="clear:both"></div></div><toggle-switch class="switch-container J_switchContainer" ng-model="workingTime.status" ng-click="saveWorkingTime()" on-label="开" off-label="关"><toggle-switch></toggle-switch></toggle-switch></div><div ng-show="workingTime && workingTime.status"><business-hours-week></business-hours-week><div class="padding_top55px line_solid_02"></div><div class="col-md-7 padding_top30px padding_left10px"><button type="button" class="btn btn-primary w100" ng-click="saveWorkingTime()">更新</button></div></div>');e.put("source/views/system_setting/setting.engineers.html",'<div class="title"><h5><span ng-if="isStop == \'run_engineers\'">客服/工程师</span> <span ng-if="isStop == \'stop_engineers\'">已停用的客服账号</span> <span ng-if="isStop == \'wait_engineers\'">待激活的客服账号</span> <button type="button" class="btn btn-link" ng-show="!defaultSorting" ng-click="clearSorting();"><small class="c75 custom-main-font-color">恢复默认排序</small></button></h5><div ng-if="isHavePermissionEdit && hasSelected" class="margin10px pull-right padding_right10px padding_top5px"><span style="cursor:pointer" ng-click="cancelAllSelected();">取消选中条件</span>&nbsp;&nbsp;&nbsp;<div class="btn-group"><button has-permission="engieer_delete" type="button" class="btn btn-primary" ng-click="deleteEngineers();">批量删除</button> <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu dropdown-menu-right" role="menu"><li><a has-permission="engieer_delete" ng-click="deleteEngineers();">批量删除</a></li><li><a has-permission="engieer_update" ng-click="batchModifyEngineers();">批量修改</a></li><li><a has-permission="engieer_update" ng-click="starAndStopEngineers(\'start\')" ng-if="isStop == \'stop_engineers\'">启用账号</a></li><li><a has-permission="engieer_update" ng-click="starAndStopEngineers(\'stop\')" ng-if="isStop == \'run_engineers\'">停用账号</a></li></ul></div></div><div ng-if="!hasSelected && isStop == \'run_engineers\'" class="btn-group pull-right margin10px padding_right10px padding_top5px"><a has-permission="engieer_create" ng-click="addEngineer()" class="btn btn-default">添加客服</a> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu dropdown-menu-right" role="menu"><li has-permission="engineer_export"><a ng-click="exportExcel();">导出Excel</a></li><li has-permission="engineer_import"><a ng-click="import();">批量导入</a></li></ul></div><div class="btn-group margin10px pull-right padding_right10px padding_top5px" ng-if="tickets.length&&selectedTicketIds.length&&!(view.title == \'VIEW_TITLE_TICKET_DELETED\'||view.title == \'VIEW_TITLE_TICKET_SUSPENDED\')"><button ng-click="$parent.clearCheckBoxs();" class="btn-clear">清除选中条件</button></div><div class="title-box padding_top5px padding_right10px pull-right" ng-show="!hasSelected && hideTitle!==\'true\'" ng-class="{ no_right_btn: !(isHavePermissionEdit && hasSelected) && !(!hasSelected && isStop == \'run_engineers\') }"><div class="search-box"><input type="button" value="清除搜索条件" ng-show="(searchKey!=null&&searchKey!=\'\')||isAdvancedQuery" ng-click="clearSearch();" class="tip"><div class="input-group"><input type="text" class="form-control txt" placeholder="{{placeholder}}" ng-model="searchKey" ng-enter="search(searchKey)"> <span class="input-group-addon" style="cursor:pointer" ng-click="search(searchKey)" ng-style="(searchKey!=null&&searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span><div class="input-group-btn"><button type="button" class="btn btn-default" data-toggle="modal" data-target="#engineerAdvancedModal" data-placement="bottom" data-animation="am-flip-x" style="background-color:#eee;height:34px" ng-click="switchTemplateState()"><span class="caret"></span></button><engineer-advanced-query></engineer-advanced-query></div></div></div></div></div><eweiengineerstable></eweiengineerstable><div class="ticket-loading" ticket-loading="/api/v1/engineers.json?"><img src="/source/images/ajax-loader.gif"></div>');e.put("source/views/system_setting/setting.ewapp_detail.html",'<html style="overflow:auto;min-width:870px;overflow:scroll"><div style="margin-top:25px"><img style="width:48px;height:48px" class="margin_left20px size16" src="source/images/logo_helpdesk.png"></div><div style="position:relative;min-width:870px"><div class="padding_top13px"><button style="width:60px;height:24px;border-radius:5px;background-color:#858484;color:#FFF;border:0;padding-top:2px;padding-left:12px" type="button" class="btn btn-primary btn-sm size13 pull-right margin_right2px"><strong>已安装</strong></button><p class="margin_left20px size16"><strong>易维远程协助</strong></p><p style="width:auto" class="margin_left20px line_solid_02"></p><p class="margin_left20px size13">易维远程协助提供桌面截图、屏幕录像、视频通话和远程桌面功能。借助易维远程协助工具组件，客服人员可以为客户提供远程协助，也可以寻求其他客服人员的在线支持与协助。具体功能包括：<ol style="line-height:25px"><li>截取桌面或窗口图片并立即传送给对方</li><li>录制桌面或窗口视频并传送给对方</li><li>PC与PC之间远程桌面，快速诊断和解决系统和应用软件问题</li><li>PC与手机，手机与手机之间视频通话，实时了解现场情况</li></ol><span class="margin_left20px">......<a style="color:#1e8cce" target="_blank" href="{{eweiHelpcenterApiUrl}}">了解更多</a></span></p></div></div><p class="margin_left20px padding_top20px size13"><strong>界面预览</strong></p><p style="width:auto" class="margin_left20px line_solid_02"></p><div class="text"><ul><li><div style="margin-top:20px;margin-left:60px"><div style="width:240px;height:240px;margin-top:15px"><img src="source/images/daoru14.gif"></div></div></li><li><div style="margin-top:20px;margin-left:60px"><div style="width:240px;height:240px;border:1px solid #e4e4e4;margin-top:15px"></div></div></li><li><div style="margin-top:20px;margin-left:60px"><div style="width:240px;height:240px;border:1px solid #e4e4e4;margin-top:15px"></div></div></li><li><div style="margin-top:20px;margin-left:60px"><img src="source/images/daoru13.gif"></div></li></ul></div><p style="padding-top:280px" class="margin_left20px size13"><strong>开发者信息</strong></p><p style="width:auto" class="margin_left20px line_solid_02"></p><div class="margin_left20px margin_top15px tex"><ul class="size13"><li>收费： <span style="margin-left:32px">免费</span></li><li>开发者： <span style="margin-left:20px">英孚凯尔信息技术有限公司</span></li><li>网址： <span style="margin-left:32px"><a style="color:#1e8cce" href="http://www.ewei.com">http://www.ewei.com</a></span></li><li>Email： <span style="margin-left:26px">developer@infocare.cn</span></li></ul></div></html>');e.put("source/views/system_setting/setting.footer.html",'<div oc-lazy-load="[\'/source/lib/ace-builds/src-min-noconflict/ace.js\']"><div class="channel-box"><div class="channel-help" style="margin-bottom:60px"><p class="channel"><strong>HTML</strong></p><oem-learn-more type="via_email" description="配置钟意的帮助中心界面布局，还可设置社区开关。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/375" class="size13"></oem-learn-more></div><div ui-setting-html attachments="helpcenter.helpCenterHtml.attachments" ace-header-html-model="helpcenter.helpCenterHtml.headerHtmlText" ace-footer-html-model="helpcenter.helpCenterHtml.footerHtmlText" ace-is-using-customize-header="helpcenter.helpCenterHtml.isUsingCustomizeHeader" ace-css-model="helpcenter.helpCenterHtml.cssText" style="width:1000px;margin-left:20px"></div><div style="margin-top:30px;padding-left:20px"><button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateHelpcenter()">更新</button></div></div></div>');e.put("source/views/system_setting/setting.integral.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>会员积分规则</strong></p></div><oem-learn-more type="helpcenter_setting_integral" description="为鼓励客户参与社区活动，你可以启用积分计划，将客户的社区活动量化为积分，按积分档次赋予客户冗余头衔并显示在头像侧边，用积分兑换实惠。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/377" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-click="integralShow()" ng-class="{true: \'active\',false: \'\'}[display]">积分规则</li><li ng-click="badgeShow()" ng-class="{true: \'\',false: \'active\'}[display]">设置头衔</li></ul><div ng-show="display"><p class="margin_left20px padding_top5px size14"><strong>启用积分规则</strong></p><select style="width:390px" class="margin_left20px form-control" ng-model="userIntegralConfig.validRule"><option value="false">否</option><option value="true">是</option></select><div ng-show="userIntegralConfig.validRule == \'true\'"><div class="size13"><ul style="list-style:none;margin-left:-30px"><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px"><strong>积分项</strong></div><div style="margin-left:230px"><strong>积分</strong></div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">在帮助中心注册为会员</div><div style="margin-left:230px;width:150px"><input id="registerScore" ng-blur="checkNumber(\'registerScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.registerScore" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">安装移动客户端</div><div style="margin-left:230px;width:150px"><input id="installAppScore" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.installAppScore" ng-blur="checkNumber(\'installAppScore\')" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">关注小程序</div><div style="margin-left:230px;width:150px"><input id="attentionSmallAppScore" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.attentionSmallAppScore" ng-blur="checkNumber(\'attentionSmallAppScore\')" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">参加问卷调查</div><div style="margin-left:230px;width:400px"><input id="joinQuestionnaireScore" ng-blur="checkNumber(\'joinQuestionnaireScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.joinQuestionnaireScore" class="form-control">&nbsp;分 <span style="margin-right:30px"></span>月封顶&nbsp; <input id="joinQuestionnaireMaxScore" ng-blur="checkNumber(\'joinQuestionnaireMaxScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.joinQuestionnaireMaxScore" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">在帮助中心提交工单</div><div style="margin-left:230px;width:400px"><input id="ticketScore" ng-blur="checkNumber(\'ticketScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.ticketScore" class="form-control">&nbsp;分 <span style="margin-right:30px"></span>月封顶&nbsp; <input id="ticketMonthlyMaxScore" ng-blur="checkNumber(\'ticketMonthlyMaxScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.ticketMonthlyMaxScore" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">在文章后面追问/评论</div><div style="margin-left:230px;width:400px"><input id="articleCommentScore" ng-blur="checkNumber(\'articleCommentScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.articleCommentScore" class="form-control">&nbsp;分 <span style="margin-right:30px"></span>月封顶&nbsp; <input id="articleCommentMonthlyMaxScore" ng-blur="checkNumber(\'articleCommentMonthlyMaxScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.articleCommentMonthlyMaxScore" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">在社区提问/发帖</div><div style="margin-left:230px;width:400px"><input id="questionScore" ng-blur="checkNumber(\'questionScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.questionScore" class="form-control">&nbsp;分 <span style="margin-right:30px"></span>月封顶&nbsp; <input id="questionMonthlyMaxScore" ng-blur="checkNumber(\'questionMonthlyMaxScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.questionMonthlyMaxScore" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">提问/发帖被转为工单</div><div style="margin-left:230px;width:400px"><input id="questionToTickeScore" ng-blur="checkNumber(\'questionToTickeScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.questionToTickeScore" class="form-control">&nbsp;分 <span style="margin-right:30px"></span>月封顶&nbsp; <input id="questionToTickeMaxScore" ng-blur="checkNumber(\'questionToTickeMaxScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.questionToTickeMaxScore" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">回答别人的提问/跟贴</div><div style="margin-left:230px;width:400px"><input id="answerScore" ng-blur="checkNumber(\'answerScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.answerScore" class="form-control">&nbsp;分 <span style="margin-right:30px"></span>月封顶&nbsp; <input id="answerMonthlyMaxScore" ng-blur="checkNumber(\'answerMonthlyMaxScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.answerMonthlyMaxScore" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">回答/跟贴被赞</div><div style="margin-left:230px;width:400px"><input id="votedScore" ng-blur="checkNumber(\'votedScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.votedScore" class="form-control">&nbsp;分 <span style="margin-right:30px"></span>月封顶&nbsp; <input id="votedMonthlyMaxScore" ng-blur="checkNumber(\'votedMonthlyMaxScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.votedMonthlyMaxScore" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">转发/分享社区内容到社交平台</div><div style="margin-left:230px;width:400px"><input id="shareScore" ng-blur="checkNumber(\'shareScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.shareScore" class="form-control">&nbsp;分 <span style="margin-right:30px"></span>月封顶&nbsp; <input id="shareMonthlyMaxScore" ng-blur="checkNumber(\'shareMonthlyMaxScore\')" style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.shareMonthlyMaxScore" class="form-control">&nbsp;分</div></li><li class="margin_left10px" style="margin-top:25px"><div style="width:200px" class="pull-left margin_right15px"><strong>扣分项</strong><span style="color:#ccc">(提交的内容违规被删除)</span></div><div style="margin-left:230px;width:400px"><strong>扣分</strong><span style="color:#ccc">(小于等于积分)</span> <span style="margin-right:55px"></span><strong>追加惩罚</strong></div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">提交的工单被删除</div><div style="margin-left:230px;width:400px"><input style="color:#e62828;width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" value="-{{userIntegralConfig.integralRule.ticketScore}}" disabled="disabled" class="form-control">&nbsp;分 <span style="margin-right:80px"></span><input id="ticketPenalty" ng-blur="checkNumber(\'ticketPenalty\')" style="color:#e62828;width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.ticketPenalty" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">追问/评论被删除</div><div style="margin-left:230px;width:400px"><input style="color:#e62828;width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" value="-{{userIntegralConfig.integralRule.articleCommentScore}}" disabled="disabled" class="form-control">&nbsp;分 <span style="margin-right:80px"></span><input id="articleCommentPenalty" ng-blur="checkNumber(\'articleCommentPenalty\')" style="color:#e62828;width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.articleCommentPenalty" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">提问/发帖被删除</div><div style="margin-left:230px;width:400px"><input style="color:#e62828;width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" value="-{{userIntegralConfig.integralRule.questionScore}}" disabled="disabled" class="form-control">&nbsp;分 <span style="margin-right:80px"></span><input id="questionPenalty" ng-blur="checkNumber(\'questionPenalty\')" style="color:#e62828;width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.questionPenalty" class="form-control">&nbsp;分</div></li><li class="margin_top15px margin_left10px"><div style="width:200px" class="pull-left margin_right15px">回答/跟帖被删除</div><div style="margin-left:230px;width:400px"><input style="width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;color:#e62828;display:inline-block;padding:0 12px" value="-{{userIntegralConfig.integralRule.answerScore}}" disabled="disabled" class="form-control">&nbsp;分 <span style="margin-right:80px"></span><input id="answerPenalty" ng-blur="checkNumber(\'answerPenalty\')" style="color:#e62828;width:70px;height:20px;border:1px solid #e4e4e4;text-align:center;display:inline-block;padding:0 12px" ng-model="userIntegralConfig.integralRule.answerPenalty" class="form-control">&nbsp;分</div></li><li class="margin_top30px margin_left10px"><div style="width:200px" class="margin_right15px"><strong>积分消费</strong></div></li><li class="margin_top10px margin_left10px"><div style="width:200px" class="margin_right15px"><a style="color:#1e8cce" href="#">获取会员积分API</a></div></li><li class="margin_top10px margin_left10px"><div style="width:600px" class="margin_right15px">你可以通过API获取会员的积分明细，实现你的积分奖励方案，供客户消费。</div></li><li class="margin_top30px margin_left10px"><input type="checkbox" name="checkbox" ng-model="userIntegralConfig.validAd" ng-true-value="true" ng-flase-value="false"> &nbsp; 在积分详情页面嵌入广告，引导客户前往消费积分</li><li class="margin_top15px margin_left10px" style="height:100px"><div style="position:relative;top:30px;left:30px">广告图片</div><div style="width:300px;height:80px;margin-left:100px" class="pull-left margin_right15px"><image-show defaultimageurl="source/images/help_center/integral_ad.jpg" imageurl="{{userIntegralConfig.adImage.contentUrl}}" imagestyle="ad.300.80" imageclass="w300 h80"></image-show></div><div style="margin-left:380px;width:300px"><span style="float:right;margin-top:45px">尺寸300X80，文件小于200KBytes</span><div style="margin-left:20px"><label for="inputfile"></label><div class="_box1 tihian size12" ng-accept="\'image/*\'" ng-multiple="false" ng-file-change="uploadImage(imagefile)" ng-model="imagefile" ng-file-select>替换</div></div></div></li><li class="margin_top15px margin_left10px"><div style="position:relative;top:20px;left:30px">图片链接</div><div style="width:600px;margin-left:100px;z-index:5;position:absolute" class="pull-left margin_right15px"><input ng-disabled="!userIntegralConfig.validAd" ng-model="userIntegralConfig.adUrl" style="width:450px;height:24px;color:#ccc;padding:0 12px" value=" http://" class="form-control"></div></li></ul></div></div><div class="margin_left20px padding_top30px line_solid_02"></div><div class="padding_top20px padding_left20px" style="padding-bottom:100px"><span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateUserIntegralConfig()">更新</button></div></div><div ng-show="!display"><div class="margin_left20px size13"><table style="line-height:20px;margin-top:20px"><tbody class="size13 padding5px"><tr><td style="width:220px"><strong>积分区间</strong><span style="color:#ccc">（由低到高）</span><br></td><td style="margin-left:35px"><strong>头衔名称</strong><br></td></tr><tr ng-repeat="item in userBadgeConfig track by $index"><td><br><input style="width:128px;height:25px;text-align:center;display:inline-block;margin-top:5px" ng-model="item.borderScore" class="form-control">&nbsp;分</td><td><br><input style="width:200px;height:25px;display:inline-block" value="" ng-model="item.badge" class="form-control"> <a style="color:#e04006;margin-left:10px" class="size30" ng-click="toAddAndDeleteFields($index)">-</a></td></tr><tr><td><a style="color:#7bbf6a" class="J_add size20" ng-click="toAddAndDeleteFields(-1)"><strong>+</strong></a></td></tr></tbody></table></div><div class="margin_left20px padding_top30px line_solid_02"></div><div class="padding_top20px padding_left20px"><span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateUserBadgeConfig();">更新</button></div></div></div>');e.put("source/views/system_setting/setting.layout.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>界面布局</strong></p></div><oem-learn-more type="helpcenter_setting_ui" description="配置钟意的帮助中心界面布局，还可设置社区开关。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/375" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ui-sref="system_setting.detail.layout" ui-sref-active="active">外观</li><li ui-sref="system_setting.detail.community" ui-sref-active="active">社区内容</li></ul><div ui-view></div></div>');e.put("source/views/system_setting/setting.layout_community.html",'<div style="color:#666;margin-top:20px"><div style="float:left;margin-left:20px"><strong>是否对外公开社区<br>内容?</strong></div><div style="float:left;margin-left:30px"><ul id="public" style="margin:0;padding:0;overflow:hidden"><li class="border" ng-class="{active:oppenHelpCenter.isOpen === true}" style="list-style:none;width:744px;height:135px"><input style="float:left;margin-left:10px;margin-top:12px" checked="checked" type="radio" name="public" ng-model="oppenHelpCenter.isOpen" ng-value="false"><p style="float:left;margin:10px 0 0 5px;padding:0">暂不公开<br>社区内容正在建设中...</p><div style="clear:both"></div><img style="margin-left:30px;margin-top:20px" src="source/images/img1.png"></li><li class="border" ng-class="{active:oppenHelpCenter.isOpen === false}" style="list-style:none;width:744px;height:135px"><input style="float:left;margin-left:10px;margin-top:12px" type="radio" name="public" ng-model="oppenHelpCenter.isOpen" ng-value="true"><p style="float:left;margin:10px 0 0 5px;padding:0">公开<br>帮助中心首先向客户呈现社区内容，以一当百支持海量客户。引导客户自助、互助解决问题，避免非必要的求助（工单）</p><div style="clear:both"></div><img style="margin-left:30px;margin-top:20px" src="source/images/img2.png"></li></ul></div><div style="clear:both"></div><div style="border-top:1px solid #e4e4e4;margin-left:20px;margin-top:100px"><button style="margin-top:20px;margin-left:155px" type="button" ng-click="updateProviderHelpcenter()" class="btn btn-primary btn-sm padding_left30px padding_right30px">更新</button></div></div>');e.put("source/views/system_setting/setting.layout_detail.html",'<div style="position:relative;min-width:1650px"><div id="light3" style="float:left;padding-left:15px"><div style="width:430px;height:900px;border-right:1px solid #e4e4e4;padding-right:20px" class="pull-left"><div class="margin_left5px margin_top15px"><ul style="list-style:none;margin-left:-40px" class="artli size13"><li style="margin-top:20px"><strong>外部链接</strong></li><li style="margin:10px 0 20px 0"><table><tbody class="size13 padding5px"><tr ng-repeat="item in externalLinks track by $index" style="height:50px"><td style="width:132px;margin-right:10px"><input class="form-control" ng-model="item.text" placeholder=" 链接文字"></td><td style="width:10px"></td><td style="width:260px"><input class="form-control" ng-model="item.url" placeholder="http://"></td><td style="vertical-align:middle"><a style="color:#e04006" class="padding_left10px size20" ng-click="toAddAndDeleteExternalLinks($index)"><i class="fa fa-minus-circle" style="color:#f66"></i></a></td></tr><tr><td><a style="color:#7bbf6a" class="size20" ng-click="toAddAndDeleteExternalLinks(-1)"><strong><i class="fa fa-plus-circle"></i></strong></a></td></tr></tbody></table></li><li></li><li style="padding:20px 0;border-top:1px solid #e4e4e4;border-bottom:1px solid #e4e4e4"><table><tr><td style="vertical-align:top;width:110px"><strong>默认推送文章</strong></td><td style="width:290px"><select ng-model="helpcenter.homeSelected" class="form-control"><option value="general_layout">编辑推荐</option><option value="new_artcle">最新文章</option><option value="hot_question">热门问题</option><option value="nothave_answer">待回答问题</option></select></td></tr></table></li><li style="margin:10px 0 20px 0"><strong>服务渠道配置</strong></li><li><table><tr><td width="110px">在线交谈</td><td width="290px"><select class="form-control" ng-change="selectchange(\'webchat\')" ng-model="helpCenterChannel.webchatForm" ng-options="item.name for item in webchatForms"></select><div style="margin:5px 0"><input ng-model="helpCenterChannel.closeMobileWebChat" style="position:relative;top:2px;margin-right:3px" type="checkbox">关闭小屏帮助中心在线交谈</div></td></tr><tr style="height:50px"><td width="110px">意见反馈</td><td width="290px"><select class="form-control" ng-change="selectchange(\'ticket\')" ng-model="helpCenterChannel.feedbackForm" ng-options="item.name for item in feedbackForms"></select></td></tr></table></li><li style="margin:30px 0 20px 0;border-top:1px solid #e4e4e4;padding-top:20px"><strong>联系方式</strong></li><li><table><tr style="height:50px"><td width="110px">栏目标题</td><td width="290px"><input ng-model="helpCenterChannel.title" class="form-control" maxlength="16"></td></tr><tr><td width="110px">联系电话</td><td width="290px"><input ng-model="helpCenterChannel.phone" class="form-control" placeholder="请输入你的电话号码" maxlength="30"></td></tr><tr style="height:50px"><td width="110px">微信客服</td><td width="290px"><select class="form-control" ng-model="helpCenterChannel.viaWeixin" ng-options="item.name for item in viaWeixins"></select></td></tr></table></li><li style="margin-top:50px"><button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateHelpcenter()">更新</button></li></ul></div></div></div><div style="float:left;padding-right:0"><div style="position:relative;right:0;top:10px;left:0"><div style="width:1000px;height:100px;margin:0 auto;position:relative"><div style="display:inline-block;height:20px;text-align:right;position:absolute;margin:auto;right:0;top:0;bottom:0;z-index:1;color:#000"><span ng-repeat="item in externalLinks track by $index"><span style="padding-left:10px;padding-right:10px">{{item.text}}</span><span ng-hide="$index == externalLinks.length-1">|</span></span></div><div style="height:70px"><div class="size13 pull-right" style="position:relative;top:111px"><a href="javascript:openLoginModalDialog();" class="btn btn-default" role="button" style="color:#666;width:68px;height:28px;text-align:center;border-radius:30px;line-height:15px;font-size:13px;border:0;border-radius:30px;text-decoration:none">登录</a></div><image-show style="position:relative;top:30px" imageurl="{{helpcenter.logo.contentUrl}}" imagestyle="logo.40" imageclass="h40 pull-left" defaultimageurl="source/images/logo_40.png"></image-show>&nbsp;<div class="size24 pull-left" style="margin-left:20px;position:relative;top:30px"><strong ng-style="{\'color\':helpcenter.providerNameColor}">{{helpcenter.name}}</strong></div></div></div><div style="width:100%;height:50px" ng-style="{\'background-color\':helpcenter.headBackgroundColor}" class="text1"><div style="width:1000px;height:50px;margin:0 auto;padding-top:8px;position:relative"><div class="pull-right" style="position:relative;left:-150px;top:5px"><div style="width:160px;height:8px;display:inline-block;position:absolute;top:13px;left:5px" ng-style="{\'border-left\': \'1px solid\'+ helpcenter.headFontColor,\'border-right\': \'1px solid\'+ helpcenter.headFontColor,\'border-bottom\': \'1px solid\'+ helpcenter.headFontColor}"></div><div style="width:230px;height:22px" class="pull-right"><input style="width:163px;border:0!important;outline:0;background:0 0;color:#E4E4E4;text-indent:13px" type="text" class="w170 v_middle border99 c00 invitationIpt" placeholder="输入邀请码，接受远程协助"> <button style="background-color:transparent;color:#FFF;width:16px;height:16px;padding:0;border:0;border-radius:50%;outline:0;position:relative;top:5px;left:10px" type="button"><i style="position:relative;top:1px;font-size:18px" class="fa fa-arrow-circle-o-right" ng-style="{\'color\':helpcenter.headFontColor}"></i></button></div></div><ul style="list-style:none;font-size:14px;margin-left:-40px;line-height:30px"><li style="margin-right:15px;float:left"><a href="#" style="text-decoration:none"><span ng-style="{\'color\':helpcenter.headFontColor}" style="padding-top:4px;cursor:pointer;font-weight:700" class="text-center">帮助中心首页 </span></a><span ng-style="{\'color\':helpcenter.headFontColor}">&nbsp;&nbsp;|</span></li><li style="margin-right:15px;float:left"><a href="#" style="text-decoration:none"><span ng-style="{\'color\':helpcenter.headFontColor}" style="padding-top:4px;cursor:pointer" class="text-center">提交工单 </span></a><span ng-style="{\'color\':helpcenter.headFontColor}">&nbsp;&nbsp;|</span></li><li style="margin-right:15px;float:left"><a href="#" style="text-decoration:none"><span ng-style="{\'color\':helpcenter.headFontColor}" style="padding-top:4px;cursor:pointer" class="text-center">查询工单 </span></a><span ng-style="{\'color\':helpcenter.headFontColor}">&nbsp;&nbsp;|</span></li><li style="margin-right:15px;float:left"><a href="#" style="text-decoration:none"><span ng-style="{\'color\':helpcenter.headFontColor}" style="padding-top:4px;cursor:pointer" class="text-center">下载资源</span></a></li></ul></div></div><div style="width:1000px;margin:0 auto;margin-top:20px" class="padding10px"><div style="width:275px;height:258px;margin-left:-20px" class="pull-left right_panle"><div style="width:280px"><div class="size14" style="color:#666"><ul style="list-style:none;margin-left:-35px;margin-bottom:0"><li style="width:280px;height:40px;background:#F6F6F6;line-height:40px;text-indent:10px;font-weight:700" ng-style="{\'background-color\':helpcenter.contentBackgroundColor}"><i class="fa fa-plus-square faPlus" style="margin:0 -3px 0 -10px"></i>&nbsp; 公告</li><li style="width:280px;height:40px;line-height:40px;text-indent:10px;display:inline-block;color:#666;position:relative">服务公告 <span style="position:relative;left:174px">3&nbsp;&nbsp;<i style="font-size:26px;position:relative;top:3px;margin-left:-9px" class="fa fa-angle-right"></i></span></li></ul><ul style="list-style:none;margin-left:-35px"><li style="width:280px;height:40px;background:#F6F6F6;line-height:40px;text-indent:10px;font-weight:700" ng-style="{\'background-color\':helpcenter.contentBackgroundColor}"><i class="fa fa-plus-square faPlus" style="margin:0 -3px 0 -10px"></i>&nbsp; 论坛</li><li style="width:280px;height:40px;line-height:40px;text-indent:10px;display:inline-block;color:#666;position:relative">问题反馈 <span style="position:relative;left:174px">3&nbsp;&nbsp;<i style="font-size:26px;position:relative;top:3px;margin-left:-9px" class="fa fa-angle-right"></i></span></li></ul><ul style="list-style:none;margin-left:-35px;margin-bottom:0"><li style="width:280px;height:40px;background:#F6F6F6;line-height:40px;text-indent:10px;font-weight:700" ng-style="{\'background-color\':helpcenter.contentBackgroundColor}"><i class="fa fa-plus-square faPlus" style="margin:0 -3px 0 -10px"></i>&nbsp; 文档</li><li style="width:280px;height:40px;line-height:40px;text-indent:10px;display:inline-block;color:#666;position:relative;border-bottom:1px solid #E4E4E4">新手入门 <span style="position:relative;left:174px">3&nbsp;&nbsp;<i style="font-size:26px;position:relative;top:3px;margin-left:-9px" class="fa fa-angle-right"></i></span></li><li style="width:280px;height:40px;line-height:40px;text-indent:10px;display:inline-block;color:#666;position:relative;border-bottom:1px solid #E4E4E4">基础知识 <span style="position:relative;left:174px">3&nbsp;&nbsp;<i style="font-size:26px;position:relative;top:3px;margin-left:-9px" class="fa fa-angle-right"></i></span></li><li style="width:280px;height:40px;line-height:40px;text-indent:10px;display:inline-block;color:#666;position:relative">进阶问题 <span style="position:relative;left:174px">3&nbsp;&nbsp;<i style="font-size:26px;position:relative;top:3px;margin-left:-9px" class="fa fa-angle-right"></i></span></li></ul></div><div style="width:280px;border:1px solid #E4E4E4;margin-top:20px;margin-left:5px;padding-bottom:20px" class="size14" ng-style="{\'background-color\':helpcenter.headBackgroundColor}"><div style="width:278px;height:45px;font-size:16px;color:#FFF;text-align:center"><div style="padding-top:12px"><span ng-style="{\'color\':helpcenter.headFontColor}">{{helpCenterChannel.title}}</span></div></div><div ng-if="helpCenterChannel.phone != \'\'" class="ellipsis" style="width:240px;height:36px;background-color:#FFF;border:1px solid #E4E4E4;padding:6px;margin-left:20px;margin-bottom:15px"><img style="width:28px;height:24px;float:left" src="source/images/form/lian1.gif"><div style="text-indent:20px">{{helpCenterChannel.phone}}</div></div><div style="width:240px;height:36px;background-color:#FFF;border:1px solid #E4E4E4;padding:6px;margin-left:20px"><img style="width:28px;height:24px;float:left" src="source/images/form/lian2.gif"><div style="text-indent:10px">提交服务请求</div></div><div style="width:240px;height:36px;background-color:#FFF;border:1px solid #E4E4E4;padding:6px;margin-left:20px" class="margin_top15px"><img style="width:28px;height:24px;float:left" src="source/images/form/lian3.gif"><div style="text-indent:10px">提交服务请求</div></div></div></div>&nbsp;</div><div style="margin-left:285px;width:700px"><div style="width:700px;position:relative;border-radius:5px" ng-style="{\'background-color\':helpcenter.searchBackgroundColor}"><div><i class="fa fa-search btn-lg" style="position:absolute;top:7px;color:#E4E4E4"></i> <input style="width:700px;height:50px;text-indent:30px;box-shadow:none" class="size18 form-control" ng-style="{\'border\': \'3px solid\'+ helpcenter.searchBackgroundColor}" placeholder="搜索答案"></div><div style="position:absolute;right:90px;top:9px;font-size:14px" class="pull-left"><button ng-style="{\'background-color\':helpcenter.searchButtonBackgroundColor}" style="width:62px;height:32px;color:#fff;border:0;outline:0" type="button" class="btn btn-default size14">搜索</button></div><div style="position:absolute;right:15px;top:9px;font-size:14px" class="pull-left"><button ng-style="{\'background-color\':helpcenter.saveQuestionButtonBackgroundColor}" style="width:62px;height:32px;color:#fff;border:0;outline:0" type="button" class="btn btn-default size14">提问</button></div></div><div style="width:697px;height:36px;margin-top:30px" class="size14"><div style="width:700px;height:36px;border-bottom:1px solid #E4E4E4"><div style="width:60px;height:36px;text-decoration:none;line-height:36px;text-align:center;cursor:pointer;border:1px solid #E4E4E4;color:#69C;background:#F6F6F6" class="margin_left10px pull-left" ng-style="{\'background-color\':helpcenter.contentBackgroundColor}"><span ng-class="{weight:helpcenter.homeSelected == \'new_artcle\'}">推荐</span></div><div style="width:60px;height:36px;text-decoration:none;line-height:36px;text-align:center;cursor:pointer;border:1px solid #E4E4E4;color:#666;background:#FFF;font-weight:400;border-bottom:1px solid #FFF" class="margin_left10px pull-left"><span ng-class="{weight:helpcenter.homeSelected == \'hot_question\'}">最新</span></div><div style="width:60px;height:36px;text-decoration:none;line-height:36px;text-align:center;cursor:pointer;border:1px solid #E4E4E4;color:#69C;background:#F6F6F6" class="margin_left10px pull-left" ng-style="{\'background-color\':helpcenter.contentBackgroundColor}"><span ng-class="{weight:helpcenter.homeSelected == \'nothave_answer\'}">热门</span></div><div style="width:60px;height:36px;text-decoration:none;line-height:36px;text-align:center;cursor:pointer;border:1px solid #E4E4E4;color:#69C;background:#F6F6F6" class="margin_left10px pull-left" ng-style="{\'background-color\':helpcenter.contentBackgroundColor}"><span ng-class="{weight:helpcenter.homeSelected == \'general_layout\'}">待回答</span></div></div></div><div style="overflow:hidden;height:auto"><div style="width:697px;height:90px;position:relative" class="line_solid_02"><img src="source/images/form/Article.png" class="pull-left" style="width:50px;height:50px;position:relative;top:20px"><div style="width:590px;float:left;margin-left:10px;position:relative;top:10px"><p class="size18" style="padding-top:11px;height:50px"><a href="#" style="color:#69c">传统IT运维与IT运维自动化</a></p><p class="size13" style="color:#999;margin-top:-10px">LXL 发表于2015-01-08 <span style="margin-left:16px"><span style="background:#eff6fa;color:#69c;padding:2px 10px;border-radius:30px;display:inline-block;text-decoration:none;margin:0 5px 5px 0;font-size:13px">传统IT </span><span style="background:#e3eff7;color:#69c;padding:2px 10px;border-radius:30px;display:inline-block;text-decoration:none;margin:0 5px 5px 0;font-size:13px">运维自动化</span></span></p></div><p style="height:20px;font-size:14px;text-align:right;color:#c9c9c9;position:absolute;margin:auto;right:0;top:0;bottom:0"><i class="fa fa-comment-o" style="margin:0 6px 0 11px"></i><span>656</span> <i class="fa fa-thumbs-o-up" style="margin:0 6px 0 11px"></i><span>324</span> <i class="fa fa-bookmark-o" style="margin:0 6px 0 11px"></i><span>234</span></p></div><div style="width:697px;height:90px;position:relative" class="line_solid_02"><img src="source/images/form/ask.png" class="pull-left" style="width:50px;height:50px;position:relative;top:20px"><div style="width:590px;float:left;margin-left:10px;position:relative;top:10px"><p class="size18" style="padding-top:11px;height:50px"><a href="#" style="color:#69c">IT故障管理：亡羊补牢，不如未雨绸缪</a></p><p class="size13" style="color:#999;margin-top:-10px">陈祥伍 发表于2015-01-08 <span style="margin-left:16px"><span style="background:#e3eff7;color:#69c;padding:2px 10px;border-radius:30px;display:inline-block;text-decoration:none;margin:0 5px 5px 0;font-size:13px">管理</span></span></p></div><p style="height:20px;font-size:14px;text-align:right;color:#c9c9c9;position:absolute;margin:auto;right:0;top:0;bottom:0"><i class="fa fa-comment-o contMg" style="margin:0 6px 0 11px"></i><span>567</span> <i class="fa fa-bookmark-o contMg" style="margin:0 6px 0 11px"></i><span>432</span></p></div><div style="width:697px;height:90px;position:relative" class="line_solid_02"><img src="source/images/form/ask.png" class="pull-left" style="width:50px;height:50px;position:relative;top:20px"><div style="width:590px;float:left;margin-left:10px;position:relative;top:10px"><p class="size18" style="padding-top:11px;height:50px"><a href="#" style="color:#69c">IT故障管理：亡羊补牢，不如未雨绸缪</a></p><p class="size13" style="color:#999;margin-top:-10px">陈祥伍 发表于2015-01-08 <span style="margin-left:16px"><span style="background:#e3eff7;color:#69c;padding:2px 10px;border-radius:30px;display:inline-block;text-decoration:none;margin:0 5px 5px 0;font-size:13px">管理</span></span></p></div><p style="height:20px;font-size:14px;text-align:right;color:#c9c9c9;position:absolute;margin:auto;right:0;top:0;bottom:0"><i class="fa fa-comment-o contMg" style="margin:0 6px 0 11px"></i><span>567</span> <i class="fa fa-bookmark-o contMg" style="margin:0 6px 0 11px"></i><span>432</span></p></div></div></div><p style="margin-left:285px;margin-top:20px;font-size:14px;color:#666">共3条记录，Page 1 of 1&nbsp; <button style="width:36px;height:28px;background-color:#f6f6f6;color:#000;padding-left:4px;padding-top:0;border-radius:0" type="button" class="btn btn-default size18"><i class="fa fa-chevron-left btn-sm"></i></button> <button style="width:36px;height:28px;background-color:#f6f6f6;color:#000;padding-left:4px;padding-top:0;border-radius:0" type="button" class="btn btn-default size18"><i class="fa fa-chevron-right btn-sm"></i></button></p></div><div style="margin-top:100px" class="container text-right clearfix" ng-if="!hideCopyright"><p style="margin-top:30px;margin-left:80px;width:980px" class="line_solid_02"></p><p>&nbsp;</p><a style="" href="http://www.ewei.com">客服软件</a> <a href="http://www.ewei.com">工单系统</a> by <a style="margin-right:100px" href="http://www.ewei.com" class="c00">易维帮助台</a><p></p></div></div></div></div>');e.put("source/views/system_setting/setting.location_setting.html","语言和时区");e.put("source/views/system_setting/setting.log_dynamic.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>日志动态</strong></p></div><p style="margin:15px 0 30px 0">查看登录日志、工单设置，客户、客户组设置，系统设置，帮助中心设置等更新记录。</p><ul class="nav-list clearfix"><li ui-sref="system_setting.detail.log" ui-sref-active="active">登录日志</li><li ng-if="logShow" ui-sref="system_setting.detail.operation_log" ui-sref-active="active">操作日志</li></ul><div ui-view></div></div>');e.put("source/views/system_setting/setting.logo_setting.html",'<div class="setting-head-common"><oem-learn-more type="system_setting_log_setting" description="将你的Logo配置在你的易维帮助台和移动APP界面上，彰显自己的品牌价值。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/607" class="know-more"></oem-learn-more><div class="setting-common-body"><ul><li><div class="title-bar margin_top10px"><span>LOGO</span></div><div class="form-content"><image-show imageurl="{{previewHeader.contentUrl}}" islogo="true" defaultimageurl="source/images/logo_helpdesk.png" style="height:60px;width:60px;border-radius:5px"></image-show><div id="container" style="display:inline-block;vertical-align:middle"><input type="hidden" id="qiniuDomain" value="${(qiniuBucketDomain)!}"> <input type="hidden" id="id" value="{{previewHeader.attachment}}"> <span pick-files-logo id="pickfiles" ng-click="pickfilesBuried()" style="color:#3bb6ee;cursor:pointer">上传图片</span><p style="color:#999">60x60图片，文件不要超过200KB</p></div><p class="tip">更新后，将替换所有渠道的客服控制台界面或系统消息里出现的LOGO。</p></div></li><li><div class="title-bar"><span>控制台名称</span></div><div class="form-content"><input class="form-control w300" value="我用双手成就你的梦想" ng-model="previewHeader.name" maxlength="10"><p class="tip">更新后，将替换所有渠道的客服控制台界面或系统消息里出现的“{{oldPreviewHeader.name}}”名称。</p></div></li><li><div class="title-bar"><span>客服界面颜色</span></div><div class="form-content"><spectrum-colorpicker ng-model="previewHeader.headBackgroundColor" ng-change="selectColor(previewHeader.headBackgroundColor)" format="\'hex\'" options="colorOptions"></spectrum-colorpicker><p class="tip">仅改变Web和小屏客服控制台界面颜色，APP界面颜色不改变。</p></div></li><li><div class="form-content padding_left10px w600"><button type="button" ng-click="update();" class="btn btn-primary btn-sm padding_left30px padding_right30px">更新</button></div></li></ul></div></div>');e.put("source/views/system_setting/setting.my_account.calendar.html",'<div style="position:relative"><div class="calendar-wrap margin_top20px" style="width:520px;display:inline-block"><ewei-calendar holidays="holidayArray" current-year="currentYear" current-month="currentMonth" on-date-change="onDateChange($yearMonth, $date, $isHoliday)" on-year-month-change="onYearMonthChange($yearMonth)" saturday-as-holiday="saturdayAsHoliday" sunday-as-holiday="sundayAsHoliday"></ewei-calendar><p class="padding_top20px">点选日期切换工作日状态。黑色为工作日，红色非工作日</p></div><div style="position:absolute;top:180px;left:600px"><p><input type="checkbox" ng-model="saturdayAsHoliday" ng-true-value="true" ng-false-value="false"> 周六为非工作日</p><p class="padding_top20px"><input type="checkbox" ng-model="sundayAsHoliday" ng-true-value="true" ng-false-value="false"> 周日为非工作日</p></div><div class="padding_top55px line_solid_02"></div><div class="col-md-7 padding_top30px padding_left10px"><button type="button" class="btn btn-primary w100" ng-click="saveHolidays()">更新</button></div></div>');e.put("source/views/system_setting/setting.my_account.gathering.html",'<style type="text/css">.pickWx div:first-child{width:110px;height:auto}</style><div style="margin-top:50px"><form class="form-horizontal"><div style="margin-bottom:30px" class="form-group"><label style="text-align:center" class="col-sm-2 control-label">收款码<span style="color:red;margin-left:5px">*</span></label><div style="padding-top:7px" class="col-sm-10"><div ng-if="!gathering.imgUrl"><div style="display:inline-block;position:relative;vertical-align:bottom" file-single-size-limit="0.5" ewei-webuploader file-queued="fileQueued(file);" upload-progress="uploadProgress(file,percentage)" upload-success="uploadSuccess(file, response)" error="error(handler)" file-type="image" class="pickWx"><a class="custom-main-font-color">添加你的收款码</a></div></div><div ng-if="gathering.imgUrl"><img width="122" height="122" ng-src="{{gathering.imgUrl}}"><div style="display:inline-block;position:relative;vertical-align:bottom" file-single-size-limit="0.5" ewei-webuploader file-queued="fileQueued(file);" upload-progress="uploadProgress(file,percentage)" upload-success="uploadSuccess(file, response)" error="error(handler)" file-type="image" class="pickWx"><a class="custom-main-font-color">更换</a></div></div><p style="color:#999;margin-top:15px">设置你的收款码，客户通过扫码打赏，大小不超过500K</p></div></div><div style="margin-bottom:60px" class="form-group" has-module="robot"><label style="text-align:center" class="col-sm-2 control-label">收款描述</label><div class="col-sm-10"><input type="text" maxlength="20" class="form-control w400" ng-model="gathering.qrcodeDescription"><p style="color:#999;margin-top:10px;line-height:22px;width:470px">添加描述告诉打赏者，如何打赏，最多20个字。</p></div></div><div class="form-group"><div class="col-sm-10 col-sm-offset-2"><button ng-click="update()" type="button" class="btn btn-primary w100">更新</button></div></div></form></div>');e.put("source/views/system_setting/setting.my_account.html",'<div class="setting-head-common" style="margin-top:20px;width:920px"><div class="nav-title"><p class="channel"><strong>个人中心</strong></p></div><oem-learn-more type="system_setting_my_account" description="请编辑完善或修改你的个人资料。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/394" class="know-more"></oem-learn-more><ul style="width:100%" class="nav-list clearfix"><li ui-sref="system_setting.detail.user" ui-sref-active="active">我的资料</li><li ui-sref="system_setting.detail.gathering" ui-sref-active="active">收款</li><li ui-sref="system_setting.detail.my-tickets" ui-sref-active="active">我的工单</li><li ui-sref="system_setting.detail.my-activity" ui-sref-active="active">我的动态</li><li ui-sref="system_setting.detail.log" ui-sref-active="active">登录日志</li><li ui-sref="system_setting.detail.notify" ui-sref-active="active">通知设置</li><li ui-sref="system_setting.detail.calendar" ui-sref-active="active">日程表</li></ul><div ui-view></div></div>');e.put("source/views/system_setting/setting.my_account.log.html",'<div><label style="margin-left:72.5%;vertical-align:middle"><input name="Fruit" style="position:relative;top:2px" type="checkbox" ng-model="userLoginLogNotify" ng-change="updateUserLoginLogNotify();" ng-true-value="true" ng-false-value="false"><span style="font-weight:400;color:#3AB7EF">在新设备上登录时，发邮件通知我</span></label><div class="size12"><div class="size13 line_solid_02 of0 padding_bottom10px"><span class="floatLeft font_b w200">最近登录于</span> <span class="floatLeft font_b w200">设备/APP/API</span> <span class="floatLeft font_b w150">ip</span> <span class="floatLeft font_b w200">地区</span></div><ul style="list-style:none;padding:0"><li class="padding_top10px padding_bottom10px line_solid_02 of0" ng-repeat="list in userLoginLogs"><span class="floatLeft w200">{{list.lastLoginAt}}</span> <span class="floatLeft w200">{{list.from}}</span> <span class="floatLeft w150">{{list.ip}}</span> <span class="floatLeft w200">{{list.address}}</span></li></ul></div><div><span ng-if="isMore.show" ng-click="more()">more...</span><image ng-if="isMore.loading" src="/source/images/loading.gif"></div></div>');e.put("source/views/system_setting/setting.my_account.my-tickets.html",'<style>.my-tickets{overflow:scroll;overflow:auto;margin-top:-15px}.my-tickets .list-group .list-ticket{border-bottom:1px solid #e4e4e4;position:relative;width:900px;height:40px;line-height:40px}.my-tickets .updatedAt{width:180px;display:inline-block}.my-tickets .community_item_title{display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:685px;vertical-align:bottom}.my-tickets .community_item_title:hover{background-color:transparent}</style><div class="my-tickets"><section class="size13 title clearfix community_div" style="background:#fff;border-bottom:0"><input type="radio" name="tab" id="tab1" class="tabs" ng-checked="myTicketViewItem == \'all\'" ng-click="checkViewItem(\'all\')"><label for="tab1" class="cursorhand">{{myTicketBuried[\'all\']}} （{{countData[\'all\']}}）</label><input type="radio" name="tab" id="tab2" class="tabs" ng-checked="myTicketViewItem == \'openOrNew\'" ng-click="checkViewItem(\'openOrNew\')"><label for="tab2" class="cursorhand">{{myTicketBuried[\'openOrNew\']}} （{{countData[\'openOrNew\']}}）</label><input type="radio" name="tab" id="tab4" class="tabs" ng-checked="myTicketViewItem == \'pending\'" ng-click="checkViewItem(\'pending\')"><label for="tab4" class="cursorhand">{{myTicketBuried[\'pending\']}} （{{countData[\'pending\']}}）</label><input type="radio" name="tab" id="tab3" class="tabs" ng-checked="myTicketViewItem == \'solved\'" ng-click="checkViewItem(\'solved\')"><label for="tab3" class="cursorhand">{{myTicketBuried[\'solved\']}} （{{countData[\'solved\']}}）</label><input type="radio" name="tab" id="tab5" class="tabs" ng-checked="myTicketViewItem == \'closed\'" ng-click="checkViewItem(\'closed\')"><label for="tab5" class="cursorhand">{{myTicketBuried[\'closed\']}} （{{countData[\'closed\']}}）</label></section><div class=""><div class="size13"><table class="list-group margin10px c00 size13" ng-table="tableParams" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr class=""><th width="100%"></th></tr></thead><tbody><tr class="block" ng-repeat="item in datas track by $index"><td width="100%"><div class="list-ticket"><div class="updatedAt"><span>{{item.updatedAt|dateFilter_style1}}</span></div><ewei-ticket-sla ticketstatuscolors="ticketStatusColors" ticketid="{{item.id}}" status="item.status" format="short" data-template-url="/source/scripts/directives/ewei-ticket-sla/sla_tip.html"></ewei-ticket-sla><a ui-sref="tickets_detail({id:item.id})" class="community_item_title custom-main-font-color">{{item.subject}}</a></div></td></tr></tbody></table><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div></div></div>');e.put("source/views/system_setting/setting.my_account.notify.html",'<section class="warn_tip" ng-if="userEmail==\'\'||userEmail==\'null\'||userEmail==null"><p>你还未绑定邮箱，邮件通知可能无法送达</p><div class="custom-background-color" ng-click="bindEmail();">立即绑定</div><article style="clear:both"></article></section><section class="table_notify"><ul class="table_ul"><li><div class="name header">&nbsp;</div><div class="term text-center"><strong>WEB</strong><p class="text-muted">通知到客服界面</p></div><div class="term"><strong>Email</strong><p class="text-muted">抄送到我的邮箱</p></div><div class="term ng-hide"><strong>APP</strong></div><div class="term"><strong>微信</strong><p class="text-muted"></p></div><article style="clear:both"></article></li><li><div class="name header"><strong>工单流转通知</strong><p>当下列情况发生时，通知我</p></div><div class="term">&nbsp;</div><div class="term">&nbsp;</div><div class="term">&nbsp;</div><div class="term ng-hide">&nbsp;</div><div class="term ng-hide">&nbsp;</div><article style="clear:both"></article></li><li><div class="name">工单分派给我</div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketAssignNoticeByMe"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketAssignEmailByMe"></div><div class="term ng-hide"><input type="checkbox" ng-model="notifyForm.ticketAssignAPPByMe" ng-click="checkApp(\'ticketAssignAPPByMe\');"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketAssignWechatByMe" ng-click="checkWeChat(\'ticketAssignWechatByMe\');"></div><article style="clear:both"></article></li><li><div class="name">新建工单到达我的首选客服组</div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketAssignNoticeByDefaultServiceDesk"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketAssignEmailByDefaultServiceDesk"></div><div class="term ng-hide"><input type="checkbox" ng-model="notifyForm.ticketAssignAPPByDefaultServiceDesk" ng-click="checkApp(\'ticketAssignAPPByDefaultServiceDesk\');"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketAssignWechatByDefaultServiceDesk" ng-click="checkWeChat(\'ticketAssignWechatByDefaultServiceDesk\');"></div><article style="clear:both"></article></li><li><div class="name">新建工单到达我所属的任意客服组</div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketAssignNoticeByAnyServiceDesk"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketAssignEmailByAnyServiceDesk"></div><div class="term ng-hide"><input type="checkbox" ng-model="notifyForm.ticketAssignAPPByAnyServiceDesk" ng-click="checkApp(\'ticketAssignAPPByAnyServiceDesk\');"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketAssignWechatByAnyServiceDesk" ng-click="checkWeChat(\'ticketAssignWechatByAnyServiceDesk\');"></div><article style="clear:both"></article></li><li class="group"><div class="name header"><strong>工单回复消息通知</strong><p>当下列工单有新回复时，通知我</p></div><div class="term">&nbsp;</div><div class="term">&nbsp;</div><div class="term">&nbsp;</div><div class="term ng-hide">&nbsp;</div><div class="term ng-hide">&nbsp;</div><article style="clear:both"></article></li><li><div class="name">我创建的工单</div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyNoticeByCreator"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyEmailByCreator"></div><div class="term ng-hide"><input type="checkbox" ng-model="notifyForm.ticketReplyAPPByCreator" ng-click="checkApp(\'ticketReplyAPPByCreator\');"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyWechatByCreator" ng-click="checkWeChat(\'ticketReplyWechatByCreator\');"></div><article style="clear:both"></article></li><li><div class="name">我处理中的工单</div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyNoticeByHandler"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyEmailByHandler"></div><div class="term ng-hide"><input type="checkbox" ng-model="notifyForm.ticketReplyAPPByHandler" ng-click="checkApp(\'ticketReplyAPPByHandler\');"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyWechatByHandler" ng-click="checkWeChat(\'ticketReplyWechatByHandler\');"></div><article style="clear:both"></article></li><li><div class="name">抄送给我的工单</div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyNoticeByCc"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyEmailByCc"></div><div class="term ng-hide"><input type="checkbox" ng-model="notifyForm.ticketReplyAPPByCc" ng-click="checkApp(\'ticketReplyAPPByCc\');"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyWechatByCc" ng-click="checkWeChat(\'ticketReplyWechatByCc\');"></div><article style="clear:both"></article></li><li><div class="name">星标关注的工单</div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyNoticeBySubscriber"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyEmailBySubscriber"></div><div class="term ng-hide"><input type="checkbox" ng-model="notifyForm.ticketReplyAPPBySubscriber" ng-click="checkApp(\'ticketReplyAPPBySubscriber\');"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyWechatBySubscriber" ng-click="checkWeChat(\'ticketReplyWechatBySubscriber\');"></div><article style="clear:both"></article></li><li><div class="name">我所在组未分派的工单</div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyNoticeByServicedeskNoassign"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyEmailByServicedeskNoassign"></div><div class="term ng-hide"><input type="checkbox" ng-model="notifyForm.ticketReplyAppByServicedeskNoassign" ng-click="checkApp(\'ticketReplyAppByServicedeskNoassign\');"></div><div class="term"><input type="checkbox" ng-model="notifyForm.ticketReplyWechatByServicedeskNoassign" ng-click="checkWeChat(\'ticketReplyWechatByServicedeskNoassign\');"></div><article style="clear:both"></article></li><li class="group"><div class="name header"><strong>项目看板消息通知</strong><p>当下列项目有新回复时，通知我</p></div><div class="term">&nbsp;</div><div class="term">&nbsp;</div><div class="term">&nbsp;</div><div class="term ng-hide">&nbsp;</div><div class="term ng-hide">&nbsp;</div><article style="clear:both"></article></li><li><div class="name">有项目分享给我</div><div class="term"><input type="checkbox" ng-model="notifyForm.projectShareNotice"></div><div class="term"><input type="checkbox" disabled="disabled"></div><article style="clear:both"></article></li><li><div class="name">我创建的项目有新进展</div><div class="term"><input type="checkbox" ng-model="notifyForm.projectProgressingNoticeByCreator"></div><div class="term"><input type="checkbox" disabled="disabled"></div><article style="clear:both"></article></li><li><div class="name">分享给我的项目有新进展</div><div class="term"><input type="checkbox" ng-model="notifyForm.projectProgressingNoticeByShares"></div><div class="term"><input type="checkbox" disabled="disabled"></div><article style="clear:both"></article></li><li><div class="name">我可见的项目有新进展时</div><div class="term"><input type="checkbox" ng-model="notifyForm.projectProgressingNoticeByVisible"></div><div class="term"><input type="checkbox" disabled="disabled"></div><article style="clear:both"></article></li><li class="single clearfix"><div class="name header">社区活动</div><div class="term"><input type="checkbox" ng-model="notifyForm.helpCenterNotice"></div><div class="term"><input type="checkbox" ng-model="notifyForm.helpCenterEmail"></div><div class="term ng-hide"><input type="checkbox" ng-model="notifyForm.helpCenterAPP" ng-click="checkApp(\'helpCenterAPP\');"></div><div class="term ng-hide"><input type="checkbox" ng-model="notifyForm.helpCenterWechat" ng-click="checkWeChat(\'helpCenterWechat\');"></div><p class="text-muted">我的文章或回答有新评论，我的提问有新回答</p></li><li class="single clearfix"><div class="name header">相关账户</div><div class="term"><input type="checkbox" ng-model="notifyForm.accountNotice"></div><div class="term"><input type="checkbox" ng-model="notifyForm.accountEmail"></div><div class="term ng-hide"><input type="checkbox" ng-model="notifyForm.accountAPP" ng-click="checkApp(\'accountAPP\');"></div><div class="term ng-hide"><input type="checkbox" ng-model="notifyForm.accountWechat" ng-click="checkWeChat(\'accountWechat\');"></div><p class="text-muted">修改密码，替换Email，绑定社交账号，停用/启用等</p></li><li class="single clearfix" ng-hide="oemConfig && oemConfig.open && oemConfig.hideCopyright"><div class="name header">易维每月精选</div><div class="term"><input type="checkbox" ng-disabled="true"></div><div class="term"><input type="checkbox" ng-model="notifyForm.monthlyEmail"></div><div class="term ng-hide"><input type="checkbox" ng-disabled="true"></div><div class="term ng-hide"><input type="checkbox" ng-disabled="true"></div><p class="text-muted">了解最新动态，每月一份有趣的内容合集</p></li></ul><div class="qrcode app" ng-if="$root.providerLicense && $root.providerLicense.type !=\'oem\' && !licenseService.hasModule(\'oem\')"><img src="source/images/mobile/notify-app.jpg" alt=""><p class="desc">手机客户端接收通知</p></div><div class="qrcode wechat" ng-if="$root.providerLicense && $root.providerLicense.type !=\'oem\' && !licenseService.hasModule(\'oem\')"><img src="source/images/mobile/notify-wechat.jpg" alt=""><p class="desc">微信小助手接收通知</p></div></section><section class="footer btn-group-common" style="width:600px;border-top:1px solid #ccc;padding-top:20px;margin-left:30px;margin-bottom:20px"><button type="button" id="saveButton" class="btn btn-confirm custom-background-color" ladda="savingSettings" ng-click="saveSettings();">保存</button></section>');e.put("source/views/system_setting/setting.my_account.user.html",'<style>.updateUserForm{padding-top:23px;padding-left:25px}.form-horizontal .form-group{margin-bottom:24px}.updateUserForm .control-label{color:#666;font-weight:400}.pic-describ{color:#999}.updateUserForm .text-left{text-align:left}.updateUserForm .col-md-1{width:auto}.updateUserForm .col-md-2{width:13.666666%}.width62{width:62%}.ownPermission{cursor:pointer}.hide_input{border:none;box-shadow:none;padding-left:0}.btn-chang{display:none;color:#1e8cce;padding-left:20px}.btn-chang:hover{color:#1e8cce}.tihian{border:0 none;width:64px;padding:0;margin-top:7px;text-align:left}.alert-chang-form{padding-bottom:20px;padding-top:20px}.padding-left0px{padding-left:0}.second-title{font-weight:800}.showChildren{width:auto;padding-right:0;margin-right:15px;padding-left:0;margin-left:15px}.showChildren:hover .btn-chang{display:inline-block}.btn-info-chang{background:0 0;border:1px solid #1e8cce;color:#1e8cce;border-radius:5px;padding:5px 15px;margin-right:4px;width:90px;cursor:pointer}.btn-info-chang:hover{background-color:#1E8CCE;color:#fff}</style><script type="text/javascript">$(function(){\n    var inputs = $("#updateUserForm").find("#userName,#nickname,#signature,#mobilePhone,#phone");\n    inputs.keypress(function(e){\n      if (e.which == 13){\n        var idx = inputs.index(this);\n        inputs[idx + 1].focus();\n        inputs[idx + 1].select();\n        e.preventDefault();\n      }\n    });\n  });<\/script><div class=""><form name="updateUserForm" id="updateUserForm" class="form-horizontal updateUserForm"><div class="row"><div class="col-md-7"><div class="form-group"><label for="userName" class="col-md-2 control-label text-left">姓 名</label><span class="col-md-10 control-label padding-left0px text-left">{{engineer.user.name}}</span></div><div class="form-group"><label class="col-md-2 control-label text-left">角 色</label><span class="col-md-10 control-label padding-left0px text-left custom-main-font-color ownPermission" ng-click="ownPermission()">{{engineer.role.name}}</span></div></div><div class="col-md-5"><div class="col-md-3"><image-show imageurl="{{engineer.user.photo.contentUrl}}" defaultimageurl="source/images/face/header_60.png" imagestyle="head.60.60" imageclass="w60 h60"></image-show></div><div class="col-md-9" style="padding-left:0"><div class="_box1 tihian"><a class="custom-main-font-color">更换头像</a> <input ng-file-select ng-model="files" ng-file-change="uploadFile(files)" accept=".jpg,.jpeg,.gif,.png,.bmp"></div><p class="pic-describ">60X60图片，文件不要超过50KB</p></div></div></div><div class="row"><div class="col-md-7"><div class="form-group"><label for="nickname" class="col-md-2 control-label text-left">客服组</label><span class="col-md-10 control-label padding-left0px text-left">{{engineer.defaultServiceDesk.name|translate}}</span></div></div></div><div class="form-group"><label for="nickname" class="col-md-1 control-label text-left">昵 称</label><div class="col-md-11 text-left"><input class="form-control width62 hide_input" id="nickname" maxlength="32" ng-model="engineer.nickname" ng-class="{true: \'show_input\',false: \'hide_input\'}[displayNickname]" ng-mouseover="mouseoverName(\'nickname\')" ng-mouseout="mouseoutName(\'nickname\')" ng-blur="update(\'nickname\',engineer.nickname)"></div></div><div class="form-group"><label for="signature" class="col-md-1 control-label text-left">签 名</label><div class="col-md-11 text-left"><textarea class="form-control width62 hide_input" style="resize:none;height:52px" rows="2" id="signature" placeholder="面向客户，不要超过64个字符" maxlength="64" ng-model="engineer.user.signature" ng-class="{true: \'show_input\',false: \'hide_input\'}[displaySignature]" ng-mouseover="mouseoverName(\'signature\')" ng-mouseout="mouseoutName(\'signature\')" ng-blur="update(\'signature\',engineer.user.signature)"></textarea></div></div><p class="margin_bottom15px second-title">账号密码</p><div class="form-group"><label class="col-md-1 control-label text-left">手 机</label><div class="col-md-4 control-label text-left showChildren"><span ng-if="engineer.user.mobilePhone">{{engineer.user.mobilePhone}}</span> <span ng-if="engineer.user && !engineer.user.mobilePhone" style="color:#a9a9a9">绑定手机以便登录和找回密码</span> <a class="btn-chang custom-main-font-color" ng-click="mobileModal()">{{modal.btn}}</a></div></div><div class="form-group"><label class="col-md-1 control-label text-left">邮 箱</label><div class="col-md-4 control-label text-left showChildren"><span ng-if="engineer.user.email">{{engineer.user.email}}</span> <span ng-if="engineer.user && !engineer.user.email" style="color:#a9a9a9">绑定邮箱以便接收通知和回复工单</span> <a class="btn-chang custom-main-font-color" ng-click="emailModal()">{{modal.email_btn}}</a></div></div><div class="form-group"><label class="col-md-1 control-label text-left">密 码</label><div class="col-md-3 control-label text-left showChildren">******** <a class="btn-chang custom-main-font-color" ng-click="passwordModal()">修改密码</a></div></div><p ng-if="engineer.userThirds&&engineer.userThirds.length>0" class="margin_bottom15px second-title">绑定的第三方账号</p><div ng-if="engineer.userThirds&&engineer.userThirds.length>0" ng-repeat="userThird in engineer.userThirds" class="form-group"><div class="col-md-1 text-left"><img ng-src="/source/images/{{userThird.appThirdPlatform | platformicon}}.png" alt="" style="width:30px;height:30px"></div><div class="col-md-3 control-label padding-left0px text-left showChildren">{{userThird.name}} <a class="btn-chang" ng-click="openUnbindModel(userThird.id,$index)">解除绑定</a></div></div></form></div>');e.put("source/views/system_setting/setting.oem_setting.html",'<style>.oem-item{max-width:800px;padding-left:20px}h4,h5{font-weight:600}.oem-item label{font-weight:500}.oem-item .img{float:left;margin-right:20px}.tihian{border:0 none;width:64px;padding:0;margin-top:7px;text-align:left}.oem-item .img-box{float:left}</style><section class="container-fluid"><oem-learn-more type="system_setting_oem_setting" description="去除客服界面上的所有“易 维 帮 助 台”产品信息，替换成你的产品信息。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/623" class="margin_left20px size13" style="margin-left:0"></oem-learn-more><div class="clearfix" style="max-width:600px"><div class="pull-left"><h4>启用OEM</h4><p>不启用则保持原厂信息</p></div><div class="pull-right" ng-click="toggleOemConfig($event);" style="margin-top:20px"><toggle-switch ng-model="oemSettingConfig.open" on-label="开" off-label="关" disabled="{{oemSettingDiabeld?\'true\':\'\'}}"></toggle-switch></div></div><form class="form-horizontal oem-form" name="oemSettingForm" ng-submit="saveOemSetting(oemSettingForm.$valid);" ng-if="oemSettingConfig.open"><h5>版权信息</h5><div class="checkbox oem-item"><label><input type="checkbox" ng-model="oemSettingConfig.hideCopyright"> 屏蔽易维帮助台原厂版权信息</label></div><h5>产品名称</h5><div class="oem-item"><span>客户端界面或系统消息里出现的“易维帮助台”产品名称，统一替换为</span> <input class="form-control w400 margin_top5px" maxlength="8" type="text" ng-model="oemSettingConfig.productName"></div><h5>在线客服按钮</h5><div class="checkbox oem-item"><label for=""><input type="checkbox" ng-model="oemSettingConfig.hideWebchat"> 客服界面上，屏蔽易维帮助台官方在线客服按钮</label></div><h5>自定义用户初始头像</h5><div class="oem-item clearfix"><div class="img"><image-show imageurl="{{oemSettingConfig.photo.contentUrl}}" defaultimageurl="source/images/face/header_60.png" imagestyle="head.60.60" imageclass="w60 h60"></image-show></div><div class="img-box"><div class="_box1 tihian"><a class="custom-main-font-color">更换头像</a> <input ng-file-select ng-model="files" ng-file-change="uploadFile(files)" accept=".jpg,.jpeg,.gif,.png,.bmp"></div><p class="pic-describ">60X60图片，文件不要超过50KB</p></div></div><h5>新手导航页面的演示视频链接</h5><div class="form-group oem-item"><div class="col-sm-4"><input type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.guideVideoUrl.helpcenterVideoName" ng-blur="testGuideVideoUrl(oemSettingConfig.guideVideoUrl.helpcenterVideoName,\'helpcenterVideoName\')"></div><div class="col-sm-8"><input type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.guideVideoUrl.helpcenterVideoUrl" ng-blur="testGuideVideoUrl(oemSettingConfig.guideVideoUrl.helpcenterVideoUrl,\'helpcenterVideoUrl\')"></div></div><div class="form-group oem-item"><div class="col-sm-4"><input type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.guideVideoUrl.addAgentVideoName" ng-blur="testGuideVideoUrl(oemSettingConfig.guideVideoUrl.addAgentVideoName,\'addAgentVideoName\')"></div><div class="col-sm-8"><input type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.guideVideoUrl.addAgentVideoUrl" ng-blur="testGuideVideoUrl(oemSettingConfig.guideVideoUrl.addAgentVideoUrl,\'addAgentVideoUrl\')"></div></div><div class="form-group oem-item"><div class="col-sm-4"><input type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.guideVideoUrl.completeUserVideoName" ng-blur="testGuideVideoUrl(oemSettingConfig.guideVideoUrl.completeUserVideoName,\'completeUserVideoName\')"></div><div class="col-sm-8"><input type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.guideVideoUrl.completeUserVideoUrl" ng-blur="testGuideVideoUrl(oemSettingConfig.guideVideoUrl.completeUserVideoUrl,\'completeUserVideoUrl\')"></div></div><div class="form-group oem-item"><div class="col-sm-4"><input type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.guideVideoUrl.viaTicketFormVideoName" ng-blur="testGuideVideoUrl(oemSettingConfig.guideVideoUrl.viaTicketFormVideoName,\'viaTicketFormVideoName\')"></div><div class="col-sm-8"><input type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.guideVideoUrl.viaTicketFormVideoUrl" ng-blur="testGuideVideoUrl(oemSettingConfig.guideVideoUrl.viaTicketFormVideoUrl,\'viaTicketFormVideoUrl\')"></div></div><div class="form-group oem-item"><div class="col-sm-4"><input type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.guideVideoUrl.viaEmailVideoName" ng-blur="testGuideVideoUrl(oemSettingConfig.guideVideoUrl.viaEmailVideoName,\'viaEmailVideoName\')"></div><div class="col-sm-8"><input type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.guideVideoUrl.viaEmailVideoUrl" ng-blur="testGuideVideoUrl(oemSettingConfig.guideVideoUrl.viaEmailVideoUrl,\'viaEmailVideoUrl\')"></div></div><div class="form-group oem-item"><div class="col-sm-4"><input type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.guideVideoUrl.viaWebchatVideoName" ng-blur="testGuideVideoUrl(oemSettingConfig.guideVideoUrl.viaWebchatVideoName,\'viaWebchatVideoName\')"></div><div class="col-sm-8"><input type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.guideVideoUrl.viaWebchatVideoUrl" ng-blur="testGuideVideoUrl(oemSettingConfig.guideVideoUrl.viaWebchatVideoUrl,\'viaWebchatVideoUrl\')"></div></div><h5>客服头像下拉菜单“帮助文档”的链接</h5><div class="oem-item"><input type="text" class="form-control w400" maxlength="255" ng-model="oemSettingConfig.helpUrl"></div><h5>仪表盘页面-最新动态</h5><div class="oem-item"><label class="checkbox-inline" style="padding-top:0"><input type="checkbox" name="latest-news" ng-model="oemSettingConfig.latestNewsSource" ng-true-value="\'ewei\'" ng-false-value="\'provider\'"> 从help.ewei.com获取</label><label class="checkbox-inline" style="padding-top:0"><input type="checkbox" name="latest-news" ng-model="oemSettingConfig.latestNewsSource" ng-true-value="\'provider\'" ng-false-value="\'ewei\'"> 从{{providerDomain}}获取</label></div><h5>各配置页面的页头描述文字和“了解更多”文字链接</h5><div class="checkbox oem-item"><label for=""><input type="checkbox" name="learn-more" ng-model="oemSettingConfig.learnMore" ng-true-value="\'each\'" ng-false-value="\'one\'"> 逐个编辑（仅系统管理员可操作）<p>在各个配置页面的页头，点击编辑按钮，编辑描述文字和“了解更多”文字链接。</p></label></div><div class="checkbox oem-item"><label for=""><input type="checkbox" name="learn-more" ng-model="oemSettingConfig.learnMore" ng-true-value="\'one\'" ng-false-value="\'each\'"> 保持原厂的描述文字，替换“了解更多”文字链接如下<br><input class="form-control margin_top5px" type="text" class="form-control" maxlength="255" ng-model="oemSettingConfig.learnMoreUrl"></label></div><hr><div class="form-group oem-item margin_bottom30px"><button type="submit" class="btn btn-primary btn-sm padding_left30px padding_right30px">更新</button></div></form></section>');e.put("source/views/system_setting/setting.operation_log.html",'<div style="overflow:scroll;overflow:auto;min-width:870px"><div class="padding_top13px"><p class="margin_left20px size16"><strong>操作日志</strong></p><p class="margin_left20px size13">查看工单设置，客户、客户组设置，系统设置，帮助中心设置等更新记录。</p></div><section class="margin_left20px padding_top20px size14"><input type="radio" name="tab" id="tab1" class="tabs" ui-sref="system_setting.detail.operation_log" ng-checked="$state.current.name==\'system_setting.detail.operation_log\'" checked="checked"><label class="cursorhand" for="tab1">操作日志</label></section><p class="padding_top23px margin_left20px line_solid1"></p><p>&nbsp;</p><div ui-view></div></div>');e.put("source/views/system_setting/setting.role_edit.html",'<div style="overflow:scroll;overflow:auto;width:1000px"><div class="padding_top20px"><h3 style="font-size:16px;margin-left:20px;margin-top:0"><a style="color:#1E8CDD;margin-right:10px;font-weight:700;text-decoration:none" ui-sref="system_setting.detail({uri:\'roles\',settingType:\'engineers\'})">角色</a> 》 <span style="margin-right:10px"><span ng-if="role.id==null">添加角色</span> <span ng-if="role.id!=null">{{roleName}}</span></span></h3><oem-learn-more type="system_setting_roles_edit" description="角色是权限的集合。权限分可见范围和操作设置两个部分，前者控制列表和数据筛选范围，后者控制功能操作。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/389" class="margin_left20px size13"></oem-learn-more><div style="border-bottom:1px solid #e4e4e4;position:relative;margin:40px 0 35px 20px;height:35px"><div ng-if="role.id==null" style="position:absolute;left:15px;top:1px;background-color:#fff;padding:8px 38px;border-top:1px solid #e4e4e4;border-left:1px solid #e4e4e4;border-right:1px solid #e4e4e4;border-top-left-radius:4px;border-top-right-radius:4px">角色</div><div ng-if="role.id!=null" style="position:absolute;left:15px;top:1px;background-color:#fff;padding:8px 38px;border-top:1px solid #e4e4e4;border-left:1px solid #e4e4e4;border-right:1px solid #e4e4e4;border-top-left-radius:4px;border-top-right-radius:4px">{{roleName}}</div></div></div><form name="editRoleForm" class="css-form" novalidate><fieldset ng-disabled="!formEditable"><p class="margin_left20px size14 form-inline"><strong style="margin-right:58px">角色名称*</strong> <input class="form-control" type="text" ng-model="role.name" name="role_name" style="width:300px" required maxlength="255"></p><div class="padding_top40px margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span><p style="line-height:25px;height:25px;margin-left:6px;display:inline-block">客服和客服组管理权限</p></div><p class="line_solid_02 margin_left20px"></p><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:58px">可见范围</strong><select class="size13 form-control w300" style="display:inline-block" ng-model="engineerAccessScope" ng-options="accessScope.label for accessScope in engineerAccessScopes"></select></div><div style="margin-left:-15px;padding-top:25px" class="padding15px size14"><strong class="size14" style="margin-right:58px">基本操作</strong> <span class="size13"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'engieer_create\']" value="engieer_create"> 添加客服 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'engieer_delete\']" value="engieer_delete"> 删除客服 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'engieer_update\']" value="engieer_update"> 编辑客服 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'service_desk_create\']" value="service_desk_create"> 添加客服组 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'service_desk_delete\']" value="service_desk_delete"> 删除客服组 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'service_desk_update\']" value="service_desk_update"> 编辑客服组</span></span></div><div style="margin-left:-15px;margin-top:-40px" class="padding15px size14"><strong class="size14" style="margin-right:58px">高级操作</strong> <span class="size13"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'engineer_import\']" value="engineer_import"> 批量导入客服 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'engineer_export\']" value="engineer_export"> 导出客服资料 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'role_manage\']" value="role_manage"> 角色列表和增删改</span></span></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span><p style="line-height:25px;height:25px;margin-left:6px;display:inline-block">客户和客户组管理权限</p></div><p class="line_solid_02 margin_left20px"></p><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:58px">可见范围</strong><select class="size13 form-control w300" style="display:inline-block" ng-model="customerAccessScope" ng-options="accessScope.label for accessScope in customerAccessScopes"></select></div><div style="margin-left:-15px;padding-top:25px" class="padding15px size14"><strong class="size14" style="margin-right:58px">基本操作</strong> <span class="size13"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_create\']" value="customer_create"> 添加客户 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_delete\']" value="customer_delete"> 删除客户 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_merge\']" value="customer_merge"> 合并客户 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_update\']" value="customer_update"> 编辑客户 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_group_create\']" value="customer_group_create"> 添加客户组 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_group_delete\']" value="customer_group_delete"> 删除客户组 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_group_update\']" value="customer_group_update"> 编辑客户组</span></span></div><div style="margin-left:-15px;margin-top:-40px" class="padding15px size14"><strong class="size14" style="margin-right:58px">高级操作</strong> <span class="size13"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_import\']" value="customer_import"> 批量导入客户 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_export\']" value="customer_export"> 导出客户资料 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_view_manage\']" value="customer_view_manage"> 编辑视图 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_blacklist_manage\']" value="customer_blacklist_manage"> 黑名单列表和删改</span></span></div><div style="margin-left:-15px;margin-top:-40px" class="padding15px size14"><strong class="size14" style="margin-right:58px">客户设置</strong> <span class="size13"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_setting_customfield\']" value="customer_setting_customfield"> 自定义客户字段 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_group_setting_customfield\']" value="customer_group_setting_customfield"> 自定义客户组字段 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_setting_customfield_url_secret\']" value="customer_setting_customfield_url_secret"> 字段扩展URL密钥</span></span></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span><p style="line-height:25px;height:25px;margin-left:6px;display:inline-block">工单管理权限</p></div><p class="line_solid_02 margin_left20px"></p><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:58px">可见范围</strong><select class="size13 form-control w300" style="display:inline-block" ng-model="ticketAccessScope" ng-options="accessScope.label for accessScope in ticketAccessScopes"></select></div><div style="margin-left:-15px;padding-top:25px" class="padding15px size14"><strong class="size14" style="margin-right:58px">基本功能</strong> <span class="size13"><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_create\']" value="ticket_create"> 添加工单</label></span><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_delete\']" value="ticket_delete"> 删除工单</label></span><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_merge\']" value="ticket_merge"> 合并工单</label></span><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_update\']" value="ticket_update"> 编辑工单属性</label></span><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_reply\']" value="ticket_reply"> 回复工单</label></span><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_print\']" value="ticket_print"> 打印工单</label></span><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_detail_export\']" value="ticket_detail_export"> 导出工单</label></span><span style="margin-left:118px;margin-right:40px;margin-bottom:10px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_review\']" value="ticket_review"> 工单审核</label></span><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_reply_pending\']" value="ticket_reply_pending"> 暂停工单</label></span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_reply_solved\']" value="ticket_reply_solved"> 处理完毕工单</label></span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_force_handle\']" value="ticket_force_handle"> 强制处理工单</label></span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_operate_log\']" value="ticket_operate_log"> 工单操作日志</label></span></span></div><div style="margin-left:-15px;margin-top:-40px" class="padding15px size14"><strong class="size14" style="margin-right:58px">高级功能</strong> <span class="size13"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_view_manage\']" value="ticket_view_manage"> 编辑视图</label></span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_export\']" value="ticket_export"> 导出工单列表</label></span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_suspended_manage\']" value="ticket_suspended_manage"> 隔离区列表和删改</label></span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_deleted_manage\']" value="ticket_deleted_manage"> 回收站列表和删改</label></span><span style="margin-right:40px;margin-bottom:25px;display:inline-block" ng-if="$root.hasBatchTicketCreateModule"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'batch_ticket_create\']" value="batch_ticket_create"> 高级建单</label></span></span></div><div style="margin-left:-15px;margin-top:-40px" class="padding15px size14 clearfix"><strong class="size14" style="margin-right:58px;float:left">工单设置</strong><div class="size13" style="float:right;width:848px"><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_public_quick_reply\']" value="ticket_public_quick_reply"> 编辑公共快捷回复</label></span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_public_template\']" value="ticket_public_template"> 编辑公共工单模板</label></span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_public_workflow\']" value="ticket_public_workflow"> 编辑工作流</label></span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_setting_customfield\']" value="ticket_setting_customfield"> 自定义工单字段</label></span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_custom_form\']" value="ticket_custom_form"> 工单类型扩展表单管理</label></span></div></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">会话管理权限</strong></div><p class="line_solid_02 margin_left20px"></p><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:58px">可见范围</strong><select class="size13 form-control w300" style="display:inline-block" ng-model="chatAccessScope" ng-options="accessScope.label for accessScope in chatAccessScopes"></select></div><div style="margin-left:-15px;padding-top:25px" class="padding15px size14"><strong class="size14" style="margin-right:58px">基本操作</strong> <span class="size13"><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_create\']" value="chat_create"> 创建会话 </span><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_delete\']" value="chat_delete"> 删除会话 </span><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_transfer\']" value="chat_transfer"> 转接会话 </span><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_invite\']" value="chat_invite"> 邀请多方会话 </span><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_shows_busy\']" value="chat_shows_busy"> 示忙 </span><span style="margin-right:40px;margin-bottom:10px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_reception\']" value="chat_reception"> 主动接待会话 </span><span style="margin-left:118px;margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_call_out\']" value="chat_call_out"> 电话拨号盘（呼出电话）</span></span></div><div style="margin-left:-15px;margin-top:-40px;overflow:hidden" class="padding15px size14"><strong class="size14" style="margin-right:58px">高级操作</strong> <span class="size13" style="float:right;width:848px"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'ticket_force_join_chat\']" value="ticket_force_join_chat"> 插入会话 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_force_transfer\']" value="chat_force_transfer"> 强制转接会话 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'ticket_chat_assign\']" value="ticket_chat_assign"> 分派等待中的会话 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_setting\']" value="chat_setting"> 会话设置 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_edit_automation\']" value="chat_edit_automation"> 编辑自动化程序 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_edit_trigger\']" value="chat_edit_trigger"> 编辑触发器 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_edit_evaluate\']" value="chat_edit_evaluate"> 调查问卷 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'chat_quality\']" value="chat_quality"> 质检会话</span></span></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">项目看板权限</strong></div><p class="line_solid_02 margin_left20px"></p><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:58px">可见范围</strong><select class="size13 form-control w300" style="display:inline-block" ng-model="projectAccessScope" ng-options="accessScope.label for accessScope in projectAccessScopes"></select></div><div style="margin-left:-15px;padding-top:25px" class="padding15px size14"><strong class="size14" style="margin-right:58px">基本操作</strong> <span class="size13"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'project_create\']" value="project_create"> 创建项目 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'project_delete\']" value="project_delete"> 删除项目</span></span></div><div style="margin-left:-15px;margin-top:-40px" class="padding15px"><strong class="size14" style="margin-right:58px">高级操作</strong> <span class="size13"><span style="margin-right:40px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'project_category_manage\']" value="project_category_manage"> 管理项目分类</span></span><div style="margin-left:118px;margin-top:12px;margin-bottom:25px;line-height:18px;color:#999"><p>拥有管理项目分类权限的客服，才可添加、编辑和删除项目分类，其中排序、隐藏</p><p>或显示项目分类，无权限控制，仅对本人有效。</p></div></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">社区管理权限</strong></div><p class="line_solid_02 margin_left20px"></p><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:58px">社区角色</strong><select class="size13 form-control w300" style="display:inline-block" ng-model="communityAccessScope" ng-options="accessScope.label for accessScope in communityAccessScopes"></select><div style="margin-left:118px;margin-top:12px;margin-bottom:40px;line-height:18px;color:#999"><p>访客，可见公开的社区内容，点赞、收藏、分享、评论、回答问题和发布问题到可见的版块目录中。</p><p>作者，具备访客所有权限，可见公开的社区内容，支持添加文章、编辑本人发布的文章（保存为草稿）和回复评论。</p><p>编辑，具备作者所有权限，可见公开的社区内容，支持添加编辑文章到可见的版块目录中。</p></div></div><div style="margin-left:-15px;margin-top:-40px" class="padding15px size14 clearfix"><strong class="size14" style="margin-right:58px;float:left">高级操作</strong> <span class="size13" style="float:right;width:848px"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'helpcenter_website_manage\']" value="helpcenter_website_manage"> 网站管理 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'helpcenter_topic_manage\']" value="helpcenter_topic_manage"> 目录管理 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'helpcenter_ui_settings\']" value="helpcenter_ui_settings"> 界面设置</span></span></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">统计报告权限</strong></div><p class="line_solid_02 margin_left20px"></p><div class="margin_left20px" style="padding-top:14px"><div><strong class="size14" style="margin-right:58px">可见范围</strong><select class="size13 form-control w300" style="display:inline-block" ng-model="reportAccessScope" ng-options="accessScope.label for accessScope in reportAccessScopes"></select></div><div style="margin-left:-15px;padding-top:25px" class="padding15px size14 clearfix"><strong class="size14" style="margin-right:58px;float:left">基本操作</strong> <span class="size13" style="float:right;width:848px"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'statistics_engineer_performance\']" value="statistics_engineer_performance"> 客服绩效 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'statistics_ticket_statistics\']" value="statistics_ticket_statistics"> 工单统计 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'statistics_chat_statistics\']" value="statistics_chat_statistics"> 会话统计 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'statistics_customer_statistics\']" value="statistics_customer_statistics"> 客户统计 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'service_report\']" value="service_report"> 服务报告 </span></span><span class="size13" style="float:right;width:848px"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'ticket_performance_statistics\']" value="ticket_performance_statistics"> 绩效指标 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'ticket_distributed_statistics\']" value="ticket_distributed_statistics"> 分布排行 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'customer_analyze_statistics\']" value="customer_analyze_statistics"> 客户分析</span></span></div><div style="margin-left:-15px;margin-top:-40px" class="padding15px size14 clearfix"><strong class="size14" style="margin-right:58px;float:left">高级操作</strong> <span class="size13" style="float:right;width:848px"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'statistics_export\']" value="statistics_export"> 数据导出 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'custom_statistics_report\']" value="custom_statistics_report"> 自定义统计报告</span></span></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">系统设置权限</strong></div><p class="line_solid_02 margin_left20px"></p><div class="margin_left20px" style="padding-top:5px"><div style="margin-left:-15px;padding-top:25px" class="padding15px size14 clearfix"><strong class="size14" style="margin-right:58px;float:left">高级操作</strong><div class="size13" style="float:right;width:848px"><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_company_account\']" value="system_setting_company_account"> 公司账号 </span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_domain\']" value="system_setting_domain"> 独立域名 </span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_app_market\']" value="system_setting_app_market"> 应用市场 </span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_operation_log\']" value="system_setting_operation_log"> 操作日志 </span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_tags\']" value="system_setting_tags"> 标签 </span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_email\']" value="system_setting_email"> 通知邮件 </span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_logo\']" value="system_setting_logo"> 界面LOGO </span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_helpcenter_custom\']" value="system_setting_helpcenter_custom"> 帮助中心界面个性化 </span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'release_helpcenter_announcement\']" value="release_helpcenter_announcement"> 帮助中心公告 </span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_helpcenter_sso\']" value="system_setting_helpcenter_sso"> 单点登录 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_helpcenter_access_control\']" value="system_setting_helpcenter_access_control"> 安全与访问控制 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_oem\']" value="system_setting_oem"> OEM设置 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_helpcenter_friend_provider\']" value="system_setting_helpcenter_friend_provider"> 友商设置 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'system_setting_webhook\']" value="system_setting_webhook"> Webhook </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'assign_rules_permissions\']" value="assign_rules_permissions"> 智能分派 </span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_setting_service_catalog\']" value="ticket_setting_service_catalog"> 编辑服务目录</label></span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_setting_work_time\']" value="ticket_setting_work_time"> 编辑营业时段</label></span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_setting_business_rules\']" value="ticket_setting_business_rules"> 编辑SLA</label></span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_setting_automation\']" value="ticket_setting_automation"> 编辑自动化程序</label></span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_setting_ticket_trigger\']" value="ticket_setting_ticket_trigger"> 编辑触发器</label></span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'ticket_setting_via\']" value="ticket_setting_via"> 渠道接入管理</label></span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'system_setting_ticket_evaluate\']" value="system_setting_ticket_evaluate"> 调查问卷</label></span><span style="margin-right:40px;margin-bottom:15px;display:inline-block"><label style="font-weight:400"><input type="checkbox" ng-model="checkboxes[\'automaton_manage\']" value="automaton_manage"> 智能机器人设置</label></span></div></div></div><div class="margin_left20px size14" style="margin-bottom:8px"><span style="height:25px;width:5px;float:left;background-color:#3C3;display:inline-block"></span> <strong style="line-height:25px;height:25px;margin-left:6px;display:inline-block">通话管理权限</strong></div><p class="line_solid_02 margin_left20px"></p><div class="margin_left20px" style="padding-top:14px;margin-bottom:20px"><div><strong class="size14" style="margin-right:58px">可见范围</strong><select class="size13 form-control w300" style="display:inline-block" ng-model="callAccessScope" ng-options="accessScope.label for accessScope in callAccessScopes"></select></div><div style="margin-left:-15px" class="padding15px size14 clearfix"><strong class="size14" style="margin-right:58px;float:left">高级操作</strong> <span class="size13" style="float:right;width:848px"><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'callcenter_seat_monitor\']" value="callcenter_seat_monitor"> 坐席监控 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'call_quality\']" value="call_quality"> 通话质检 </span><span style="margin-right:40px;margin-bottom:25px;display:inline-block"><input type="checkbox" ng-model="checkboxes[\'call_settings\']" value="call_settings"> 呼叫中心设置</span></span></div></div></fieldset><p class="line_solid_02 margin_left20px"></p><div class="padding_top25px padding_left20px" style="margin-left:118px;margin-bottom:40px" ng-if="formEditable"><button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-disabled="!editRoleForm.$valid||!formEditable" ng-click="save();">更新</button></div></form></div>');e.put("source/views/system_setting/setting.roles.html",'<div class="title"><h5>角色</h5><div class="btn-group pull-right margin10px padding_right10px padding_top5px"><a has-permission="role_manage" ng-click="addRole()" class="btn btn-default">添加角色</a></div><div class="title-box padding_top5px padding_right10px pull-right"><div class="search-box"><input type="button" value="清除搜索条件" ng-show="(searchKey!=null&&searchKey!=\'\')||isAdvancedQuery" ng-click="clearSearch();" class="tip"><div class="input-group"><input type="text" class="form-control txt" placeholder="搜索角色名称" ng-model="searchKey" ng-enter="search(searchKey)"> <span class="input-group-addon" style="cursor:pointer" ng-click="search(searchKey)" ng-style="(searchKey!=null&&searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span></div></div></div></div><div class="ewei-table no-pager"><div class="data-area"><table class="table table-hover table-striped"><thead><tr><th style="width:220px">角色名称</th><th style="width:220px" class="text-left">更新于</th><th class="text-left">更新人</th><th class="text-right">操作</th></tr></thead><tbody><tr ng-if="serviceDesks.length==0"><td colspan="3">还没有角色</td></tr><tr ng-repeat="role in defaultRoles track by $index"><td style="width:220px;padding-top:12px"><span style="max-width:300px">{{role.name | translate}}</span></td><td style="text-align:left;width:220px"><span>{{role.updatedAt}}</span></td><td style="text-align:left;width:120px"><span>{{role.updater.name}}</span></td><td class="text-right"><a has-permission="role_manage" ui-sref="system_setting.role_edit({id:role.id})" style="text-decoration:none">&emsp;&emsp;查看</a></td></tr><tr ng-repeat="role in defineRoles track by $index"><td style="width:220px;padding-top:12px"><a class="channel-name" style="max-width:300px" ui-sref="system_setting.role_edit({id:role.id,type:\'update\'})">{{role.name | translate}}</a></td><td style="text-align:left;width:220px"><span>{{role.updatedAt}}</span></td><td style="text-align:left;width:120px"><span>{{role.updater.name}}</span></td><td class="text-right"><a has-permission="role_manage" ng-click="cloneRole(role.id)">克隆</a> <a has-permission="role_manage" ui-sref="system_setting.role_edit({id:role.id,type:\'update\'})" style="text-decoration:none">&emsp;|&emsp;编辑</a> <a has-permission="role_manage" ng-click="deleteRole(role.id,role.name,$index);" ng-if="!role.nameKey" style="text-decoration:none">&emsp;|&emsp;删除</a></td></tr></tbody></table><div style="text-align:center"><a class="btn btn-default" style="color:#428bca;font-size:12px;line-height:20px">共计{{defineRoles.length + defaultRoles.length}}条</a></div></div></div>');e.put("source/views/system_setting/setting.service_desks.html",'<div class="title"><h5>客服组</h5><div class="btn-group pull-right margin10px padding_right10px padding_top5px"><a has-permission="service_desk_create" ng-click="toEditserviceDesk(0,\'add\')" class="btn btn-default">添加客服组</a></div><div class="title-box padding_top5px padding_right10px pull-right"><div class="search-box"><input type="button" value="清除搜索条件" ng-show="(searchKey!=null&&searchKey!=\'\')||isAdvancedQuery" ng-click="clearSearch();" class="tip"><div class="input-group"><input type="text" class="form-control txt" placeholder="搜索客服组名称" ng-model="searchKey" ng-enter="search(searchKey)"> <span class="input-group-addon" style="cursor:pointer" ng-click="search(searchKey)" ng-style="(searchKey!=null&&searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span></div></div></div></div><div class="ewei-table no-pager" style="background-color:#fff"><div class="table-responsive data-area"><table class="table table-hover table-striped"><thead><tr><th style="width:330px">客服组名称</th><th class="text-center">客服人数</th><th class="text-right">操作</th></tr></thead><tbody><tr ng-if="serviceDesks.length==0"><td colspan="3">还没有客服组</td></tr><tr ng-repeat="serviceDesk in serviceDesks track by serviceDesk.id"><td style="width:330px;padding-top:12px"><a class="channel-name" style="max-width:300px" ng-click="toEditserviceDesk(serviceDesk.id,\'edit\')">{{serviceDesk.name}}</a></td><td style="text-align:center;width:120px"><span>{{serviceDesk.engineerCount}}</span></td><td class="text-right"><a has-permission="service_desk_update" ng-click="toEditserviceDesk(serviceDesk.id,\'edit\')">编辑</a> <span ng-if="serviceDesk.name != \'默认服务台\' && isShowLine">&emsp;|&emsp;</span> <a has-permission="service_desk_delete" ng-if="serviceDesk.name != \'默认服务台\'" ng-click="deleteServiceDesk($index,serviceDesk)">删除</a></td></tr></tbody></table><div style="text-align:center"><a class="btn btn-default" style="color:#428bca;font-size:12px;line-height:20px">共计{{serviceDesks.length}}条</a></div></div></div>');e.put("source/views/system_setting/setting.service_desks_edit.html",'<style type="text/css">.editUserGroupEngineerBox{height:340px;border:1px solid #E4E4E4;width:530px;padding:10px;position:relative}.editUserGroupEngineerBox .userGroupSearchBox span{position:absolute;top:0;right:0;width:34px;height:34px;text-align:center;line-height:34px}.editUserGroupEngineerBox .userGroupSearchList{margin-top:20px;margin-left:-10px;overflow-y:auto;height:260px}.editUserGroupEngineerBox .userGroupSearchList li{display:block;margin-bottom:0;height:30px;line-height:30px;padding-left:10px}.editUserGroupEngineerBox .userGroupSearchList li:hover{background:#E6E6E6}.editUserGroupEngineerBox .userGroupSearchList li span{display:inline-block;width:370px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:middle}.editUserGroupEngineerBox .userGroupSearchList li button{position:relative;top:-1px}.editUserGroupEngineerBox .userGroupSearchList li button:hover{background:#3BA2DF;color:#fff;border:none}.editUserGroupEngineerBox .searchResultList{position:absolute;left:20px;top:30px;width:508px;background:#fff;z-index:998;border:1px solid #E4E4E4;max-height:260px;height:auto;border-radius:5px;padding:10px 0}.editUserGroupMultipleSelectBox{position:relative;width:530px}.editUserGroupMultipleSelectBox li{display:block;margin-bottom:0}.inviteEngineer-has-error{border-color:#a94442;box-shadow:inset 0 1px 1px #ce8483;color:red}.inviteEngineer-has-error:focus{border-color:#843534;box-shadow:inset 0 1px 1px #ce8483,0 0 6px #ce8483}</style><div class="setting-head-common"><div class="nav-title"><a ng-href="#/system_setting/engineers/service_desks">客服组</a> 》{{title}}</div><oem-learn-more type="service_desks" description="客服组是客服的子集，可按任意维度将客服人员组合在一起，共享组的客户、会话和工单，共担组的服务绩效。可定义客服组之间的协同关系。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/391" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li class="active">客服组</li></ul><div class="setting-common-body"><ul><li><div class="title-bar"><span>客服组名称</span></div><div class="form-content"><input ng-disabled="isDefaultServiceDesk" style="width:530px" type="text" class="form-control" ng-model="engineerGroupData.name" maxlength="32"><p class="tip">取一个简单易记的名称</p></div></li><li><div class="title-bar"><span>客服组成员</span></div><div style="width:780px" class="form-content"><div search-engineer-by-user-group class="editUserGroupEngineerBox"><div class="userGroupSearchBox" style="position:relative"><input placeholder="输入已有客服的名字或邮箱，添加为成员" style="padding-right:34px" type="text" class="form-control"> <span><i class="fa fa-search"></i></span></div><ul ng-show="isShowSearchList" class="userGroupSearchList searchResultList"><li ng-repeat="item in searchList track by item.id"><span>{{::item.user.name}} {{::item.user.email}}</span> <button ng-click="addEngineer(item,$index)" type="button" class="btn btn-default btn-xs">添加</button></li></ul><ul class="userGroupSearchList" ng-sortable="sortOptions"><li ng-repeat="item in checkedEngineerList track by item.id"><span>{{::item.user.name}} {{::item.user.email}}</span><div class="sort-handle btn btn-default btn-xs" style="margin-right:6px;display:inline-block;float:none">拖动排序</div><button ng-hide="item.isDefault" ng-click="delEngineer(item,$index)" type="button" class="btn btn-default btn-xs">移除</button></li></ul></div><p class="tip">同组成员共享客户、工单和会话，共担组的服务绩效。</p><p class="tip">组内的客服排序将影响对应客服在会话分配时的优先级，排序在上的优先级越高</p><div style="margin-top:20px"><div ng-show="inviteEngineers.length == 0"><button has-permission="engieer_create" ng-click="inviteEngineer()" style="background-color:#fff;color:#4cae4c" type="button" class="btn btn-success btn-sm">+ 邀请新客服</button><p class="tip">邀请新的客服人员，注册成为本组成员，且该组默认成为该客服的首选客服组</p></div><ul><li style="margin-bottom:10px" ng-repeat="item in inviteEngineers" class="clearfix"><input maxlength="32" ng-blur="ngBlur(item)" ng-focus="ngFocus(item)" ng-class="{true: \'inviteEngineer-has-error\'}[item.verifyNameFail]" ng-model="item.name" style="width:160px" type="text" class="form-control pull-left" placeholder="名字"> <input ng-blur="ngBlur(item)" ng-focus="ngFocus(item)" ng-class="{true: \'inviteEngineer-has-error\'}[item.verifyEmailFail]" ng-model="item.email" style="width:260px;margin-left:10px" type="text" class="form-control pull-left has-error" placeholder="Email"><select style="width:240px;margin-left:10px" class="form-control pull-left" ng-options="option.id as option.name for option in engineersRoleList" ng-model="item.engineerRole"></select><div style="width:100px;height:34px;line-height:34px;font-size:25px"><i ng-click="cancelInviteEngineer($index)" style="margin-left:25px;cursor:pointer" class="fa fa-minus-circle"></i> <i ng-if="inviteEngineers.length == ($index+1)" ng-click="inviteEngineer(item)" style="margin-left:20px;cursor:pointer;color:#6C6" class="fa fa-plus-circle"></i></div></li></ul><div style="margin-top:20px" ng-show="inviteEngineers.length > 0"><p class="tip">输入客服人员的名字和邮箱，向他们发送邀请注册邮件。<br>客服人员收信后，点击链接设置密码，完成注册，成为本组成员。</p></div></div></div></li><li><div class="title-bar"><span>协同客服组</span></div><div class="form-content"><div class="editUserGroupMultipleSelectBox"><service-desk-mutil-select selectedservicedesk="selectedServiceDesk"></service-desk-mutil-select></div><p class="tip">在分派或抄送工单时，在转接或邀请会话时，可以选择哪些组及其成员。</p></div></li><li ng-if="engineerGroupId > 0 && Channel.length > 0"><div class="title-bar"><span>智能分派</span></div><div class="form-content"><div style="border:1px solid #E4E4E4;width:530px;border-radius:5px;padding:10px;word-break:break-all;min-height:34px"><p ng-repeat="item in Channel track by $index"><sapn>{{::item.type | serviceChannel}}</sapn>&nbsp;&nbsp;\\&nbsp;&nbsp;<sapn>{{::item.name}}</sapn></p></div><p class="tip">以上智能分派，将客户的服务请求投递到本客服组。<br>进入规则详情页，更改分派规则，可添加或移除本组。</p></div></li><li ng-if="engineerGroupId > 0 && bindUserGroup.length > 0"><div class="title-bar"><span>绑定客户组</span></div><div class="form-content"><div style="padding:10px 0;min-height:480px" class="editUserGroupEngineerBox"><ul style="margin:0;min-height:460px" class="userGroupSearchList"><li ng-repeat="item in bindUserGroup track by item.id"><span>{{::item.name}}</span> <button ng-click="removeUserGroup($index)" type="button" class="btn btn-default btn-xs">移除</button></li></ul></div><p class="tip">除非特别设定，客服组的成员总是可见绑定的客户组及组内的客户。<br>进入客户组列表或详情，可添加客户组绑定到本组。</p></div></li><li><div class="title-bar"></div><div class="form-content"><button ng-disabled="!isHavePermissionEdit" type="button" class="btn btn-primary w100" ng-click="updateEngineerGroup()">更新</button></div></li></ul></div></div>');e.put("source/views/system_setting/setting.signConfig.html",'<style>.signin{margin-left:20px;width:930px}.signin-title{padding-top:13px}.signin-title strong{font-size:16px}.signin-content{margin-left:0}.signin-content table{margin-left:120px;line-height:20px;margin-top:20px}.signin-content table tr td{width:800px;height:58px}.signin-content .description{color:#999;margin-top:10px}.signin-content .first-item{margin-top:10px;display:inline-block;margin-bottom:10px}.signin-content .first-item .left{margin-right:30px;float:left}.signin-content .first-item .right{float:right}.signin-content .first-item .right>input,.signin-content .first-item .right>select,.signin-content .other-item>input,.signin-content .other-item>select{width:462px}.signin-content .other-item{margin-left:110px;margin-top:10px;display:inline-block;margin-bottom:10px}.signin-content .third-account{margin-left:20px;margin-top:10px}.signin-content .third-account .account-item{display:inline-block}.signin-content .third-account .account-item>span{margin-left:5px;margin-right:30px}.signin-content .third-account .account-item>input,.signin-content .third-account .account-item>span{vertical-align:middle}.signin-content .third-account .account-item>input{margin-top:0}.signin-content .third-account .account-item>img{width:16px;height:16px}</style><div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>SSO单点登录</strong></p></div><oem-learn-more type="helpcenter_setting_access" description="设置帮助中心的访问控制方案，单点登录。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1270" class="know-more"></oem-learn-more><div class="signin-content"><div class="pull-left"><strong>登录验证方式</strong></div><table style="" border="0" cellspacing="0"><tbody><tr ng-class="{\'selected\':signinConfig.type==\'ewei_account\'}"><td align="left" valign="center"><div><div style="margin-bottom:10px"><input name="signInType" ng-model="signinConfig.type" value="ewei_account" ng-change="radioChange();" type="radio" style="float:left"><div style="margin-left:20px"><strong>使用客服系统的账号登录</strong><div class="description">在客服系统添加或批量导入客户时，为客户创建账号（邮箱、手机号码、External ID）和密码<br>客户通过网页和邮件渠道提交工单或请求会话时，系统自动为客户创建账号（邮箱），登录密码由客户自行设定<br>客户关注微信渠道的微信公众号时，系统自动为客户创建账号并登录</div></div></div><div ng-if="signinConfig.type==\'ewei_account\'" style="margin:20px 20px"><div style="margin:20px"><input ng-disabled="licenseIsFree" ng-model="signinConfig.accountSignIn.signUp" style="vertical-align:middle" type="checkbox"> <span style="vertical-align:middle">允许用户自行注册账号</span></div><span style="margin-left:20px">允许下列社交账号登录帮助中心（登录成功后自动注册为客户）</span><div class="third-account"><div class="account-item"><input ng-model="signinConfig.accountSignIn.weixinSmallApp" value="true" type="checkbox"> <img src="source/images/u127.png"> <span class="account-item">微信账号</span></div><div class="account-item"><input ng-model="signinConfig.accountSignIn.qq" value="true" type="checkbox"> <img src="source/images/ten-logo24.png"> <span class="account-item">腾讯QQ账号</span></div><div class="account-item"><input ng-model="signinConfig.accountSignIn.weibo" value="true" type="checkbox"> <img src="source/images/xin-logo24.png"> <span class="account-item">新浪微博账号</span></div><div class="account-item"><input ng-model="signinConfig.accountSignIn.qiyeQq" value="true" type="checkbox" ng-disabled="isQiyeQQInputDisabled"> <img src="source/images/qiyeQQ-logo24.png"> <span style="margin-right:0" class="account-item">企业QQ账号（需先行安装企业QQ应用）</span></div></div></div></div></td></tr><tr ng-class="{\'selected\':signinConfig.type==\'sso\'}"><td align="left" valign="center"><div style="margin-top:20px;margin-bottom:20px"><div style="margin-bottom:10px"><input name="signinConfig.type" ng-model="signinConfig.type" value="sso" ng-change="radioChange();" type="radio" style="float:left"><div style="margin-left:20px"><strong>第三方账号单点登录（SSO）</strong><div class="description">将登录请求重定向到第三方登录页面，用户凭第三方账号登录，登录成功后再重定向到帮助中心首页，并自动注册为客户。</div></div></div><div ng-if="signinConfig.type==\'sso\'" style="margin-left:40px"><div class="first-item"><div class="left"><strong>SSO接口类型</strong></div><div class="right"><select ng-model="selected.selectedSSOType" ng-options="item.display for item in ssoType" ng-change="ssoTypeChanged(selected.selectedSSOType);" class="form-control"></select><div class="description">选择接口类型</div></div></div><div ng-if="signinConfig.accountSignIn.saml"><div class="first-item"><div class="left"><strong>SSO接口参数</strong></div><div class="right"><div>重定向登录URL*</div><input type="text" maxlength="255" placeholder="登录页面网址" ng-model="signinConfig.ssoSignIn.saml.loginUrl" class="form-control" ng-readonly="signinConfig.type!=\'sso\' || signinConfig.accountSignIn.saml==false"></div></div><div class="other-item"><div>回调地址参数名</div><input type="text" ng-model="signinConfig.ssoSignIn.saml.loginParam" placeholder="默认为TARGET" class="form-control" ng-readonly="signinConfig.type!=\'sso\' || signinConfig.accountSignIn.saml==false"></div><div class="other-item"><div>票据参数名</div><input type="text" ng-model="signinConfig.ssoSignIn.saml.ticketParam" placeholder="默认为SAMLart" class="form-control" ng-readonly="signinConfig.type!=\'sso\' || signinConfig.accountSignIn.saml==false"></div><div class="other-item"><div>获取SAML数据URL*</div><input type="text" ng-model="signinConfig.ssoSignIn.saml.samlUrl" class="form-control" ng-readonly="signinConfig.type!=\'sso\' || signinConfig.accountSignIn.saml==false"></div><div class="other-item"><div>SAML数据中唯一标识的节点名</div><input type="text" ng-model="signinConfig.ssoSignIn.saml.emailParam" placeholder="默认为NameID" class="form-control" ng-readonly="signinConfig.type!=\'sso\' || signinConfig.accountSignIn.saml==false"></div><div class="other-item"><div>重定向登出URL</div><input type="text" placeholder="登出后着陆页面网址" ng-model="signinConfig.ssoSignIn.saml.logoutUrl" class="form-control" ng-readonly="signinConfig.type!=\'sso\' || signinConfig.accountSignIn.saml==false"></div></div><div ng-if="signinConfig.accountSignIn.jwt"><div class="first-item"><div class="left"><strong>SSO接口参数</strong></div><div class="right"><div>重定向登录URL*</div><input type="text" maxlength="255" placeholder="登录页面网址" ng-model="signinConfig.ssoSignIn.jsonWebToken.loginUrl" class="form-control" ng-readonly="signinConfig.type!=\'sso\' || signinConfig.accountSignIn.jwt==false"></div></div><div class="other-item"><div>重定向登出URL</div><input type="text" placeholder="登出后着陆页面网址" ng-model="signinConfig.ssoSignIn.jsonWebToken.logoutUrl" class="form-control"></div><div class="other-item"><div><span>共享秘钥</span></div><input type="text" class="form-control" ng-disabled="true" ng-model="signinConfig.ssoSignIn.jsonWebToken.secretKey"><p class="description">此密钥是您和我们之间的共享密钥。请勿公开</p></div><div class="other-item"><div>登录成功跳转URL</div><input type="text" style="width:600px;display:inline-block" class="form-control" ng-disabled="true" value="http://你的子域名.ewei.com/jwt_callback?_timestamp={_timestamp}&code={code}"><div class="description">{_timestamp}=加密密钥中使用的时间毫秒数<br>{code}=jwt协议加密之后的值。加密密钥=共享密钥+当前时间毫秒数</div></div></div><div class="first-item"><div class="left"><strong>用户类型</strong></div><div class="right" style="margin-left:30px;-webkit-margin-start:25px"><select ng-model="selected.selectedSSOUserType" ng-options="item.display for item in ssoUserType" ng-change="ssoUserTypeChanged(selected.selectedSSOUserType);" class="form-control"></select><div class="description">选择单点登录的方案，比如：客服使用第三方账号单点登录，客户使用本系统的账号登录，反之亦可。</div></div></div></div></div></td></tr><tr ng-class="{\'selected\':signinConfig.type==\'ldap\'}"><td align="left" valign="center"><div style="margin-top:20px;margin-bottom:20px"><div style="margin-bottom:10px"><input name="signInType" ng-model="signinConfig.type" value="ldap" ng-change="radioChange();" type="radio" style="float:left"><div style="margin-left:20px"><strong>LDAP验证</strong><div class="description">用户在帮助中心登录时，系统将登录凭证（账号密码）提交给LDAP/AD服务器进行验证，验证通过后完成登录，并自动注册为系统的客户。</div></div></div><div ng-show="signinConfig.type==\'ldap\'" style="margin-left:40px"><div class="first-item"><div class="left" style="margin-right:20px"><strong>LDAP接口参数</strong></div><div class="right"><div>服务器类型</div><select ng-model="selected.selectedLdapServerType" class="form-control" ng-options="item.display for item in ldapServerType" ng-change="ldapServerTypeChanged(selected.selectedLdapServerType)"></select></div></div><div class="other-item"><div style="width:250px;margin-right:20px;float:left"><div>服务器地址</div><input type="text" maxlength="255" placeholder="IP或域名" ng-change="ldapInfoChange()" ng-model="signinConfig.ldapSignIn.server" class="form-control"></div><div style="width:80px;margin-right:20px;float:left"><div>端口</div><input type="number" min="1" style="margin-right:10px" ng-change="ldapInfoChange()" ng-model="signinConfig.ldapSignIn.port" class="form-control"></div><div style="width:90px;margin-right:20px;float:right"><div>启用SSL</div><select style="float:left" ng-change="ldapSSLTypeChanged(selected.selectedLdapSSLType)" ng-options="item.display for item in ldapSSLType" ng-model="selected.selectedLdapSSLType" class="form-control"></select></div></div><div class="other-item"><div>LDAP目录中用户的位置</div><input type="text" ng-change="ldapInfoChange()" placeholder="如：dc=域名,dc=com" ng-model="signinConfig.ldapSignIn.userDirectory" class="form-control"></div><div class="other-item"><div>搜索过滤器</div><input type="text" maxlength="255" ng-change="ldapInfoChange()" ng-model="signinConfig.ldapSignIn.filter" class="form-control"></div><div class="other-item"><div>域管理员账号</div><input type="text" maxlength="255" placeholder="如：Administrator" ng-change="ldapInfoChange()" ng-model="signinConfig.ldapSignIn.admin" class="form-control"></div><div class="other-item"><div>密码</div><input type="password" maxlength="255" ng-change="ldapInfoChange()" ng-model="signinConfig.ldapSignIn.password" class="form-control"></div><div class="other-item"><button class="btn btn-default" maxlength="255" ng-click="verifyLdapSetting();" style="width:100px;margin-right:30px;margin-top:20px;margin-bottom:20px;border-color:#3BA2DF;color:#3BA2DF">验证</button> <span ng-if="false==ldapverify" style="color:#999">先验证通过，后设置匹配字段</span> <span ng-if="true==ldapverify" style="color:#F60">验证成功，请设置匹配字段</span></div><div class="first-item" style="margin-bottom:0"><div class="left" style="margin-right:60px"><strong>匹配字段</strong></div><div class="right"><div style="margin-bottom:10px">选择域用户字段与客户字段的对应关系。验证成功后，本系统将自动创建新客户，获取对应字段的值。</div></div></div><div class="other-item"><div style="float:left;width:200px;margin-right:65px"><strong>客户属性字段</strong></div><div style="float:left;width:200px"><strong>LDAP用户字段</strong></div><div><ul style="padding-left:0;list-style:none"><li style="height:40px" ng-repeat="field in signinConfig.ldapSignIn.propertyFields track by $index"><div style="width:540px"><span type="text" ng-disabled="true" class="form-control" style="margin-top:10px;float:left;width:200px;margin-right:65px;border:1px solid #E4E4E4">{{field.userPropertyDisplay}}</span><select class="form-control" ng-model="field.ldapProperty" ng-options="optionitem.value as optionitem.caption for optionitem in ldapFields" style="margin-top:10px;float:left;width:200px"></select><div ng-if="field.userProperty!=\'name\'&&field.userProperty!=\'email\'" class="size30" style="margin-left:10px;margin-top:15px;float:left;width:10px;color:#e04006;cursor:pointer" href="javascript:void(0)" ng-click="deleteLdapField($index);">-</div></div></li></ul><button style="margin-right:160px;width:100px;margin-top:20px;border-color:#3BA2DF;color:#3BA2DF" ng-click="toShowSelectLdapField() " href="javascript:void(0); " class="btn btn-default">+更多字段</button></div></div><div class="first-item"><div class="left"><strong>用户类型</strong></div><div class="right" style="margin-left:30px;-webkit-margin-start:25px"><select ng-model="selected.selectedLdapUserType" ng-options="item.display for item in ldapUserType" ng-change="ldapUserTypeChanged(selected.selectedLdapUserType);" class="form-control"></select><div class="description">选择LDAP验证的方案，比如：客户登录需通过LDAP验证，客服使用本系统的账号登录，反之亦可。</div></div></div><div class="first-item"><div class="left"><strong>用户数据</strong></div><div class="right" style="-webkit-margin-start:25px"><input style="width:20px" type="checkbox" ng-model="importUser">同步LDAP服务器用户为客户<div class="description">更新成功时，将自动同步LDAP服务器用户为客户</div></div></div></div></div></td></tr></tbody></table></div><div class="row" style="margin-bottom:100px"><p style="margin-top:30px;margin-bottom:20px" class="margin_left20px line_solid_02"></p><div class="col-sm-2" style="padding-right:0;margin-left:124px;width:110px"><button type="button " ng-click="updateSigninConfigSignIn()" class="btn btn-primary btn-sm padding_left30px padding_right30px">更新</button></div><div class=""><p>配置单点登录方案需小心，容易发生意外锁定无法登录的情形。</p><p style="white-space:nowrap">如果你的账户被锁在外面，请用 <span style="color:#333;font-weight:700">{{loginURL}}new/#/login</span> 登录，建议你先保存这个链接。</p></div></div></div>');e.put("source/views/system_setting/setting.sugarCEM_app_detail.html",'<html style="overflow:auto;min-width:870px;overflow:scroll"><div style="margin-top:25px"><img style="width:48px;height:48px" class="margin_left20px size16" src="source/images/daoru10.gif"></div><div style="position:relative;min-width:870px"><div class="padding_top13px"><p class="margin_left20px size16"><strong>Ewei Helpdesk for SugarCRM</strong></p><p style="width:auto" class="margin_left20px line_solid_02"></p></div></div><p class="margin_left20px margin_top10px">程序猿正在忙碌地开发中，敬请期待...</p></html>');e.put("source/views/system_setting/setting.tag_setting.html",'<div style="margin-left:20px;width:900px"><p class="size16" style="margin:20px 20px 15px 0;color:#666"><strong>标签</strong></p><oem-learn-more type="system_setting_tag_setting" description="标签分别作用于客服（组）、客户（组）、工单、文章（目录）、问题（话题）等对象，并可贯通这些对象建立特定的业务逻辑。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/387" class="size13"></oem-learn-more><br><p class="size16"><strong>全部标签</strong></p><p class="line_solid_02"></p><div class="form-group w450 margin_top10px"><form name="tagForm"><input class="form-control w300 pull-left" placeholder="标签名称" required="required" ng-model="tag.name"> <button class="btn btn-primary w100 pull-left margin_left10px" ng-click="add()" ng-disabled="!tagForm.$valid">添加</button></form></div><br class="clear_both"><div class="margin_top20px"><ul style="margin-left:-50px"><li class="pull-left margin10px size14" style="position:relative;list-style:none;padding:0 20px;border:solid 1px #8E8E8E;color:#8E8E8E;border-radius:10px;margin-left:10px;margin-top:10px" ng-repeat="tag in tags track by $index" ng-mouseover="show_deleteBtn($index)" ng-mouseout="hide_deleteBtn($index)">{{tag.name}}<span style="position:absolute;right:5px;cursor:pointer" ng-click="delete($index)" ng-show="tag.deleteBtnVisible">&times;</span></li></ul></div></div>');e.put("source/views/system_setting/setting.uiv2.html",'<div style="position:relative;min-width:1500px"><style>.weight{font-weight:700}</style><div id="light3" style="float:left"><div style="width:290px;height:900px;border:1px solid #e4e4e4" class="pull-left"><div ng-click="uiDivShow()" style="width:280px;height:24px;background-color:#e4e4e4;padding-top:5px;cursor:pointer" class="margin_left5px margin_top15px"><div style="color:#333" ng-show="divShow!=\'ui\'"><i class="fa fa-chevron-down pull-right margin_right10px"></i></div><div style="color:#333" ng-show="divShow==\'ui\'"><i class="fa fa-chevron-up pull-right margin_right10px"></i></div><strong style="margin-left:10px">外观</strong></div><div class="margin_left5px margin_top15px" ng-show="divShow==\'ui\'"><ul style="list-style:none;margin-left:-40px" class="artli size13"><li><strong>站名</strong></li><li><input style="width:267px;height:30px" ng-model="helpcenter.name" class="form-control"></li><li style="margin-top:15px"><strong>LOGO</strong></li><li style="margin-top:-10px"><div style="width:56px;height:56px;padding:7px;border:1px solid #e4e4e4;margin-top:15px" class="pull-left"><image-show imageurl="{{helpcenter.logo.contentUrl}}" imagestyle="head.40.40" imageclass="w40 h40 img-responsive-h" defaultimageurl="source/images/logo_40.png"></image-show></div><div><div style="margin-left:60px"><label for="inputfile"></label><div class="_box1 tihian size12" ng-multiple="false" ng-file-change="uploadImage(imagefile,\'logo\')" ng-model="imagefile" ng-file-select ng-click="logoBuried()">替换</div></div></div></li><li style="margin-top:15px"><strong>站标</strong></li><li style="margin-top:-10px"><div style="width:56px;height:56px;padding:7px;border:1px solid #e4e4e4;margin-top:15px" class="pull-left"><image-show imageurl="{{helpcenter.icon.contentUrl}}" imagestyle="head.40.40" imageclass="w40 h40 img-responsive-h" defaultimageurl="source/images/logo_gray_40.png"></image-show></div><div><div style="margin-left:60px"><label for="inputfile"></label><div class="_box1 tihian size12" ng-multiple="false" ng-file-change="uploadImage(imagefile,\'icon\')" ng-model="imagefile" ng-file-select ng-click="iconBuried()">替换</div></div></div></li><li style="margin-top:15px"><strong>颜色</strong></li><li style="margin-top:10px"><span class="bue1 padding_top5px size12">颜色1</span> <span class="margin_left5px"><spectrum-colorpicker ng-model="helpcenter.providerNameColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></li><li style="margin-top:10px"><span class="bue1 padding_top5px size12">颜色2</span> <span class="margin_left5px"><spectrum-colorpicker ng-model="helpcenter.headBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></li><li style="margin-top:10px"><span class="bue1 padding_top5px size12">颜色3</span> <span class="margin_left5px"><spectrum-colorpicker ng-model="helpcenter.linkBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></li><li style="margin-top:10px"><span class="bue1 padding_top5pxsize12 size12">颜色4</span> <span class="margin_left5px"><spectrum-colorpicker ng-model="helpcenter.headFontColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></li><li style="margin-top:10px"><span class="bue1 padding_top5px size12">颜色5</span> <span class="margin_left5px"><spectrum-colorpicker ng-model="helpcenter.searchBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></li><li style="margin-top:10px"><span class="bue1 padding_top5px size12">颜色6</span> <span class="margin_left5px"><spectrum-colorpicker ng-model="helpcenter.searchButtonBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></li><li style="margin-top:10px"><span class="bue1 padding_top5px size12">颜色7</span> <span class="margin_left5px"><spectrum-colorpicker ng-model="helpcenter.saveQuestionButtonBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></li><li style="margin-top:10px"><span class="bue1 padding_top5px size12">颜色8</span> <span class="margin_left5px"><spectrum-colorpicker ng-model="helpcenter.contentBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></li></ul></div><div ng-click="layoutDivShow()" style="cursor:pointer;width:280px;height:24px;background-color:#e4e4e4;padding-top:5px" class="margin_left5px margin_top15px"><div style="color:#333" ng-show="divShow!=\'layout\'"><i class="fa fa-chevron-down pull-right margin_right10px"></i></div><div style="color:#333" ng-show="divShow==\'layout\'"><i class="fa fa-chevron-up pull-right margin_right10px"></i></div><strong style="margin-left:10px">布局</strong></div><div class="margin_left5px margin_top15px" ng-show="divShow==\'layout\'"><ul style="list-style:none;margin-left:-40px" class="artli size13"><li><strong>TOP10默认选中</strong></li><li><select style="width:267px;margin-top:10px" ng-model="helpcenter.homeSelected" class="form-control"><option value="general_layout">编辑推荐</option><option value="new_artcle">最新文章</option><option value="hot_question">热门问题</option><option value="nothave_answer">待回答问题</option></select></li><li style="margin-top:20px"><strong>外部链接</strong></li><li><table style="line-height:20px;margin-top:-5px"><tbody class="size13 padding5px"><tr ng-repeat="item in externalLinks track by $index"><td style="width:90px"><input style="width:80px;height:20px;margin-top:15px;padding:0 12px" class="size12 form-control" ng-model="item.text" placeholder=" 链接文字"></td><td><input style="width:150px;height:20px;margin-top:15px;padding:0 12px" class="size12 form-control" ng-model="item.url" placeholder="http://"></td><td style="vertical-align:bottom"><a style="color:#e04006" class="padding_left10px J_add size30" ng-click="toAddAndDeleteExternalLinks($index)">-</a></td></tr><tr style="height:35px"><td><a style="color:#7bbf6a" class="J_add size20" ng-click="toAddAndDeleteExternalLinks(-1)"><strong>+</strong></a></td></tr></tbody></table></li></ul></div><div ng-click="channelDivShow()" style="width:280px;height:24px;background-color:#e4e4e4;padding-top:5px;margin-bottom:20px;cursor:pointer" class="margin_left5px margin_top15px"><div style="color:#333" ng-show="divShow!=\'channel\'"><i class="fa fa-chevron-down pull-right margin_right10px"></i></div><div style="color:#333" ng-show="divShow==\'channel\'"><i class="fa fa-chevron-up pull-right margin_right10px"></i></div><strong style="margin-left:10px">频道</strong></div><div class="margin_left5px margin_top15px" ng-show="divShow==\'channel\'"><ul style="list-style:none;margin-left:-40px" class="artli size13"><li><strong>标题</strong></li><li><input style="width:267px;margin-top:5px" ng-model="helpCenterChannel.title" class="form-control" maxlength="16"></li><li style="margin-top:20px"><strong>电话</strong></li><li><input style="width:267px;margin-top:5px" ng-model="helpCenterChannel.phone" class="form-control" placeholder="请输入你的电话号码" maxlength="15"></li><li style="margin-top:20px"><strong>在线交谈频道</strong></li><li><select style="width:267px;margin-top:5px" class="form-control" ng-change="selectchange(\'webchat\')" ng-model="helpCenterChannel.webchatForm" ng-options="item.name for item in webchatForms"></select></li><li style="margin-top:20px"><strong>反馈频道</strong></li><li><select style="width:267px;margin-top:5px" class="form-control" ng-change="selectchange(\'ticket\')" ng-model="helpCenterChannel.feedbackForm" ng-options="item.name for item in feedbackForms"></select></li><li style="margin-top:20px"><strong>微信频道</strong></li><li><select style="width:267px;margin-top:5px" class="form-control" ng-model="helpCenterChannel.viaWeixin" ng-options="item.name for item in viaWeixins"></select></li></ul></div><div ng-click="footerDivShow()" style="width:280px;height:24px;background-color:#e4e4e4;padding-top:5px;margin-bottom:20px;cursor:pointer" class="margin_left5px margin_top15px"><div style="color:#333" ng-show="divShow!=\'footer\'"><i class="fa fa-chevron-down pull-right margin_right10px"></i></div><div style="color:#333" ng-show="divShow==\'footer\'"><i class="fa fa-chevron-up pull-right margin_right10px"></i></div><strong style="margin-left:10px">HTML</strong></div></div></div><div style="float:left;padding-right:0"><div><div class="padding_top13px" style="display:inline-block"><p class="margin_left20px size16"><strong>界面个性化</strong></p><oem-learn-more type="helpcenter_setting_ui" description="易维帮助台配置钟意的外观和布局。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/375" class="margin_left20px size13"></oem-learn-more></div><div style="display:inline-block;padding-left:100px" class="margin_right20px"><span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateHelpcenter()">更新</button></div></div><div style="position:relative;right:0;top:10px;left:0" ng-hide="divShow == \'footer\'"><div style="width:1000px;height:100px;margin:0 auto;position:relative"><div style="display:inline-block;height:20px;text-align:right;position:absolute;margin:auto;right:0;top:0;bottom:0;z-index:1;color:#000"><span ng-repeat="item in externalLinks track by $index"><span style="padding-left:10px;padding-right:10px">{{item.text}}</span><span ng-hide="$index == externalLinks.length-1">|</span></span></div><div style="height:70px"><div class="size13 pull-right" style="position:relative;top:111px"><a href="javascript:openLoginModalDialog();" class="btn btn-default" role="button" style="color:#666;width:68px;height:28px;text-align:center;border-radius:30px;line-height:15px;font-size:13px;border:0;border-radius:30px;text-decoration:none">登录</a></div><image-show style="position:relative;top:30px" imageurl="{{helpcenter.logo.contentUrl}}" imagestyle="logo.40" imageclass="h40 pull-left" defaultimageurl="source/images/logo_40.png"></image-show>&nbsp;<div class="size24 pull-left" style="margin-left:20px;position:relative;top:30px"><strong ng-style="{\'color\':helpcenter.providerNameColor}">{{helpcenter.name}}</strong></div></div></div><div style="width:100%;height:50px" ng-style="{\'background-color\':helpcenter.headBackgroundColor}" class="text1"><div style="width:1000px;height:50px;margin:0 auto;padding-top:8px;position:relative"><div class="pull-right" style="position:relative;left:-150px;top:5px"><div style="width:160px;height:8px;display:inline-block;position:absolute;top:13px;left:5px" ng-style="{\'border-left\': \'1px solid\'+ helpcenter.headFontColor,\'border-right\': \'1px solid\'+ helpcenter.headFontColor,\'border-bottom\': \'1px solid\'+ helpcenter.headFontColor}"></div><div style="width:230px;height:22px" class="pull-right"><input style="width:163px;border:0!important;outline:0;background:0 0;color:#E4E4E4;text-indent:13px" type="text" class="w170 v_middle border99 c00 invitationIpt" placeholder="输入邀请码，接受远程协助"> <button style="background-color:transparent;color:#FFF;width:16px;height:16px;padding:0;border:0;border-radius:50%;outline:0;position:relative;top:5px;left:10px" type="button"><i style="position:relative;top:1px;font-size:18px" class="fa fa-arrow-circle-o-right" ng-style="{\'color\':helpcenter.headFontColor}"></i></button></div></div><ul style="list-style:none;font-size:14px;margin-left:-40px;line-height:30px"><li style="margin-right:15px;float:left"><a href="#" style="text-decoration:none"><span ng-style="{\'color\':helpcenter.headFontColor}" style="padding-top:4px;cursor:pointer;font-weight:700" class="text-center">帮助中心首页 </span></a><span ng-style="{\'color\':helpcenter.headFontColor}">&nbsp;&nbsp;|</span></li><li style="margin-right:15px;float:left"><a href="#" style="text-decoration:none"><span ng-style="{\'color\':helpcenter.headFontColor}" style="padding-top:4px;cursor:pointer" class="text-center">提交工单 </span></a><span ng-style="{\'color\':helpcenter.headFontColor}">&nbsp;&nbsp;|</span></li><li style="margin-right:15px;float:left"><a href="#" style="text-decoration:none"><span ng-style="{\'color\':helpcenter.headFontColor}" style="padding-top:4px;cursor:pointer" class="text-center">查询工单 </span></a><span ng-style="{\'color\':helpcenter.headFontColor}">&nbsp;&nbsp;|</span></li><li style="margin-right:15px;float:left"><a href="#" style="text-decoration:none"><span ng-style="{\'color\':helpcenter.headFontColor}" style="padding-top:4px;cursor:pointer" class="text-center">下载资源</span></a></li></ul></div></div><div style="width:1000px;margin:0 auto;margin-top:20px" class="padding10px"><div style="width:275px;height:258px;margin-left:-20px" class="pull-left right_panle"><div style="width:280px"><div class="size14" style="color:#666"><ul style="list-style:none;margin-left:-35px;margin-bottom:0"><li style="width:280px;height:40px;background:#F6F6F6;line-height:40px;text-indent:10px;font-weight:700" ng-style="{\'background-color\':helpcenter.contentBackgroundColor}"><i class="fa fa-plus-square faPlus" style="margin:0 -3px 0 -10px"></i>&nbsp; 公告</li><li style="width:280px;height:40px;line-height:40px;text-indent:10px;display:inline-block;color:#666;position:relative">服务公告 <span style="position:relative;left:174px">3&nbsp;&nbsp;<i style="font-size:26px;position:relative;top:3px;margin-left:-9px" class="fa fa-angle-right"></i></span></li></ul><ul style="list-style:none;margin-left:-35px"><li style="width:280px;height:40px;background:#F6F6F6;line-height:40px;text-indent:10px;font-weight:700" ng-style="{\'background-color\':helpcenter.contentBackgroundColor}"><i class="fa fa-plus-square faPlus" style="margin:0 -3px 0 -10px"></i>&nbsp; 论坛</li><li style="width:280px;height:40px;line-height:40px;text-indent:10px;display:inline-block;color:#666;position:relative">问题反馈 <span style="position:relative;left:174px">3&nbsp;&nbsp;<i style="font-size:26px;position:relative;top:3px;margin-left:-9px" class="fa fa-angle-right"></i></span></li></ul><ul style="list-style:none;margin-left:-35px;margin-bottom:0"><li style="width:280px;height:40px;background:#F6F6F6;line-height:40px;text-indent:10px;font-weight:700" ng-style="{\'background-color\':helpcenter.contentBackgroundColor}"><i class="fa fa-plus-square faPlus" style="margin:0 -3px 0 -10px"></i>&nbsp; 文档</li><li style="width:280px;height:40px;line-height:40px;text-indent:10px;display:inline-block;color:#666;position:relative;border-bottom:1px solid #E4E4E4">新手入门 <span style="position:relative;left:174px">3&nbsp;&nbsp;<i style="font-size:26px;position:relative;top:3px;margin-left:-9px" class="fa fa-angle-right"></i></span></li><li style="width:280px;height:40px;line-height:40px;text-indent:10px;display:inline-block;color:#666;position:relative;border-bottom:1px solid #E4E4E4">基础知识 <span style="position:relative;left:174px">3&nbsp;&nbsp;<i style="font-size:26px;position:relative;top:3px;margin-left:-9px" class="fa fa-angle-right"></i></span></li><li style="width:280px;height:40px;line-height:40px;text-indent:10px;display:inline-block;color:#666;position:relative">进阶问题 <span style="position:relative;left:174px">3&nbsp;&nbsp;<i style="font-size:26px;position:relative;top:3px;margin-left:-9px" class="fa fa-angle-right"></i></span></li></ul></div><div style="width:280px;border:1px solid #E4E4E4;margin-top:20px;margin-left:5px;padding-bottom:20px" class="size14" ng-style="{\'background-color\':helpcenter.headBackgroundColor}"><div style="width:278px;height:45px;font-size:16px;color:#FFF;text-align:center"><div style="padding-top:12px"><span ng-style="{\'color\':helpcenter.headFontColor}">{{helpCenterChannel.title}}</span></div></div><div ng-if="helpCenterChannel.phone != \'\'" style="width:240px;height:36px;background-color:#FFF;border:1px solid #E4E4E4;padding:6px;margin-left:20px;margin-bottom:15px"><img style="width:28px;height:24px;float:left" src="source/images/form/lian1.gif"><div style="text-indent:20px">{{helpCenterChannel.phone}}</div></div><div style="width:240px;height:36px;background-color:#FFF;border:1px solid #E4E4E4;padding:6px;margin-left:20px"><img style="width:28px;height:24px;float:left" src="source/images/form/lian2.gif"><div style="text-indent:10px">提交服务请求</div></div><div style="width:240px;height:36px;background-color:#FFF;border:1px solid #E4E4E4;padding:6px;margin-left:20px" class="margin_top15px"><img style="width:28px;height:24px;float:left" src="source/images/form/lian3.gif"><div style="text-indent:10px">提交服务请求</div></div></div></div>&nbsp;</div><div style="margin-left:285px;width:700px"><div style="width:700px;position:relative;border-radius:5px" ng-style="{\'background-color\':helpcenter.searchBackgroundColor}"><div><i class="fa fa-search btn-lg" style="position:absolute;top:7px;color:#E4E4E4"></i> <input style="width:700px;height:50px;text-indent:30px;box-shadow:none" class="size18 form-control" ng-style="{\'border\': \'3px solid\'+ helpcenter.searchBackgroundColor}" placeholder="搜索答案"></div><div style="position:absolute;right:90px;top:9px;font-size:14px" class="pull-left"><button ng-style="{\'background-color\':helpcenter.searchButtonBackgroundColor}" style="width:62px;height:32px;color:#fff;border:0;outline:0" type="button" class="btn btn-default size14">搜索</button></div><div style="position:absolute;right:15px;top:9px;font-size:14px" class="pull-left"><button ng-style="{\'background-color\':helpcenter.saveQuestionButtonBackgroundColor}" style="width:62px;height:32px;color:#fff;border:0;outline:0" type="button" class="btn btn-default size14">提问</button></div></div><div style="width:697px;height:36px;margin-top:30px" class="size14"><div style="width:700px;height:36px;border-bottom:1px solid #E4E4E4"><div style="width:60px;height:36px;text-decoration:none;line-height:36px;text-align:center;cursor:pointer;border:1px solid #E4E4E4;color:#69C;background:#F6F6F6" class="margin_left10px pull-left" ng-style="{\'background-color\':helpcenter.contentBackgroundColor}"><span ng-class="{weight:helpcenter.homeSelected == \'new_artcle\'}">推荐</span></div><div style="width:60px;height:36px;text-decoration:none;line-height:36px;text-align:center;cursor:pointer;border:1px solid #E4E4E4;color:#666;background:#FFF;font-weight:400;border-bottom:1px solid #FFF" class="margin_left10px pull-left"><span ng-class="{weight:helpcenter.homeSelected == \'hot_question\'}">最新</span></div><div style="width:60px;height:36px;text-decoration:none;line-height:36px;text-align:center;cursor:pointer;border:1px solid #E4E4E4;color:#69C;background:#F6F6F6" class="margin_left10px pull-left" ng-style="{\'background-color\':helpcenter.contentBackgroundColor}"><span ng-class="{weight:helpcenter.homeSelected == \'nothave_answer\'}">热门</span></div><div style="width:60px;height:36px;text-decoration:none;line-height:36px;text-align:center;cursor:pointer;border:1px solid #E4E4E4;color:#69C;background:#F6F6F6" class="margin_left10px pull-left" ng-style="{\'background-color\':helpcenter.contentBackgroundColor}"><span ng-class="{weight:helpcenter.homeSelected == \'general_layout\'}">待回答</span></div></div></div><div style="overflow:hidden;height:auto"><div style="width:697px;height:90px;position:relative" class="line_solid_02"><img src="source/images/form/Article.png" class="pull-left" style="width:50px;height:50px;position:relative;top:20px"><div style="width:590px;float:left;margin-left:10px;position:relative;top:10px"><p class="size18" style="padding-top:11px;height:50px"><a href="#" style="color:#69c">传统IT运维与IT运维自动化</a></p><p class="size13" style="color:#999;margin-top:-10px">LXL 发表于2015-01-08 <span style="margin-left:16px"><span style="background:#eff6fa;color:#69c;padding:2px 10px;border-radius:30px;display:inline-block;text-decoration:none;margin:0 5px 5px 0;font-size:13px">传统IT </span><span style="background:#e3eff7;color:#69c;padding:2px 10px;border-radius:30px;display:inline-block;text-decoration:none;margin:0 5px 5px 0;font-size:13px">运维自动化</span></span></p></div><p style="height:20px;font-size:14px;text-align:right;color:#c9c9c9;position:absolute;margin:auto;right:0;top:0;bottom:0"><i class="fa fa-comment-o" style="margin:0 6px 0 11px"></i><span>656</span> <i class="fa fa-thumbs-o-up" style="margin:0 6px 0 11px"></i><span>324</span> <i class="fa fa-bookmark-o" style="margin:0 6px 0 11px"></i><span>234</span></p></div><div style="width:697px;height:90px;position:relative" class="line_solid_02"><img src="source/images/form/ask.png" class="pull-left" style="width:50px;height:50px;position:relative;top:20px"><div style="width:590px;float:left;margin-left:10px;position:relative;top:10px"><p class="size18" style="padding-top:11px;height:50px"><a href="#" style="color:#69c">IT故障管理：亡羊补牢，不如未雨绸缪</a></p><p class="size13" style="color:#999;margin-top:-10px">陈祥伍 发表于2015-01-08 <span style="margin-left:16px"><span style="background:#e3eff7;color:#69c;padding:2px 10px;border-radius:30px;display:inline-block;text-decoration:none;margin:0 5px 5px 0;font-size:13px">管理</span></span></p></div><p style="height:20px;font-size:14px;text-align:right;color:#c9c9c9;position:absolute;margin:auto;right:0;top:0;bottom:0"><i class="fa fa-comment-o contMg" style="margin:0 6px 0 11px"></i><span>567</span> <i class="fa fa-bookmark-o contMg" style="margin:0 6px 0 11px"></i><span>432</span></p></div><div style="width:697px;height:90px;position:relative" class="line_solid_02"><img src="source/images/form/ask.png" class="pull-left" style="width:50px;height:50px;position:relative;top:20px"><div style="width:590px;float:left;margin-left:10px;position:relative;top:10px"><p class="size18" style="padding-top:11px;height:50px"><a href="#" style="color:#69c">IT故障管理：亡羊补牢，不如未雨绸缪</a></p><p class="size13" style="color:#999;margin-top:-10px">陈祥伍 发表于2015-01-08 <span style="margin-left:16px"><span style="background:#e3eff7;color:#69c;padding:2px 10px;border-radius:30px;display:inline-block;text-decoration:none;margin:0 5px 5px 0;font-size:13px">管理</span></span></p></div><p style="height:20px;font-size:14px;text-align:right;color:#c9c9c9;position:absolute;margin:auto;right:0;top:0;bottom:0"><i class="fa fa-comment-o contMg" style="margin:0 6px 0 11px"></i><span>567</span> <i class="fa fa-bookmark-o contMg" style="margin:0 6px 0 11px"></i><span>432</span></p></div></div></div><p style="margin-left:285px;margin-top:20px;font-size:14px;color:#666">共3条记录，Page 1 of 1&nbsp; <button style="width:36px;height:28px;background-color:#f6f6f6;color:#000;padding-left:4px;padding-top:0;border-radius:0" type="button" class="btn btn-default size18"><i class="fa fa-chevron-left btn-sm"></i></button> <button style="width:36px;height:28px;background-color:#f6f6f6;color:#000;padding-left:4px;padding-top:0;border-radius:0" type="button" class="btn btn-default size18"><i class="fa fa-chevron-right btn-sm"></i></button></p></div><div style="margin-top:100px" class="container text-right clearfix" ng-if="!hideCopyright"><p style="margin-top:30px;margin-left:80px;width:980px" class="line_solid_02"></p><p>&nbsp;</p><a style="" href="http://www.ewei.com">客服软件</a> <a href="http://www.ewei.com">工单系统</a> by <a style="margin-right:100px" href="http://www.ewei.com" class="c00">易维帮助台</a><p></p></div></div><div oc-lazy-load="[\'/source/lib/ace-builds/src-min-noconflict/ace.js\']"><div ng-show="divShow == \'footer\'" ui-setting-html attachments="helpcenter.helpCenterHtml.attachments" ace-header-html-model="helpcenter.helpCenterHtml.headerHtmlText" ace-footer-html-model="helpcenter.helpCenterHtml.footerHtmlText" ace-is-using-customize-header="helpcenter.helpCenterHtml.isUsingCustomizeHeader" ace-css-model="helpcenter.helpCenterHtml.cssText" style="width:1000px;margin-left:20px"></div></div></div></div><style type="text/css">#light{display:none}</style>');e.put("source/views/system_setting/setting.webhook.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>WEBHOOK消息订阅</strong></p><oem-learn-more type="system_setting_webhook" description="WEBHOOK消息订阅允许你监听客服系统的最新消息，当有新的消息时实时发送到指定的外部URL上。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1092" class="know-more"></oem-learn-more></div><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:330px">WEBHOOK名称</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="addWebhook(0,\'add\')">+ 添加WEBHOOK</a></th></tr></thead><tbody><tr ng-if="webhookList.length==0"><td colspan="4">还没有WEBHOOK</td></tr><tr ng-repeat="webhook in webhookList | orderBy:\'active\':true" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:330px;padding-top:12px"><a ng-bind="webhook.name" ng-if="webhook.active" class="channel-name" ng-click="editWebhook(webhook.id,\'edit\')"></a> <span ng-bind="webhook.name" ng-if="!webhook.active" class="channel-name"></span></td><td class="text-right"><a ng-if="webhook.active" ng-click="editWebhook(webhook.id,\'edit\')">编辑</a> <a ng-if="!webhook.active" ng-click="enabled(this,true)">启用</a>&emsp;| &emsp; <a ng-if="!webhook.active" ng-click="deleteWebhook(webhookList,webhook)">删除</a> <a ng-if="webhook.active" ng-click="enabled(this,false)">停用</a></td></tr></tbody></table></div></div></div>');e.put("source/views/system_setting/setting.webhook_edit.html",'<style>.border-color-red{border-color:#e82020}.border-color-gray{border-color:#ccc}</style><div class="setting-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'webhook\',settingType:\'system\'})">WEBHOOK消息订阅 </a>》 <span ng-if="checkId==0">添加WEBHOOK</span> <span ng-if="checkId>0">{{webhook.name}}</span></div><oem-learn-more type="system_setting_webhook" description="WEBHOOK消息订阅允许你监听客服系统的最新消息，当有新的消息时实时发送到指定的外部URL上。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/793" class="know-more"></oem-learn-more><div class="setting-common-body"><ul><li><div class="title-bar"><span>WEBHOOK名称 <span style="color:#e82020">*</span></span></div><div class="form-content"><input type="text" ng-blur="changeWebhook(webhook,\'nameBorder\')" ng-model="webhook.name" ng-class="{true: \'border-color-red\', false: \'border-color-gray\'}[nameBorder]" class="form-control w400" maxlength="26"><p class="tip">为服务起一个简短的名字</p></div></li><li><div class="title-bar"><span>通知URL <span style="color:#e82020">*</span></span></div><div class="form-content"><input type="text" ng-model="webhook.url" ng-blur="changeWebhook(webhook,\'urlBorder\')" ng-class="{true: \'border-color-red\', false: \'border-color-gray\'}[urlBorder]" class="form-control w400" maxlength="254"><p class="tip">接收通知消息的URL地址</p></div></li><li><div class="title-bar"><span>方法 <span style="color:#e82020">*</span></span></div><div class="form-content"><select ng-blur="changeWebhook(webhook,\'methodBorder\')" ng-model="webhook.method" ng-class="{true: \'border-color-red\', false: \'border-color-gray\'}[methodBorder]" class="form-control w400"><option value="GET">GET</option><option value="PUT">PUT</option><option value="POST">POST</option></select></div></li><li><div class="title-bar"><span>属性名 <span style="color:#e82020">*</span></span></div><div class="form-content"><input ng-blur="changeWebhook(webhook,\'propertieNameBorder\')" type="text" class="form-control w400" ng-model="webhook.propertieName" ng-class="{true: \'border-color-red\', false: \'border-color-gray\'}[propertieNameBorder]" maxlength="20"><p class="tip">消息属性名</p><p class="tip">例如属性名若为message，当触发通知目标操作时，您的触发器消息将会附到URL后面 "https://yourdomain/path?message=message"</p></div></li><li><div class="title-bar"><span>URL密钥</span></div><div class="form-content"><input type="text" class="form-control w400" ng-model="webhook.secretKey" disabled="disabled"><p class="tip">URL密钥是用于判断此Webhook是否{{$root.provider.name}}发起的请求，请妥善保管，不要泄漏。</p><p class="tip">判断方法如下：</p><p class="tip">1、获取Webhook请求header中的"_timestamp"(当前时间毫秒数)、"_sign"(鉴权签名)两个参数。</p><p class="tip">2、将_timestamp参数与URL密钥按下面的顺序拼接起来组成一个新的字符串："#_url_secret=" + URL密钥+"#"+"#_timestamp=" + header中获取的_timestamp值+ "#"</p><p class="tip">注意：#是必须的，不能省略。</p><p class="tip">3、将拼接后的字符串做urlencode处理生成一个新的字符串。</p><p class="tip">4、将urlencode结果字符串转换成小写，然后计算MD5，长度32位，md5不区分大小写。</p><p class="tip">5、将得到的md5值与header中获取的_sign值比较，如果相等，则认为此Webhook是{{$root.provider.name}}发起的合法请求，否则请忽略。</p></div></li><li><div class="title-bar"></div><div class="form-content"><button type="button" class="btn btn-primary w100" ng-disabled="btnDisabled" ng-click="saveWebhook(webhook)">更新</button></div></li></ul></div></div>');e.put("source/views/system_setting/share_role.html",'<div class="modal-inner-content"><p>亲，码农们正在加班加点的开发 分享角色 这个功能，敬请期待。。。</p></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">取消</button> <button type="button" class="btn btn-primary" ng-click="$ok()">确认</button></div>');e.put("source/views/system_setting/system_setting.html",'<div id="main_panes"><section class="main_panes layoutA"><div class="pane left"><div class="title"><h5 style="padding-left:8px"><strong>系统设置</strong></h5></div><div class="list box99"><div ng-repeat="(index,menu) in menus track by $index"><div class="line_solid_02" ng-if="hasModule(menu.module) && hasPermissions(menu.permission)"><div class="font_b" style="padding-left:20px;height:46px;line-height:46px;cursor:pointer;user-select:none" ng-class="(menu.isCollapsed?\'menu-expended\':\'menu-collapsed\')" ng-click="changeCollapsed(menu)" data-toggle="isCollapsed"><span>{{menu.title}}</span> <i style="float:right;margin-top:17px;margin-right:20px;font-size:16px" class="fa" ng-class="{\'fa-angle-right\': !menu.isCollapsed, \'fa-angle-down\': menu.isCollapsed}"></i></div><div class="list-group" uib-collapse="!menu.isCollapsed"><a ng-repeat="subMenu in menu.subMenus track by $index" ng-if="hasModule(subMenu.module) && hasPermissions(subMenu.permission)" class="line_off block padding10px padding_left20px padding_right20px" ui-sref-active="box02" ui-sref="system_setting.detail({uri:subMenu.uri,settingType:subMenu.settingType})" ui-sref-opts="{reload: true}" ng-click="detail(index,$index,subMenu.uri)" ng-class="{\'box02-active\': currentStateUrl.indexOf(subMenu.settingType + \'/\'+ subMenu.uri) > -1}"><span>{{subMenu.title}}</span> <span class="number" ng-class="{\'wait_number\':subMenu.uri===\'wait_engineers\'}" ng-if="subMenu.settingType == \'engineers\'">{{subMenuNum[subMenu.uri]}}</span></a></div></div></div></div></div><div class="pane right" ui-view></div></section></div>');e.put("source/views/ticket/app.helpdesk.chat_to_ticket.html",'<style type="text/css">#targetTicket option[value=\'?\']{display:none}</style><form onsubmit="return false" name="inputTicketNoForm" class="css-form" novalidate><div class="modal-inner-content"><div class="form-group"><span>创建新的工单</span></div></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">取消</button> <button type="button" class="btn btn-primary" ng-click="$ok()" ng-disabled="!inputTicketNoForm.$valid">确认</button></div></form>');e.put("source/views/ticket/app.helpdesk.engineer_list_single.html",'<style type="text/css">.radio-wrap{width:345px;height:275px;border:solid 1px #CCC;overflow-y:auto;margin:-10px auto}.radio label{padding-left:50px;margin:5px 0}.radio dt{padding-left:20px}.ps-wrap{margin-top:20px}.ps-wrap>label{margin-left:10px}.ps-wrap>.form-control{border-radius:0;padding:0 5px}#ps{width:345px;height:50px;margin:5px auto 0}.btn-engineer{margin-top:15px;margin-left:15px;padding:6px 25px}.modal .modal-dialog .modal-content{margin:0 auto}</style><form name="transferEngineerForm" id="transferEngineerForm"><div class="radio-wrap"><div class="form-group"><input style="width:90%;margin:15px auto" type="text" class="form-control" ng-model="searchEngineers" ng-keyup="searchEngineer(0,$event)" placeholder="输入关键字搜索客服"></div><div class="form-group" ng-repeat="desk in searchedData.serviceDesks track by desk.id" ng-if="desk.engineers.length > 0"><dl class="radio" ng-init="p_index=$index"><dt>{{desk.name}}</dt><dd ng-repeat="engineer in desk.engineers track by engineer.id"><label><input name="singleEngineer" type="radio" ng-model="selectServiceDesks.selected" value="{{p_index+\'_\'+$index}}">{{engineer.name}}&nbsp;&nbsp;({{engineer.chatCount}})<p>{{engineer.userEmail}}</p></label></dd></dl></div><div ng-repeat="serviceDesk in selectServiceDesks" class="form-group" ng-if="showServiceDeskList && serviceDesk.engineers.length > 0"><dl class="radio" ng-init="p_index=$index"><dt>{{serviceDesk.name}}</dt><dd ng-repeat="engineer in serviceDesk.engineers "><label><input name="singleEngineer" type="radio" ng-model="selectServiceDesks.selected" value="{{p_index+\'_\'+$index}}">{{engineer.name}}&nbsp;&nbsp;({{engineer.chatCount}})<p>{{engineer.userEmail}}</p></label></dd></dl></div><div style="text-align:center" ng-if="showOffline"><div>没有客服在线</div></div></div><div class="form-group ps-wrap"><label for="ps">简短附言</label><input type="text" class="form-control" maxlength="50" ng-model="$parent.mutipleEngineerDescription" name="ps" id="ps" placeholder="可输入50字"></div><div class="form-group"><button type="button" name="invite" ng-click="$inviteEngineer(\'web\')" class="btn btn-primary btn-engineer">邀请</button> <button type="button" name="cancel" ng-click="hideSelectEngineerModal()" class="btn btn-default btn-engineer">取消</button></div></form>');e.put("source/views/ticket/app.helpdesk.sendlog.html",'<form name="sendLogForm" id="sendLogForm"><div class="modal-inner-content"><div class="form-group"><input class="form-control" placeholder="Email地址" required ng-maxlength="255" type="email" ng-blur="validEmail(sendLogToEmail)" ng-model="sendLogToEmail" id="sendLogToEmail" name="sendLogToEmail"></div></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide();">取消</button> <button type="button" class="btn btn-primary" ng-click="$sendLog();" ng-disabled="!sendLogForm.$valid">发送</button></div></form>');e.put("source/views/ticket/apps.assist.html",'<ul style="list-style:none" class="size13"><li class="padding_top30px size13"><strong>邀请 {{assistUser.name}} 进行远程协助 </strong><br></li><li class="padding_top30px size13 cursorhand" ng-click="openSendMail()"><div><span style="display:inline-block;width:40px;height:40px;border-radius:100%;background:#49B1FE;line-height:42px;margin-bottom:10px"><i class="iconfont youxiang" style="font-size:24px;color:#fff">&#xe7b6;</i></span></div><p><a style="color:#333">发送邀约邮件</a></p></li><p style="margin-top:50px"></p><p style="margin-top:20px" s class="line_solid_02"></p><p><a style="color:#1e8cce" ui-sref="tickets_detail.apps">Apps</a> &gt;<span> 远程协助您的客户</span></p></ul>');e.put("source/views/ticket/apps.engineer_list.html",'<ul style="list-style:none;padding:0;margin:10px" class="size13 text-left"><li class="padding_top30px size13"><span class="pull-right size12 margin_right20px"><a style="color:#1e8cce" href="{{::eweiHelpcenterApiUrl}}new/#/article/detail/339" target="_blank">了解更多</a> </span><strong>邀请同事提供帮助</strong><br></li><li class="padding_top5px size13 text-left"><div style="width:280px;height:475px;border:1px solid #e4e4e4;overflow-y:scroll;overflow-x:hidden" class="size11"><div style="width:270px;height:31px;padding-top:5px" class="line_solid_02"><span class="pull-right margin_right10px"><a href="javascript:void(0)" ng-click="loadEngineers()"><img src="source/images/daoru12.gif"> </a></span><strong>客服人员列表（{{onlineCount}}/{{engineers.length}}）</strong></div><div style="width:268px;height:24px;padding-top:5px;background-color:#ffc" class="size12" id="f1"><span class="pull-right margin_right10px"><a href="#"><i href="javascript:void(0)" onclick="document.getElementById(\'f1\').style.display=\'none\'" class="fa fa-times"></i> </a></span>选择一位小伙伴发起呼叫。</div><div ng-click="showSearchList($event)"><input type="text" class="form-control" ng-model="searchName" placeholder="输入关键字搜索客服"></div><div class="margin_top25px cursorhand" ng-repeat="engineer in engineers | filter:searchName track by $index " ng-click="goAssist(engineer.userId,engineer.name,engineer.email,\'engineer\',$event);"><image-show imageurl="{{engineer.photoContentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="img-circle w40 h40 pull-left margin_left10px margin_right10px" editable="false"></image-show><div class="size12"><p style="line-height:12px">{{engineer.name}} <i ng-if="engineer.webOnline" style="margin-left:10px" class="fa fa-windows"></i><i ng-if="engineer.iosOnline" style="margin-left:10px" class="fa fa-apple"></i><i ng-if="engineer.androidOnline" style="margin-left:10px" class="fa fa-android"></i></p><p style="line-height:12px">{{engineer.email}}</p></div></div></div></li><p style="margin-top:20px;margin-left:-20px;margin-right:-10px" class="line_solid_02"></p><p><a style="color:#1e8cce" ui-sref="tickets_detail.apps">Apps</a> > 向小伙伴求助</p></ul>');e.put("source/views/ticket/apps.helpdesk.engineer_list_multiple.html",'<style type="text/css">.checkbox-wrap{width:345px;height:275px;border:solid 1px #CCC;overflow-y:auto;margin:-10px auto}.checkbox label{padding-left:50px;margin:5px 0}.checkbox dt label{padding-left:25px}.ps-wrap{margin-top:20px}.ps-wrap>label{margin-left:10px}.ps-wrap>.form-control{border-radius:0;padding:0 5px}#ps{width:345px;height:50px;margin:5px auto 0}.btn-engineer{margin-top:15px;margin-left:15px;padding:6px 25px}.modal .modal-dialog .modal-content{margin:0 auto}</style><form name="inviteEngineerForm" id="inviteEngineerForm"><div class="checkbox-wrap"><div class="form-group"><input style="width:90%;margin:15px auto" type="text" class="form-control" ng-model="searchEngineers" ng-keyup="searchEngineer(1,$event)" placeholder="输入关键字搜索客服"></div><div class="form-group" ng-repeat="desk in searchedData.serviceDesks track by desk.id" ng-if="desk.engineers.length > 0"><dl class="checkbox J_checkBoxGroup"><dt><label><input type="checkbox" class="selectAll" ng-model="desk.checked" value="true" id="{{desk.id}}" ng-click="setMutipleEngineer(desk,true)">{{desk.name}}</label></dt><dd ng-repeat="engineer in desk.engineers track by engineer.id"><label><input type="checkbox" ng-model="engineer.checked" value="true" ng-click="setMutipleEngineer(desk,false)" id="{{engineer.id">{{engineer.name}}&nbsp;&nbsp;({{engineer.chatCount}})<p>{{engineer.userEmail}}<engineer-status chat-count="engineer.chatCount" chat-max="engineer.concurrentChatNumber" brackets="true"></engineer-status></p></label></dd></dl></div><div class="form-group" ng-repeat="serviceDesk in $parent.selectServiceDesks" ng-if="showServiceDeskList && serviceDesk.engineers.length > 0"><dl class="checkbox J_checkBoxGroup"><dt><label><input type="checkbox" class="selectAll" ng-model="serviceDesk.checked" value="true" id="{{serviceDesk.id}}" ng-click="setMutipleEngineer(serviceDesk,true)">{{serviceDesk.name}}</label></dt><dd ng-repeat="engineer in serviceDesk.engineers"><label><input type="checkbox" ng-model="engineer.checked" value="true" ng-click="setMutipleEngineer(serviceDesk,false)" id="{{engineer.id}}">{{engineer.name}}&nbsp;&nbsp;({{engineer.chatCount}})<p>{{engineer.userEmail}}<engineer-status chat-count="engineer.chatCount" chat-max="engineer.concurrentChatNumber" brackets="true"></engineer-status></p></label></dd></dl></div><div style="text-align:center" ng-if="showOffline"><div>没有客服在线</div></div></div><div class="form-group ps-wrap"><label for="ps">简短附言</label><input type="text" class="form-control" maxlength="50" name="ps" id="ps" ng-model="$parent.mutipleEngineerDescription" placeholder="可输入50字"></div><div class="form-group"><button type="button" name="invite" class="btn btn-confirm btn-engineer" ng-disabled="isInviteing" ng-click="$inviteEngineer(\'web\')">邀请</button> <button type="button" name="cancel" class="btn btn-cancel btn-engineer" ng-click="hideSelectEngineerModal()">取消</button></div></form>');e.put("source/views/ticket/apps.helpdesk.html",'<style type="text/css">body,html{height:100%;overflow-y:hidden}.modal-content{margin:0 auto}.chat-aside dl.user-device-info{color:#9ea7b7;font-size:12px;padding-top:15px}.chat-aside dl.user-device-info dt{margin-bottom:5px;color:#666;font-size:14px}.chat-aside dl.user-device-info dd{padding:2px}.chat-layout{position:absolute;top:0;left:0;right:0;bottom:0;padding:10px}.chat-container{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:-moz-box;display:flex;border-bottom:none;position:absolute;top:70px;left:10px;right:10px;bottom:10px}.chat-container .chat-aside{-webkit-flex:none;flex:none;width:300px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box;border-right:1px solid #e5e5e5;position:relative;height:100%;overflow-y:auto;border-radius:2px;background-color:#fff;margin-right:10px}.chat-container>article{width:100%;overflow-y:scroll;position:relative;background-color:#fff;border-radius:2px}.chat-layout .btn-bottom-group{width:330px}.chat-layout .btn-only{background:#E5E5E5;color:#9F9F9F;margin-left:-8px;border-radius:initial;border:1px solid #BCBCBC}.chat-layout .btn-desktop{width:100%;height:44px;line-height:40px;text-align:center;border:1px solid #E5E5E5;border-top:none;background:0 0;color:#39F;font-weight:700;cursor:pointer}.btn-desktop .fa{font-size:medium;color:#fff;margin-right:5px;vertical-align:middle}.btn-desktop .btn-only,.btn-desktop .btn-translate{height:43px;line-height:30px;border:none}.btn-desktop .btn-translate{width:300px}.btn-desktop .chat-dropdown-menu{width:100%;border-radius:initial;box-shadow:initial;text-align:center}.chat-dropdown-menu>li>a:focus,.chat-dropdown-menu>li>a:hover{background:initial;text-shadow:initial}.chat-layout .btn-remote{width:100%;height:43px;line-height:43px;text-align:center;background-color:#39F;border:none;color:#fff;font-weight:bolder}.btn-remote .btn-return{text-decoration:underline;margin-left:10px;color:#666681;cursor:pointer}.btn-remote .btn-accept,.btn-remote .btn-reject{background-color:#fff;border:none;color:#000;font-weight:100;padding:5px 10px;border-radius:10px;margin-left:10px;line-height:20px}.chat-container .chat-content{-moz-box-flex:1;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding-bottom:170px}.chat-header{flex:0;flex-basis:50px;height:50px;max-height:50px;padding:4px 2px;background-color:#fff}.chat-header .ticket-group{min-width:500px}.chat-header .dropdown-toggle{border:none;border-radius:initial;padding:5px 20px 5px 0}.chat-header .webchat-operations .btn-default{color:#6c788b;font-size:12px}.btn-translate{background:#F6F6F6;color:#666;border:solid 1px #BCBCBC;border-radius:initial}.chat-edit-group{margin:0;overflow:hidden;resize:none;padding-left:20px}.chat-edit-group .chat-btn-item{font-size:large;cursor:pointer;padding-right:20px}.chat-edit-group .chat-btn-item:hover{color:#39f}.chat-input-group{position:relative;background-color:#39f;padding-right:23px}.chat-input-group .input-group-addon{background-color:transparent;font-size:large;box-shadow:none;border-radius:initial;border:none}.chat-email-control{width:100%;border:none;border-radius:6px;margin:5px 0;box-shadow:none;background-color:#fff}.chat-email-control .form-control{box-shadow:none;border:none;border-radius:initial;background-color:transparent}.chat-input-group>.input-group-addon{color:#fff}.chat-input-group .chat-btn-tag{padding:4px 10px;float:initial;border-radius:6px!important}.chat-btn-tag .tag-list{float:left}.chat-btn-tag .tag-list:after{display:table;content:" ";clear:both}.chat-full-tab{width:100%;margin-top:10px;margin-bottom:12px}.chat-full-tab .tab-item{padding:3px 10px;border-radius:initial;box-sizing:border-box;box-shadow:none;background-color:#F6F6F6}.chat-full-tab input[type=radio]{display:none}.chat-full-tab .active{background-color:#fff;font-weight:700;color:#000}.chat-dropdown-menu{width:181px}.chat-dropdown-menu>li>a{padding:6px 20px}.chat-history-list,.chat-ticket-list{padding:0 10px}.chat-ticket-list li{padding-bottom:10px;margin-bottom:10px;border-bottom:1px solid #ddd}.chat-ticket-list p{line-height:22px}.chat-ticket-list .ticket-date{margin-left:10px}.chat-ticket-list .ticket-date span,.chat-ticket-list .ticket-user span{color:#9B9B9B}.chat-ticket-list .ticket-date b,.chat-ticket-list .ticket-user b{color:#848484}.chat-ticket-list .ticket-content a{color:#39f;margin-left:4px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chat-history-list li{margin-bottom:20px}.chat-history-list .date{margin-left:10px}.btn-more{width:100%;border:none;background-color:transparent;font-weight:700}button:focus{outline:0}wechat-emoji{position:absolute;left:400px;bottom:150px}.chat-box-top{padding:8px 12px 0;background-color:#eef2f9}.chat-tools{float:left}.chat-tools .tool-item{text-decoration:none;color:#999;line-height:16px;display:inline-block;padding:2px 8px;position:relative;border:1px solid transparent}.chat-tools .tool-item .iconfont{font-size:17px}.chat-tools .tool-item:hover{border-radius:4px;border-color:#e4e4e4}.chat-btn-wrap .chat-btn{background-color:#1E8CCE;color:#fff;padding:6px 10px 6px 20px;border-top-left-radius:5px;border-bottom-left-radius:5px;border:none}.chat-btn-close{padding:4px 8px 6px 2px;font-size:12px;background-color:#1E8CCE;border-top-right-radius:5px;border-bottom-right-radius:5px;border-top-left-radius:0;border-bottom-left-radius:0;color:#fff}.chat-btn-close:hover{color:#fff}.chat-do-dropdown-menu{background-color:#fff;padding:0}.chat-do-dropdown-menu li a:hover{background-color:#1E8CCE;color:#fff}.chat-do-dropdown-menu li:hover{background-color:#1E8CCE;color:#fff}.chat-do-dropdown-menu li a{width:100%;display:inline-block;padding:6px 20px 6px 10px}.chat-do-dropdown-menu li span{width:40px;height:32px;background-color:#E4E4E4;display:inline-block;float:left}@-moz-document url-prefix(){.chat-do-dropdown-menu li span{width:30px}.chat-btn-close{padding:4px 8px 6px 2px}}.chat-do-dropdown-menu li:hover span{background-color:#1E8CCE}.customer-name-inp{height:34px;border:1px solid #e4e4e4;border-radius:4px;padding-left:5px;width:300px}.chat-btn-group{background-color:#fff;margin:0 0 0 -10px;padding:10px}.close-chat-btn{background-color:#fff;padding:1px 24px;font-size:14px;border-radius:8px;color:#666;margin-left:20px}.close-chat-btn:hover{text-decoration:none;color:#666}.remote-dest-list{background-color:#fff;padding:0;margin:0;min-width:120px}.remote-dest-list .item{float:left}.remote-dest-list .item .sub{width:40px;height:30px;display:inline-block;background-color:#E4E4E4;float:left;text-align:center;line-height:30px;color:transparent}.remote-dest-list .item .sub.active{background-color:#1E8CCE;color:#fff}.remote-dest-list .item .txt.active{background-color:#1E8CCE;color:#fff}.remote-dest-list .item .txt{padding:7px 12px;float:left;color:#666}.history-ticket{color:#1E8CCE;white-space:normal;overflow:hidden;text-overflow:ellipsis;width:220px;float:left}.history-ticket:hover{text-decoration:none}.relation-ticket-btn{float:right;border:1px solid #e4e4e4;padding:2px 8px;line-height:14px;border-radius:5px;color:#666}.relation-ticket-btn:hover{text-decoration:none}.history-ticket-item{margin-bottom:12px}.uploadList{position:fixed;bottom:155px;margin-left:20px}.uploadList .progress{margin-left:80px}.uploadList .cancel{margin-left:20px;color:#1E8CCE}.uploadList .cancel:hover{text-decoration:none}.chat-plug-promet-group{position:fixed;top:130px;z-index:9999}#phone-chat{width:100%;background-color:#f0f0f0}.phone-start{width:140px;padding:5px 0;background-color:#fff;border-radius:12px;text-align:center;margin:20px auto}.phone-box{width:260px;height:382px;text-align:center;background-color:#fff;box-shadow:-2px 2px 10px #737373;margin:40px auto}.phone-box .call{background-color:#23C953;width:72px;height:72px;border-radius:50%;display:inline-block;line-height:72px;margin-top:52px}.phone-box .phone-number{font-size:28px;color:#666;margin-top:15px}.phone-box .phone-state{font-size:16px;color:#666;margin-bottom:65px}.phone-box .chat-btn{width:80%;background-color:#23C953;color:#f5f5f5;border-top-right-radius:0;border-bottom-right-radius:0}.phone-box .chat-btn-close{background-color:#23C953;width:20%}#sendMenu li a:hover{background-color:#23C953}.get-contact{color:#1E8CCE;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:120px;float:left}.get-contact:hover{text-decoration:none}.get-contact-phone{color:#666;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:120px;float:left;text-decoration:none}.get-contact-phone:hover{text-decoration:none;color:#666}.btn-make-sure{width:80px;height:30px;font-size:14px;padding-top:3px;padding-bottom:3px}.btn-loading{background-color:#999}.btn-loading img{width:20px;height:20px}.btn-cancel{background:0 0;color:#999}.btn-cancel.active:focus,.btn-cancel:active:focus,.btn-cancel:focus{outline:0;box-shadow:none}.webchat_rich_text div:first-child{width:35px;height:28px}.webchat_rich_text div:last-child{left:0;top:0}.webchat_rich_text input{opacity:0}.webchat_rich_text label{position:absolute;left:0;top:0}.user-modify{-webkit-user-modify:read-write-plaintext-only;-moz-user-modify:read-write-plaintext-only;-ms-user-modify:read-write-plaintext-only;-o-user-modify:read-write-plaintext-only}</style><div class="chat-layout js-chat-layout" ng-mousemove="mouseMove($event)"><header class="flex chat-header js-chat-header"><group-user-ticket-chain group="webchat.user.userGroup" user="webchat.user" ticket="webchat.ticket" webchat="webchat" active="webchat" class="flex-item ticket-group"></group-user-ticket-chain><div ng-hide="chatIsClose" class="pull-right webchat-operations" style="line-height:40px;margin-right:20px"><button has-permission="chat_invite" ng-if="webchat.myRoleName !== \'leader\'" ng-click="toSelectEngineers(\'invite\')" style="margin-right:10px;width:90px" type="button" class="btn btn-default">多方会话</button> <button has-permission="chat_transfer" ng-show="webchat.myRoleName === \'handler\'&&webchat.requestMode !== \'inside\'" ng-click="toSelectEngineers(\'transfer\')" style="margin-right:10px;width:90px" type="button" class="btn btn-default">转接会话</button> <button has-permission="chat_force_transfer" ng-if="webchat.myRoleName === \'leader\'&&webchat.requestMode !== \'inside\'" ng-click="toSelectEngineers(\'force_transfer\')" style="margin-right:10px;width:110px" type="button" class="btn btn-default">强制转接会话</button> <button ng-if="webchat.myRoleName !== \'handler\'&&webchat.requestMode === \'inside\'" ng-click="existWebChat($event,\'\',true)" style="margin-right:10px;width:90px" type="button" class="btn btn-default">退出会话</button> <button ng-if="webchat.myRoleName !== \'handler\'&&webchat.requestMode !== \'inside\'" ng-click="existWebChat($event,\'completed\',true)" style="margin-right:10px;width:90px" type="button" class="btn btn-default">退出会话</button><div class="btn-group"><button ng-if="webchat.myRoleName === \'handler\'&&webchat.requestMode === \'inside\'" ng-click="existWebChat($event,\'\')" style="width:160px" type="button" class="btn btn-default">结束会话</button> <button ng-if="webchat.myRoleName === \'handler\'&&webchat.requestMode !== \'inside\'" ng-click="existWebChat($event,\'completed\')" style="width:160px" type="button" class="btn btn-default">结束会话</button> <button ng-if="webchat.myRoleName === \'handler\'&&webchat.requestMode !== \'inside\'" style="border-top-left-radius:0;border-bottom-left-radius:0;padding:6px 12px;border:1px solid transparent;border-color:#ccc" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul style="width:194px" class="dropdown-menu chat-do-dropdown-menu" role="menu"><li ng-show="webchat.myRoleName === \'handler\'&&webchat.requestMode !== \'inside\'"><a href="javascript:void(0);" ng-click="existWebChat($event,webchat.myRoleName===\'handler\'?\'go_ticket\':\'\',true)">结束会话，工单继续跟踪</a></li><li ng-show="webchat.myRoleName === \'handler\'&&webchat.requestMode === \'incoming\'"><a href="javascript:void(0);" ng-click="existWebChat($event,\'refuse\')">拒绝服务，结束会话</a></li></ul></div></div></header><section class="chat-container js-chat-content"><aside class="chat-aside" ng-click="wechatEmojiPanelOpen = false;" ng-if="webchat.clientType!=\'USB_PHONE\'"><div ng-switch on="chatLeftSelected"><dl class="user-device-info" ng-switch-default><dt>客户</dt><dd><user-select getusertickets="getUserTickets()" chatisclose="chatIsClose" chatbtngroupstatus="chatBtnGroupStatus" selecteduser="webchat.user" webchatid="webchat.id" sessiontype="webchat.clientType"></user-select></dd></dl><dl class="user-device-info"><dt>访客信息</dt><dd>上次<span ng-if="webchat.clientType==\'USB_PHONE\'">通话</span><span ng-if="webchat.clientType!=\'USB_PHONE\'">来访</span>：{{webchat.preTime|nullStringFilter}}</dd><dd>本次<span ng-if="webchat.clientType==\'USB_PHONE\'">通话</span><span ng-if="webchat.clientType!=\'USB_PHONE\'">来访</span>：<ewei-timer stop-timer="true" start="webchat.createdAt"></ewei-timer></dd><dd>{{\'STATISTICS_VIA\'|translate}}：{{webchat.via.channelName|translate|nullStringFilter}}</dd><dd>入口：{{webchat.via.source|nullStringFilter}}</dd><dd ng-hide="webchat.clientType==\'USB_PHONE\'">{{\'ACCESS_DEVICE\'|translate}}：{{webchat.clientType|nullStringFilter}}</dd><dd ng-hide="webchat.clientType==\'USB_PHONE\'">{{\'ACCESS_OPERATING_SYSTEM\'|translate}}：{{webchat.os|nullStringFilter}}</dd><dd ng-hide="webchat.clientType==\'USB_PHONE\'">{{\'ACCESS_BROWSER\'|translate}}：{{webchat.browser|nullStringFilter}}</dd><dd ng-hide="webchat.clientType==\'USB_PHONE\'">{{\'ACCESS_LOCATION\'|translate}}：<ip-to-address ip="webchat.ip"></ip-to-address></dd><dd ng-hide="webchat.clientType==\'USB_PHONE\'">{{\'ACCESS_IP_ADDRESSES\'|translate}}：{{webchat.ip|nullStringFilter}}</dd></dl><ul ng-switch-when="ticket" class="list-unstyled chat-ticket-list" bindonce><li ng-repeat="t in userTickets.list"><p><strong class="ticket-no"><b>工单#</b><b bo-bind="t.no"></b></strong> <span class="ticket-date"><b>更新：</b><span bo-bind="t.updatedAt|dateFilter_style2"></span></span> <span class="ticket-date"><b>创建：</b><span bo-bind="t.createdAt |dateFilter_style2"></span></span></p><p class="ticket-content"><span class="New" bo-bind="t.status[0]"></span> <a bo-bind="t.subject" href="#/tickets/{{t.id}}"></a></p><p class="ticket-user"><b>处理人：</b><span bo-bind="t.engineer.user.name"></span></p></li><input type="button" ng-if="checkMoreUserTicket();" class="btn-more" ng-click="getMoreUserTicket()" value="More..."></ul><ul ng-switch-when="history-chat" class="list-unstyled chat-history-list" bindonce><li ng-repeat="l in userChatLogs.list"><div ng-if="l.type===\'text\'"><p><b bo-bind="l.user.name"></b><span bo-bind="l.createdAt|dateFilter_style1" class="date"></span></p><p bo-html="l.content|wechatEmoji"></p></div></li><input type="button" ng-if="hasMoreChatLogs" class="btn-more" ng-click="getMoreUserChatLogs()" value="More..."></ul></div><dl class="user-device-info" ng-if="userTickets.total != 0" style="margin-bottom:90px"><dt>历史工单（可关联本次会话）</dt><dd class="history-ticket-item clearfix" ng-repeat="ticket in userTickets.list" ng-style="ticket.id == ticketIndex?{\'display\':\'none\'}:{}"><a href="javascript:void(0)" class="history-ticket" ui-sref="tickets_detail({id:ticket.id})">#{{ticket.no}} {{ticket.subject}}</a> <a href="javascript:void(0)" class="relation-ticket-btn" ng-click="ticketRelation(ticket)">关联</a></dd><dd class="history-ticket-item clearfix" ng-if="userTickets.total > 5"><a href="javascript:void(0)" ng-click="getMoreUserTicket()" ng-if="checkMoreUserTicket()">查看更多工单</a></dd></dl></aside><aside class="chat-aside" ng-click="wechatEmojiPanelOpen = false;" ng-if="webchat.clientType==\'USB_PHONE\'"><div ng-switch on="chatLeftSelected"><dl class="user-device-info" ng-switch-default ng-hide="list.contactFlag"><dt>客户</dt><dd><user-select getusertickets="getUserTickets()" chatisclose="chatIsClose" chatbtngroupstatus="chatBtnGroupStatus" selecteduser="webchat.user" webchatid="webchat.id" sessiontype="webchat.clientType"></user-select></dd></dl><dl class="user-device-info"><dt>访客信息</dt><dd>上次<span ng-if="webchat.clientType==\'USB_PHONE\'">通话</span><span ng-if="webchat.clientType!=\'USB_PHONE\'">来访</span>：{{webchat.preTime|nullStringFilter}}</dd><dd>本次<span ng-if="webchat.clientType==\'USB_PHONE\'">通话</span><span ng-if="webchat.clientType!=\'USB_PHONE\'">来访</span>：<ewei-timer stop-timer="true" start="webchat.createdAt"></ewei-timer></dd><dd>{{\'STATISTICS_VIA\'|translate}}：{{webchat.via.channelName|translate|nullStringFilter}}</dd><dd>入口：{{webchat.via.source|nullStringFilter}}</dd><dd ng-hide="webchat.clientType==\'USB_PHONE\'">{{\'ACCESS_DEVICE\'|translate}}：{{webchat.clientType|nullStringFilter}}</dd><dd ng-hide="webchat.clientType==\'USB_PHONE\'">{{\'ACCESS_OPERATING_SYSTEM\'|translate}}：{{webchat.os|nullStringFilter}}</dd><dd ng-hide="webchat.clientType==\'USB_PHONE\'">{{\'ACCESS_BROWSER\'|translate}}：{{webchat.browser|nullStringFilter}}</dd><dd ng-hide="webchat.clientType==\'USB_PHONE\'">{{\'ACCESS_LOCATION\'|translate}}：<ip-to-address ip="webchat.ip"></ip-to-address></dd><dd ng-hide="webchat.clientType==\'USB_PHONE\'">{{\'ACCESS_IP_ADDRESSES\'|translate}}：{{webchat.ip|nullStringFilter}}</dd></dl><ul ng-switch-when="ticket" class="list-unstyled chat-ticket-list" bindonce><li ng-repeat="t in userTickets.list"><p><strong class="ticket-no"><b>工单#</b><b bo-bind="t.no"></b></strong> <span class="ticket-date"><b>更新：</b><span bo-bind="t.updatedAt|dateFilter_style2"></span></span> <span class="ticket-date"><b>创建：</b><span bo-bind="t.createdAt |dateFilter_style2"></span></span></p><p class="ticket-content"><span class="New" bo-bind="t.status[0]"></span> <a bo-bind="t.subject" href="#/tickets/{{t.id}}"></a></p><p class="ticket-user"><b>处理人：</b><span bo-bind="t.engineer.user.name"></span></p></li><input type="button" ng-if="checkMoreUserTicket();" class="btn-more" ng-click="getMoreUserTicket()" value="More..."></ul><ul ng-switch-when="history-chat" class="list-unstyled chat-history-list" bindonce><li ng-repeat="l in userChatLogs.list"><div ng-if="l.type===\'text\'"><p><b bo-bind="l.user.name"></b><span bo-bind="l.createdAt|dateFilter_style1" class="date"></span></p><p bo-html="l.content|wechatEmoji"></p></div></li><input type="button" ng-if="hasMoreChatLogs" class="btn-more" ng-click="getMoreUserChatLogs()" value="More..."></ul></div><dl class="user-device-info" ng-if="userTickets.total != 0" ng-hide="list.contactFlag" style="margin-bottom:90px"><dt>历史工单（可关联本次会话）</dt><dd class="history-ticket-item clearfix" ng-repeat="ticket in userTickets.list" ng-style="ticket.id == ticketIndex?{\'display\':\'none\'}:{}"><a href="javascript:void(0)" class="history-ticket" ui-sref="tickets_detail({id:ticket.id})">#{{ticket.no}} {{ticket.subject}}</a> <a href="javascript:void(0)" class="relation-ticket-btn" ng-click="ticketRelation(ticket)">关联</a></dd><dd class="history-ticket-item clearfix" ng-if="userTickets.total > 5"><a href="javascript:void(0)" ng-click="getMoreUserTicket()" ng-if="checkMoreUserTicket()">查看更多工单</a></dd></dl><dl class="user-device-info" ng-if="list.contactObj.total!= 0" style="margin-bottom:90px" ng-show="list.contactFlag"><dt>匹配到的客户</dt><dd class="history-ticket-item clearfix" ng-repeat="contactVal in list.contactObj.contacts"><a href="javascript:void(0)" class="get-contact" ui-sref="customers_detail({id:contactVal.id})">#{{contactVal.name}}</a> <a href="javascript:void(0)" class="get-contact-phone">{{contactVal.mobilePhone||contactVal.phone}}</a> <a href="javascript:void(0)" class="relation-ticket-btn" ng-click="contactRelation(contactVal)">替换</a></dd><dd class="history-ticket-item clearfix"><a href="javascript:void(0)" ng-click="getMoreContact()" ng-hide="MoreContactCond">查看更多客户</a></dd></dl></aside><article ng-show="webchat.clientType!=\'USB_PHONE\'" keep-scroll><div class="alert alert-danger" style="position:fixed;z-index:100;left:376px;right:10px;top:130px" ng-if="!userOnline">对方离线，目前收不到你的消息</div><div class="chat-content" ng-click="wechatEmojiPanelOpen = false;"><section class="chat-context" ticket-image-view><chat-logs log-lists="chatLogs" progess="progess" is-webchat="true" re-send-message="reSendMessage"></chat-logs></section></div><div class="chat-plug-promet-group" ng-style="plugPrometStyle"><div class="input-group chat-plug-promet" ng-if="chatBtnGroupStatus == \'download\'"><div class="text-center chat-download-control">未检测到远程协助组件，请下载安装 <span ng-click="downloadApplication()" class="btn-d" style="margin-left:20px">下载</span> <span class="btn-close" ng-click="closedownloadApplication()">关闭</span></div></div><div class="input-group chat-plug-promet" ng-if="chatBtnGroupStatus == \'download-done\'"><div class="text-center chat-download-control">请安装已下载的组件，安装成功后提示将自动消失 <span class="btn-close" ng-click="closedownloadApplication()">关闭</span></div></div><div class="input-group chat-plug-promet" ng-if="chatBtnGroupStatus == \'lack-plug\'"><div class="text-center chat-download-control">对方还未安装远程协助组件，请稍后再试... <span ng-click="giveUpRemoteDesk(\'remote_desk\')" class="btn-d" style="margin-left:20px">取消</span></div></div><div class="input-group chat-plug-promet" ng-if="remoteDesk == \'requesting\'"><div class="text-center chat-download-control">您正在请求控制对方的电脑，请等待对方回应... <span ng-click="giveUpRemoteDesk(\'remote_desk\')" class="btn-d" style="margin-left:20px">取消</span></div></div><div class="input-group chat-plug-promet" ng-if="remoteDesk == \'accept\'"><div class="text-center chat-download-control">对方接受了您的远程协助请求 <span ng-click="giveUpRemoteDesk(\'remote_desk\')" class="btn-d" style="margin-left:20px">取消</span></div></div><div class="input-group chat-plug-promet" ng-if="remoteVideo == \'requesting\'"><div class="text-center chat-download-control">您正在邀请对方视频通话，请等待对方回应... <span ng-click="giveUpRemoteDesk(\'video_call\')" class="btn-d" style="margin-left:20px">取消</span></div></div><div class="input-group chat-plug-promet" ng-if="remoteVideo == \'accept\'"><div class="text-center chat-download-control">对方接受了您的视频通话邀请 <span ng-click="giveUpRemoteDesk(\'video_call\')" class="btn-d" style="margin-left:20px">取消</span></div></div></div></article><div ng-show="webchat.clientType!=\'USB_PHONE\'"><div class="ticket-loading ng-scope ng-isolate-scope" ticket-loading="/chat_logs/{{stateParamsId}}.json"><img src="/source/images/ajax-loader.gif"></div><div ng-switch on="quickmatchItems"><section ng-switch-default ng-show="matchItems.length>0" class="chat-box"><ul class="list-unstyled chat-replay-list"><li style="cursor:pointer" ng-repeat="item in matchItems track by $index" ng-click="selectmatchQuickReplys(item.content);" ng-class="{true:\'item-select\',false:\'item-not-select\'}[item.selected]" ng-mouseenter="itemMouseenter(item.id);" class="media"><span ng-bind-html="item.html|sanitize|trusted" class="media-left hideOverflow" style="max-width:250px"></span> <span class="hideOverflow media-right">{{item.content}}</span></li></ul></section><section ng-switch-when="knowledge" class="chat-box"><ul ng-if="questions.length" class="list-unstyled list-knowledge"><li class="media list-knowledge-item" ng-repeat="q in questions"><div class="media-left media-middle"><input type="button" value="发送" class="btn btn-knowledge-send" ng-click="sendKnowledge(q)"> <input type="button" value="编辑" class="btn btn-knowledge-edit" ng-click="editKnowledge(q)"></div><div class="media-body media-top" style="padding-top:3px"><p><span class="margin_right5px knowledge-type">\\{{questionKnowledgeType[q.topic.type]}}\\{{q.topic.name}}</span> <span class="knowledge-title">{{q.title}}</span></p><p class="knowledge-summary">{{q.summary}}</p></div></li></ul></section></div><wechat-emoji edit-element-id="webchatTextMessage" wechat-emoji-panel-open="wechatEmojiPanelOpen" ng-show="wechatEmojiPanelOpen"></wechat-emoji></div><div ng-if="webchat.clientType == \'USB_PHONE\'" id="phone-chat"><div class="phone-start">通话#{{webchat.id}}开始</div><div class="phone-box"><div class="call iconfont" style="color:#fff;font-size:30px">&#xe61b;</div><p class="phone-number">{{webchat.user.phone || webchat.user.mobilePhone}}</p><p class="phone-state">（<span ng-if="webchat.requestMode==\'outgoing\'">呼出</span> <span ng-if="webchat.requestMode!=\'outgoing\'">呼入</span>） <span ng-if="webchat.phoneHangUpAt || hangup" style="color:red">通话结束</span> <span ng-if="!webchat.phoneHangUpAt && hangup==false">通话中</span></p><div class="btn-group" uib-dropdown style="width:200px"><div class="dropdown-toggle" uib-dropdown-toggle aria-haspopup="true" aria-expanded="false" ng-disabled="!webchat.phoneHangUpAt&&!hangup"><div class="btn chat-btn" style="" ng-click="existWebChat($event,\'completed\')" ng-style="{backgroundColor:((!webchat.phoneHangUpAt&&!hangup) ?\'#EEEEEE\':\'#23C953\'),color:((!webchat.phoneHangUpAt&&!hangup) ?\'#666666\':\'\')}" ng-disabled="!webchat.phoneHangUpAt&&!hangup"><span>{{webchat.myRoleName===\'handler\'?\'处理完毕，结束会话\':\'退出会话\'}}</span></div><button class="btn chat-btn-close" style="margin-left:-4px;height:34px" ng-style="{backgroundColor:((!webchat.phoneHangUpAt&&!hangup) ?\'#EEEEEE\':\'#23C953\'),color:((!webchat.phoneHangUpAt&&!hangup)?\'#666666\':\'\')}" ng-disabled="!webchat.phoneHangUpAt&&!hangup"><i class="iconfont">| &#xe60c;</i></button></div><ul id="sendMenu" class="dropdown-menu chat-do-dropdown-menu" role="menu" style="width:200px" uib-dropdown-menu><li role="presentation" ng-show="webchat.myRoleName === \'handler\'"><a role="menuitem" tabindex="-1" href="javascript:void(0);" ng-click="existWebChat($event,webchat.myRoleName===\'handler\'?\'go_ticket\':\'\')">结束会话，工单继续跟踪</a></li><li role="presentation" class="menu-item" ng-show="webchat.myRoleName === \'handler\'"><a role="menuitem" tabindex="-1" href="javascript:void(0);" ng-click="existWebChat($event,\'refuse\')">拒绝服务，结束会话</a></li></ul></div></div></div></section><section ng-show="webchat.clientType!=\'USB_PHONE\'" class="flex js-chat-footer" style="align-items:flex-end"><div class="flex-none btn-bottom-group" ng-if="!(!chatIsClose&&webchat.clientType===\'WEB_PC\')" style="border:1px solid #e5e5e5;border-top:none"></div><div ng-switch on="remoteDesktopStatus" class="flex-none btn-bottom-group" ng-if="!chatIsClose&&webchat.clientType===\'WEB_PC\'" style="background-color:#39f"></div><div class="flex1" style="position:relative" ng-click="wechatEmojiPanelOpen = false;"><div class="uploadList"><div ng-repeat="file in cacheFiles"><span><icon-file-type></icon-file-type></span>&nbsp;&nbsp; <span class="name" ng-bind="file.name"></span> <span class="progress" ng-bind="file.progress"></span> <span>%</span> <a href="javascript:;" class="cancel" ng-click="removeCacheFile(file)">取消</a></div></div><div class="input-group chat-btn-group" style="position:fixed;bottom:10px;width:{{chatWidth}}" ng-style="isPublic?{}:{\'background-color\':\' ##FFFFF0\',\'border\':\'1px solid #E7C86A\'}"><div id="container" class="chat-box-top clearfix" ng-hide="chatIsClose"><div class="chat-tools"><a href="javascript:void(0)" title="切换回复模式" class="tool-item" ng-click="toggleIsPublic(chatIsClose)"><i class="iconfont" ng-if="!isPublic">&#xe609;</i> <i class="iconfont" ng-if="isPublic">&#xe608;</i> </a><a href="javascript:void(0)" title="表情" class="tool-item" ng-click="showWechatEmoji($event);"><i class="iconfont">&#xe60b;</i> </a><a has-module="remote_help" href="javascript:void(0)" title="屏幕截图" class="tool-item" ng-click="requestScreenshot()"><i class="iconfont">&#xe602;</i> </a><a has-module="remote_help" href="javascript:void(0)" title="屏幕录像" class="tool-item" ng-click="requestVideo(\'video\')"><i class="iconfont">&#xe60a;</i> </a><a href="javascript:void(0)" title="传送文件" class="tool-item"><i class="iconfont">&#xe607;</i> <span id="pickfiles" style="opacity:0;width:20px;position:absolute;height:20px;top:0;left:6px" drop-element="webchatTextMessage" ewei-uploader before-upload="beforeUpload(up,file);" files-added="filesAdded(up,files);" upload-progress="uploadProgress(up,file);" file-uploaded="fileUploaded(up,file,info);" upload-error="uploadError(up, err, errTip);" upload-complete="uploadComplete();"></span> </a><a has-module="remote_help" ng-if="!chatIsClose&&(webchat.clientType===\'WEB_PC\' || webchat.clientType===\'DESKTOP_HELPCENTER\')" href="javascript:void(0)" title="远程桌面" class="tool-item"><div class="dropdown"><button class="dropdown-toggle" style="padding:0" type="button" ng-click="checkRemoteDeskPlug(\'remote_desk\')"><i class="iconfont">&#xe606;</i></button></div></a><a has-module="remote_help" ng-if="!chatIsClose&&(webchat.clientType===\'WEB_PC\' || webchat.clientType===\'DESKTOP_HELPCENTER\')" href="javascript:void(0)" title="视频通话" class="tool-item" ng-click="checkRemoteDeskPlug(\'video_call\')"><i class="iconfont">&#xe60f;</i></a></div><div class="text-right chat-btn-wrap" style="position:absolute;right:30px;top:90px;z-index:9999"><div style="border-radius:5px;padding:6px 18px;min-width:100px;height:26px" class="btn btn-default btn-confirm" ng-click="sendReplay($event)"><span style="line-height:26px">回复</span></div></div></div><pre contenteditable copy-img-upload-new scrip-br="true" class="user-modify form-control" style="height:100px;box-shadow:initial;border:1px solid #e5e5e5" data-ph="{{chatContentInp}}" ng-change="saveDraft()" ng-hide="chatIsClose" placeholder="{{chatContentInp}}" ng-keyup="matchQuickReplys($event)" ng-keydown="matchQuickReplys($event)" ng-keypress="inputKeypress($event)" ng-click="$parent.wechatEmojiPanelOpen=false" ng-model="textMessage" id="webchatTextMessage"></pre></div><div class="input-group chat-input-group" ng-style="plugPrometStyle" style="position:fixed;bottom:10px;margin:0 10px;height:100px;background-color:#1E8CCE;padding-top:30px;color:#fff" ng-if="chatIsClose"><div class="text-center chat-download-control">会话已关闭 <span class="btn-d" ng-click="existWebChat($event,webchat.myRoleName===\'handler\'?\'completed\':\'\',\'onlyClose\');$parent.chatBtnGroupStatus=\'\';">确定</span></div></div><div class="input-group chat-input-group" ng-style="plugPrometStyle" style="position:fixed;bottom:10px;margin:0 10px;height:136px;background-color:#1E8CCE;padding-top:30px;color:#fff" ng-if="chatBtnGroupStatus == \'chat_transfer\'"><div class="text-center chat-download-control">{{webchat.engineer.name}}已强制转接会话 <span class="btn-d" ng-click="existWebChat($event,\'\',true);$parent.chatBtnGroupStatus=\'\';">确认</span></div></div></div></section></div><input type="hidden" id="qiniuDomain" value=" {{qiniuBucketDomain}}"><script type="text/ng-template" id="refuse_template.html"><div class="refuse-reason-box">\n    <ol class="refuse-reason-ol list-inline">\n      <li ng-repeat="r in refuseReasons">\n        <label>\n          <input type="radio" name="refuse_reason" ng-click="$parent.refuseErrorMessage=\'\'" ng-value="r" ng-model="$parent.refuseChatReason" style="vertical-align: text-top;margin: 2px 4px 0 0;" />\n          <span style="vertical-align: text-top;">{{r}}</span>\n        </label>\n      </li>\n    </ol>\n    <input type="text" class="txt" placeholder="请填写理由" ng-focus="refuseErrorMessage=\'\'" ng-model="refuseChatReasonText" / ng-show="refuseChatReason===\'其他原因\'">\n    <input type="button" class="btn btn-confirm" value="确定" ng-click="$ok(refuseChatReason===\'其他原因\'?refuseChatReasonText:refuseChatReason)" />\n    <span style="color:red;">{{refuseErrorMessage}}</span>\n  </div><\/script><script type="text/ng-template" id="close-chat.html"><div class="modal" tabindex="-1" role="dialog" aria-hidden="true">\n    <div style="width: 500px;" class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <button ng-click="$hide();" type="button" class="close" data-dismiss="modal" aria-label="Close">\n            <span aria-hidden="true">&times;</span>\n          </button>\n          <h4 class="modal-title" ng-bind="title"></h4>\n        </div>\n        <div class="modal-body" ng-bind="content"></div>\n      </div>\n    </div>\n  </div><\/script><script type="text/ng-template" id="close-chat-content.html"><div style="text-align: center;font-size: 14px;">\n    <p style="margin-top: 10px;">本次会话已关联工单#{{webchat.ticket.no}}，请选择结束方式。</p>\n    <div style="margin-top: 40px;margin-bottom: 20px;">\n      <button ng-click="closeChat($event,\'completed\')" style="margin-right: 45px;" type="button" class="btn btn-default btn-confirm">连同工单一起结束</button>\n      <button ng-click="closeChat($event,\'go_ticket\')" type="button" class="btn btn-default btn-confirm">仅结束本次会话</button>\n    </div>\n  </div><\/script>');e.put("source/views/ticket/apps.html",'<ul style="list-style:none;padding:0" class="size13"><li class="padding_top30px size13 cursorhand" onclick="alert(\'亲，码农们正在加班加点的开发 这个功能，敬请期待。。。\')"><img src="source/images/daoru9.jpg"><p><a style="color:#333">提交问题到Jira</a></p></li><li has-module="remote_help" class="padding_top30px size13 cursorhand" ng-click="goAssist(ticket,$event);"><img style="width:48px;height:48px" src="source/images/logo_helpdesk.png"><p><a style="color:#333">远程协助您的客户</a></p></li><li has-module="remote_help" class="padding_top30px size13 cursorhand" ui-sref="tickets_detail.engineers"><img style="width:48px;height:48px" src="source/images/logo_helpdesk.png"><p><a style="color:#333">向您的小伙伴求助</a></p></li><li class="padding_top30px size13 cursorhand" onclick="alert(\'亲，码农们正在加班加点的开发 这个功能，敬请期待。。。\')"><img src="source/images/daoru10.jpg"><p><a style="color:#333">提交商机到Salesforce</a></p></li><li class="padding_top30px size13 cursorhand" onclick="alert(\'亲，码农们正在加班加点的开发 这个功能，敬请期待。。。\')"><img src="source/images/daoru11.jpg"><p><a style="color:#333">添加更多应用</a></p></li></ul>');e.put("source/views/ticket/apps.pincode.html",'<form name="pincodeForm" class="css-form" novalidate><div class="modal-inner-content"><ul style="list-style:none;margin-left:-20px" class="size13 text-left"><li class="padding_top30px size13"><image-show imageurl="{{assistUser.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.48.48" imageclass="img-circle w48 h48 pull-left margin_right8px" editable="false"></image-show><div><p><strong><input type="text" style="width:215px;height:24px;border:1px solid #e4e4e4" class="size12" ng-model="assistUser.name" disabled="disabled"></strong></p><p><input type="email" style="width:215px;height:24px;border:1px solid #e4e4e4" class="size12" ng-model="assistUser.email" required maxlength="64"></p></div></li><li class="padding_top5px size13 text-left"><div style="width:271px;height:184px;border:1px solid #e4e4e4;overflow-y:scroll;overflow-x:hidden" class="size11">{{assistUser.nickname}}您好<br>我是<span ng-if="assistUser.type==\'customer\'">{{currentUserNickname}}</span><span ng-if="assistUser.type==\'engineer\'">{{currentUserName}}</span>，我将就工单#{{ticketNo}}<span ng-if="assistUser.type==\'customer\'">为</span><span ng-if="assistUser.type!=\'customer\'">邀请</span>您提供远程协助，请按照下列指引操作，即可连接到我。<br>邀请码： <strong style="color:#f70930">{{pincode.code}}</strong><br>请在帮助中心网页右上角输入即可。也可以点击以下链接<br>{{pincodeUrl}}<br><p style="color:#f70930">邀请码的有效期至本工单处理完毕，请尽快使用。</p></div></li><li ng-if="pincode.sendEmail" style="margin-top:60px"><div style="width:239px;height:27px;background-color:#ffc;margin-left:10px;padding-top:5px" class="text-center size12">邮件已发出</div></li></ul></div><div class="modal-footer" style="margin:15px -20px -20px"><button type="button" class="btn btn-default" ng-click="hideModal1();">取消</button> <button type="button" class="btn btn-primary" ng-click="sendPincode();" ng-disabled="!pincodeForm.$valid">发送</button></div></form>');e.put("source/views/ticket/apps.request_assist.html",'<ul style="list-style:none;text-align:center" class="size13"><li class="padding_top20px size13"><strong ng-show="!isOvertime">正在呼叫 {{seconds}}</strong> <strong ng-show="reject">远程协助请求已被对方拒绝</strong> <strong ng-show="bustling">对方正在响应其他的远程协助请求，请稍后重试</strong></li><li class="padding_top20px size13"><image-show imageurl="{{assistUser.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.48.48" imageclass="img-circle w48 h48" editable="false"></image-show></li><li style="color:#1e8cce" class="padding_top5px size13">{{assistUser.name}}</li><li class="padding_top5px size13"><br><br><button style="width:100px;height:24px;color:#FFF;background-color:#000;padding-top:2px" type="button" class="btn btn-default" ng-click="$hide();"><strong>取消</strong></button> <span style="margin-left:20px"></span> <button ng-show="isOvertime" style="width:62px;height:24px;color:#FFF;background-color:#000;padding-top:2px" type="button" class="btn btn-default" ng-click="retry();"><strong>重试</strong></button></li></ul><br><br>');e.put("source/views/ticket/apps.request_remote_desk.html",'<ul style="list-style:none;text-align:center" class="size13"><li class="padding_top20px size13"><strong ng-show="!isOvertime">正在呼叫 {{seconds}}</strong> <strong ng-show="reject">远程桌面请求已被对方拒绝</strong></li><li class="padding_top20px size13"><image-show imageurl="{{assistUser.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.48.48" imageclass="img-circle w48 h48" editable="false"></image-show></li><li style="color:#1e8cce" class="padding_top5px size13">{{assistUser.name}}</li><li class="padding_top5px size13"><br><br><button style="width:100px;height:24px;color:#FFF;background-color:#000;padding-top:2px" type="button" class="btn btn-default" ng-click="$hide();"><strong>取消</strong></button> <span style="margin-left:20px"></span> <button ng-show="isOvertime" style="width:62px;height:24px;color:#FFF;background-color:#000;padding-top:2px" type="button" class="btn btn-default" ng-click="retry();"><strong>重试</strong></button></li></ul><br><br>');e.put("source/views/ticket/apps.send.mail.invite.html",'<form name="pincodeForm" class="css-form" novalidate><div class="modal-inner-content"><ul style="list-style:none;margin-left:-20px" class="size13 text-left"><li class="padding_top30px size13 send-mail"><div><p></p><div style="margin-bottom:10px">邮箱<span class="send-red">*</span></div><strong><input type="email" style="width:100%;height:40px;border:1px solid #e4e4e4;border-radius:5px;margin-bottom:10px" class="send-input" ng-model="senndParams.email" required placeholder="请输入客户邮箱地址"></strong><p></p><p></p><div style="margin-bottom:10px">附言<span class="send-red">*</span><span class="send-gray">（最多200字符）</span></div><textarea style="width:100%;height:100px;border:1px solid #e4e4e4;border-radius:5px" class="send-textarea" ng-model="senndParams.postscript" required maxlength="200"></textarea><p></p></div></li></ul></div><div class="modal-footer" style="margin:15px -20px -20px"><button type="button" class="btn btn-default" ng-click="hideSendMail();">取消</button> <button type="button" class="btn btn-primary" ng-click="sendMail();" ng-disabled="!pincodeForm.$valid">发送</button></div></form><style>.send-input,.send-textarea{padding-left:10px;font-weight:400;font-size:100%}input::-webkit-input-placeholder{color:#CCC!important;font-weight:400;font-size:14px!important}.send-input:-moz-placeholder{color:#CCC!important;font-weight:400;font-size:14px!important}.send-input::-moz-placeholder{color:#CCC!important;font-weight:400;font-size:14px!important}.send-input:-ms-input-placeholder{color:#CCC!important;font-weight:400;font-size:14px!important}.send-red{color:red}.send-gray{color:#CCC}.padding_top30px{color:#000}</style>');e.put("source/views/ticket/chat_invite.html",'<div class="modal-inner-content"><p ng-show="inviteChatMode==\'transfer\'">客服 {{inviterName}}将会话{{chatId}}转接给你</p><p ng-show="inviteChatMode==\'invite\'">客服 {{inviterName}}邀请你加入会话{{chatId}}</p></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$responseInvite(chatId,\'reject\');">拒绝</button> <button type="button" class="btn btn-primary" ng-click="$responseInvite(chatId,\'accept\');">同意</button></div>');e.put("source/views/ticket/confirm_delete_template.html",'<div class="refuse-reason-box"><ol class="refuse-reason-ol list-inline"><li ng-repeat="r in refuseReasons"><label><input type="radio" name="refuse_reason" ng-click="$parent.refuseErrorMessage=\'\'" ng-value="r" ng-model="$parent.refuseChatReason" style="vertical-align:text-top;margin:2px 4px 0 0"> <span style="vertical-align:text-top">{{r}}</span></label></li></ol><input type="text" class="txt" placeholder="请填写理由" ng-focus="refuseErrorMessage=\'\'" ng-model="refuseChatReasonText" ng-show="refuseChatReason===\'其他原因\'"> <input type="button" class="btn btn-confirm" value="确定" ng-disabled="deleting" ng-click="$ok(refuseChatReason===\'其他原因\'?refuseChatReasonText:refuseChatReason)"> <span style="color:red">{{refuseErrorMessage}}</span></div>');e.put("source/views/ticket/confirm_merger_template.html",'<form name="mergerTicketForm" class="css-form" novalidate autocomplete="off"><div class="modal-inner-content"><p style="padding-bottom:10px">工单合并到：</p><div class="form-group"><div class="btn-group relative" style="width:100%"><div style="position:relative"><input type="text" name="name" ng-model="mergerUnit.curText" ng-change="mergerUnit.change()" ng-focus="mergerUnit.focus();" ng-keyup="mergerUnit.keyup($event)" class="form-control" placeholder="搜索工单编号或主题" style="padding-right:50px"> <span class="close" ng-if="mergerUnit.showSearch===false" ng-click="mergerUnit.clear();" style="position:absolute;right:10px;top:5px">×</span> <i ng-if="mergerUnit.showSearch===true" ng-click="mergerUnit.search();" class="fa fa-search" style="position:absolute;right:10px;top:10px;cursor:pointer"></i></div><ul ng-if="mergerUnit.list.length>0" class="dropdown-menu" style="width:100%" ng-style="{\'display\':mergerUnit.openMenu?\'block\':\'none\'}"><li ng-repeat="item in mergerUnit.list track by $index" ng-click="mergerUnit.select(item)"><a ng-click="javascript(0);" style="display:flex;width:100%"><span>#</span> <span style="display:block;width:150px">{{item.no}}</span> <span style="display:block;flex:1;overflow:hidden;text-overflow:ellipsis">{{item.subject}}</span></a></li></ul></div></div><p>工单合并后，原工单内容将被删除，撤销删除时不可恢复。</p></div><div class="modal-footer btn-group-common" style="border:none;margin-top:15px"><button type="button" class="btn btn-confirm" ladda="mergerUnit.submiting" ng-click="$ok(mergerUnit.selectedTicket)" ng-disabled="!mergerUnit.selectedTicket"><span>确认</span></button> <button type="button" class="btn btn-cancel" ng-click="$hide()"><span>取消</span></button></div></form>');e.put("source/views/ticket/select_ticket_web_form_fields.html",'<div class="modal-inner-content"><select class="form-control" ng-model="selectItem" id="formFieldSelect" ng-options="item.name for item in selectItems"></select></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">取消</button> <button type="button" class="btn btn-primary" ng-click="$addFiled()">更新</button></div>');e.put("source/views/ticket/setting.add_ticket.html",'<style type="text/css">.submitTicketNav{list-style:none;padding:0;margin-top:30px;padding-left:10px;border-bottom:1px solid #E4E4E4;margin-bottom:40px}.submitTicketNav li{border:1px solid #E4E4E4;width:120px;height:36px;float:left;line-height:36px;margin-right:10px;text-align:center;position:relative;top:1px;cursor:pointer;color:#69C;background:#F6F6F6}.submitTicketNav .activeNav{color:#747C7E;background:#fff;border-bottom:none}.submitTicketSet{width:400px;margin-top:20px;padding:0}.submitTicketSet ul{padding:0}.submitTicketSet li{width:130px;border:1px solid #ccc;height:35px;text-align:center;line-height:34px;border-radius:5px;margin-bottom:20px;cursor:pointer;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;list-style:none;position:relative}.submitTicketSet li img{position:absolute;right:0;top:0}.submitTicketSet li:hover{text-decoration:none;background:#f2f2f2;border:none}.submitTicketSet .activeShow{background:#f2f2f2;border:none}.ui-sortable-helper{cursor:move}#ticketCustomFieldsListBox{background:#F2F2F2;margin-top:20px;padding:15px 30px;list-style:none;font-size:14px;min-width:340px}#ticketCustomFieldsListBox i{cursor:pointer}</style><div class="setting-head-common"><div class="nav-title"><p class="channel"><strong>帮助中心接入</strong></p></div><p style="margin-top:15px">客户端通过多种方式向客户提供在线交谈、工单支持和FAQ自助等全方位的服务。</p><ul class="nav-list clearfix"><li ui-sref="system_setting.detail.client" ui-sref-active="active">客户端</li><li ui-sref="system_setting.detail.addTicketSetting" ui-sref-active="active">提交工单设置</li><li ui-sref="system_setting.detail.interfaceAppearance" ui-sref-active="active">在线客服外观</li><li ui-sref="system_setting.detail.autoAeply" ui-sref-active="active">自动回复</li><li ui-sref="system_setting.detail.serviceRequestManage" ui-sref-active="active">服务请求管理</li><li ui-sref="system_setting.detail.onlineCustomerNavigation" ui-sref-active="active">在线客服导航</li></ul><div ui-view></div></div>');e.put("source/views/ticket/setting.api_inf.html",'<style>.help-tip,.help-tip2{position:absolute;top:0;right:18px;text-align:center;font-size:14px;cursor:help;z-index:9999}.help-tip:before{content:\'了解更多\';color:#1e8cce}.help-tip2:before{content:\'如何获取？\';color:#1e8cce}.help-tip2:hover p,.help-tip:hover p{display:block}.help-tip p,.help-tip2 p{display:none;text-align:left;background-color:#1E2021;padding:20px;width:340px;position:absolute;border-radius:3px;box-shadow:1px 1px 1px rgba(0,0,0,.2);top:30px;right:30px;color:#FFF;font-size:13px}.help-tip p:before,.help-tip2 p:before{position:absolute;content:\'\';width:0;height:0;border:6px solid transparent;border-bottom-color:#1E2021;right:10px;top:-12px}.help-tip p:after,.help-tip2 p:after{width:100%;height:40px;content:\'\';position:absolute;top:-40px;left:0}</style><div class="size14" ng-switch on="selection"><div class="w450 padding10px"><p class="size16 font_b" ng-if="viaApi.type==\'add\'">开通API接口</p><p class="size16 font_b" ng-if="viaApi.type==\'update\'">更新API接口</p><div class="relative"><p></p></div><form class="form-horizontal margin_top20px" name="newApi"><div class="form-group"><label class="col-md-3 control-label">渠道名称</label><div class="col-md-8"><input ng-model="viaApi.name" maxlength="32" type="text" class="form-control input-sm"></div></div><div ng-show="MsgError" style="text-align:center;color:red;font-size:14px">渠道名称或应用名称不能为空</div><div ng-show="saveErrorMsg" style="text-align:center;color:red;font-size:14px">添加失败</div><div class="form-group margin_top25px"><div class="col-sm-3 col-sm-offset-3"><button ng-click="$hide()" type="button" class="btn btn-default w100">取消</button></div><div class="col-sm-3 col-sm-offset-1"><button ng-if="viaApi.type==\'add\'" ng-click="saveViaApi()" type="button" class="btn btn-default w100">完成</button> <button ng-if="viaApi.type==\'update\'" ng-click="updateViaApi()" type="button" class="btn btn-default w100">更新</button></div></div></form></div></div>');e.put("source/views/ticket/setting.api_setting.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>API接入</strong></p></div><oem-learn-more type="sdk_setting" description="您可以使用易维 API 访问易维功能，例如创建、编辑和查询工单。可以将 易维 功能整合到您自己的应用程序中，或建立 app 在您的 易维中添加功能。" learn-more-url="{{::apiUrl}}" class="know-more"></oem-learn-more></div><div class="channel-box"><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:330px;text-align:left">渠道名称({{viaApiList.length}})</th><th>APP KEY</th><th>APP SECRET</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="showAddViaApiModal(0,\'\',\'add\',0,\'\')">+ 添加渠道</a></th></tr></thead><tbody><tr ng-repeat="list in viaApiList" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:330px;padding-top:12px"><a class="channel-name" ng-bind="list.name" ng-click="showAddViaApiModal(list.id,list.name,\'update\',$index,list.app.name)"></a></td><td ng-bind="list.app.appKey"></td><td ng-bind="list.app.appSecret"></td><td class="text-right"><a href="javascript:void(0)" ng-click="showAddViaApiModal(list.id,list.name,\'update\',$index,list.app.name)">编辑</a>&emsp;|&emsp; <a href="javascript:void(0)" ng-click="deleteViaApi($index,list)">删除</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.automation.ticket.edit.html",'<style type="text/css">.setting-auto tr{height:40px}.setting-auto select[disabled]{background-color:#F0F0F0;color:#C6C6C6;border:1px solid #BEBEBE;opacity:1;-webkit-box-shadow:inset 0 1px 0 0 rgba(140,140,140,1);-moz-box-shadow:inset 0 1px 0 0 rgba(140,140,140,1);box-shadow:inset 0 1px 0 0 rgba(140,140,140,1)}.datepicker-wrap .dropdown-menu{width:300px}.tip{color:#999;margin:5px 0}</style><div style="width:900px"><div class="setting-head-common"><div class="nav-title"><a ng-click="backAutomation();">自动化 </a>》 <span ng-if="!$stateParams.id || $stateParams.id==0">添加工单自动化程序 </span><span ng-if="$stateParams.id>0">{{automation.name}}</span></div><oem-learn-more type="automations_edit" description="为为了提高处理效率，你可以预置自动化程序，满足触发条件时，系统自动执行自动化程序处理工单。系统将按照下列列表顺序自动执行自动化程序，所以排序非常重要。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/505" class="know-more"></oem-learn-more></div><div class="margin_left20px"><div class="padding_top10px padding_bottom10px form-inline"><label class="margin_right35px size14">自动化名称*</label><input class="size14 form-control" maxlength="64" ng-model="automation.name" placeholder="请输入自动化名称" style="width:300px"></div></div><div class="margin_left20px"><div class="padding_top10px padding_bottom10px form-inline"><label class="margin_right35px size14">自动化类型*</label><select class="size14 form-control" disabled="disabled" style="width:300px"><option value="ticket" selected="selected">工单自动化</option></select></div></div><div class="tryu margin_left20px margin_top20px w760" style="min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>符合下列 所有 条件：</strong></p></td></tr><tr ng-repeat="andCondition in andConditions track by $index"><td class="padding_left40px padding_right30px w300"><select ng-change="conditionChange(\'and\',$index,this)" class="size13 form-control w230" ng-options="andOption.value as andOption.option for andOption in andConditionOptions" ng-model="andCondition.attribute"></select></td><td class="padding_right30px w190"><select ng-disabled="andCondition.edit_able===0" ng-show="andCondition.attribute!=\'0\' && andCondition.attribute!=\'-1\'" class="size13 form-control w160" ng-options="compare.value as compare.option for compare in andCondition.compareOptions" ng-model="andCondition.compare"></select></td><td class="w230"><select ng-disabled="andCondition.edit_able===0" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'select\'&& andCondition.attribute !=\'priority\'" class="size13 form-control w230" ng-options="valueOption.value as valueOption.option for valueOption in andCondition.valueOptions" ng-model="andCondition.value"></select><ticket-priority-select disabled="andCondition.edit_able" width="w300" ng-if="andCondition.attribute!=\'0\' && andCondition.attribute==\'priority\'" selectedpriority="andCondition.value"></ticket-priority-select><via-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'via\'" selectedtype="andCondition.value.viaType" selectedvia="andCondition.value.via" selectedchannel="andCondition.value.channel" style="position:relative;top:-2px;margin:3px 0"></via-select><service-catalog-select disabled="andCondition.edit_able" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'serviceCatalog\'" selectedservicecatalog="andCondition.value" style="margin:3px 0" single-line="true"></service-catalog-select><engineer-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'engineer\'" selectedengineer="andCondition.engineer" selectedservicedesk="andCondition.engineerDesk" style="margin:3px 0" single-line="true"></engineer-select><service-desk-select type="automation" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'serviceDesk\'" selectedservicedesk="andCondition.value"></service-desk-select><user-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'requester\'" selecteduser="andCondition.value"></user-select><user-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'user\'" usertype="\'all\'" selecteduser="andCondition.value"></user-select><user-group-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'userGroup\'" selectedusergroup="andCondition.value" useredit="false"></user-group-select><ticket-label-autocomplete ng-if="andCondition.attribute!=\'0\' && andCondition.valueType==\'autocomplete\'" disabled="andCondition.edit_able" subject="andCondition.value"></ticket-label-autocomplete><input ng-disabled="andCondition.edit_able===0" type="text" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'text\'" class="size13 form-control w230" ng-model="andCondition.value"> <input ng-disabled="andCondition.edit_able===0" type="number" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'number\'" class="size13 form-control w230" ng-model="andCondition.value" style="text-align:center"> <input lay-date id="{{\'layDate\'+andCondition.id+$index}}" ng-disabled="andCondition.edit_able===0" type="text" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'date_time\'" class="size13 form-control w230" ng-model="andCondition.value"><div class="input-group w230 datepicker-wrap" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'date\'"><input ng-disabled="andCondition.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'andCondition\')" is-open="andCondition.start" ng-model="andCondition.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="andCondition.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'andCondition\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><cascade-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'cascade_options\'" category="auto" ticket-field="andCondition.valueOptions" single-line="true"></cascade-options><multi-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'multi_options\'" category="auto" ticket-field="andCondition.valueOptions"></multi-options><radio-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'options\'" category="auto" ticket-field="andCondition.valueOptions" single-line="true"></radio-options></td><td class="padding_left15px"><span style="color:#e04006;cursor:pointer" class="size30" ng-click="deleteCondition(\'and\',$index);">-</span></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addNewCondition(\'and\');"><strong>+</strong></span></td></tr></tbody></table></div><div class="tryu margin_left20px margin_top20px w760" style="min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>符合下列 任何条件：</strong></p></td></tr><tr ng-repeat="orCondition in orConditions track by $index"><td class="padding_left40px padding_right30px w300"><select class="size13 form-control w230" ng-change="conditionChange(\'or\',$index)" ng-options="orCondition.value as orCondition.option for orCondition in orConditionOptions" ng-model="orCondition.attribute"></select></td><td class="padding_right30px w190"><select ng-show="orCondition.attribute!=\'0\' && orCondition.attribute!=\'-1\'" ng-disabled="orCondition.edit_able===0" class="size13 form-control w160" ng-options="compare.value as compare.option for compare in orCondition.compareOptions" ng-model="orCondition.compare"></select></td><td class="w230"><select ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'select\' && orCondition.attribute!=\'priority\'" class="size13 form-control w230" ng-options="valueOption.value as valueOption.option for valueOption in orCondition.valueOptions" ng-model="orCondition.value"></select><ticket-priority-select disabled="orCondition.edit_able" width="w300" ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'select\' &&  orCondition.attribute==\'priority\'" selectedpriority="orCondition.value"></ticket-priority-select><via-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'via\'" selectedtype="orCondition.value.viaType" selectedvia="orCondition.value.via" selectedchannel="orCondition.value.channel" style="position:relative;top:-2px;margin:3px 0"></via-select><service-catalog-select disabled="orCondition.edit_able" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'serviceCatalog\'" selectedservicecatalog="orCondition.value" style="margin:3px 0"></service-catalog-select><engineer-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'engineer\'" selectedengineer="orCondition.engineer" selectedservicedesk="orCondition.engineerDesk" style="margin:3px 0"></engineer-select><service-desk-select type="automation" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'serviceDesk\'" selectedservicedesk="orCondition.value"></service-desk-select><user-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'requester\'" selecteduser="orCondition.value"></user-select><user-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'user\'" usertype="\'all\'" selecteduser="orCondition.value"></user-select><user-group-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'userGroup\'" selectedusergroup="orCondition.value" useredit="false"></user-group-select><ticket-label-autocomplete ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'autocomplete\'" disabled="orCondition.edit_able" subject="orCondition.value"></ticket-label-autocomplete><input type="text" ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'text\'" class="size13 form-control w230" ng-model="orCondition.value"> <input lay-date id="{{\'layDate\'+orCondition.id+$index}}" type="text" ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'date_time\'" class="size13 form-control w230" ng-model="orCondition.value"><div class="input-group w230 datepicker-wrap" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'date\'"><input ng-disabled="orCondition.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'orCondition\')" is-open="orCondition.start" ng-model="orCondition.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="orCondition.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'orCondition\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><cascade-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'cascade_options\'" category="auto" ticket-field="orCondition.valueOptions"></cascade-options><multi-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'multi_options\'" category="auto" ticket-field="orCondition.valueOptions"></multi-options><radio-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'options\'" category="auto" ticket-field="orCondition.valueOptions"></radio-options></td><td class="padding_left15px"><span style="color:#e04006;cursor:pointer" class="size30" ng-click="deleteCondition(\'or\',$index);">-</span></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addNewCondition(\'or\');"><strong>+</strong></span></td></tr></tbody></table></div><div class="tryu margin_left20px margin_top20px w760" style="min-height:184px"><table class="setting-auto" style="width:100%"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>执行以下操作：</strong></p></td></tr><tr ng-repeat="operation in operations track by $index"><td class="padding_left40px"><span style="color:#e04006;cursor:pointer;position:relative;float:right;top:5px;margin-right:10px" class="size30" ng-click="deleteCondition(\'operation\',$index);">-</span><select class="size13 form-control" style="width:230px;display:inline-block;margin-right:30px" ng-change="conditionChange(\'operation\',$index,this)" ng-options="operationOption.value as operationOption.option for operationOption in operation.options" ng-model="operation.attribute"></select><div style="width:230px;display:inline-block;position:relative" ng-if="operation.valueType != \'date_to_date\'"><select ng-disabled="operation.edit_able===0" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'select\'&& operation.attribute!=\'priority\'" class="size13 form-control" ng-model="operation.value" ng-options="valueOption.value as valueOption.option for valueOption in operation.valueOptions"></select><ticket-priority-select disabled="operation.edit_able" width="w300" ng-if="operation.attribute!=\'0\' && operation.valueType==\'select\' && operation.attribute==\'priority\'" selectedpriority="operation.value"></ticket-priority-select><service-catalog-select disabled="operation.edit_able" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'serviceCatalog\'" selectedservicecatalog="operation.value" style="position:relative;top:-2px;margin:3px 0"></service-catalog-select><engineer-select ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'engineer\')" selectedengineer="operation.engineer" selectedservicedesk="operation.engineerDesk" style="position:relative;top:-2px;margin:3px 0"></engineer-select><notice-user-select ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'informUser\')" selected-item="operation.value" style="position:relative;top:-2px;margin:3px 0"></notice-user-select><service-desk-select type="automation" ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'serviceDesk\' || operation.valueType==\'informUserGroup\')" selectedservicedesk="operation.value"></service-desk-select><ticket-cc-input ng-if="operation.attribute!=\'0\'&&operation.valueType==\'addCC\'" ccs="operation.value" who="ticket" whoid="" usergroup="" style="position:relative;top:12px" assignable="true" hidetomy="true"></ticket-cc-input><input type="text" ng-disabled="operation.edit_able===0" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'text\'" class="size13 form-control w230" ng-model="operation.value" style="display:inline-block"> <input lay-date id="{{\'layDate\'+operation.id+$index}}" type="text" ng-disabled="operation.edit_able===0" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'date_time\'" class="size13 form-control w230" ng-model="operation.value" style="display:inline-block"><cascade-options ng-if="operation.attribute!=\'0\'&&operation.valueType==\'cascade_options\'" category="auto" ticket-field="operation.valueOptions"></cascade-options><multi-options ng-if="operation.attribute!=\'0\'&&operation.valueType==\'multi_options\'" category="auto" ticket-field="operation.valueOptions"></multi-options><radio-options ng-if="operation.attribute!=\'0\'&&operation.valueType==\'options\'" category="auto" ticket-field="operation.valueOptions"></radio-options><div class="input-group w230 datepicker-wrap" style="position:relative" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'date\'"><input ng-disabled="operation.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'operation\')" is-open="operation.start" ng-model="operation.value" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" style="position:absolute;top:-22px"> <span class="input-group-btn" style="position:absolute;top:-22px;left:230px"><button ng-disabled="operation.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'operation\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><select ng-show="operation.attribute!=\'0\'&&operation.valueType==\'checkbox\'" ng-disabled="operation.edit_able===0" class="size13 form-control w160" ng-options="compare.value as compare.option for compare in operation.compareOptions" ng-model="operation.compare"></select></div><div style="display:inline-block;width:430px;float:right;overflow-wrap:hidden" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'date_to_date\'"><div style="width:180px;display:inline-block;float:left" class="datepicker-wrap"><div class="input-group input-size-middle date-input"><input ng-disabled="operation.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,this,\'operation\',\'startTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="operation.startTimeForm" ng-model="operation.startTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" max-date="operation.endTime"><label class="input-group-btn"><button ng-disabled="operation.edit_able===0" class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,this,\'operation\',\'startTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div style="width:30px;text-align:center;line-height:34px;display:inline-block;float:left"><p>至</p></div><div style="width:180px;display:inline-block;float:left" class="datepicker-wrap"><div class="input-group input-size-middle date-input"><input ng-disabled="operation.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,this,\'operation\',\'endTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="operation.endTimeForm" ng-model="operation.endTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" min-date="operation.startTime"><label class="input-group-btn"><button ng-disabled="operation.edit_able===0" class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,this,\'operation\',\'endTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div><div style="padding-top:10px"><ticket-comment-select ng-if="operation.attribute!=\'0\'&&operation.valueType==\'ticketComment\'" ticketcomment="operation.value"></ticket-comment-select></div><div style="margin-bottom:10px" ng-if="operation.attribute==\'deleteTicket\' && operation.value != \'无效信息\' && operation.value != \'重复信息\' && operation.value != \'恶意骚扰\' && operation.value"><p style="margin:10px 0">删除原因</p><textarea ng-model="operation.reason" maxlength="200" style="width:650px;height:120px" class="form-control"></textarea></div><div ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'informUser\'||operation.valueType==\'informUserGroup\')" style="margin-bottom:10px"><p style="margin:10px 0">邮件主题</p><input type="text" class="size13 form-control w230" ng-model="operation.noticeTitle" maxlength="64" ng-keyup="checkCharCount(this)"><p style="margin:10px 0">邮件内容</p><textarea style="width:650px;height:120px" class="form-control" ng-model="operation.noticeContent" maxlength="512" ng-keyup="checkCharCount(this)"></textarea><p class="tip">工单相关内容，主题：${subject!} ，处理人：${engineer!} ，客户：${customer!}，最新回复：${comment!}</p><p class="tip">如需通知内容中包含对应内容，只需将该变量写入邮件内容中适当位置即可。</p></div><div ng-if="operation.attribute!=\'0\'&&operation.valueType==\'informEvaluate\'" style="margin-bottom:10px"><p style="margin:10px 0">评价内容</p><textarea style="width:650px;height:120px" class="form-control" maxlength="200" ng-keyup="checkCharCount(this)"></textarea></div><p class="tip" style="line-height:normal" ng-if="operation.attribute==\'status\' && operation.value!=\'deleted\'">提醒：该条件只有在工单处理人是客服时才会执行</p></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addNewCondition(\'operation\');"><strong>+</strong></span></td></tr></tbody></table></div><ewei-permissions ng-if="(rolePermissions && type !== \'add\') || type === \'add\'"></ewei-permissions><div class="margin_left20px padding_top55px line_solid_02"></div><div class="padding_top25px padding_left20px margin_bottom120px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="backAutomation()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="saveAutomation()" ng-disabled="isClick">更新</button></div></div>');e.put("source/views/ticket/setting.automation.webchat.edit.html",'<style type="text/css">.setting-auto tr{height:40px}.setting-auto select[disabled]{background-color:#F0F0F0;color:#C6C6C6;border:1px solid #BEBEBE;opacity:1;-webkit-box-shadow:inset 0 1px 0 0 rgba(140,140,140,1);-moz-box-shadow:inset 0 1px 0 0 rgba(140,140,140,1);box-shadow:inset 0 1px 0 0 rgba(140,140,140,1)}.datepicker-wrap .dropdown-menu{width:300px}.tip{color:#999;margin:5px 0}</style><div style="width:900px"><div class="setting-head-common"><div class="nav-title"><a ng-click="backAutomation();">自动化 </a>》 <span ng-if="!$stateParams.id || $stateParams.id==0">添加自动化程序 </span><span ng-if="$stateParams.id>0">{{automation.name}}</span></div><oem-learn-more type="automations_edit" description="为为了提高处理效率，你可以预置自动化程序，满足触发条件时，系统自动执行自动化程序处理工单。系统将按照下列列表顺序自动执行自动化程序，所以排序非常重要。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/505" class="know-more"></oem-learn-more></div><div class="margin_left20px"><div class="padding_top10px padding_bottom10px form-inline"><label class="margin_right35px size14">自动化名称*</label><input class="size14 form-control" maxlength="64" ng-model="automation.name" placeholder="请输入自动化名称" style="width:300px"></div></div><div class="margin_left20px"><div class="padding_top10px padding_bottom10px form-inline"><label class="margin_right35px size14">自动化类型*</label><select class="size14 form-control" disabled="disabled" style="width:300px"><option value="ticket" selected="selected">会话自动化</option></select></div></div><div class="tryu margin_left20px margin_top20px w760" style="min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>符合下列 所有 条件：</strong></p></td></tr><tr ng-repeat="andCondition in andConditions track by $index"><td class="padding_left40px padding_right30px w300"><select ng-change="conditionChange(\'and\',$index,this)" class="size13 form-control w230" ng-options="andOption.value as andOption.option for andOption in andConditionOptions" ng-model="andCondition.attribute"></select></td><td class="padding_right30px w190"><select ng-disabled="andCondition.edit_able===0" ng-show="andCondition.attribute!=\'0\' && andCondition.attribute!=\'-1\'" class="size13 form-control w160" ng-options="compare.value as compare.option for compare in andCondition.compareOptions" ng-model="andCondition.compare"></select></td><td class="w230"><select ng-disabled="andCondition.edit_able===0" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'select\'&& andCondition.attribute !=\'priority\'" class="size13 form-control w230" ng-options="valueOption.value as valueOption.option for valueOption in andCondition.valueOptions" ng-model="andCondition.value"></select><ticket-priority-select disabled="andCondition.edit_able" width="w300" ng-if="andCondition.attribute!=\'0\' && andCondition.attribute==\'priority\'" selectedpriority="andCondition.value"></ticket-priority-select><via-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'via\'" selectedtype="andCondition.value.viaType" selectedvia="andCondition.value.via" selectedchannel="andCondition.value.channel" style="position:relative;top:-2px;margin:3px 0"></via-select><service-catalog-select disabled="andCondition.edit_able" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'serviceCatalog\'" selectedservicecatalog="andCondition.value" style="margin:3px 0" single-line="true"></service-catalog-select><engineer-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'engineer\'" selectedengineer="andCondition.engineer" selectedservicedesk="andCondition.engineerDesk" style="margin:3px 0" single-line="true"></engineer-select><service-desk-select type="automation" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'serviceDesk\'" selectedservicedesk="andCondition.value"></service-desk-select><user-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'requester\'" selecteduser="andCondition.value"></user-select><user-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'user\'" usertype="\'all\'" selecteduser="andCondition.value"></user-select><user-group-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'userGroup\'" selectedusergroup="andCondition.value" useredit="false"></user-group-select><input ng-disabled="andCondition.edit_able===0" type="text" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'text\'" class="size13 form-control w230" ng-model="andCondition.value"> <input ng-disabled="andCondition.edit_able===0" type="number" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'number\'" class="size13 form-control w230" ng-model="andCondition.value" style="text-align:center"> <input lay-date id="{{\'layDate\'+andCondition.id+$index}}" ng-disabled="andCondition.edit_able===0" type="text" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'date_time\'" class="size13 form-control w230" ng-model="andCondition.value"><div class="input-group w230 datepicker-wrap" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'date\'"><input ng-disabled="andCondition.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'andCondition\')" is-open="andCondition.start" ng-model="andCondition.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="andCondition.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'andCondition\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><cascade-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'cascade_options\'" category="auto" ticket-field="andCondition.valueOptions" single-line="true"></cascade-options><multi-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'multi_options\'" category="auto" ticket-field="andCondition.valueOptions"></multi-options><radio-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'options\'" category="auto" ticket-field="andCondition.valueOptions" single-line="true"></radio-options></td><td class="padding_left15px"><span style="color:#e04006;cursor:pointer" class="size30" ng-click="deleteCondition(\'and\',$index);">-</span></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addNewCondition(\'and\');"><strong>+</strong></span></td></tr></tbody></table></div><div class="tryu margin_left20px margin_top20px w760" style="min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>符合下列 任何条件：</strong></p></td></tr><tr ng-repeat="orCondition in orConditions track by $index"><td class="padding_left40px padding_right30px w300"><select class="size13 form-control w230" ng-change="conditionChange(\'or\',$index)" ng-options="orCondition.value as orCondition.option for orCondition in orConditionOptions" ng-model="orCondition.attribute"></select></td><td class="padding_right30px w190"><select ng-show="orCondition.attribute!=\'0\' && orCondition.attribute!=\'-1\'" ng-disabled="orCondition.edit_able===0" class="size13 form-control w160" ng-options="compare.value as compare.option for compare in orCondition.compareOptions" ng-model="orCondition.compare"></select></td><td class="w230"><select ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'select\' && orCondition.attribute!=\'priority\'" class="size13 form-control w230" ng-options="valueOption.value as valueOption.option for valueOption in orCondition.valueOptions" ng-model="orCondition.value"></select><ticket-priority-select disabled="orCondition.edit_able" width="w300" ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'select\' &&  orCondition.attribute==\'priority\'" selectedpriority="orCondition.value"></ticket-priority-select><via-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'via\'" selectedtype="orCondition.value.viaType" selectedvia="orCondition.value.via" selectedchannel="orCondition.value.channel" style="position:relative;top:-2px;margin:3px 0"></via-select><service-catalog-select disabled="orCondition.edit_able" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'serviceCatalog\'" selectedservicecatalog="orCondition.value" style="margin:3px 0"></service-catalog-select><engineer-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'engineer\'" selectedengineer="orCondition.engineer" selectedservicedesk="orCondition.engineerDesk" style="margin:3px 0"></engineer-select><service-desk-select type="automation" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'serviceDesk\'" selectedservicedesk="orCondition.value"></service-desk-select><user-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'requester\'" selecteduser="orCondition.value"></user-select><user-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'user\'" usertype="\'all\'" selecteduser="orCondition.value"></user-select><user-group-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'userGroup\'" selectedusergroup="orCondition.value" useredit="false"></user-group-select><input type="text" ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'text\'" class="size13 form-control w230" ng-model="orCondition.value"> <input ng-disabled="orCondition.edit_able===0" type="number" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'number\'" class="size13 form-control w230" ng-model="orCondition.value" style="text-align:center"> <input lay-date id="{{\'layDate\'+orCondition.id+$index}}" type="text" ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'date_time\'" class="size13 form-control w230" ng-model="orCondition.value"><div class="input-group w230 datepicker-wrap" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'date\'"><input ng-disabled="orCondition.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'orCondition\')" is-open="orCondition.start" ng-model="orCondition.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="orCondition.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'orCondition\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><cascade-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'cascade_options\'" category="auto" ticket-field="orCondition.valueOptions"></cascade-options><multi-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'multi_options\'" category="auto" ticket-field="orCondition.valueOptions"></multi-options><radio-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'options\'" category="auto" ticket-field="orCondition.valueOptions"></radio-options></td><td class="padding_left15px"><span style="color:#e04006;cursor:pointer" class="size30" ng-click="deleteCondition(\'or\',$index);">-</span></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addNewCondition(\'or\');"><strong>+</strong></span></td></tr></tbody></table></div><div class="tryu margin_left20px margin_top20px w760" style="min-height:184px"><table class="setting-auto" style="width:100%"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>执行以下操作：</strong></p></td></tr><tr ng-repeat="operation in operations track by $index"><td class="padding_left40px"><span style="color:#e04006;cursor:pointer;position:relative;float:right;top:5px;margin-right:10px" class="size30" ng-click="deleteCondition(\'operation\',$index);">-</span><select class="size13 form-control" style="width:230px;display:inline-block;margin-right:30px" ng-change="conditionChange(\'operation\',$index,this)" ng-options="operationOption.value as operationOption.option for operationOption in operation.options" ng-model="operation.attribute"></select><div style="width:230px;display:inline-block;position:relative" ng-if="operation.valueType != \'date_to_date\'"><select ng-disabled="operation.edit_able===0" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'select\'&& operation.attribute!=\'priority\'" class="size13 form-control" ng-model="operation.value" ng-options="valueOption.value as valueOption.option for valueOption in operation.valueOptions"></select><ticket-priority-select disabled="operation.edit_able" width="w300" ng-if="operation.attribute!=\'0\' && operation.valueType==\'select\' && operation.attribute==\'priority\'" selectedpriority="operation.value"></ticket-priority-select><service-catalog-select disabled="operation.edit_able" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'serviceCatalog\'" selectedservicecatalog="operation.value" style="position:relative;top:-2px;margin:3px 0"></service-catalog-select><engineer-select ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'engineer\')" selectedengineer="operation.engineer" selectedservicedesk="operation.engineerDesk" style="position:relative;top:-2px;margin:3px 0"></engineer-select><notice-user-select ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'informUser\')" selected-item="operation.value" style="position:relative;top:-2px;margin:3px 0"></notice-user-select><service-desk-select type="automation" ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'serviceDesk\' || operation.valueType==\'informUserGroup\')" selectedservicedesk="operation.value"></service-desk-select><ticket-cc-input ng-if="operation.attribute!=\'0\'&&operation.valueType==\'addCC\'" ccs="operation.value" who="ticket" whoid="" usergroup="" style="position:relative;top:12px" assignable="true" hidetomy="true"></ticket-cc-input><input type="text" ng-disabled="operation.edit_able===0" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'text\'" class="size13 form-control w230" ng-model="operation.value" style="display:inline-block"> <input lay-date id="{{\'layDate\'+operation.id+$index}}" type="text" ng-disabled="operation.edit_able===0" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'date_time\'" class="size13 form-control w230" ng-model="operation.value" style="display:inline-block"><cascade-options ng-if="operation.attribute!=\'0\'&&operation.valueType==\'cascade_options\'" category="auto" ticket-field="operation.valueOptions"></cascade-options><multi-options ng-if="operation.attribute!=\'0\'&&operation.valueType==\'multi_options\'" category="auto" ticket-field="operation.valueOptions"></multi-options><radio-options ng-if="operation.attribute!=\'0\'&&operation.valueType==\'options\'" category="auto" ticket-field="operation.valueOptions"></radio-options><div class="input-group w230 datepicker-wrap" style="position:relative" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'date\'"><input ng-disabled="operation.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'operation\')" is-open="operation.start" ng-model="operation.value" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" style="position:absolute;top:-22px"> <span class="input-group-btn" style="position:absolute;top:-22px;left:230px"><button ng-disabled="operation.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'operation\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><select ng-show="operation.attribute!=\'0\'&&operation.valueType==\'checkbox\'" ng-disabled="operation.edit_able===0" class="size13 form-control w160" ng-options="compare.value as compare.option for compare in operation.compareOptions" ng-model="operation.compare"></select></div><div style="display:inline-block;width:430px;float:right;overflow-wrap:hidden" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'date_to_date\'"><div style="width:180px;display:inline-block;float:left" class="datepicker-wrap"><div class="input-group input-size-middle date-input"><input ng-disabled="operation.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,this,\'operation\',\'startTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="operation.startTimeForm" ng-model="operation.startTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" max-date="operation.endTime"><label class="input-group-btn"><button ng-disabled="operation.edit_able===0" class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,this,\'operation\',\'startTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div style="width:30px;text-align:center;line-height:34px;display:inline-block;float:left"><p>至</p></div><div style="width:180px;display:inline-block;float:left" class="datepicker-wrap"><div class="input-group input-size-middle date-input"><input ng-disabled="operation.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,this,\'operation\',\'endTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="operation.endTimeForm" ng-model="operation.endTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" min-date="operation.startTime"><label class="input-group-btn"><button ng-disabled="operation.edit_able===0" class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,this,\'operation\',\'endTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div><div style="padding-top:10px" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'chatComment\'"><div class="form-group" style="padding:5px 0;width:496px"><div class="row"><div class="col-sm-12" style="margin-top:15px"><textarea ng-model="operation.value.value" class="size13 form-control" style="height:120px;resize:none" maxlength="10000" placeholder="回复文本内容"></textarea></div></div></div></div><div style="margin-bottom:10px" ng-if="operation.attribute==\'deleteTicket\' && operation.value != \'无效信息\' && operation.value != \'重复信息\' && operation.value != \'恶意骚扰\' && operation.value"><p style="margin:10px 0">删除原因</p><textarea ng-model="operation.reason" maxlength="200" style="width:650px;height:120px" class="form-control"></textarea></div><div ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'informUser\'||operation.valueType==\'informUserGroup\')" style="margin-bottom:10px"><p style="margin:10px 0">邮件主题</p><input type="text" class="size13 form-control w230" ng-model="operation.noticeTitle" maxlength="64" ng-keyup="checkCharCount(this)"><p style="margin:10px 0">邮件内容</p><textarea style="width:650px;height:120px" class="form-control" ng-model="operation.noticeContent" maxlength="512" ng-keyup="checkCharCount(this)"></textarea><p class="tip">工单相关内容，主题：${subject!} ，处理人：${engineer!} ，客户：${customer!}，最新回复：${comment!}</p><p class="tip">如需通知内容中包含对应内容，只需将该变量写入邮件内容中适当位置即可。</p></div><div ng-if="operation.attribute!=\'0\'&&operation.valueType==\'informEvaluate\'" style="margin-bottom:10px"><p style="margin:10px 0">评价内容</p><textarea style="width:650px;height:120px" class="form-control" maxlength="200" ng-keyup="checkCharCount(this)"></textarea></div><p class="tip" style="line-height:normal" ng-if="operation.attribute==\'status\' && operation.value!=\'deleted\'">提醒：该条件只有在工单处理人是客服时才会执行</p></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addNewCondition(\'operation\');"><strong>+</strong></span></td></tr></tbody></table></div><ewei-permissions ng-if="(rolePermissions && type !== \'add\') || type === \'add\'"></ewei-permissions><div class="margin_left20px padding_top55px line_solid_02"></div><div class="padding_top25px padding_left20px margin_bottom120px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="backAutomation()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="saveAutomation()" ng-disabled="isClick">更新</button></div></div>');e.put("source/views/ticket/setting.automation_edit_default.html",'<style type="text/css">.setting-auto tr{height:40px}.setting-auto select[disabled]{background-color:#F0F0F0;color:#C6C6C6;height:26px;border:1px solid #BEBEBE;opacity:1;-webkit-box-shadow:inset 0 1px 0 0 rgba(140,140,140,1);-moz-box-shadow:inset 0 1px 0 0 rgba(140,140,140,1);box-shadow:inset 0 1px 0 0 rgba(140,140,140,1)}</style><form name="defaultAutomation"><div style="overflow:scroll;overflow:auto;min-width:1000px"><div class="padding_top13px"><p class="margin_left20px size16"><strong>编辑自动化程序</strong></p><oem-learn-more type="automations_edit" description="为为了提高处理效率，你可以预置自动化程序，满足触发条件时，系统自动执行自动化程序处理工单。系统将按照下列列表顺序自动执行自动化程序，所以排序非常重要。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/505" class="margin_left20px size13"></oem-learn-more></div><div class="margin_left20px"><div class="padding_top10px padding_bottom10px form-inline"><label class="margin_right35px size14">自动化名称*</label><input class="size14 form-control" maxlength="64" ng-model="automation.name" placeholder="请输入自动化名称" style="width:300px"></div></div><div class="margin_left20px"><div class="padding_top10px padding_bottom10px form-inline"><label class="margin_right35px size14">自动化类型*</label><select class="size14 form-control" disabled="disabled" style="width:300px"><option value="ticket" ng-selected="automation.type==\'chat\'">会话自动化</option><option value="ticket" ng-selected="automation.type==\'ticket\'">工单自动化</option></select></div></div><div class="tryu margin_left20px margin_top20px w760" style="min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>符合下列 所有 条件：</strong></p></td></tr><tr><td class="padding_left40px padding_right30px"><select class="size13 form-control w230" style="height:34px" disabled="disabled"><option ng-if="automation.type==\'ticket\'">工单：状态</option><option ng-if="automation.type==\'chat\'||automation.type==\'weixin_chat\'">会话：状态</option></select></td><td class="padding_right10px"><select class="size13 form-control w100" style="height:34px" disabled="disabled"><option>是</option></select></td><td><select class="size13 form-control w230" style="height:34px" disabled="disabled"><option ng-if="automation.type==\'ticket\'">处理完毕</option><option ng-if="automation.type==\'chat\'||automation.type==\'weixin_chat\'">进行中</option></select></td></tr><tr><td class="padding_left40px padding_right30px"><select class="size13 form-control w230" style="height:34px" disabled="disabled"><option ng-if="automation.type==\'ticket\'">工单：处理完毕以来小时数</option><option ng-if="automation.type==\'chat\'||automation.type==\'weixin_chat\'">会话：客户回复间隔分钟数</option></select></td><td class="padding_right10px"><select class="size13 form-control w100" style="height:34px" disabled="disabled"><option>大于</option></select></td><td><input type="number" min="0" required class="size14 form-control" style="width:230px;text-align:center;height:34px" ng-model="automation.tempValue"></td></tr></tbody></table></div><div class="tryu margin_left20px margin_top20px w760" style="min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>符合下列 任何条件：</strong></p></td></tr><tr><td class="padding_left40px padding_right30px"><select class="size13 form-control w230" style="height:34px" disabled="disabled"><option>请选择</option></select></td><td class="padding_right10px"></td><td></td></tr></tbody></table></div><div class="tryu margin_left20px margin_top20px w760" style="min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>执行以下操作：</strong></p></td></tr><tr><td class="padding_left40px padding_right30px"><select class="size13 form-control w230" style="height:34px" disabled="disabled"><option ng-if="automation.type==\'ticket\'">工单:状态</option><option ng-if="automation.type==\'chat\'||automation.type==\'weixin_chat\'">会话:状态</option></select></td><td class="padding_right10px"><select ng-if="automation.type==\'ticket\'" class="size13 form-control w230" style="height:34px" disabled="disabled"><option>关闭</option></select><select ng-if="automation.type!=\'ticket\'" class="size13 form-control w230" style="height:34px" ng-model="automation.tempOperate" required><option ng-if="automation.type==\'chat\'||automation.type==\'weixin_chat\'" value="close_chat">结束会话</option><option ng-if="automation.type==\'chat\'||automation.type==\'weixin_chat\'" value="completed">结束会话，结束关联工单</option><option ng-if="automation.type==\'chat\'||automation.type==\'weixin_chat\'" value="go_ticket">结束会话，工单继续跟踪</option></select></td><td></td></tr></tbody></table></div><ewei-permissions ng-if="(rolePermissions && type !== \'add\') || type === \'add\'"></ewei-permissions><div class="margin_left20px padding_top55px line_solid_02"></div><div class="padding_top25px padding_left20px margin_bottom120px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="backAutomation()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-disabled="!defaultAutomation.$valid" ng-click="saveAutomationDefault(automation)">更新</button></div></div></form>');e.put("source/views/ticket/setting.automations.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>自动化</strong></p></div><oem-learn-more type="automations" description="为了提高处理效率，你可以预置自动化程序，满足触发条件时，系统自动执行自动化程序处理工单。系统将按照下列列表顺序自动执行自动化程序，所以排序非常重要。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/505" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li has-permissions="ticket_setting_automation" ui-sref="system_setting.automations.ticket" ui-sref-active="active">工单自动化</li><li has-permissions="chat_edit_automation" ui-sref="system_setting.automations.webchat" ui-sref-active="active">会话自动化</li></ul><div ui-view></div></div>');e.put("source/views/ticket/setting.automations.ticket.html",'<div class="channel-box"><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:500px;text-align:left">自动化程序(<span ng-bind="automationsLen"></span>)</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="toEditAutomation(0,\'add\',false)">+ 添加</a></th></tr></thead><tbody ui-sortable="sortableOptions" ng-model="automations"><tr ng-if="automationsLen==0"><td colspan="2">尚未添加自动化</td></tr><tr ng-repeat="automation in automations track by automation.id" ng-show="automation.accessed" id="{{automation.type}}_{{automation.id}}" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:500px;padding-top:12px"><a class="channel-name" ng-bind="automation.name" ng-click="toEditAutomation(automation.id,\'eidt\',automation.isDefault);"></a></td><td class="text-right"><span ng-if="!automation.isDefault" class="margin_left8px margin_right8px pull-right"><a href="javascript:void(0);" ng-click="deleteTicketAutomations($index,automation)">删除</a> </span><a href="javascript:void(0);" class="margin_left8px margin_right8px pull-right" ng-click="toEditAutomation(automation.id,\'eidt\',automation.isDefault);">编辑</a> <span ng-if="automation.isDefault" class="pull-right">|</span> <span ng-if="!automation.isDefault" class="pull-right">|</span> <a href="javascript:void(0)" class="margin_right8px margin_left8px myHandle pull-right" style="cursor:move">拖动排序</a> <span class="pull-right" ng-if="!automation.isDefault">|</span> <span class="margin_right8px margin_left8px pull-right" disabled-ng-if="!automation.isDefault"><a href="javascript:void(0);" ng-click="toActivateAutomations($index,automation,true)" ng-if="!automation.active">激活</a> <a href="javascript:void(0);" ng-click="toActivateAutomations($index,automation,false)" ng-if="automation.active">取消激活</a> </span><span ng-if="!automation.isDefault" class="pull-right">|</span> <a ng-if="!automation.isDefault" href="javascript:void(0);" class="margin_left8px margin_right8px pull-right" ng-click="cloneAutomation(automation.id,\'clone\',automation.isDefault);">克隆</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.automations.webchat.html",'<div class="channel-box"><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:500px;text-align:left">自动化程序(<span ng-bind="automationsLen"></span>)</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="toEditAutomation(0,\'add\',false)">+ 添加</a></th></tr></thead><tbody ui-sortable="sortableOptions" ng-model="automations"><tr ng-if="automationsLen==0"><td colspan="2">尚未添加自动化</td></tr><tr ng-repeat="automation in automations track by automation.id" ng-show="automation.accessed" id="{{automation.type}}_{{automation.id}}" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:500px;padding-top:12px"><a class="channel-name" ng-bind="automation.name" ng-click="toEditAutomation(automation.id,\'eidt\',automation.isDefault);"></a></td><td class="text-right"><span ng-if="!automation.isDefault" class="margin_left8px margin_right8px pull-right"><a href="javascript:void(0);" ng-click="deleteTicketAutomations($index,automation)">删除</a> </span><a href="javascript:void(0);" class="margin_left8px margin_right8px pull-right" ng-click="toEditAutomation(automation.id,\'eidt\',automation.isDefault);">编辑</a> <span ng-if="automation.isDefault" class="pull-right">|</span> <span ng-if="!automation.isDefault" class="pull-right">|</span> <a href="javascript:void(0)" class="margin_right8px margin_left8px myHandle pull-right" style="cursor:move">拖动排序</a> <span class="pull-right" ng-if="!automation.isDefault">|</span> <span class="margin_right8px margin_left8px pull-right" ng-if="!automation.isDefault"><a href="javascript:void(0);" ng-click="toActivateAutomations($index,automation,true)" ng-if="!automation.active">激活</a> <a href="javascript:void(0);" ng-click="toActivateAutomations($index,automation,false)" ng-if="automation.active">取消激活</a> </span><span ng-if="!automation.isDefault" class="pull-right">|</span> <a ng-if="!automation.isDefault" href="javascript:void(0);" class="margin_left8px margin_right8px pull-right" ng-click="cloneAutomation(automation.id,\'clone\',automation.isDefault);">克隆</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.common_url.html",'<div class="title"><h5>常用URL{{serviceDeskDetail.name}}:{{serviceDeskDetail.provider.name}}</h5><span>{{\'TITLE\'|translate}}</span> <span>{{\'NAME\'|translate:\'{name:"张三"}\'}}</span> <span translate="TITLE"></span> <span translate="{{\'NAME\'}}" translate-values=\'{name:"张三"}\'></span> <span translate="{{\'NAME\'}}" translate-value-name="张三"></span></div><div ng-repeat="serviceDesk in serviceDesks track by $index">{{serviceDesk.name}}</div>');e.put("source/views/ticket/setting.cti_setting.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>电话语音接入</strong></p><oem-learn-more type="cti_setting" description="通过CTI电脑电话接口，将电话语音接入客服系统。通话（呼入呼出）自动关联客户，创建或插入工单，并保存通话录音。" learn-more-url="http://help.ewei.com/article_761" class="size13"></oem-learn-more></div><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:200px">渠道名称</th><th class="text-center">请求次数</th><th class="text-center">请求人数</th><th class="text-center">呼出次数</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="addCtiServiceNum()">+ 添加渠道</a></th></tr></thead><tbody><tr ng-if="lists.length==0"><td colspan="4">还没有电话渠道</td></tr><tr ng-repeat="list in lists | orderBy:\'enabled\':true" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:400px;padding-top:12px"><a ng-bind="list.name" ng-if="list.enabled" class="channel-name" ng-click="toCtiDetail(list.id)"></a> <span ng-bind="list.name" ng-if="!list.enabled" class="channel-name"></span><div style="display:inline-block;overflow:hidden"><span class="verify" ng-if="list.verified && list.enabled">已验证</span> <span class="no-verify" ng-if="!list.verified && list.enabled ">未验证</span> &emsp;<a href="http://help.ewei.com/article_760" target="_blank" ng-if="!list.verified  && list.enabled" style="color:#1e8cce">如何验证？</a></div></td><td style="text-align:center;width:120px"><span ng-if="list.enabled">{{list.requesteTimes}}</span> <span ng-if="!list.enabled">-</span></td><td style="text-align:center;width:120px"><span ng-if="list.enabled">{{list.requesterCount}}</span> <span ng-if="!list.enabled">-</span></td><td style="text-align:center;width:120px"><span ng-if="list.enabled">{{list.callOutTimes}}</span> <span ng-if="!list.enabled">-</span></td><td class="text-right"><a ng-if="list.enabled" ng-click="toCtiDetail(list.id)">编辑</a> <a ng-if="!list.enabled" ng-click="enabledCti(this,true)">启用</a>&emsp;|&emsp; <a ng-if="!list.enabled" ng-click="deleteCti(list)">删除</a> <a ng-if="list.enabled" ng-click="enabledCti(this,false)">停用</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.desktop_help.html",'<div class="setting-head-common" style="margin:0 20px;padding:0"><div class="nav-title"><p class="channel"><strong>电脑桌面客户端</strong></p></div><oem-learn-more type="ticket_desktop_help" description="将帮助中心安装到桌面，向客户提供网页在线交谈、远程协助、工单支持和FAQ自助等全方位的服务。" learn-more-url="" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-repeat="nav in navListData" ui-sref="{{::nav.self}}" ui-sref-active="active">{{::nav.title}}</li></ul><div ui-view></div></div>');e.put("source/views/ticket/setting.dingding_setting.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>钉钉客户端</strong></p><oem-learn-more type="dingding_setting" description="通过接口，将帮助中心接入钉钉企业号。客户可在钉钉内发起服务请求，接受在线客服、工单支持和FAQ自助等全方位的服务。" learn-more-url="http://help.ewei.com/article_814" class="size13"></oem-learn-more></div><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:200px">渠道名称</th><th class="text-center">请求次数</th><th class="text-center">请求人数</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="toDingdingDetail(0,\'add\')">+ 添加渠道</a></th></tr></thead><tbody><tr ng-if="lists.length==0"><td colspan="4">还没钉钉客户端渠道</td></tr><tr ng-repeat="list in lists | orderBy:\'verified\':true" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:400px;padding-top:12px"><a ng-bind="list.name" class="channel-name" ng-click="toDingdingDetail(list.id,\'modify\')"></a></td><td style="text-align:center;width:120px"><span ng-if="list.verified">{{list.ticketCount}}</span> <span ng-if="!list.verified">-</span></td><td style="text-align:center;width:120px"><span ng-if="list.verified">{{list.requesterCount}}</span> <span ng-if="!list.verified">-</span></td><td class="text-right"><a ng-click="toDingdingDetail(list.id,\'modify\')">编辑</a>&emsp;|&emsp; <a ng-click="deleteDingding(list)">删除</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.evaluate_edit.html",'<div class="setting-head-common"><div class="nav-title"><strong>调查问卷</strong></div><p style="margin-top:15px">编辑调查项，收集客户的满意度、忠诚度和推荐度。调查结果可进行统计分析。</p><ul class="nav-list clearfix"><li has-permissions="system_setting_ticket_evaluate" ui-sref="system_setting.detail.evaluate-ticket" ui-sref-active="active">工单服务</li><li has-permissions="chat_edit_evaluate" ui-sref="system_setting.detail.evaluate-chat" ui-sref-active="active">会话服务</li></ul><div ui-view></div></div>');e.put("source/views/ticket/setting.external_codes.html","网页聊天设置");e.put("source/views/ticket/setting.html",'<div id="main_panes"><section class="main_panes layoutB box99"><div class="pane left"><div class="title"><nav class="btn-group btn-groupA"><span class="btn btn-default" ui-sref="ticket_views">视图</span></nav></div><div class="list box99"><div ng-repeat="(index,menu) in menus track by $index"><div has-permissions="{{menu.permission}}"><div class="padding10px line_solid_02"><i class="fa fa-cog"></i> <span>{{menu.title}}</span></div><div class="list-group" ng-if="menu.type !== \'ticket_setting_more\'"><a ng-repeat="subMenu in menu.subMenus track by $index" has-permission="{{subMenu.permission}}" has-module="{{menu.module}}" ui-sref="ticket_setting.detail({uri:subMenu.uri})" class="line_off block padding5px padding_left20px padding_right20px" ui-sref-active="box02" ng-click="detail(index,$index,subMenu.uri)"><span>{{subMenu.title}}</span></a></div><div ng-if="menu.type === \'ticket_setting_more\'" class="margin_top10px" style="height:80px"><button ng-repeat="subMenu in menu.subMenus" class="btn btn-default margin_left10px" has-permissions="{{subMenu.permission}}" has-module="{{subMenu.module}}" ng-if="subMenu.show" ui-sref="{{subMenu.sref}}">{{subMenu.name}}</button></div></div></div></div></div><div class="pane right am-fade-and-slide-right" style="overflow-y:auto" ui-view></div></section></div>');e.put("source/views/ticket/setting.quick_reply.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>快捷回复</strong></p></div><oem-learn-more type="quick_reply" description="快捷回复可以减轻输入强度。当你在工单或在线交谈的输入框内开始输入时，系统自动匹配下列快捷项供你选择，你也可以在输入的过程中用“/”呼出快捷回复" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/344" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-click="switching(\'public\')" ng-if="edit" ng-class="{true: \'active\',false: \'\'}[displayPublic]">公共快捷回复（{{publicQuickReplys.length}}）</li><li ng-click="switching(\'private\')" ng-class="{true: \'active\',false: \'\'}[displayPrivate]">私有快捷回复（{{privateQuickReplys.length}}）</li></ul></div><div class="channel-box"><div class="table-box"><div class="table-responsive"><table ng-table="tableParams" class="table" template-pagination="source/scripts/directives/table/pager.html"><thead><tr><th style="width:260px;text-align:left">快捷词</th><th class="text-left" width="400px">完整的消息</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="editquickReply(undefined,false,\'add\')">+ 添加快捷回复</a></th></tr></thead><tbody><tr ng-repeat="row in $data track by row.id" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:260px;padding-top:12px"><a style="width:260px;display:inline-block" ng-click="editquickReply(row,false,\'edit\')" ng-bind="row.title" class="channel-name"></a></td><td style="text-align:left;width:400px"><p class="ellipsis" style="width:400px">{{row.content}}</p></td><td class="text-right"><a ng-click="editquickReply(row,true,\'copy\')">克隆</a>&emsp;|&emsp; <a ng-click="editquickReply(row,false,\'edit\')">编辑</a>&emsp;|&emsp; <a ng-click="deleteQuickReply(row)">删除</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.quick_reply_add.html",'<form name="quickReplyForm"><div class="modal-inner-content"><input type="hidden" ng-model="quickReplyDetail.id"><div class="form-group"><label>快捷词</label><input type="text" ng-model="quickReplyDetail.title" maxlength="64" name="quickReplyTitle" class="form-control ng-valid ng-dirty"><label>完整消息:</label><textarea maxlength="1000" ng-model="quickReplyDetail.content" name="quickReplyContent" class="form-control ng-valid ng-dirty" style="height:100px"></textarea><br><select class="form-control" name="quickReplySelect" ng-model="selectInfo" ng-options="item.option for item in selectItems" ng-change="change(selectInfo)"></select></div></div><div class="modal-footer btn-group-common"><button type="button" class="btn btn-confirm custom-background-color" ng-click="$save(quickReplyDetail)" ng-disabled="isClick">更新</button> <button type="button" class="btn btn-cancel" ng-click="$hide()">取消</button></div></form>');e.put("source/views/ticket/setting.sdk_detail.html",'<style>table{width:744px;height:auto;border:solid #000 0}thead tr td{border-bottom:solid #000 1px}td.selected{background-color:#f8f8f8;border:solid #CCC 1px;cellspacing:0}.sdk_ul{overflow:hidden;margin-top:30px;padding-left:0;margin-bottom:0;list-style:none;padding-bottom:10px}.help_preview_title_box{height:40px;text-align:center;line-height:40px}.help_preview_title{font-size:1.5em;font-weight:900}.service_preview_title{font-size:1.4em;position:absolute;right:10px}.left_arrows{position:absolute;left:10px;top:12px;font-size:20px;color:#ccc}.search_box{background:#999}.preview_list_box{list-style:none;line-height:40px;color:#666;padding:0;font-size:1.3em;border-left:1px solid #ccc;border-right:1px solid #ccc;border-bottom:1px solid #ccc}.preview_list_box li{padding-left:10px;position:relative}.preview_list_box li .right_arrows{right:10px;position:absolute;top:12px}.preview_list_title{background:#EBEBEB}.bottom_wire{border-bottom:1px solid #ccc;height:0;padding-left:10px}.service_chat_box{background:#EBEBEB;padding:10px}.service_chat_show_box{background:#fff;height:287px;color:#999;font-size:1.3em}.service_chat_compile_box{background:#fff;height:40px;line-height:40px;color:#999;font-size:1.3em;margin-top:10px}.navChecked{font-weight:700;color:#333}.checked{background:url(../../../source/images/check.png) no-repeat center}.catalogColor{color:#45403C}.navColor{color:#409DFF}.arrowRightColor{color:#666}</style><div class="setting-head-common"><div class="nav-title"><a ng-click="cancelEdit();">SDK接入 </a>》 <span>{{viaSDK.name}}</span></div><oem-learn-more type="sdk_setting_detail" description="按照开发者文档步骤集成我们的SDK到你的app或windows程序中。你还可以定义界面的外观，以及由哪个客服组负责响应客户的请求。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/608" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-class="{true:\'active\'}[showAddSdkTab==1]" ng-click="switchingAddSdkTab(1);">前期准备</li><li ng-class="{true:\'active\'}[showAddSdkTab==2]" ng-click="switchingAddSdkTab(2);">APP界面个性化</li><li ng-class="{true:\'active\'}[showAddSdkTab==3]" ng-click="switchingAddSdkTab(3);">会话/工单投递规则</li><li ng-show="false" ng-class="{true:\'active\'}[showAddSdkTab==4]" ng-click="switchingAddSdkTab(4);">在线客服导航</li></ul><input type="hidden" ng-model="webchatForm.id"><div ng-show="showAddSdkTab==1"><ul class="sdk_ul"><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">渠道名称</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="viaSDK.name" value="" maxlength="16"></li><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">应用程序描述</div><textarea class="form-control floatLeft margin_left20px w300" ng-model="viaSDK.description" value="" maxlength="60"></textarea></li></ul><ul class="sdk_ul"><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">AppKey</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="viaSDK.appKey" readonly="readonly"></li><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">AppSecret</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="viaSDK.appSecret" readonly="readonly"></li><li class="margin_top10px" style="overflow:hidden;text-align:left"><p class="padding_left150px color_ccc">请妥善保管AppKey和AppSecret，不要泄露给第三方。</p></li><li class="margin_top10px" style="overflow:hidden;text-align:left"><span class="padding_left150px color_ccc">限每日调用次数500次或以下，升级到<a href="#" style="color:#428bca">企业授权</a>可获得更高调用频率</span></li></ul><p class="margin_left20px line_solid_02" style="margin-top:20px"></p><div class="padding_top25px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="saveViaSDK();">更新</button></div><strong class="margin_left20px margin_top45px" style="display:block">下载SDK资源包</strong><ul style="padding:20px;margin-bottom:0;list-style:none;border:1px solid #ccc;width:900px" class="margin_left20px margin_top20px clearFloat"><li class="floatLeft margin_right20px"><input class="btn btn-primary" type="button" value="{{providerEweiProductName|replace_ewei_productname}}SDK for IOS" ng-click="downloadViaSDK(\'sdk_ios_new\');"></li><li class="floatLeft margin_right20px"><input class="btn btn-primary" type="button" value="{{providerEweiProductName|replace_ewei_productname}}SDK for Android" ng-click="downloadViaSDK(\'sdk_android_new\');"></li><li class="floatLeft margin_right20px"><input class="btn btn-primary" type="button" value="{{providerEweiProductName|replace_ewei_productname}}SDK for Windows" ng-click="#"></li><li class="floatRight"><input class="btn btn-danger" type="button" value="开发者指南" ng-click="downloadViaSDK(\'api\');"></li></ul></div><div ng-show="showAddSdkTab==2"><div class="clearFloat margin_top30px margin_left20px"><div class="floatLeft"><div><input type="checkbox" ng-model="viaSDK.viaSDKOutward.isShowHelpCenter">呈现帮助中心内容</div><ul class="sdk_ul"><li class="margin_top10px" style="overflow:hidden;text-align:right" ng-if="viaSDK.viaSDKOutward.isShowHelpCenter"><div style="width:126px" class="floatLeft margin_top5px">帮助中心标题</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="viaSDK.viaSDKOutward.helpCenterTitle" maxlength="7" value=""></li><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">在线客服标题</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="viaSDK.viaSDKOutward.onlineEngineerTitle" maxlength="5" value=""></li><li class="margin_top10px" style="overflow:hidden;text-align:right" ng-if="viaSDK.viaSDKOutward.isShowHelpCenter"><div style="width:126px" class="floatLeft margin_top5px">标题文字颜色</div><div class="floatLeft w300 margin_left20px"><spectrum-colorpicker ng-model="viaSDK.viaSDKOutward.characterColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></div></li><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">标题背景颜色</div><div class="floatLeft w300 margin_left20px"><spectrum-colorpicker ng-model="viaSDK.viaSDKOutward.backgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></div></li><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">文字链颜色</div><div class="floatLeft w300 margin_left20px"><spectrum-colorpicker ng-model="viaSDK.viaSDKOutward.characterChainColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></div></li></ul><p class="line_solid_02" style="margin-top:20px;width:530px"></p><div class="padding_top25px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="saveViaSDK();">更新</button></div></div><div class="floatLeft" ng-if="viaSDK.viaSDKOutward.isShowHelpCenter" style="width:300px;font-size:11px;margin-left:10px"><div class="help_preview_title_box" style="position:relative" ng-style="{backgroundColor:viaSDK.viaSDKOutward.backgroundColor}"><span class="help_preview_title" ng-style="{color:viaSDK.viaSDKOutward.characterColor}">{{viaSDK.viaSDKOutward.helpCenterTitle}}</span> <span class="service_preview_title" ng-style="{color:viaSDK.viaSDKOutward.characterChainColor}">{{viaSDK.viaSDKOutward.onlineEngineerTitle}}</span> <i class="fa fa-chevron-left left_arrows"></i></div><div class="search_box padding10px"><button class="btn w100p" style="background:#fff"><i class="fa fa-search"></i>搜索答案</button></div><ul class="preview_list_box"><li class="preview_list_title">社区公告</li><li>产品发布<i class="fa fa-chevron-right right_arrows"></i><p class="bottom_wire"></p></li><li>优惠区<i class="fa fa-chevron-right right_arrows"></i></li><li class="preview_list_title">知识库</li><li>新手向导<i class="fa fa-chevron-right right_arrows"></i><p class="bottom_wire"></p></li><li>远程协助<i class="fa fa-chevron-right right_arrows"></i></li><li class="preview_list_title">论坛</li><li>BUG反馈<i class="fa fa-chevron-right right_arrows"></i><p class="bottom_wire"></p></li><li>需求建议<i class="fa fa-chevron-right right_arrows"></i><p class="bottom_wire"></p></li><li>随便问问<i class="fa fa-chevron-right right_arrows"></i></li></ul></div><div class="floatLeft" ng-if="!viaSDK.viaSDKOutward.isShowHelpCenter" style="width:300px;font-size:11px;margin-left:10px"><div class="help_preview_title_box" style="position:relative" ng-style="{backgroundColor:viaSDK.viaSDKOutward.backgroundColor}"><span class="help_preview_title" ng-style="{color:viaSDK.viaSDKOutward.characterChainColor}">{{viaSDK.viaSDKOutward.onlineEngineerTitle}}</span> <i class="fa fa-chevron-left left_arrows"></i></div><div class="service_chat_box"><div class="service_chat_show_box">输入问题或建议</div><div class="service_chat_compile_box">你的名字</div><div class="service_chat_compile_box">Email</div><div style="padding:10px"><button class="btn btn-primary w100p" style="font-size:1.8em">开始交谈</button></div></div></div></div></div><div ng-show="showAddSdkTab==3" class="margin_left20px margin_top30px" style="font-size:14px"><form class="form-horizontal"><div style="width:900px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">会话投递到哪里？</label><div class="col-sm-10"><p style="margin:5px 0">客户选择“与客服交谈”，会话请求投递到下面所选的客服小组</p><service-desk-select selectedservicedesk="$parent.chatRouteServiceDesk"></service-desk-select></div></div><div style="width:900px;margin-top:40px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">最多允许多少个排队等待？</label><div class="col-sm-10"><div style="margin:5px 0"><input ng-model="viaSDK.viaSDKChatRoute.settingChatLimit" name="Limit" style="margin-right:16px" class="v_top" type="radio" value="false">不设上限，所有会话请求进入等待队列排队等候（FIFO），直至客服接通，或客户主动退出</div><div class="margin_top20px"><input ng-model="viaSDK.viaSDKChatRoute.settingChatLimit" name="Limit" style="margin-right:16px" class="v_top" type="radio" value="true">设定上限，避免无谓的等待</div><div ng-show="viaSDK.viaSDKChatRoute.settingChatLimit==\'true\'" class="margin_left30px margin_top15px"><div class="of0"><div class="floatLeft">当排队数量达到&nbsp;&nbsp;<input ng-model="viaSDK.viaSDKChatRoute.queueSizeMax" style="text-align:center;display:inline-block" ng-blur="checkValue()" class="w50 form-control" type="text">&nbsp;个时,</div><div style="color:#CFCECE" class="floatRight">*设为0意味着关闭本渠道</div></div><div class="margin_top15px"><input ng-model="viaSDK.viaSDKChatRoute.isServiceQueueFull" name="count" style="margin-right:16px" class="v_top" type="radio" value="true">引导客户留言（提交工单）</div><div ng-show="viaSDK.viaSDKChatRoute.isServiceQueueFull ==\'true\'" class="margin_top15px margin_left30px"><input ng-model="viaSDK.viaSDKChatRoute.waitingReplyMsg" style="width:660px;height:34px;font-size:14px" class="form-control" type="text"></div><div class="margin_top15px"><input ng-model="viaSDK.viaSDKChatRoute.isServiceQueueFull" name="count" style="margin-right:16px" class="v_top" type="radio" value="false">拒绝新的会话请求，并回复如下</div><div ng-show="viaSDK.viaSDKChatRoute.isServiceQueueFull ==\'false\'" class="margin_top15px margin_left30px"><input ng-model="viaSDK.viaSDKChatRoute.waitingRefuseMsg" style="width:660px;height:34px;font-size:14px" class="form-control" type="text"></div></div></div></div><div style="width:900px;margin-top:40px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">离线留言如何处理？</label><div class="col-sm-10"><p style="margin:5px 0">客户在非营业时段请求会话</p><div class="margin_top15px"><input ng-model="viaSDK.viaSDKChatRoute.isServiceNotWorkingTime" name="notBusiness" style="margin-right:16px" class="v_top" type="radio" value="true">引导客户留言（提交工单）</div><div ng-show="viaSDK.viaSDKChatRoute.isServiceNotWorkingTime==\'true\'" class="margin_left30px margin_top15px"><input ng-model="viaSDK.viaSDKChatRoute.notWorkingTimeReplyMsg" style="width:690px;height:34px;font-size:14px" class="form-control input-sm" type="text"></div><div class="margin_top15px"><input ng-model="viaSDK.viaSDKChatRoute.isServiceNotWorkingTime" name="notBusiness" style="margin-right:16px" class="v_top" type="radio" value="false">拒绝服务，并回复如下</div><div ng-show="viaSDK.viaSDKChatRoute.isServiceNotWorkingTime==\'false\'" class="margin_left30px margin_top15px"><input ng-model="viaSDK.viaSDKChatRoute.notWorkingTimeRefuseMsg" style="width:690px;height:34px;font-size:14px" class="form-control input-sm" type="text"></div><p class="margin_top30px">客服组成员全部不在线时</p><div class="margin_top15px"><input ng-model="viaSDK.viaSDKChatRoute.isServiceEngineerNotOnLine" name="notOnline" style="margin-right:16px" class="v_top" type="radio" value="true">引导客户留言（提交工单）</div><div ng-show="viaSDK.viaSDKChatRoute.isServiceEngineerNotOnLine==\'true\'" class="margin_left30px margin_top15px"><input ng-model="viaSDK.viaSDKChatRoute.notOnLineReplyMsg" style="width:690px;height:34px;font-size:14px" class="form-control input-sm" type="text"></div><div class="margin_top15px"><input ng-model="viaSDK.viaSDKChatRoute.isServiceEngineerNotOnLine" name="notOnline" style="margin-right:16px" class="v_top" type="radio" value="false">拒绝服务，并回复如下</div><div ng-show="viaSDK.viaSDKChatRoute.isServiceEngineerNotOnLine==\'false\'" class="margin_left30px margin_top15px"><input ng-model="viaSDK.viaSDKChatRoute.notOnLineRefuseMsg" style="width:690px;height:34px;font-size:14px" class="form-control input-sm" type="text"></div></div></div><p class="line_solid_02" style="margin-top:20px"></p><div class="padding_top25px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="saveViaSDK();">更新</button></div></form></div><div ng-show="showAddSdkTab==4" class="margin_left20px margin_top30px" style="font-size:14px"><div ng-model="navCrumbs" style="color:#409DFF" class="size16"><span style="cursor:pointer" ng-class="{\'navChecked\':$index == navCrumbs.length-1}" ng-repeat="item in navCrumbs" ng-click="showNavClick($index,item)">{{item.name}} <span ng-hide="$index == navCrumbs.length-1">》</span></span></div><div class="margin_top30px margin_left10px"><span>Tips</span> &nbsp; <input style="display:inline-block" ng-blur="updateViaSDKNavigation()" ng-model="viaSDKNavigation.tips" class="form-control w550 padding_left5px" type="text" placeholder="请选择相应服务目录导航。"> <input style="margin-left:60px" ng-click="updateViaSDKNavigation()" ng-model="viaSDKNavigation.directlyChat" type="checkbox" ng-true-value="true" ng-false-value="false"> 下级目录必选</div><div style="margin-top:36px" class="of0 w950 line_solid_02 padding_bottom5px"><div class="floatLeft margin_left10px">客户可选</div><div class="floatLeft margin_left40px">目录名称（客服所见）</div><div style="margin-left:150px" class="floatLeft">导航名称（客户所见）</div><div class="floatRight margin_right10px"><i class="fa fa-plus"></i> <a href="#/ticket/setting/service_catalog">添加服务目录</a></div></div><ul ng-model="onlineNav" style="padding:0;list-style:none;color:#A1A09F;margin-top:12px" class="w950"><li style="background:#FAFAFA" class="border04 h60 margin_bottom5px" ng-repeat="item in onlineNav"><div class="floatLeft"><div style="margin-top:13px" ng-class="{\'checked\': item.active}" class="w32 h32 radius5 box99 margin_left20px border05 cursorhand" ng-click="showChecked(item);"></div></div><div style="margin-top:4px;border-left:1px solid #E4E4E4;border-right:1px solid #E4E4E4;line-height:50px;padding-left:20px" ng-class="{\'catalogColor\': item.active}" class="floatLeft margin_left20px w300 h50">{{item.serviceCatalogName}}</div><div style="margin-top:4px;line-height:50px" class="floatLeft margin_left20px h50"><span ng-show="!item.active">{{item.name}}</span> <input ng-show="item.active" ng-blur="updateName(item);" ng-model="item.name" style="margin-top:10px;background:#FAFAFA;line-height:30px" ng-class="{\'navColor\': item.active}" class="w470 h30 border0 focusInp" type="text" value="item.name"></div><div style="text-align:center;line-height:60px;color:#ccc" ng-click="showClick($index,item)" class="floatRight w65 h60 cursorhand"><i style="font-size:50px" ng-class="{\'arrowRightColor\': item.active}" class="fa fa-angle-right"></i></div></li></ul></div><iframe id="downloadframe" style="display:none"></iframe><br><br><br><br></div>');e.put("source/views/ticket/setting.sdk_inf.html",'<style>.help-tip,.help-tip2{position:absolute;top:0;right:18px;text-align:center;font-size:14px;cursor:help;z-index:9999}.help-tip:before{content:\'了解更多\';color:#1e8cce}.help-tip2:before{content:\'如何获取？\';color:#1e8cce}.help-tip2:hover p,.help-tip:hover p{display:block}.help-tip p,.help-tip2 p{display:none;text-align:left;background-color:#1E2021;padding:20px;width:340px;position:absolute;border-radius:3px;box-shadow:1px 1px 1px rgba(0,0,0,.2);top:30px;right:30px;color:#FFF;font-size:13px}.help-tip p:before,.help-tip2 p:before{position:absolute;content:\'\';width:0;height:0;border:6px solid transparent;border-bottom-color:#1E2021;right:10px;top:-12px}.help-tip p:after,.help-tip2 p:after{width:100%;height:40px;content:\'\';position:absolute;top:-40px;left:0}</style><div class="size14" ng-switch on="selection"><div ng-switch-default class="w450 padding10px"><p class="size16 font_b">添加SDK渠道</p><form class="form-horizontal margin_top20px"><div class="form-group"><label class="col-md-3 control-label">渠道名称</label><div class="col-md-8"><input ng-model="addViaSdk.name" type="text" class="form-control input-sm" maxlength="16"></div></div><div class="form-group"><label class="col-md-3 control-label">应用程序描述</label><div class="col-md-8"><textarea ng-model="addViaSdk.description" class="form-control input-sm" maxlength="60"></textarea></div></div><div ng-show="errorShow" style="text-align:center;color:red;font-size:14px">渠道名称不能为空</div><div class="form-group margin_top25px"><div class="col-sm-3 col-sm-offset-3"><button ng-click="$hide()" type="button" class="btn btn-default w100">取消</button></div><div class="col-sm-3 col-sm-offset-1"><button ng-click="continueAddViaSdk(0)" type="button" class="btn btn-primary w100">继续</button></div></div></form></div></div>');e.put("source/views/ticket/setting.sdk_setting.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>SDK接入</strong></p></div><oem-learn-more type="sdk_setting" description="SDK渠道是内置于你的手机APP或电脑客户端程序内部的客服渠道，方便客户在你的应用程序内发起服务请求和接受服务支持。请先完成SDK渠道配置，取得SDK授权和开发包后进行集成开发。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/597" class="know-more"></oem-learn-more></div><div class="channel-box"><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:330px;text-align:left">渠道名称({{lists.length}})</th><th>应用程序描述</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="addViaSdkService()">+ 添加渠道</a></th></tr></thead><tbody><tr ng-repeat="list in lists" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:330px;padding-top:12px"><a class="channel-name" ng-bind="list.name" ng-click="toViaSdkDetail(list.id)"></a></td><td ng-bind="list.description"></td><td class="text-right"><a href="javascript:void(0)" ng-click="toViaSdkDetail(list.id)">编辑</a>&emsp;|&emsp; <a href="javascript:void(0)" ng-click="deleteViaSDK($index,list)">删除</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.serviceCatalog_edit.html",'<form name="serviceCatalogForm"><div class="modal-inner-content"><input type="hidden" name="serviceCatalogId" ng-model="serviceCatalogDetail.id"><div class="form-group"><label>目录名称</label><input type="text" ng-model="serviceCatalogDetail.name" maxlength="64" class="form-control ng-valid ng-dirty"></div><div class="form-group"><label>责任客服组</label><service-desk-select selectedservicedesk="serviceCatalogDetail.serviceDesk" class="form-group" type="automation"></service-desk-select><p class="c02">客户发起请求时如选择本级服务目录，将服务请求分派到责任客服组。</p></div></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">取消</button> <button type="button" class="btn btn-primary" ng-click="$save(serviceCatalogDetail)" ng-disabled="isClick">更新</button></div></form>');e.put("source/views/ticket/setting.service_catalog.html",'<style>.angular-ui-tree-handle{background:#f8faff;border:1px solid #dae2ea;color:#7c9eb2;padding:10px 10px}.angular-ui-tree-handle:hover{color:#438eb9;background:#f4f6f7;border-color:#dce2e8}.angular-ui-tree-placeholder{background:#f0f9ff;border:2px dashed #bed2db;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.group-title{background-color:#687074!important;color:#FFF!important}</style><div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>服务目录</strong></p></div><oem-learn-more type="service_catalog" description="罗列所有需要做的事务，并合理分类，就形成了服务目录。梳理服务目录的难点在于分类，一个可行的方法是按照产品目录进行分类，因为服务往往是从属于产品的。服务目录将繁杂的日常事务条理化，在此之上叠加以SLA，可使团队成员清晰明了你的管理目标，更自觉地配合完成。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/322" class="know-more"></oem-learn-more><div class="artli padding_top10px"><ul style="padding-left:0"><li class="block padding_top10px padding_bottom5px line_solid1"><div class="bubble1 line_h20"><strong>服务目录</strong></div><div style="float:right"><span class="margin_right20px"><a style="color:#1e8cce" href="/download_service_catalog_template" target="_blank" ng-click="ticketServiceExcelBuried()">Excel模板</a></span> <span class="margin_right20px size13" ng-file-select ng-model="templateFile" ng-file-change="uploadFile(templateFile)" ng-click="ticketServiceImportBuried()" style="cursor:pointer"><img class="padding_bottom5px" src="source/images/daoru.jpg"><strong>导入</strong> </span><span class="margin_right8px size13"><a href="/export_service_catalog" target="_blank" ng-click="ticketServiceExportBuried()"><img class="padding_bottom5px" src="source/images/daochu.jpg"><strong>导出</strong></a></span></div></li></ul></div><script type="text/ng-template" id="items_renderer.html"><div ui-tree-handle ng-class="{ \'select\': $treeScope.multiSelect, \'copy\': $treeScope.copy }" style="cursor: move;display: flex;width: 100%;">\n       <div class="node-info" style="flex: 1 1 auto;">\n       <a class="btn btn-success btn-xs" ng-if="!item.bottom" nodrag ng-click="toggle(this)">\n        <span style="margin: -1px -6px;padding:3px 6px;" ng-click="getNextCatalog(item,collapsed)">\n          <span class="glyphicon" ng-class="{\'glyphicon-chevron-right\': collapsed, \'glyphicon-chevron-down\': !collapsed }"></span>\n        </span>\n         \n       </a>\n       <span ng-bind="item.name"></span> <span class="margin_left20px" ng-if="item.serviceDesk!=null">|责任客服组：<span ng-bind="item.serviceDesk.name|translate"></span></span>\n      </div>\n      <div class="actions" style="flex: 0 0 180px;display: flex;align-items: center;justify-content: center;">\n       <input type="button" class="pull-right" ng-click="deleteServiceCatalog(this,item);" nodrag ng-hide="item.id==0" value="删除" />\n       <input type="button" class="pull-right" ng-click="editServiceCatalog(this,item,\'edit\');" nodrag value="编辑" ng-hide="item.id==0"/>\n       <input type="button" class="pull-right" ng-click="editServiceCatalog(this,item,\'add\');" nodrag value="添加子节点" ng-if="!item.bottom"/>\n      </div>\n     </div>\n     <ol ui-tree-nodes ng-model="item.items" ng-class="{\'hidden\': collapsed }">\n       <li ng-repeat="item in item.items" collapsed="true" ui-tree-node data-index={{$parent.item.id}} ng-class="{ \'selected\': selected, \'original\': original }" ng-include="\'items_renderer.html\'" ng-hide="item.id==-1"></li>\n     </ol><\/script><div><div ui-tree="parameters" callbacks="callbacks" empty-placeholder-enabled="parameters.emptyPlaceholderEnabled" max-depth="parameters.maxDepth" drag-delay="parameters.dragDelay" drag-distance="parameters.dragDistance" lock-x="parameters.lockX" lock-y="parameters.lockY" bound-to="parameters.boundTo" spacing="parameters.spacing" coverage="parameters.coverage" cancel-key="parameters.cancelKey" copy-key="parameters.copyKey" select-key="parameters.selectKey" expand-on-hover="(parameters.enableExpandOnHover) ? parameters.expandOnHover : parameters.enableExpandOnHover"><ol ui-tree-nodes ng-model="serviceCatalogs"><li ng-repeat="item in serviceCatalogs" collapsed="false" ui-tree-node ng-class="{\'selected\': selected, \'original\': original}" ng-include="\'items_renderer.html\'"></li></ol></div></div></div>');e.put("source/views/ticket/setting.sla.html",'<style type="text/css">.sla-table{width:100%}.sla-table>thead>tr{border-bottom:1px solid #e5e5e5;height:30px}.sla-table>thead>.edit{color:#39F}.sla-table>tbody>tr{height:40px;border-bottom:1px solid #E4E4E4;width:100%}.ui-sortable-helper{width:100%}.ui-sortable-helper .sla-rule{width:34%}.ui-sortable-helper .sla-response{width:18%}.ui-sortable-helper .sla-handle{width:31%}.ui-sortable-helper .edit{width:27%;min-width:166px}.sla-btn{background-color:transparent;border:none}.my-handle{cursor:move;padding:10px}.sla-table .dropdown-menu>li{background-color:#F8F8F8;padding:5px 10px;width:280px}.sla-table .dropdown-menu .sla-item-num{width:26px;padding-left:4px;margin-left:6px;margin-right:6px;background-color:#fff;display:inline-block}</style><div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>SLA</strong></p></div><oem-learn-more type="sla" description="SLA是Service Level Agreement（服务水平协议）的简称，理论上是你与客户订立的服务质量指标，承诺对特定的服务项目（目录），在各个优先级下，多长时间响应，多长时间解决。<br/>你也可以制定不针对特定客户的SLA指标，来要求和衡量你的团队，或者作为对所有客户的承诺。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/528" class="know-more"></oem-learn-more></div><div class="channel-box"><div class="table-box"><div class="table-responsive" style="overflow:visible"><table class="table sla-table"><thead><tr><th style="width:330px;text-align:left">SLA规则项</th><th>响应时长指标</th><th>处理时长指标</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="toEditSla(item.id,\'add\')">+ 添加SLA规则</a></th></tr></thead><tbody ui-sortable="sortableOptions" ng-model="slaList"><tr bindonce ng-repeat="item in slaList track by item.id"><td class="sla-rule"><a style="color:#1e8cce" href="javascript:void(0)" ng-click="toEditSla(item.id,\'modify\');">{{item.name}}</a></td><td class="dropdown sla-response"><span><span bo-bind="item.p1_reply_hours"></span>Hour <span bo-bind="item.p1_reply_minutes"></span>Minute</span> <span uib-dropdown><a href="javascript:void(0)" uib-dropdown-toggle><img class="margin_left10px" width="16" height="10" src="source/images/zxcv1.jpg"></a><ul class="dropdown-menu" role="menu" aria-labelledby="split-button" uib-dropdown-menu><li>p1:<span><span class="sla-item-num" bo-bind="item.p1_reply_hours"></span>Hour <span class="sla-item-num" bo-bind="item.p1_reply_minutes"></span>Minute</span></li><li>p2:<span><span class="sla-item-num" bo-bind="item.p2_reply_hours"></span>Hour <span class="sla-item-num" bo-bind="item.p2_reply_minutes"></span>Minute</span></li><li>p3:<span><span class="sla-item-num" bo-bind="item.p3_reply_hours"></span>Hour <span class="sla-item-num" bo-bind="item.p3_reply_minutes"></span>Minute</span></li><li>p4:<span><span class="sla-item-num" bo-bind="item.p4_reply_hours"></span>Hour <span class="sla-item-num" bo-bind="item.p4_reply_minutes"></span>Minute</span></li><li>p5:<span><span class="sla-item-num" bo-bind="item.p5_reply_hours"></span>Hour <span class="sla-item-num" bo-bind="item.p5_reply_minutes"></span>Minute</span></li></ul></span></td><td class="dropdown sla-handle"><span><span bo-bind="item.p1_resolve_days"></span>Day <span bo-bind="item.p1_resolve_hours"></span>Hour <span class="sla-item-num" bo-bind="item.p1_resolve_minutes"></span>Minute</span> <span uib-dropdown><a href="javascript:void(0)" uib-dropdown-toggle><img class="margin_left10px" width="16" height="10" src="source/images/zxcv1.jpg"></a><ul class="dropdown-menu" role="menu" aria-labelledby="split-button" uib-dropdown-menu><li role="menuitem">p1: <span><span class="sla-item-num" bo-bind="item.p1_resolve_days"></span>Day <span class="sla-item-num" bo-bind="item.p1_resolve_hours"></span>Hour <span class="sla-item-num" bo-bind="item.p1_resolve_minutes"></span>Minute</span></li><li role="menuitem">p2: <span><span class="sla-item-num" bo-bind="item.p2_resolve_days"></span>Day <span class="sla-item-num" bo-bind="item.p2_resolve_hours"></span>Hour <span class="sla-item-num" bo-bind="item.p2_resolve_minutes"></span>Minute</span></li><li role="menuitem">p3: <span><span class="sla-item-num" bo-bind="item.p3_resolve_days"></span>Day <span class="sla-item-num" bo-bind="item.p3_resolve_hours"></span>Hour <span class="sla-item-num" bo-bind="item.p3_resolve_minutes"></span>Minute</span></li><li role="menuitem">p4: <span><span class="sla-item-num" bo-bind="item.p4_resolve_days"></span>Day <span class="sla-item-num" bo-bind="item.p4_resolve_hours"></span>Hour <span class="sla-item-num" bo-bind="item.p4_resolve_minutes"></span>Minute</span></li><li role="menuitem">p5: <span><span class="sla-item-num" bo-bind="item.p5_resolve_days"></span>Day <span class="sla-item-num" bo-bind="item.p5_resolve_hours"></span>Hour <span class="sla-item-num" bo-bind="item.p5_resolve_minutes"></span>Minute</span></li></ul></span></td><td class="text-right"><a class="sla-btn my-handle">拖动排序</a>&emsp;|&emsp; <a ng-click="toEditSla(item.id,\'copy\');">克隆</a>&emsp;|&emsp; <a ng-click="toEditSla(item.id,\'modify\')">编辑</a>&emsp;|&emsp; <a ng-click="deleteSla($index,item);">删除</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.sla2.html",'<style type="text/css">.sla-context{padding:0 20px}.sla-table{width:100%}.sla-table>thead>tr{border-bottom:1px solid #000;height:30px}.sla-table .edit{text-align:right;min-width:150px}.sla-table>thead>.edit{color:#39F}.sla-table>tbody>tr{height:40px;border-bottom:1px solid #E4E4E4}.sla-btn{background-color:transparent;border:none;font-weight:700}.sla-btn:not(:first-child){border-left:2px solid #000}</style><section><nav class="padding_top13px"><p class="margin_left20px size16"><strong>SLA</strong></p><p class="margin_left20px size13">SLA是Service Level Agreement（服务水平协议）的简称，理论上是你与客户订立的服务质量指标，承诺对特定的服务项目（目录），在各个优先级下，多长时间响应，多长时间解决。你也可以制定不针对特定客户的SLA指标，来要求和衡量你的团队，或者作为对所有客户的承诺。<a href="#">了解更多</a></p></nav><article class="sla-context"><table class="sla-table"><colgroup><col width="34%"><col width="18%"><col width="31%"><col></colgroup><thead><tr><th>SLA规则项</th><th>响应时长指标</th><th>处理时长指标</th><th class="edit" style="color:#1e8cce;cursor:pointer"><i class="fa fa-plus" ng-click="toEditSla(item.id,\'add\');"></i>添加SLA规则</th></tr></thead><tbody ui-sortable="sortableOptions" ng-model="slaList"><tr bindonce ng-repeat="item in slaList track by item.id"><td><a style="color:#1e8cce" href="javascript:void(0)" ng-click="toEditSla(item.id,\'modify\');">{{item.name}}</a></td><td class="dropdown"><span><span bo-bind="item.p1_reply_hours"></span>Hour <span bo-bind="item.p1_reply_minutes"></span>Minute</span> <span uib-dropdown><a href="javascript:void(0)" uib-dropdown-toggle><img class="margin_left10px" width="16" height="10" src="source/images/zxcv1.jpg"></a><ul class="dropdown-menu" role="menu" aria-labelledby="split-button" uib-dropdown-menu><li role="menuitem">p1:<span><span bo-bind="item.p1_reply_hours"></span>Hour <span bo-bind="item.p1_reply_minutes"></span>Minute</span></li><li role="menuitem">p2:<span><span bo-bind="item.p2_reply_hours"></span>Hour <span bo-bind="item.p2_reply_minutes"></span>Minute</span></li><li role="menuitem">p3:<span><span bo-bind="item.p3_reply_hours"></span>Hour <span bo-bind="item.p3_reply_minutes"></span>Minute</span></li><li role="menuitem">p4:<span><span bo-bind="item.p4_reply_hours"></span>Hour <span bo-bind="item.p4_reply_minutes"></span>Minute</span></li><li role="menuitem">p5:<span><span bo-bind="item.p5_reply_hours"></span>Hour <span bo-bind="item.p5_reply_minutes"></span>Minute</span></li></ul></span></td><td class="dropdown"><span><span bo-bind="item.p1_resolve_days"></span>Day <span bo-bind="item.p1_resolve_hours"></span>Hour</span> <span uib-dropdown><a href="" uib-dropdown-toggle><img class="margin_left10px" width="16" height="10" src="source/images/zxcv1.jpg"></a><ul class="dropdown-menu" role="menu" aria-labelledby="split-button" uib-dropdown-menu><li role="menuitem">p1:<span><span bo-bind="item.p1_resolve_days"></span>Hour <span bo-bind="item.p1_resolve_hours"></span>Minute</span></li><li role="menuitem">p2:<span><span bo-bind="item.p2_resolve_days"></span>Hour <span bo-bind="item.p2_resolve_hours"></span>Minute</span></li><li role="menuitem">p3:<span><span bo-bind="item.p3_resolve_days"></span>Hour <span bo-bind="item.p3_resolve_hours"></span>Minute</span></li><li role="menuitem">p4:<span><span bo-bind="item.p3_resolve_days"></span>Hour <span bo-bind="item.p4_resolve_hours"></span>Minute</span></li><li role="menuitem">p5:<span><span bo-bind="item.p4_resolve_days"></span>Hour <span bo-bind="item.p5_resolve_hours"></span>Minute</span></li></ul></span></td><td class="edit"><input type="button" class="sla-btn myHandle" value="拖动排序" style="cursor:move"> <input type="button" class="sla-btn" ng-click="toEditSla(item.id,\'copy\');" value="克隆"> <input type="button" class="sla-btn" ng-click="deleteSla($index,item);" value="删除"></td></tr></tbody></table></article></section>');e.put("source/views/ticket/setting.telephone_channels.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>电话转工单</strong></p><oem-learn-more type="ticket_web_form" description="通过CTI电脑电话接口，将电话语音接入客服系统。来电/去电弹屏，自动关联客户，创建或插入工单，并保存通话录音。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/761" class="size13"></oem-learn-more></div><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:330px">渠道名称</th><th class="text-center">请求次数</th><th class="text-center">请求人数</th><th class="text-center">呼出次数</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="toEditTelephoneChannels(0,\'add\')">+ 添加渠道</a></th></tr></thead><tbody><tr ng-if="ctiList.viaPhones.length==0"><td colspan="4">还没有电话转工单渠道</td></tr><tr ng-repeat="viaPhone in ctiList.viaPhones | orderBy:\'enabled\':true" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:400px;padding-top:12px"><a ng-bind="viaPhone.name" ng-if="viaPhone.enabled" class="channel-name" ng-click="toEditTelephoneChannels(viaPhone.id,\'modify\',viaPhone.name)"></a> <span ng-bind="viaPhone.name" ng-if="!viaPhone.enabled" class="channel-name"></span><div style="display:inline-block;overflow:hidden"><span class="verify" ng-if="viaPhone.verified && (viaPhone.enabled===true || viaPhone.enabled===undefined)">已验证</span> <span class="no-verify" ng-if="!viaPhone.verified && (viaPhone.enabled===true || viaPhone.enabled===undefined)">未验证</span> &emsp;<a href="http://help.ewei.com/article_760" target="_blank" ng-if="!viaPhone.verified && (viaPhone.enabled===true || viaPhone.enabled===undefined)" style="color:#1e8cce">如何验证？</a></div></td><td style="text-align:center;width:120px"><span ng-if="viaPhone.enabled">{{viaPhone.requesteTimes}}</span> <span ng-if="!viaPhone.enabled">-</span></td><td style="text-align:center;width:120px"><span ng-if="viaPhone.enabled">{{viaPhone.requesterCount}}</span> <span ng-if="!viaPhone.enabled">-</span></td><td style="text-align:center;width:120px"><span ng-if="viaPhone.enabled">{{viaPhone.callOutTimes}}</span> <span ng-if="!viaPhone.enabled">-</span></td><td class="text-right"><a ng-if="viaPhone.enabled" ng-click="toEditTelephoneChannels(viaPhone.id,\'modify\',viaPhone.name)">编辑</a> <a ng-if="!viaPhone.enabled" ng-click="enabled(this,true)">启用</a>&emsp;|&emsp; <a ng-if="!viaPhone.enabled" ng-click="deleteTelephoneChannels(ctiList.viaPhones,viaPhone)">删除</a> <a ng-if="viaPhone.enabled" ng-click="enabled(this,false)">停用</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.ticket_custom_field.html",'<div class="channel-box" style="margin-top:20px"><div class="channel-help"><p class="channel"><strong>工单字段</strong></p><oem-learn-more type="ticket_custom_field" description="添加字段，或者修改系统自带的字段，以满足你的业务需求。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/554" class="know-more"></oem-learn-more></div><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:330px">工单字段名称</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="editTicketCustomField(0,\'add\')">+ 添加字段</a></th></tr></thead><tbody><tr ng-if="ticketCustomFields.length==0"><td colspan="4">还没有自定义工单字段</td></tr><tr ng-repeat="ticketCustomField in ticketCustomFieldsSystem" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:330px;padding-top:12px"><a ng-bind="ticketCustomField.title" class="channel-name" ng-click="editTicketCustomField(ticketCustomField.id,\'update\')"></a></td><td class="text-right"><a ng-if="!ticketCustomField.systemFieldKey" ng-click="editTicketCustomField(ticketCustomField.id,\'copy\');">克隆</a><span ng-if="!ticketCustomField.systemFieldKey">&emsp;|&emsp;</span> <a ng-if="ticketCustomField.active || ticketCustomField.systemFieldKey" ng-click="editTicketCustomField(ticketCustomField.id,\'update\')">编辑</a> <span ng-if="ticketCustomField.active && !ticketCustomField.systemFieldKey">&emsp;|&emsp;</span> <a ng-if="ticketCustomField.active && !ticketCustomField.systemFieldKey" type="button" style="cursor:move" class="myHandle ui-sortable-handle">拖动排序</a> <a ng-if="!ticketCustomField.active && !ticketCustomField.systemFieldKey" ng-click="enabled(this,true)">启用</a><span ng-if="!ticketCustomField.systemFieldKey">&emsp;|&emsp;</span> <a ng-if="!ticketCustomField.active && !ticketCustomField.systemFieldKey" ng-click="activeTicketCustomField(0,this)">删除</a> <a ng-if="ticketCustomField.active && !ticketCustomField.systemFieldKey" ng-click="enabled(this,false)">停用</a></td></tr></tbody><tbody ui-sortable="sortableOptions" ng-model="ticketCustomFieldsActive" style="border-top:0"><tr ng-if="ticketCustomFields.length==0"><td colspan="4">还没有自定义工单字段</td></tr><tr ng-repeat="ticketCustomField in ticketCustomFieldsActive" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:330px;padding-top:12px"><a ng-bind="ticketCustomField.title" class="channel-name" ng-click="editTicketCustomField(ticketCustomField.id,\'update\')"></a></td><td class="text-right"><a ng-if="!ticketCustomField.systemFieldKey" ng-click="editTicketCustomField(ticketCustomField.id,\'copy\');">克隆</a><span ng-if="!ticketCustomField.systemFieldKey">&emsp;|&emsp;</span> <a ng-if="ticketCustomField.active || ticketCustomField.systemFieldKey" ng-click="editTicketCustomField(ticketCustomField.id,\'update\')">编辑</a> <span ng-if="ticketCustomField.active && !ticketCustomField.systemFieldKey">&emsp;|&emsp;</span> <a ng-if="ticketCustomField.active && !ticketCustomField.systemFieldKey" type="button" style="cursor:move" class="myHandle ui-sortable-handle">拖动排序</a> <a ng-if="!ticketCustomField.active && !ticketCustomField.systemFieldKey" ng-click="enabled(this,true)">启用</a><span ng-if="!ticketCustomField.systemFieldKey">&emsp;|&emsp;</span> <a ng-if="!ticketCustomField.active && !ticketCustomField.systemFieldKey" ng-click="activeTicketCustomField(0,this)">删除</a> <a ng-if="ticketCustomField.active && !ticketCustomField.systemFieldKey" ng-click="enabled(this,false)">停用</a></td></tr></tbody><tbody style="border-top:0"><tr ng-if="ticketCustomFields.length==0"><td colspan="4">还没有自定义工单字段</td></tr><tr ng-repeat="ticketCustomField in ticketCustomFieldsNoActive" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:330px;padding-top:12px"><span ng-bind="ticketCustomField.title" class="channel-name"></span></td><td class="text-right"><a ng-if="!ticketCustomField.systemFieldKey" ng-click="editTicketCustomField(ticketCustomField.id,\'copy\');">克隆</a><span ng-if="!ticketCustomField.systemFieldKey">&emsp;|&emsp;</span> <a ng-if="ticketCustomField.active || ticketCustomField.systemFieldKey" ng-click="editTicketCustomField(ticketCustomField.id,\'update\')">编辑</a> <span ng-if="ticketCustomField.active && !ticketCustomField.systemFieldKey">&emsp;|&emsp;</span> <a ng-if="ticketCustomField.active && !ticketCustomField.systemFieldKey" type="button" style="cursor:move" class="myHandle ui-sortable-handle">拖动排序</a> <a ng-if="!ticketCustomField.active && !ticketCustomField.systemFieldKey" ng-click="enabled(this,true)">启用</a><span ng-if="!ticketCustomField.systemFieldKey">&emsp;|&emsp;</span> <a ng-if="!ticketCustomField.active && !ticketCustomField.systemFieldKey" ng-click="activeTicketCustomField(0,this)">删除</a> <a ng-if="ticketCustomField.active && !ticketCustomField.systemFieldKey" ng-click="enabled(this,false)">停用</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.ticket_custom_field_edit.html",'<style>.tip-info{width:900px;padding:5px 13px;background-color:#7C8;color:#fff}.form-content .form-group{width:400px}.form-content ul li{list-style:none;float:left}.add-box{font-size:25px}.add-box i{margin-left:20px;cursor:pointer}.add-box .fa-plus-circle{color:#6C6}.catalog-btn{width:120px;height:36px;line-height:36px;border:1px solid #2AC62A;color:#2AC62A;cursor:pointer;text-align:center;border-radius:5px}.fa-edit:hover{color:#3BA2DF}.cascade-content{width:770px}.cascade-box{width:770px;padding:20px;border:1px solid #CCC;clear:both;float:left;margin-top:55px}.cascade-content :first-child{margin-top:0}.delete-tip{width:120px;height:36px;padding:10px;color:#3BA2DF;border:1px solid #3BA2DF;float:right;position:relative;top:-49px;border-radius:5px;cursor:pointer}.add-tip{width:120px;height:36px;padding:10px;color:#3C3;border:1px solid #3C3;border-radius:5px;cursor:pointer;clear:both;float:left;margin-top:20px}</style><div class="setting-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'ticket_custom_field\',settingType:\'ticket\'})">工单字段 </a>》 <span ng-if="checkId==0">添加字段</span> <span ng-if="checkId>0">{{ticketCustomField.title}}</span></div><oem-learn-more type="ticket_custom_field_edit" description="你可以添加更多的工单属性字段，以满足你的业务需求。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/554" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li class="active">字段属性</li></ul><div class="setting-common-body"><ul><li><div class="title-bar"><span>字段名称</span></div><div class="form-content"><input type="text" ng-model="ticketCustomField.title" ng-disabled="ticketCustomField.systemFieldKey ==\'tags\'" class="form-control w400" maxlength="32"><p class="tip">在界面上显示的字段名称。</p></div></li><li ng-if="ticketCustomField.systemFieldKey != \'ticket_type\' && ticketCustomField.systemFieldKey != \'priority\'"><div class="title-bar"><span>填写说明</span></div><div class="form-content"><input type="text" ng-model="ticketCustomField.notes" class="form-control w400"><p class="tip">简要说明，提示客服如何填写。</p></div></li><li ng-if="ticketCustomField.type != \'checkbox\'"><div class="title-bar"><span>是否必填</span></div><div class="form-content"><select class="form-control w400" ng-model="ticketCustomField.required" ng-disabled="ticketCustomField.systemFieldKey == \'subject\' || ticketCustomField.systemFieldKey ==\'tags\'" ng-change="isRequiredChange()"><option value="false">选填</option><option value="true">必填</option></select><p class="tip" ng-if="!showJurisdictionPromet">客服创建新工单时，是否必须填写此字段。</p><p class="tip" style="color:red" ng-if="showJurisdictionPromet">*更改为必填字段之后，字段的可见范围与操作将默认为全部角色且无法更改。</p></div></li><li><div class="title-bar"><span>字段样式</span></div><div class="form-content"><select ng-if="ticketCustomField.systemFieldKey != \'service_catalog\'" class="form-control w400" ng-model="ticketCustomField.type" ng-disabled="ticketCustomField.systemFieldKey || (checkId > 0 && editType != \'copy\')" ng-change="changeReg(ticketCustomField.type)" ng-options="item.value as item.option for item in styleOptions"></select><select ng-if="ticketCustomField.systemFieldKey == \'service_catalog\'" ng-model="ticketCustomField.type" class="form-control w400" disabled="disabled"><option value="cascade_options">级联下拉单选框</option></select><p ng-if="(ticketCustomField.type!=\'options\'&&ticketCustomField.type!=\'multi_options\')||ticketCustomField.systemFieldKey" class="tip">选择一种字段样式。</p><div ng-if="(ticketCustomField.type==\'options\'||ticketCustomField.type==\'multi_options\')&&!ticketCustomField.systemFieldKey" class="margin_top10px"><input type="checkbox" ng-model="ticketCustomField.openSearch"> 开启搜索功能</div></div></li><li ng-if="ticketCustomField.type==\'options\'"><div class="title-bar"><span>选项</span></div><div ng-sortable="ticketSortableOptions" ng-model="ticketCustomField.customFieldOptions" class="form-content"><div class="clearFloat" ng-repeat="optionItem in ticketCustomField.customFieldOptions track by $index"><div class="pull-left"><div class="form-group input-group margin_bottom10px"><span style="cursor:move" class="input-group-addon myHandle">选项</span> <input type="text" class="form-control" ng-model="optionItem.name"></div><div class="margin_bottom10px"><input type="radio" ng-if="!ticketCustomField.systemFieldKey" name="default" ng-selected="selectId==$index" value="{{optionItem.name}}" ng-click="selectRadio(this)" ng-model="ticketCustomField.defaultValue"> <input type="radio" ng-if="ticketCustomField.systemFieldKey == \'ticket_type\'" name="default" value="{{optionItem.value}}" ng-click="selectRadio(this)" ng-model="ticketCustomField.defaultValue"> <input type="radio" ng-if="ticketCustomField.systemFieldKey == \'priority\'" name="default" value="{{optionItem.value}}" ng-model="ticketCustomField.defaultValue"> <input type="checkbox" ng-if="ticketCustomField.type==\'scade_options\'" value="{{optionItem.name}}" ng-model="ticketCustomField.defaultValue"> 默认选中</div></div><div ng-if="ticketCustomField.systemFieldKey != \'priority\'" class="pull-left add-box"><i class="fa fa-minus-circle" ng-style="{color:($index==0 ? \'color:#CCCCCC\': \'color:#FF6666\')}" ng-click="toDeleteOption($index);"></i> <i class="fa fa-plus-circle" ng-if="$index==ticketCustomField.customFieldOptions.length-1" ng-click="toAddOption($index)"></i></div><div ng-if="ticketCustomField.systemFieldKey == \'priority\'" class="pull-left add-box"><i class="fa fa-minus-circle" style="color:#CCC"></i></div></div></div></li><li ng-if="ticketCustomField.type==\'multi_options\'"><div class="title-bar"><span>选项</span></div><div ng-sortable="ticketSortableOptions" ng-model="ticketCustomField.customFieldOptions" class="form-content"><div class="clearFloat" ng-repeat="optionItem in ticketCustomField.customFieldOptions track by $index"><div class="pull-left"><div class="form-group input-group margin_bottom10px"><span style="cursor:move" class="input-group-addon myHandle">选项</span> <input type="text" class="form-control" ng-keydown="checkMultiValue($event)" ng-model="optionItem.name"></div><div class="margin_bottom10px"><input type="checkbox" value="{{optionItem.name}}" name="default" ng-model="optionItem.defaultValue"> 默认选中</div></div><div class="pull-left add-box"><i class="fa fa-minus-circle" ng-style="{color:($index==0 ? \'color:#CCCCCC\': \'color:#FF6666\')}" ng-click="toDeleteOption($index);"></i> <i class="fa fa-plus-circle" ng-if="$index==ticketCustomField.customFieldOptions.length-1" ng-click="toAddOption($index)"></i></div></div></div></li><li ng-if="ticketCustomField.type==\'cascade_options\'&&!ticketCustomField.systemFieldKey"><div class="title-bar"><span>选项</span></div><div class="form-content cascade-content"><div class="cascade-box" ng-repeat="item in mulOptions"><div class="form-group input-group"><span class="input-group-addon">一级选项</span> <input type="text" class="form-control" ng-keydown="checkCascadetiValue($event)" ng-model="item.value"></div><p class="delete-tip" ng-if="$index>0" ng-click="delMainOption($index)">x 删除一级选项</p><div class="children-option" style="margin-left:80px" ng-repeat="subItem in item.children"><div class="pull-left"><div class="form-group input-group"><span class="input-group-addon">二级选项</span> <input type="text" class="form-control" ng-keydown="checkCascadetiValue($event)" ng-model="subItem.value"></div></div><div class="pull-left add-box"><i class="fa fa-minus-circle" ng-style="{color:($index==0 ? \'color:#CCCCCC\': \'color:#FF6666\')}" ng-click="delSubOption(this,$index);"></i> <i class="fa fa-plus-circle" ng-if="$index==item.children.length-1" ng-click="addSubOption(this)"></i></div></div></div><p class="add-tip" ng-click="addMainOption()">+ 添加一级选项</p></div></li><li ng-if="ticketCustomField.systemFieldKey == \'service_catalog\'" has-permission="ticket_setting_service_catalog"><div class="title-bar"><span>选项</span></div><div class="form-content"><p class="catalog-btn" ui-sref="system_setting.detail({uri:\'service_catalog\',settingType:\'ticket\'})">+ 编辑服务目录</p><p class="tip">跳转到<b>商业规则-服务目录</b>设置选项，请先更新本页的设置，以免丢失。</p></div></li><li ng-if="ticketCustomField.type != \'options\' && ticketCustomField.type != \'checkbox\' && ticketCustomField.type != \'date\' &&ticketCustomField.type != \'date_to_date\' &&ticketCustomField.type != \'date_time\'&& ticketCustomField.type != \'cascade_options\' &&ticketCustomField.type != \'multi_options\' && !ticketCustomField.systemFieldKey"><div class="title-bar"><span>正则表达式</span></div><div class="form-content"><div class="pull-left"><input type="text" class="form-control w400" ng-model="ticketCustomField.regexpForValidation" ng-disabled="ticketCustomField.type !== \'text\' && ticketCustomField.type !== \'textarea\' && ticketCustomField.type !== \'regexp\'"></div><p class="tip" style="margin-top:13px;clear:both">验证输入是否有效。如需调整，请点击编辑按钮。</p></div></li><li ng-if="ticketCustomField.systemFieldKey == \'subject\' || ticketCustomField.systemFieldKey == \'ticket_description\'"><div class="title-bar"><span>校验规则</span></div><div class="form-content"><select class="form-control w400" disabled="disabled"><option value="string">字符串</option></select><p class="tip" style="margin-top:13px;clear:both">验证输入是否正确，如不符合规则，输入无效。</p></div></li><li ng-if="(ticketCustomField.type == \'text\' && !ticketCustomField.systemFieldKey )|| ticketCustomField.type == \'number\' ||ticketCustomField.type == \'currency\' || ticketCustomField.type == \'phone\' || ticketCustomField.type == \'mobile_phone\' || ticketCustomField.type == \'email\' || ticketCustomField.type == \'regexp\'"><div class="title-bar"><span>扩展URL</span></div><div class="form-content"><input type="text" class="form-control w400" ng-model="ticketCustomField.url"><p class="tip">第三方系统查询命令。跳转第三方系统，按照字段值执行查询操作。 请输入扩展URL并用{value}占位，如不使用占位符，系统将把字段值紧跟在URL后面。 如需加密，请进入<b>系统设置-字段扩展URL密钥</b>进行设置。</p></div></li><li><div class="title-bar"><span><span style="color:red">*</span>字段默认列宽</span></div><div class="form-content" style="position:relative"><input type="text" ng-model="ticketCustomField.defaultLength" ng-blur="recoveryDefault(ticketCustomField)" class="form-control w400" maxlength="10"> <span style="position:absolute;top:8px;left:376px">px</span><p class="tip">用于设置工单列表中该字段的默认列宽（仅对PC版工单列表有效）</p></div></li><li><custom-field-jurisdiction></custom-field-jurisdiction></li><li ng-if="!ticketCustomField.systemFieldKey"><div class="title-bar"><span></span></div><div class="form-content"><label style="font-weight:700;line-height:20px"><input type="checkbox" style="float:left" ng-model="ticketCustomField.sysCustomForm" ng-checked="ticketCustomField.sysCustomForm"> 作为系统表单字段</label><p class="tip" style="margin-top:0">勾选后，该字段将在系统表单中进行展示<br>工单类型扩展表单将不能再引用此字段</p></div></li><li><div class="title-bar"></div><div class="form-content"><button type="button" class="btn btn-primary w100" ng-disabled="btnDisabled" ng-click="saveTicketCustomField(ticketCustomField)">更新</button> <a ng-if="ticketCustomField.systemFieldKey" style="margin-left:30px;color:#3BA2DF" ng-click="reset(ticketCustomField)">恢复系统默认值</a></div></li></ul></div></div>');e.put("source/views/ticket/setting.ticket_custom_fields.html",'<style>.ticket_custom_fields_box{margin-left:50px}.ticket_custom_fields_left{float:left;width:600px}.ticket_custom_fields_title{margin-bottom:20px}.ticket_custom_fields_type_box{padding:20px;background:#FAFAFA none repeat scroll 0 0;border:1px solid #D5D5D5;border-radius:5px}ul.ticket_custom_fields_type_box{list-style:none}.ticket_custom_fields_type_box_li{background:#fff;height:30px;border:1px solid #ccc;border-radius:3px;line-height:28px;margin:10px 0 10px}.ticket_custom_fields_type_box_li:hover{background:transparent linear-gradient(to bottom,#FFF 0,#F0F0F0 100%) repeat scroll 0 0;cursor:pointer}.ticket_custom_fields_font_img{margin:0 15px}.bg{background:#FAFAFA}.ticket_custom_fields_left_box{float:left;padding:20px;background:#FAFAFA none repeat scroll 0 0;border:1px solid #D5D5D5;border-radius:5px;width:300px;margin-top:20px;margin-left:50px}.ticket_custom_fields_type_box_bg{background:transparent linear-gradient(to bottom,#FFF 0,#F0F0F0 100%) repeat scroll 0 0}.ticket_custom_fields_triangle{position:relative;width:20px;height:20px;background:-webkit-gradient(linear,0 0,0 100%,from(#fafafa),to(#f3f3f3));background:transparent linear-gradient(135deg,#FAFAFA 0,#F3F3F3 100%) repeat scroll 0 0;border-top:1px solid #ccc;border-right:1px solid #ccc;transform:rotate(45deg);left:590px;top:-40px}.ticket_custom_fields_input{width:100%;height:30px;margin:10px 0}.ticket_custom_fields_margin{margin:5px 0}.ticket_custom_fields_explain{color:#aaa}.ticket_custom_fields_select{margin-left:167px;font-size:1.5em;color:green}.ticket_custom_fields_minus{position:absolute;font-size:1.5em;left:260px;top:26px;float:right;color:red}.ticket_custom_fields_hover:hover{cursor:pointer}</style><div class="ticket_custom_fields_box" ng-controller="ticketCustomFields"><div class="ticket_custom_fields_left"><h3 class="ticket_custom_fields_title">用户字段</h3><h4>活动字段（0）</h4><div class="ticket_custom_fields_type_box" ng-if="!showText"><p>从右边添加一个字段类型</p></div><div class="ticket_custom_fields_type_box ticket_custom_fields_type_box_bg" ng-if="showText" style="position:relative"><div><i class="fa {{chooseClass}}" style="margin-right:15px"></i>{{chooseName}}</div></div><div class="ticket_custom_fields_triangle" ng-if="showText"></div></div><div class="ticket_custom_fields_left_box" ng-if="!showText"><div class="">拖放一个字段类型到活动字段区域，以创建一个新字段。</div><ul style="list-style:none;padding:0" ng-repeat="type in typeValue"><li class="ticket_custom_fields_type_box_li" ng-mouseover="ulMouseover(type.id)" ng-mouseleave="ulMouseleave()" ng-click="chooseField(type.name,type.id,type.class)"><i class="fa {{type.class}}" style="margin:0 15px"></i>{{type.name}}</li></ul><div ng-if="hoverValue==1">提供一个下拉列表，其中的选项是您定义的。工单将被添加相关标签。</div><div ng-if="hoverValue==2">捕获少量文本。</div><div ng-if="hoverValue==3">捕获大量文本，通常会生成多个行。</div><div ng-if="hoverValue==4">捕获一个数字值。仅允许整数。</div><div ng-if="hoverValue==5">捕获一个小数值。</div><div ng-if="hoverValue==6">捕获一个是/否值。</div><div ng-if="hoverValue==7">捕获输入，它会根据您定义的正则表达式来验证。</div><div ng-if="hoverValue==8">捕获一个将来或过去的日期。</div></div><div class="ticket_custom_fields_left_box" ng-if="showText"><h4><i class="fa {{chooseClass}}" style="margin-right:15px"></i>{{chooseName}}</h4><p>向专员显示的字段标题</p><div><input type="text" class="ticket_custom_fields_input"></div><hr><p>字段密钥</p><div><input type="text" class="ticket_custom_fields_input"><p class="ticket_custom_fields_explain">密钥以占位符和 API 标识此字段。字段创建后，您无法更改其密钥。</p></div><hr><p>描述（可选）</p><div><textarea style="width:100%" class="ticket_custom_fields_margin"></textarea></div><hr><div ng-if="chooseId==1"><p>下拉选项</p><div><div ng-repeat="inputNote in inputNotes" style="position:relative;margin:10px 0"><div class="input-group ticket_custom_fields_margin"><span class="input-group-addon" id="basic-addon">标题</span> <input type="text" class="form-control" aria-describedby="basic-addon1" ng-model="basic_add"></div><div class="input-group ticket_custom_fields_margin"><span class="input-group-addon" id="label-addon">标签</span> <input type="text" class="form-control" aria-describedby="basic-addon1" value="{{basic_add}}"></div><div class="ticket_custom_fields_minus ticket_custom_fields_hover" ng-click="minusSelect($index)" ng-if="minusShow"><i class="fa fa-minus-circle"></i></div></div></div><div><a ng-click="addSelect()">添加下拉选项</a> <i class="fa fa-plus-circle ticket_custom_fields_select ticket_custom_fields_hover" id="ticket_custom_fields_add_select" ng-click="addSelect()"></i></div><hr></div><div ng-if="chooseId==6"><p>标签</p><input type="text" class="ticket_custom_fields_input"><p class="ticket_custom_fields_explain">输入一个当勾选了复选框后要添加到用户中的标签。您可以在视图、触发器和自行程序中使用该标签。</p><hr></div><div ng-if="chooseId==7"><p>用于验证的正则表达式</p><input type="text" class="ticket_custom_fields_input"><hr></div><div ng-if="chooseId==1"><input type="checkbox" style="margin-right:5px;position:relative;top:2px">保存时按字母顺序进行字段选项的排序</div><div class="padding_top25px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelField()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="">创建字段</button></div></div></div>');e.put("source/views/ticket/setting.ticket_extend_form.html",'<style type="text/css">.submitTicketSet{width:400px;margin-top:20px;padding:0}.submitTicketSet ul{padding:0}.submitTicketSet li{width:130px;border:1px solid #ccc;height:35px;text-align:center;line-height:34px;border-radius:5px;margin-bottom:20px;cursor:pointer;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;list-style:none;position:relative}.submitTicketSet li img{position:absolute;right:0;top:0}.submitTicketSet li:hover{text-decoration:none;background:#f2f2f2;border:none}.submitTicketSet .activeShow{background:#f2f2f2;border:none}.ui-sortable-helper{cursor:move}#ticketCustomFieldsListBox{background:#F2F2F2;margin-top:20px;padding:15px 30px;list-style:none;font-size:14px;min-width:340px}#ticketCustomFieldsListBox i{cursor:pointer}</style><div style="width:900px;padding:20px;color:#666" class="size13"><div class="size16" style="font-weight:700">工单类型扩展表单</div><p style="margin-top:15px;border-bottom:1px solid #E4E4E4;padding-bottom:20px">工单对应的类型，比如：事件，咨询，任务等，不同类型的工单可支持展示不同的字段</p><div style="padding-top:20px"><form class="margin_left10px"><div class="form-group"><label style="margin-right:10px;margin-bottom:14px">类型</label><select style="width:200px" ng-model="extendForm.ticketTypeModel" ng-options="option.name for option in extendForm.ticketTypes track by option.id" ng-change="getTicketCustomForm()" class="form-control input-sm"></select></div></form><div submit-ticket-set-form class="clear" style="overflow:hidden;margin-top:32px"><div class="margin_left10px margin_right20px size13 pull-left"><div><strong>表单字段设置</strong></div><div class="clearfix submitTicketSet"><p ng-hide="extendForm.isShowCustome">当前没有可供选择的自定义字段</p><ul><li style="display:inline-block;margin-right:35px" ng-class="{true: \'activeShow\'}[item.activeShow]" ng-click="checkedMenu(item)" ng-repeat="item in ticketCustomFields track by $index">{{item.customField.title}} <img ng-show="item.activeShow" ng-src="source/images/checked.png"></li></ul></div></div><div style="float:left;max-width:430px" ng-show="extendForm.isShow"><div style="text-align:center"><strong style="font-size:14px">预览</strong></div><ul id="ticketCustomFieldsListBox"><div ui-sortable ng-model="ticketCustomFieldShowDemo"><li class="clearfix" style="margin-bottom:10px;position:relative" ng-repeat="demo in ticketCustomFieldShowDemo track by $index" ng-show="!demo.deleted"><div style="overflow:hidden"><div style="float:left"><input ng-if="demo.customField.inputType==\'checkbox\'" type="checkbox"> <span style="position:absolute;left:-20px;top:3px;cursor:move;color:#999" class="fa fa-arrows"></span> <span style="font-weight:700">{{demo.customField.title}}</span> <span ng-if="demo.customField.required" style="position:relative;left:3px;top:-2px;color:#999">*</span></div></div><input ng-if="demo.customField.inputType ==\'text\'" style="margin-top:5px;width:100%" type="text" class="form-control" ng-model="demo.customField.notes"><select ng-if="demo.customField.inputType==\'select\'" style="width:100%;margin-top:5px" class="form-control"><option>{{demo.customField.notes}}</option></select><input ng-if="demo.customField.inputType==\'date\'" type="date" class="form-control" style="width:100%;margin-top:5px" placeholder="{{demo.customField.notes}}"> <input ng-if="demo.customField.inputType==\'date_time\'" type="datetime-local" class="form-control" style="width:100%;margin-top:5px" placeholder="{{demo.customField.notes}}"><div class="row" style="width:310px" ng-if="demo.customField.inputType==\'date_to_date\'"><div class="col-md-6"><input type="date" class="form-control" style="margin-top:5px" placeholder="{{demo.customField.notes}}"></div><div class="col-md-6" ng-if="demo.customField.inputType==\'date_to_date\'"><input type="date" class="form-control" style="margin-top:5px" placeholder="{{demo.customField.notes}}"></div></div><div ng-if="demo.customField.inputType==\'cascade_options\'"><select style="width:100%;margin-top:5px" class="form-control"><option>{{demo.customField.notes}}</option></select><select style="width:100%;margin-top:5px" class="form-control"><option>{{demo.customField.notes}}</option></select></div><div ng-if="demo.customField.inputType==\'multi_options\'"><div class="btn-group relative" dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" dropdown-toggle ng-disabled="disabled" style="text-align:left;height:34px"><span style="float:left;word-break:break-all">{{demo.customField.notes}}</span> <span class="caret" style="position:absolute;right:8px;top:14px"></span></button><ul style="padding:0;height:auto;max-height:330px;overflow:auto" class="list-group dropdown-menu form-control" role="menu"><li class="list-group-item" style="padding:5px 15px" ng-click="$event.stopPropagation()"><label style="width:100%;cursor:pointer"><input type="checkbox" style="margin-right:10px;position:relative;top:3px"><span>{{demo.customField.notes}}</span></label></li></ul></div></div><textarea ng-if="demo.customField.inputType==\'textarea\'" style="margin-top:5px;width:100%" class="form-control" ng-model="demo.customField.notes"></textarea><div ng-if="demo.customField.fieldName == \'verifyCode\'" style="margin-top:10px;overflow:hidden"><input style="float:left;width:120px;height:24px" class="form-control" ng-model="demo.customField.notes"><div style="float:left;margin-left:10px"><img style="height:24px" src="source/images/daoru1.jpg"> <a style="font-size:12px">看不清，换一张</a></div></div></li></div></ul></div></div><div class="padding_top25px padding_left20px" style="margin-top:50px;border-top:1px solid #E4E4E4"><button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateTicketExtendForm()">更新</button></div></div></div>');e.put("source/views/ticket/setting.ticket_list_custom.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>工单视图</strong></p><oem-learn-more type="via_email" description="你可以添加更多的工单视图，以满足你的业务需求。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/604" class="know-more"></oem-learn-more></div><div class="setting-head-common"><ul class="nav-list clearfix"><li has-permission="ticket_view_manage" ng-click="switching(\'default\')" ng-class="{\'default\': \'active\'}[showType]">默认视图（{{defaultCustomList.length}}）</li><li has-permission="ticket_view_manage" ng-click="switching(\'public\')" ng-class="{public: \'active\'}[showType]">自定义的公开视图（{{publicCustomList.length}}）</li><li ng-click="switching(\'private\')" ng-class="{private: \'active\'}[showType]">自定义的个人视图（{{privateCustomList.length}}）</li></ul><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:200px">视图名称</th><th class="text-center">状态</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="editTicketListCustom(0,\'add\')">+ 添加视图</a></th></tr></thead><tbody ng-show="showType==\'default\'" ng-model="defaultEnableList"><tr ng-repeat="list in defaultEnableList track by list.id" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:400px;padding-top:12px"><a ng-if="(viewManage&&list.active)" ng-bind="list.title|translate" class="channel-name" ng-click="editTicketListCustom(list,\'update\')"></a> <a ng-if="(!viewManage||!list.active)" ng-bind="list.title|translate" class="channel-name" ng-style="{color:(!list.active ? \'#A8A8A8\': \'#333\')}"></a></td><td style="text-align:center;width:120px"><span ng-if="list.active">启用</span><span ng-if="!list.active" style="color:#A8A8A8">停用</span></td><td class="text-right"><span ng-if="(viewManage&&list.active)"><a ng-click="editTicketListCustom(list,\'update\')">编辑</a>&emsp;|&emsp;</span> <a ng-if="!list.active" ng-click="enabled(this,true)">启用</a> <a ng-if="list.active" ng-click="enabled(this,false)">停用</a></td></tr></tbody><tbody ng-show="showType==\'default\'" ng-model="defaultDisabledList" style="border-top:0"><tr ng-repeat="list in defaultDisabledList track by list.id" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:400px;padding-top:12px"><a ng-if="(viewManage&&list.active)" ng-bind="list.title|translate" class="channel-name" ng-click="editTicketListCustom(list,\'update\')"></a> <a ng-if="(!viewManage||!list.active)" ng-bind="list.title|translate" class="channel-name" style="color:#A8A8A8"></a></td><td style="text-align:center;width:120px"><span ng-if="list.active">启用</span><span ng-if="!list.active" style="color:#A8A8A8">停用</span></td><td class="text-right"><span ng-if="(viewManage&&list.active)"><a ng-click="editTicketListCustom(list,\'update\')">编辑</a>&emsp;|&emsp;</span> <a ng-if="!list.active" ng-click="enabled(this,true)">启用</a> <a ng-if="list.active" ng-click="enabled(this,false)">停用</a></td></tr></tbody><tbody ng-show="showType==\'public\'" ng-model="publicEnableList"><tr ng-repeat="list in publicEnableList track by list.id" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:400px;padding-top:12px"><a ng-if="viewManage" ng-bind="list.title|translate" class="channel-name" ng-click="editTicketListCustom(list,\'update\')"></a> <a ng-if="!viewManage" ng-bind="list.title|translate" class="channel-name" style="color:#333"></a></td><td style="text-align:center;width:120px"><span ng-if="list.active">启用</span><span ng-if="!list.active" style="color:#A8A8A8">停用</span></td><td class="text-right"><span ng-if="viewManage&&list.active"><a ng-click="editTicketListCustom(list,\'copy\')">克隆</a>&emsp;|&emsp;</span> <span ng-if="viewManage&&list.active"><a ng-click="editTicketListCustom(list,\'update\')">编辑</a>&emsp;|&emsp;</span> <a ng-if="!list.active" ng-click="enabled(this,true)">启用</a> <span ng-if="viewManage&&!list.active">&emsp;|&emsp;<a ng-click="deleteTicketListCustom(list,$index)">删除</a></span> <a ng-if="list.active" ng-click="enabled(this,false)">停用</a></td></tr></tbody><tbody ng-show="showType==\'public\'" style="border-top:0"><tr ng-repeat="list in publicDisabledList" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:400px;padding-top:12px"><span ng-bind="list.title|translate" class="channel-name" ng-style="{color:(!list.active ? \'#A8A8A8\': \'\')}"></span></td><td style="text-align:center;width:120px"><span ng-if="list.active">启用</span><span ng-if="!list.active" style="color:#A8A8A8">停用</span></td><td class="text-right"><span ng-if="viewManage"><a ng-click="editTicketListCustom(list,\'copy\')">克隆</a>&emsp;|&emsp;</span> <a ng-if="!list.active" ng-click="enabled(this,true)">启用</a><span ng-if="viewManage&&!list.active">&emsp;|&emsp;</span> <a ng-if="viewManage&&!list.active" ng-click="deleteTicketListCustom(list,$index)">删除</a></td></tr></tbody><tbody ng-show="showType===\'private\'" ng-model="privateEnableList"><tr ng-repeat="list in privateEnableList track by list.id" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:400px;padding-top:12px"><a ng-bind="list.title|translate" class="channel-name" ng-click="editTicketListCustom(list,\'update\')"></a></td><td style="text-align:center;width:120px"><span ng-if="list.active">启用</span><span ng-if="!list.active" style="color:#A8A8A8">停用</span></td><td class="text-right"><span><a ng-click="editTicketListCustom(list,\'copy\')">克隆</a>&emsp;|&emsp;</span> <span ng-if="list.active"><a ng-click="editTicketListCustom(list,\'update\')">编辑</a>&emsp;|&emsp;</span> <span ng-if="!list.active"><a ng-click="enabled(this,true)">启用</a>&emsp;|&emsp;</span> <a ng-if="!list.active" ng-click="deleteTicketListCustom(list,$index)">删除</a> <a ng-if="list.active" ng-click="enabled(this,false)">停用</a></td></tr></tbody><tbody ng-show="showType==\'private\'" style="border-top:0"><tr ng-repeat="list in privateDisabledList" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:400px;padding-top:12px"><span ng-bind="list.title|translate" class="channel-name" ng-style="{color:(!list.active ? \'#A8A8A8\': \'\')}"></span></td><td style="text-align:center;width:120px"><span ng-if="list.active">启用</span><span ng-if="!list.active" style="color:#A8A8A8">停用</span></td><td class="text-right"><span><a ng-click="editTicketListCustom(list,\'copy\')">克隆</a>&emsp;|&emsp;</span> <a ng-if="!list.active" ng-click="enabled(this,true)">启用</a>&emsp;|&emsp; <a ng-if="!list.active" ng-click="deleteTicketListCustom(list,$index)">删除</a></td></tr></tbody></table></div></div></div></div>');e.put("source/views/ticket/setting.ticket_list_custom_edit.html",'<style>.w300{width:300px!important}.margin_right39px{margin-right:39px}.description p,.form-inline p{color:#999}.margin_right7px{margin-right:7px}.floatLeft ul{list-style:none;margin:0;min-height:40px;padding-bottom:30px;padding-left:0}.floatLeft ul li{border:1px solid #ccc;padding:5px 10px;background:#F8F8F8;width:150px;margin-top:10px;cursor:move;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.notShowTable{width:400px}.notShowTable li{margin:0 10px 0 0}.showTable{width:150px}.serviceDesk ul{width:300px;margin-bottom:100px}.serviceDesk .title-list,.serviceDesk ul li a{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.datepicker-wrap .dropdown-menu{width:300px}.inline-block{display:inline-block}</style><div style="overflow:auto;min-width:1200px"><div class="setting-head-common" style="padding-left:0"><div class="nav-title padding_bottom15px"><a ui-sref="system_setting.detail({uri:\'ticket_list_custom\',settingType:\'ticket\'})">工单视图</a> 》{{title}}</div><oem-learn-more type="ticket_custom_view_edit" description="你可以添加更多的工单视图，以满足你的业务需求。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/604"></oem-learn-more><div class="margin_left20px"><div class="padding_top10px padding_bottom10px form-inline"><label class="margin_right35px size14">名称</label><input type="hidden" ng-model="ticketListCustom.id" class="form-control w300"> <input ng-disabled="ticketListCustom.isSystemDefault" placeholder="视图名称最大支持32个字符" maxlength="32" ng-model="ticketListCustom.title" class="form-control w300" ng-change="titleChange();"><p class="margin_left70px margin_top10px size13">较长的视图名称可能在列表中无法完全展示</p></div><div ng-if="!ticketListCustom.isSystemDefault" class="padding_top10px padding_bottom10px form-inline"><label class="margin_right35px size14">类型</label><select class="form-control w300" ng-model="listCustomType.type" ng-disabled="!viewPermissions"><option value="private">个人视图（仅个人可用）</option><option value="public">公开视图</option></select><p class="margin_left70px margin_top10px size13">公有视图添加后可以共享给其他人员，私有视图只有自己可见。</p></div><div class="padding_top10px padding_bottom10px form-inline serviceDesk" ng-if="listCustomType.type==\'public\' && ticketListCustom.title !=\'分派给我的工单\' && ticketListCustom.title !=\'我所在组的工单\'  && ticketListCustom.title !=\'未分派的工单\'"><label class="margin_right7px size14">可见的组</label><button type="button" class="btn btn-default w300 title-list" ng-model="selectedServiceDesk.serviceDesk" data-multiple="1" bs-options="serviceDesk.id as serviceDesk.name for serviceDesk in serviceDesks" data-placeholder="全部客服组" max-length="3" bs-select><span class="caret"></span></button><p class="margin_left70px margin_top10px size13">该视图增加完成后，有哪些客服组可以看见</p></div><div class="padding_top10px padding_bottom10px description"><label class="margin_right39px size14 floatLeft">描述</label><textarea placeholder="请输入视图描述" ng-model="ticketListCustom.description" rows="4" class="form-control w300" maxlength="70"></textarea><p class="margin_left70px margin_top10px size13">请简要描述该视图所包含的工单内容，方便大家理解。</p></div><div class="tryu margin_top20px w810 padding_bottom30px" style="min-height:100px" ng-if="!ticketListCustom.isSystemDefault"><h4 class="padding_top10px size14 padding_left20px"><strong>符合下列所有条件：</strong><a style="color:#7bbf6a" class="size20 margin_left20px" ng-click="toAddFilterOption(\'all\');"><strong>+</strong></a></h4><div ng-repeat="filter in ticketAllListFilters track by $index" ng-if="filter.isExist" class="padding_top10px padding_bottom410px" style="position:relative;padding-left:40px"><select class="form-control w230 margin_right30px" ng-options="item.value as item.option for item in filter.firstOptions" ng-model="filter.firstValue" ng-change="firstAllFilterOptionChange($index,filter.firstValue);" style="display:inline-block;vertical-align:middle"></select><select class="form-control w100 margin_right30px" ng-options="item.value as item.option for item in filter.secondOptions" ng-model="filter.secondValue" style="display:inline-block;vertical-align:middle"></select><select class="form-control w320 margin_right20px" ng-if="filter.valueType==\'select\'" ng-options="item.value as item.option for item in filter.thirdOptions" ng-model="filter.thirdValue" ng-change="statusDelete(filter)" style="display:inline-block;vertical-align:middle"></select><div class="w320 margin_right20px inline-block" ng-if="filter.valueType==\'via\'"><via-select selectedtype="filter.thirdValue.viaType" selectedvia="filter.thirdValue.via" selectedchannel="filter.thirdValue.channel"></via-select></div><service-catalog-select ng-if="filter.valueType==\'serviceCatalog\'" selectedservicecatalog="filter.thirdValue" style="display:inline-block;width:320px!important;position:relative;top:-3px;vertical-align:middle" class="margin_right20px"></service-catalog-select><engineer-select hascurrentengineer="true" ng-if="filter.valueType==\'engineer\'" selectedengineer="filter.thirdValue" selectedservicedesk="filter.engineerDesk" style="display:inline-block;width:320px!important;position:relative;top:-3px;vertical-align:middle" class="margin_right20px"></engineer-select><service-desk-select ng-if="filter.valueType==\'serviceDesk\'" selectedservicedesk="filter.thirdValue" class="w320 margin_right20px" style="display:inline-block;vertical-align:middle;width:320px!important"></service-desk-select><user-select ng-if="filter.valueType==\'requester\'" unable-add-user="true" selecteduser="filter.thirdValue" style="display:inline-block;vertical-align:middle" class="w320 margin_right20px"></user-select><user-select ng-if="filter.valueType==\'user\'" unable-add-user="true" selecteduser="filter.thirdValue" usertype="\'all\'" style="display:inline-block;vertical-align:middle" class="w320 margin_right20px"></user-select><user-group-mutil-select ng-if="filter.valueType==\'userGroup\'" style="display:inline-block;vertical-align:middle" class="w320 margin_right20px" usergroups="filter.thirdValue"></user-group-mutil-select><input type="text" ng-if="filter.valueType==\'text\'" class="size13 margin_right20px form-control w320" ng-model="filter.thirdValue" style="display:inline-block;vertical-align:middle"> <input type="number" ng-if="filter.valueType==\'number\'" class="size13 form-control w320" ng-model="filter.thirdValue" style="display:inline-block;vertical-align:middle"><ticket-cc-input style="display:inline-block;vertical-align:middle" ng-if="filter.valueType==\'copyTo\'" ccs="filter.thirdValue" excludeusergroup="true" who="ticket" assignable="true" hidetomy="true" class="w320"></ticket-cc-input><input class="w320 margin_right20px form-control" style="display:inline-block;vertical-align:middle" lay-date id="{{\'layDate\'+filter.firstValue+$index}}" ng-disabled="filter.edit_able===0" type="text" ng-if="filter.valueType==\'date_time\'" format="YYYY/MM/DD hh:mm:ss" ng-model="filter.thirdValue"><div class="input-group w320 margin_right20px datepicker-wrap" style="display:inline-block;vertical-align:middle" ng-if="filter.valueType==\'date\'"><div style="display:table"><input ng-disabled="filter.edit_able===0" class="form-control" type="text" ng-click="open($event,this,\'filter\')" is-open="filter.start" ng-model="filter.thirdValue" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="filter.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'filter\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div></div><cascade-options class="w320 margin_right20px" style="display:inline-block;vertical-align:middle" ng-if="filter.valueType==\'cascade_options\'" category="auto" ticket-field="filter.customField" single-line="true"></cascade-options><multi-options class="w320 margin_right20px" style="display:inline-block;vertical-align:middle" ng-if="filter.valueType==\'multi_options\'" category="auto" ticket-field="filter.customField"></multi-options><radio-options class="w320 margin_right20px" style="display:inline-block;vertical-align:middle" ng-if="filter.valueType==\'options\'" category="auto" ticket-field="filter.customField" single-line="true"></radio-options><a style="color:#e04006" ng-click="toDeleteAllFilterOption($index);" class="size20">-</a></div><h4 class="padding_top10px size14 padding_left20px"><strong>符合下列任何条件：</strong><a style="color:#7bbf6a" class="size20 margin_left20px" ng-click="toAddFilterOption(\'any\');"><strong>+</strong></a></h4><div ng-repeat="filter in ticketAnyListFilters track by $index" ng-if="filter.isExist" class="padding_top10px padding_bottom410px" style="position:relative;padding-left:40px;vertical-align:middle"><select class="form-control w230 margin_right30px" ng-options="item.value as item.option for item in filter.firstOptions" ng-model="filter.firstValue" ng-change="firstAnyFilterOptionChange($index,filter.firstValue);" style="display:inline-block;vertical-align:middle"></select><select class="form-control w100 margin_right30px" ng-options="item.value as item.option for item in filter.secondOptions" ng-model="filter.secondValue" style="display:inline-block;vertical-align:middle"></select><select class="form-control w320 margin_right20px" ng-if="filter.valueType==\'select\'" ng-options="item.value as item.option for item in filter.thirdOptions" ng-model="filter.thirdValue" style="display:inline-block;vertical-align:middle"></select><div class="w320 margin_right20px inline-block" ng-if="filter.valueType==\'via\'"><via-select selectedtype="filter.thirdValue.viaType" selectedvia="filter.thirdValue.via" selectedchannel="filter.thirdValue.channel"></via-select></div><service-catalog-select ng-if="filter.valueType==\'serviceCatalog\'" selectedservicecatalog="filter.thirdValue" style="display:inline-block;width:320px!important;position:relative;top:-3px;vertical-align:middle" class="margin_right20px"></service-catalog-select><engineer-select hascurrentengineer="true" ng-if="filter.valueType==\'engineer\'" selectedengineer="filter.thirdValue" selectedservicedesk="filter.engineerDesk" style="display:inline-block;width:320px!important;position:relative;top:-3px;vertical-align:middle" class="margin_right20px"></engineer-select><service-desk-select ng-if="filter.valueType==\'serviceDesk\'" selectedservicedesk="filter.thirdValue" class="w320 margin_right20px" style="display:inline-block;width:320px!important"></service-desk-select><user-select ng-if="filter.valueType==\'requester\'" unable-add-user="true" selecteduser="filter.thirdValue" style="display:inline-block;vertical-align:middle" class="w320 margin_right20px"></user-select><user-select ng-if="filter.valueType==\'user\'" unable-add-user="true" selecteduser="filter.thirdValue" usertype="\'all\'" style="display:inline-block;vertical-align:middle" class="w320 margin_right20px"></user-select><user-group-mutil-select ng-if="filter.valueType==\'userGroup\'" style="display:inline-block;vertical-align:middle" class="w320 margin_right20px" usergroups="filter.thirdValue"></user-group-mutil-select><input type="text" ng-if="filter.valueType==\'text\'" class="size13 margin_right20px form-control w320" ng-model="filter.thirdValue" style="display:inline-block;vertical-align:middle"> <input type="number" ng-if="filter.valueType==\'number\'" class="size13 form-control w320" ng-model="filter.thirdValue" style="display:inline-block;vertical-align:middle"><ticket-cc-input style="display:inline-block;vertical-align:middle" ng-if="filter.valueType==\'copyTo\'" ccs="filter.thirdValue" excludeusergroup="true" who="ticket" assignable="true" hidetomy="true" class="w320"></ticket-cc-input><input class="w320 margin_right20px form-control" style="display:inline-block;vertical-align:middle" lay-date id="{{\'layDate\'+filter.firstValue+$index}}" ng-disabled="filter.edit_able===0" type="text" ng-if="filter.valueType==\'date_time\'" format="YYYY/MM/DD hh:mm:ss" ng-model="filter.thirdValue"><div class="input-group w320 margin_right20px datepicker-wrap" style="display:inline-block;vertical-align:middle" ng-if="filter.valueType==\'date\'"><div style="display:table"><input ng-disabled="filter.edit_able===0" class="form-control" type="text" ng-click="open($event,this,\'filter\')" is-open="filter.start" ng-model="filter.thirdValue" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="filter.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'filter\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div></div><cascade-options class="w320 margin_right20px" style="display:inline-block;vertical-align:middle" ng-if="filter.valueType==\'cascade_options\'" category="auto" ticket-field="filter.customField" single-line="true"></cascade-options><multi-options class="w320 margin_right20px" style="display:inline-block;vertical-align:middle" ng-if="filter.valueType==\'multi_options\'" category="auto" ticket-field="filter.customField"></multi-options><radio-options class="w320 margin_right20px" style="display:inline-block;vertical-align:middle" ng-if="filter.valueType==\'options\'" category="auto" ticket-field="filter.customField" single-line="true"></radio-options><a style="color:#e04006" ng-click="toDeleteAnyFilterOption($index);" class="size20">-</a></div></div><h4 class="size14"><strong>列表</strong></h4><p class="margin_bottom10px margin_top5px size13">在列表中拖放来选择和重新排序。</p><div class="clearFloat"><div class="floatLeft"><p><strong>不显示的列</strong></p><ul ui-sortable="sortableOptions" ng-model="noUseOptions" class="sortable clearFloat notShowTable"><li ng-repeat="noUseOption in noUseOptions" class="floatLeft" title="{{noUseOption.option}}">{{noUseOption.option}}</li></ul></div><div class="floatLeft margin_left50px"><p><strong>显示的列</strong></p><ul ui-sortable="useSortableOptions" ng-model="useOptions" class="sortable clearFloat showTable"><li ng-repeat="useOption in useOptions" class="floatLeft" title="{{useOption.option}}">{{useOption.option}}</li></ul></div><div class="floatLeft margin_left50px"><p><strong>列宽</strong></p><div ng-repeat="item in useOptions" style="position:relative" ng-mouseenter="showDefault(item)" ng-mouseleave="showDefault(item)"><input ng-model="item.length" style="height:30px;width:70px;margin-top:10px" type="text" class="form-control" maxlength="10"><div style="position:absolute;top:2px;left:80px;width:130px"><span style="color:#999;font-size:14px">px</span> <span ng-click="setDefault(item)" ng-show="item.isShowDefault" style="color:#1E8CCE;font-size:14px;cursor:pointer">恢复为默认列宽</span></div></div></div></div><div class="margin_bottom20px"><h4 class="size14" style="margin-top:0"><strong>分组</strong></h4><select class="form-control w300" ng-options="item.value as item.option  for item in ticketListCustomGroupByOptions" ng-model="ticketListCustom.groupBy"><option value="">不分组</option></select><h4 class="padding_top10px size14"><strong>排序</strong></h4><select class="form-control w300" ng-options="item.value as item.option  for item in ticketListCustomOrderByOptions" ng-model="ticketListCustom.orderBy" ng-change="orderByChange();"><option value="">不排序</option></select></div><div ng-if="ticketListCustom.orderBy"><input type="radio" name="order" ng-model="ticketListCustom.order" value="asc">&nbsp;升序 <input type="radio" style="margin-left:20px" name="order" ng-model="ticketListCustom.order" value="desc">&nbsp;降序</div><div class="padding_top55px line_solid_02"></div><div class="padding_top25px margin_bottom50px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit();">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-disabled="disabledBtn" ng-click="updateTicketListCustom(ticketListCustom);">更新</button></div></div></div></div>');e.put("source/views/ticket/setting.ticket_template.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>工单模板</strong></p></div><oem-learn-more type="ticket_template" description="工单模板助你快速创建和处理工单。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/582" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-click="switching(\'public\')" ng-if="edit" ng-class="{true: \'active\',false: \'\'}[displayPublic]">公共模板（{{publicTicketTemplets.length}}）</li><li ng-click="switching(\'private\')" ng-class="{true: \'active\',false: \'\'}[displayPrivate]">私有模板（{{privateTicketTemplets.length}}）</li></ul></div><div class="channel-box"><div class="table-box"><div class="table-responsive"><table ng-table="tableParams" class="table" template-pagination="source/scripts/directives/table/pager.html"><thead><tr><th style="width:500px;text-align:left">模板名称</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="toEditTicketTemplate(0,\'add\')">+ 添加工单模板</a></th></tr></thead><tbody ui-sortable="singleTemplate" ng-model="ticketTemplates"><tr ng-repeat="item in ticketTemplates track by item.id" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:580px;padding-top:12px"><a class="channel-name" ng-bind="item.name" title="{{item.name}}" ng-click="toEditTicketTemplate(item.id,\'modify\')"></a></td><td class="text-right"><a ng-click="toEditTicketTemplate(item.id,\'copy\')">克隆</a>&emsp;|&emsp; <a class="myHandle ui-sortable-handle" style="cursor:move">拖动排序</a>&emsp;|&emsp; <a ng-click="toEditTicketTemplate(item.id,\'modify\')">编辑</a>&emsp;|&emsp; <a ng-click="deleteTicketTemplate($index,item)">删除</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.ticket_template_edit.html",'<style>tags-input{width:inherit}</style><div style="min-width:1200px"><div class="setting-head-common"><div class="nav-title"><a ng-click="cancelEdit();">工单模板 </a>》 <span ng-if="!$stateParams.id || $stateParams.id==0">添加工单模板</span><span ng-if="$stateParams.id>0">{{ticketTemplate.name}}</span></div><oem-learn-more type="ticket_template_edit" description="选择自动执行的动作，生成工单模板。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/582" class="know-more"></oem-learn-more></div><h4 class="margin_left20px padding_top10px size14"><strong>工单模板名称</strong></h4><div class="padding_left20px padding_right10px"><input type="hidden" ng-model="ticketTemplate.id"> <input type="text" class="form-control h30 w760 size14" ng-model="ticketTemplate.name" maxlength="64"></div><div class="margin_left20px padding_top20px padding_bottom40px"><select class="form-control w500" ng-model="ticketTemplateSelectInfo" ng-options="item.option for item in ticketTemplateSelectItems"></select></div><div class="tryu margin_left20px w760"><table><tbody><p class="padding_left20px padding_top13px size14"><strong>执行以下操作：</strong></p><tr ng-repeat="item in ticketTemplateNotes track by $index"><td class="padding_left40px padding_right30px"><select class="form-control size13 w300" ng-model="item.type" ng-change="typeChange(item);" ng-options="optionitem.value as optionitem.option for optionitem in item.options"></select></td><td class="padding_right10px"><select class="form-control size13 w320" ng-disabled="item.edit_able===0" ng-if="item.valueType==\'select\'&& item.type != \'priority\'" ng-model="item.value" ng-change="showNoteValue(item);" ng-options="valueitem.value as valueitem.option for valueitem in item.values"></select><ticket-priority-select disabled="item.edit_able" width="w320" ng-if="item.valueType==\'select\'&& item.type == \'priority\'" selectedpriority="item.value"></ticket-priority-select><input ng-if="item.valueType==\'text\'" ng-disabled="item.edit_able===0" type="text" class="form-control size14 w320" ng-blur="checkValue(item);" ng-model="item.textvalue" maxlength="50"> <input ng-if="item.valueType==\'number\'" ng-disabled="item.edit_able===0" type="number" class="form-control size14 w320" ng-model="item.textvalue" maxlength="50"> <input lay-date id="{{\'layDate\'+item.id}}" ng-if="item.valueType==\'date_time\'" ng-disabled="item.edit_able===0" type="text" class="form-control size14 w320" ng-model="item.value" maxlength="50"><user-select ng-if="item.valueType==\'requester\'" selecteduser="item.requester" usertype="\'all\'" style="width:320px"></user-select><service-catalog-select ng-if="item.valueType==\'servicecatalog\'" disabled="item.edit_able" selectedservicecatalog="item.serviceCatalog" style="width:320px!important"></service-catalog-select><engineer-or-workflow-select ng-if="item.valueType==\'engineer\'" showinticketdetail="false" selectedservicedesk="item.engineer_serviceDesk" selectedengineer="item.engineer" selectedworkflow="item.workflowTemplate" ticketid="" class="input-size-long select-box" style="width:320px!important"></engineer-or-workflow-select><ticket-cc-input ng-if="item.valueType==\'add_ticket_cc\'" ccs="item.ccs" who="ticket" assignable="true" hidetomy="true" width="w300"></ticket-cc-input><textarea class="form-control w320" ng-disabled="item.edit_able===0" ng-if="item.valueType==\'textarea\'" ng-model="item.textvalue" textarea-auto-height="120" required maxlength="300" style="margin:3px 0"></textarea><service-desk-mutil-select class="w320" ng-if="item.valueType==\'servicedesk\'" selectedservicedesk="item.value"></service-desk-mutil-select><div class="input-group w320" ng-if="item.valueType==\'date\'"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-disabled="item.edit_able===0" ng-click="open($event,\'startFrom\')" ng-change="change($index);" is-open="datepickers.startFrom" ng-model="item.textvalue" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,\'startFrom\')" type="button" ng-disabled="item.edit_able===0"><i class="glyphicon glyphicon-calendar"></i></button></span></div><div class="w320" ng-if="item.valueType==\'cascade_options\' || item.valueType==\'multi_options\'|| item.valueType==\'options\'"><cascade-options ng-if="item.valueType==\'cascade_options\'" disabled="item.edit_able" category="auto" ticket-field="item.valueOptions"></cascade-options><multi-options ng-if="item.valueType==\'multi_options\'" disabled="item.edit_able" category="auto" ticket-field="item.valueOptions"></multi-options><radio-options ng-if="item.valueType==\'options\'" disabled="item.edit_able" category="auto" ticket-field="item.valueOptions"></radio-options></div><div style="display:inline-block;width:320px;float:left;overflow-wrap:hidden" ng-if="item.valueType==\'date_to_date\'"><div style="width:145px;display:inline-block;float:left" class="datepicker-wrap"><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-disabled="item.edit_able===0" ng-click="openTime($event,\'startTimeForm\',item)" ng-change="change($index);" is-open="item.startTimeForm" ng-model="item.startTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" max-date="item.endTimeForm"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="openTime($event,\'startTimeForm\',item)" type="button" ng-disabled="item.edit_able===0"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div style="width:30px;text-align:center;line-height:34px;display:inline-block;float:left"><p>至</p></div><div style="width:145px;display:inline-block;float:left" class="datepicker-wrap"><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-disabled="item.edit_able===0" ng-click="openTime($event,\'endTimeForm\',item)" ng-change="change($index);" is-open="item.endTimeForm" ng-model="item.endTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" min-date="item.startTimeForm"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="openTime($event,\'endTimeForm\',item)" type="button" ng-disabled="item.edit_able===0"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div></td><td><a style="color:#e04006" class="size30" ng-click="deleteTicketTemplateNote($index);">-</a></td></tr><tr><td class="padding_left40px padding_top3px padding_bottom30px"><a style="color:#7bbf6a" class="size20" ng-click="addTicketTemplateNote();"><strong>+</strong></a></td></tr></tbody></table></div><div class="margin_left20px padding_top55px line_solid_02"></div><div class="padding_top25px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit();">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="saveTicketTemplateNote(ticketTemplate);" ng-disabled="isClick">更新</button></div></div>');e.put("source/views/ticket/setting.ticket_type.html",'<div style="overflow:auto"><div><div><p class="margin_left20px size16"><strong>工单类型</strong></p><oem-learn-more type="ticket_type" description="按照所涉及事务的属性，对工单进行恰当的分类。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/320" class="margin_left20px size13"></oem-learn-more></div><div class="artli padding_top30px size12"><ul class="padding_left20px"><li class="block padding_top15px padding_bottom10px line_solid1 size13"><span><strong>工单类型列表({{ticketTypes.length}})</strong></span> <span class="margin_left110px"><strong>说明</strong></span> <span style="float:right" class="margin_right8px"><i class="fa fa-plus"></i><a href="javascript:void(0)" ng-click="addTicketType()"> <strong>添加工单类型</strong></a></span></li><li class="block padding_top10px padding_bottom10px line_solid_02 size12" ng-repeat="ticketType in ticketTypes track by ticketType.id"><div class="bubble1 line_h20"><a href="javascript:void(0)" ng-click="editTicketType(ticketType,false)" style="color:#1e8cce" ng-bind="ticketType.name"></a></div><div class="bubble2 margin_left30px line_h20" ng-bind="ticketType.description"></div><div style="float:right"><strong><span class="margin_right8px margin_left8px"><a href="javascript:void(0)" ng-click="editTicketType(ticketType,true);">克隆</a></span> <span>|</span> <span class="margin_left8px margin_right8px"><a href="javascript:void(0)" ng-click="deleteTicketType($index,ticketType)">删除</a></span></strong></div></li></ul></div></div></div>');e.put("source/views/ticket/setting.ticket_web_form.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>网页提交工单</strong></p><oem-learn-more type="ticket_web_form" description="添加网页表单，发布在任意网页上，收集客户反馈，生成工单。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/584" class="size13"></oem-learn-more></div><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:330px">渠道名称</th><th class="text-center">请求次数</th><th class="text-center">请求人数</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="toEditTicketCustomWebForm(0,\'add\')">+ 添加渠道</a></th></tr></thead><tbody><tr ng-if="ticketCustomWebForms.length==0"><td colspan="4">还没有网页提交工单渠道</td></tr><tr ng-repeat="form in ticketCustomWebForms | orderBy:\'active\':true" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:330px;padding-top:12px"><a ng-bind="form.name" ng-if="form.active" class="channel-name" ng-click="toEditTicketCustomWebForm(form.id,\'modify\')"></a> <span ng-bind="form.name" ng-if="!form.active" class="channel-name"></span></td><td style="text-align:center;width:120px"><span ng-if="form.active">{{form.ticketCount}}</span> <span ng-if="!form.active">-</span></td><td style="text-align:center;width:120px"><span ng-if="form.active">{{form.requesterCount}}</span> <span ng-if="!form.active">-</span></td><td class="text-right"><a ng-if="form.active" ng-click="toEditTicketCustomWebForm(form.id,\'modify\')">编辑</a> <a ng-if="!form.active" ng-click="enabled(this,true)">启用</a>&emsp;|&emsp; <a ng-if="!form.active" ng-click="deleteTicketCustomWebForm($index,form)">删除</a> <a ng-if="form.active" ng-click="enabled(this,false)">停用</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.ticket_web_form_edit.html",'<style>.customer_padding{padding:10px 10px 20px 1px}table{width:744px;height:auto;border:solid #000 0}thead tr td{border-bottom:solid #000 1px}td.selected{background-color:#f8f8f8;border:solid #CCC 1px;padding:9px 9px 19px 0}.flagLinear{FILTER:progid:DXImageTransform.Microsoft.Gradient(gradientType=0,startColorStr=#000000,endColorStr={{webFormOutward.flagBackgroundColor}});background:-ms-linear-gradient(left,#000,{{webFormOutward.flagBackgroundColor}});background:-moz-linear-gradient(left,#000,{{webFormOutward.flagBackgroundColor}});background:-webkit-gradient(linear,0 0,0 100%,from(#000),to({{webFormOutward.flagBackgroundColor}}));background:-webkit-gradient(linear,0 0,0 100%,from(#000),to({{webFormOutward.flagBackgroundColor}}));background:-webkit-linear-gradient(left,#000,{{webFormOutward.flagBackgroundColor}});background:-o-linear-gradient(left,#000,{{webFormOutward.flagBackgroundColor}})}.webformfields{background-image:url(source/images/daoru.jpg);background-position:98% 1px;background-repeat:no-repeat}</style><div style="overflow:auto"><div class="padding_top13px"><p class="margin_left20px size16"><strong>编辑网页表单（feedback）</strong></p><oem-learn-more type="ticket_web_form_edit" description="直接拷贝源代码嵌入到你的网页即可。你还可以定义界面的外观，客户必须填写的字段，以及由哪个客服组负责接收生成的工单。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/348" class="margin_left20px size13"></oem-learn-more></div><section class="margin_left20px padding_top20px size14"><input type="radio" name="ticketWebTab" id="ticketWebTab1" class="tabs" checked="checked" ng-click="switchingWebFormTab(1);"><label for="ticketWebTab1">前期准备</label><input type="radio" name="ticketWebTab" id="ticketWebTab2" class="tabs" ng-click="switchingWebFormTab(2);"><label for="ticketWebTab2">界面外观</label><input type="radio" name="ticketWebTab" id="ticketWebTab3" class="tabs" ng-click="switchingWebFormTab(3);"><label for="ticketWebTab3">表单字段</label><input type="radio" name="ticketWebTab" id="ticketWebTab4" class="tabs" ng-click="switchingWebFormTab(4);"><label for="ticketWebTab4">高级设置</label><input type="radio" name="ticketWebTab" id="ticketWebTab5" class="tabs" ng-click="switchingWebFormTab(5);"><label for="ticketWebTab5">创建和投递工单的规则</label></section><input type="hidden" ng-model="ticketWebForm.id"><div ng-show="showTicketWebTab==1"><div class="padding_top23px margin_left20px line_solid_02"></div><h4 class="margin_left20px padding_top10px size14"><strong>网页表单名称</strong></h4><div class="padding_left20px padding_right10px"><input class="w690 size14 form-control" placeholder="意见反馈（实例）" maxlength="32" ng-model="ticketWebForm.name"></div><h4 class="margin_left20px padding_top10px size13"><strong>源代码</strong></h4><p class="margin_left20px w690 line_solid_02"></p><p class="margin_left20px padding_top10px size13">复制下列脚本，将它们嵌入到任意网页的HTML源代码中去即可。<br>脚本必须插入在&lt;/body&gt; 标签之间。如果你希望网站的所有页面都呈现网页表单，请在每个页面上插入脚本。</p><textarea readonly="readonly" class="tryul margin_left20px size13 form-control" style="width:690px;min-width:690px;height:290px;resize:none;cursor:copy">\n<script language="javascript" src="{{domainUrl}}/source/scripts/eweiBox.js"><\/script>\n<link href="{{domainUrl}}/source/css/web_form.css" type="text/css" rel="stylesheet">\n<script type="text/javascript">\n  if (typeof(EweiWebFormBox) !== "undefined") {\n    var data={"userName":"","userEmail":""};\n     EweiWebFormBox.init({\n     pid:{{currentProviderId}},\n     eweiBoxId:  "{{ticketWebForm.keyCode}}",\n     url:  "{{protocolDomainUrl}}",\n     data:data\n    });\n  }\n<\/script> \n </textarea><h4 class="margin_left20px padding_top10px size13"><strong>测试你的网站</strong></h4><p class="margin_left20px w690 line_solid_02"></p><h4 class="margin_left20px padding_top10px size13">检验脚本是否在你的网页正常运行。如果成功，在你的页面上应该出现网页表单的按钮或窗口。</h4><div style="display:inline" class="padding_top25px padding_left20px"><input style="width:300px;float:left" class="margin_left20px w280 size14 form-control" ng-model="testWebSiteUrl" placeholder="URL"> <button type="button" class="btn btn-primary btn-sm" style="height:34px" ng-click="testWebSite()">测试</button></div><p class="margin_left20px padding_top50px w690 line_solid_02"></p><div class="padding_top25px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateCode();">更新</button></div></div><div ng-show="showTicketWebTab==2"><p class="padding_top23px margin_left20px line_solid_02"></p><div style="width:400px;height:830px" class="pull-right try margin_right2px"><div class="padding_top20px"><label class="margin_left20px size16">预览</label><p class="margin_left20px margin_right20px line_solid_02"></p><div style="margin:0 auto;width:180px;height:32px;margin-top:30px" ng-show="webFormOutward.style==\'badge\'"><div ng-style="{\'background-color\':webFormOutward.buttonLeftColor,\'width\':\'36px\',\'height\':\'32px\',\'float\':\'left\'}"><div class="size20" ng-style="{\'color\':webFormOutward.buttonFontColor}"><i class="fa fa-comment-o fa-3 padding5px"></i></div></div><div style="width:144px;height:32px;color:#fff;float:left" ng-style="{\'background-color\':webFormOutward.buttonBackgroundColor}"><p class="margin_left30px padding_top3px" ng-style="{\'color\':webFormOutward.buttonFontColor}">{{webFormOutward.buttonTitle}}</p></div></div><div style="text-align:center;border:1px thin #555;padding-top:10px" ng-show="webFormOutward.style==\'flag\'"><div style="width:180px;margin:0 auto;height:100px" class="flagLinear"><div style="width:100%;margin:0 auto;height:100;padding-top:10px"><div class="inline" style="float:left;width:70px;height:70px"><img class="margin_left10px" style="float:left;width:70px;height:70px" ng-src="{{webFormOutward.flagPictureSrc}}"></div><div ng-style="{\'color\':webFormOutward.flagFontColor}" style="width:110px;line-height:25px;float:right;text-align:center" class="size16">{{webFormOutward.flagTitle}}</div></div></div><p><input style="width:180px;margin:0 auto;height:36px;border:1px solid #ddd" class="name3" value="请在这里输入"></p></div><div class="padding_top30px size13"><div class="try1 size13" ng-style="{\'width\':selectSizeOption.windowWidth+\'px\',\'height\':selectSizeOption.windowHeight+\'px\'}" style="text-align:center;margin:0 auto;margin-top:30px"><div class="try2" style="text-align:left;width:98%;height:30px" ng-style="{\'background-color\':webFormOutward.windowTitleColor}"><p ng-style="{\'color\':webFormOutward.windowfontColor}" class="margin_left3px">{{webFormOutward.windowTitle}} <span class="pull-right margin_right2px size24" style="margin-top:-3px" ng-style="{\'color\':webFormOutward.windowfontColor}"><i class="fa fa-search btn-sm" ng-show="webFormOutward.searchable"></i>-</span></p></div><div style="width:95%;margin:0 auto;overflow:auto" ng-style="{\'height\':selectSizeOption.windowHeight-90}"><p class="padding_top15px"></p><div class="try1" style="text-align:left;width:98%;height:80px"><textarea style="text-align:left;width:100%;height:80%;margin:0 auto;border:0">请在此留言，我们会尽快联系你。 </textarea><div class="pull-right"><i class="fa fa-upload padding5px"></i><i class="fa fa-desktop padding5px"></i><i class="fa fa-video-camera padding5px"></i></div></div><div class="padding_top10px"><input style="width:97%;height:24px;margin-bottom:10px" class="webformfields" placeholder="你的名字和Email"><div style="width:95%"><img style="float:left;height:24px" src="source/images/daoru1.jpg"><input style="float:left;width:70%;height:24px" class="text-left" placeholder="请输入验证码"></div><div style="width:95%"></div></div></div><div style="width:95%;height:60px;margin:0 auto"><p style="margin-bottom:10px" class="line_solid_02"></p><div ng-style="{\'background-color\':webFormOutward.windowTitleColor}" style="width:100%;padding-top:3px" class="try2 tijiao"><span ng-style="{\'color\':webFormOutward.windowfontColor}">提交</span></div><p ng-if="!hideIntegralTab" style="font-size:10px"><a href="#">客服软件</a><a href="#"> 工单系统</a>By 易维帮助台</p></div></div></div></div><p class="padding_top190px"></p><div style="width:32px;height:180px;position:absolute;right:0;top:195px" ng-show="webFormOutward.style==\'badge\'&&false"><div class="size20" ng-style="{\'color\':webFormOutward.buttonFontColor,\'background-color\':webFormOutward.buttonLeftColor}" style="text-align:center;width:30px;height:36px;padding-left:2px"><i class="fa fa-envelope-o fa-3"></i></div><div ng-style="{\'color\':webFormOutward.buttonFontColor,\'background-color\':webFormOutward.buttonBackgroundColor}" style="text-align:center;width:30px;height:144px;padding-top:20px"><div style="width:20px;height:143px;padding-left:7px">{{webFormOutward.buttonTitle}}</div></div></div></div><p class="margin_left20px margin_right420px padding_top20px size14"><strong>按钮</strong></p><p class="margin_left20px margin_right420px padding_top2px line_solid_02"></p><div class="tli margin_left20px padding_top10px size13"><table style="line-height:40px;width:auto"><tbody><tr style="margin:10px"><td><span class="bue1">位置</span></td><td><span class="margin_left20px"><select style="height:24px;width:280px" class="size14" ng-model="webFormOutward.position" ng-options="positionItem.value as positionItem.option for positionItem in positionOptions"></select></span></td></tr><tr><td><span class="bue1">样式</span></td><td><span class="margin_left20px"><select style="height:24px;width:280px" class="size14" ng-model="webFormOutward.style" ng-options="styleItem.value as styleItem.option for styleItem in styleOptions"></select></span></td></tr><tr ng-show="webFormOutward.style==\'badge\'"><td><span class="bue1">标题</span></td><td><span class="margin_left20px"><input style="height:24px;width:280px;line-height:24px" class="size14" value="意见反馈 " maxlength="8" ng-model="webFormOutward.buttonTitle"> </span></td></tr><tr ng-show="webFormOutward.style==\'badge\'"><td><span class="bue1">颜色1</span></td><td><span class="margin_left20px"><spectrum-colorpicker ng-model="webFormOutward.buttonBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></td></tr><tr ng-show="webFormOutward.style==\'badge\'"><td><span class="bue1">颜色2</span></td><td><span class="margin_left20px"><spectrum-colorpicker ng-model="webFormOutward.buttonLeftColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></td></tr><tr ng-show="webFormOutward.style==\'badge\'"><td><span class="bue1">颜色3</span></td><td><span class="margin_left20px"><spectrum-colorpicker ng-model="webFormOutward.buttonFontColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></td></tr><tr ng-show="webFormOutward.style==\'flag\'"><td><span class="bue1">标题</span></td><td><span class="margin_left20px"><input style="height:24px;width:280px;line-height:24px" class="size14" value="意见反馈 " maxlength="16" ng-model="webFormOutward.flagTitle"> </span></td></tr><tr ng-show="webFormOutward.style==\'flag\'"><td><span class="bue1">图片</span></td><td><div class="margin_left20px" style="float:left;width:64px;height:64px;border:1px solid #CCC;text-align:center"><img ng-src="{{webFormOutward.flagPictureSrc}}" style="margin:15px;width:32px;height:32px"></div><div style="float:left;margin-left:10px;margin-top:-20px"><label for="inputfile"></label><div class="_box1 tihian size12" ng-accept="\'image/*\'" ng-multiple="false" ng-file-change="uploadFlagPic(file)" ng-model="file" ng-file-select>上传</div></div></td></tr><tr ng-show="webchatFormOutward.style==\'flag\'"><td><span class="bue1"></span></td><td><span class="margin_left20px">最大尺寸70X100，最大体积200KBytes </span></td></tr><tr ng-show="webFormOutward.style==\'flag\'"><td><span class="bue1">颜色1</span></td><td><span class="margin_left20px"><spectrum-colorpicker ng-model="webFormOutward.flagBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></td></tr><tr ng-show="webFormOutward.style==\'flag\'"><td><span class="bue1">颜色2</span></td><td><span class="margin_left20px"><spectrum-colorpicker ng-model="webFormOutward.flagFontColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></td></tr><tr><td><span class="bue1"><strong>窗口</strong></span></td><td></td></tr><tr><td colspan="2"><p class="line_solid_02"></p></td></tr><tr><td><span class="bue1">尺寸</span></td><td><span class="margin_left20px"><select style="height:24px;width:280px" class="size14" ng-model="selectSizeOption" ng-options="sizeItem.option for sizeItem in windowSizeOptions"></select></span></td></tr><tr><td><span class="bue1">标题</span></td><td><span class="margin_left20px"><input style="height:24px;width:280px;line-height:24px" class="size14" maxlength="16" ng-model="webFormOutward.windowTitle"> </span></td></tr><tr><td><span class="bue1">颜色1</span></td><td><span class="margin_left20px"><spectrum-colorpicker ng-model="webFormOutward.windowTitleColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></td></tr><tr><td><span class="bue1">颜色2</span></td><td><span class="margin_left20px"><spectrum-colorpicker ng-model="webFormOutward.windowfontColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></td></tr><tr><td><span class="bue1">选项</span></td><td><span class="margin_left20px"><input type="checkbox" name="searchCheckbox" id="searchCheckbox" ng-model="webFormOutward.searchable"><label for="searchCheckbox">搜索</label></span><span class="margin_left20px"><input type="checkbox" name="loginCheckbox" id="loginCheckbox" ng-model="webFormOutward.loginable"><label for="loginCheckbox">登录</label></span></td></tr><tr><td colspan="2"><span class="bue1"><strong>界面呈现的先后次序</strong></span></td></tr><tr><td colspan="2"><p class="line_solid_02"></p></td></tr><tr><td><span class="bue1"><input name="fruit" type="radio" value="true" ng-model="webFormOutward.buttonHavePriority"></span></td><td><span class="margin_left20px">先呈现按钮，点击切换到窗口 </span></td></tr><tr><td><span class="bue1"><input name="fruit" type="radio" value="false" ng-model="webFormOutward.buttonHavePriority"> </span></td><td><span class="margin_left20px">先呈现窗口，点击切换到按钮 </span></td></tr></tbody></table></div><div class="margin_left20px margin_right420px padding_top20px line_solid_02"><p class="pull-right padding_top10px" style="color:#1e8cce"><a href="javascript:void(0)" ng-click="recoveryFormOutward()">恢复初始配置</a></p></div><div class="padding_top20px padding_left20px" style="max-width:auto"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateOutward();">更新</button></div></div><div ng-show="showTicketWebTab==3"><p class="padding_top23px margin_left20px line_solid_02"></p><div style="width:400px;height:830px" class="pull-right try margin_right2px"><div class="padding_top30px size13"><div class="try1 size13" ng-style="{\'width\':selectSizeOption.windowWidth+\'px\',\'height\':selectSizeOption.windowHeight+\'px\'}" style="text-align:center;margin:0 auto;margin-top:30px"><div class="try2" style="text-align:left;width:98%;height:30px" ng-style="{\'background-color\':webFormOutward.windowTitleColor}"><p ng-style="{\'color\':webFormOutward.windowfontColor}" class="margin_left3px">{{webFormOutward.windowTitle}} <span class="pull-right margin_right2px size24" ng-style="{\'color\':webFormOutward.windowfontColor}" style="margin-top:-3px"><i class="fa fa-search btn-sm" ng-show="webFormOutward.searchable"></i>-</span></p></div><div style="width:95%;margin:0 auto;overflow:auto" ng-style="{\'height\':selectSizeOption.windowHeight-90}"><div class="padding_top10px" ng-repeat="selectItem in selectWebFormFields track by $index"><div ng-if="selectItem.inputType==\'text\'"><p style="width:97%;text-align:left;padding-left:5px" ng-if="selectItem.showName!=\'\'"><strong>{{selectItem.showName}}</strong></p><div ng-if="selectItem.fieldName==\'email\'" style="overflow:hidden"><input style="width:97%;height:24px;line-height:24px" placeholder="{{selectItem.tip}}"><div class="pull-right margin_right10px margin_top10px" ng-show="webFormOutward.loginable">登录<img class="padding_bottom5px" src="source/images/daoru.jpg"></div><p ng-show="webFormOutward.loginable">&nbsp;</p></div><div ng-if="selectItem.fieldName==\'verifyCode\'"><img style="float:left;height:24px" src="source/images/daoru1.jpg"><input style="float:left;width:70%;height:24px" class="text-left" placeholder="{{selectItem.tip}}"></div><input ng-if="selectItem.fieldName !=\'email\' && selectItem.fieldName !=\'verifyCode\'" style="width:97%;height:24px;line-height:24px" placeholder="{{selectItem.tip}}"></div><div ng-if="selectItem.inputType==\'date\'"><p style="width:97%;text-align:left;padding-left:5px" ng-if="selectItem.showName!=\'\'"><strong>{{selectItem.showName}}</strong></p><input type="date" class="form-control" style="width:97%;height:24px;margin-top:7px;line-height:24px;padding:0 12px;margin-left:5px"></div><div ng-if="selectItem.inputType==\'checkbox\'" class="margin_left10px" style="text-align:left"><input ng-if="selectItem.inputType==\'checkbox\'" type="checkbox" style="vertical-align:sub;margin-top:7px;line-height:24px;padding:0 12px"> <span style="text-align:left;padding-left:5px" ng-if="selectItem.showName!=\'\'"><strong>{{selectItem.showName}}</strong></span></div><div ng-if="selectItem.inputType==\'textarea\'"><div ng-if="selectItem.fieldName == \'description\'" class="try1" style="text-align:left;height:80px"><textarea style="text-align:left;width:100%;height:80%;margin:0 auto;border:0;color:#AAA" placeholder="{{selectItem.tip}}"></textarea><div class="pull-right"><i class="fa fa-upload padding5px"></i><i class="fa fa-desktop padding5px"></i><i class="fa fa-video-camera padding5px"></i></div></div><div ng-if="selectItem.fieldName != \'description\'"><p style="width:97%;text-align:left;padding-left:5px" ng-if="selectItem.showName!=\'\'"><strong>{{selectItem.showName}}</strong></p><textarea style="text-align:left;width:97%;margin:0 auto;color:#AAA;border-color:#ccc" placeholder="{{selectItem.tip}}"> </textarea></div></div><div ng-if="selectItem.inputType==\'select\'"><p style="width:97%;text-align:left;padding-left:5px" ng-if="selectItem.showName!=\'\'"><strong>{{selectItem.showName}}</strong> <span ng-if="selectItem.tip!=\'\'" style="color:#ccc">({{selectItem.tip}})</span></p><select style="width:97%;height:24px;line-height:24px"></select></div></div><div style="width:95%"></div></div><div style="width:95%;height:60px;margin:0 auto"><p style="margin-bottom:10px" class="line_solid_02"></p><div ng-style="{\'background-color\':webFormOutward.windowTitleColor}" style="width:100%;padding-top:3px" class="try2 tijiao"><span ng-style="{\'color\':webFormOutward.windowfontColor}">提交</span></div><p ng-if="!hideIntegralTab" style="font-size:10px"><a href="#">客服软件</a><a href="#"> 工单系统</a> By 易维帮助台</p></div></div></div></div><p class="">&nbsp;</p><div class="margin_left20px" style="margin-right:420px"><div style="line-height:25px;vertical-align:bottom;width:auto"><ul class="size13 padding5px" style="list-style:none"><div ui-sortable="sortableOptions" ng-model="selectWebFormFields"><li ng-repeat="selectItem in selectWebFormFields track by $index" id="{{selectItem.fieldName}}"><div style="width:230px;float:left"><strong>{{selectItem.name}}</strong> <input ng-disabled="selectItem.fieldName==\'verifyCode\' || selectItem.fieldName==\'name\' || selectItem.fieldName==\'email\' || selectItem.fieldName==\'description\'" ng-model="selectItem.showName" type="text" style="width:200px" class="form-control" maxlength="255"></div><div><input style="float:left" type="checkbox" name="checkbox" ng-disabled="selectItem.fieldName==\'verifyCode\' || selectItem.fieldName==\'name\' || selectItem.fieldName==\'email\' || selectItem.inputType==\'checkbox\' || selectItem.fieldName==\'description\'" ng-checked="selectItem.required" ng-click="setRequiredValue($event,selectItem);">*<br><input ng-if="selectItem" ng-disabled="selectItem.inputType==\'checkbox\' || selectItem.inputType==\'date\'" class="form-control w200" ng-model="selectItem.tip" style="display:inline-block" maxlength="255"> <span class="myHandle" style="cursor:move"><a href="#"></a>拖动排序</span> <a style="color:#e04006" ng-if="selectItem.fieldName!=\'name\' && selectItem.fieldName!=\'email\' && selectItem.fieldName!=\'description\'" ng-click="todeleteField($index);" class="padding_left10px size20">-</a></div></li></div><li><div><a style="color:#7bbf6a;width:350px" class="size20" ng-click="toSelectFields();"><strong>+</strong></a></div></li></ul></div><div class="margin_left20px padding_top30px line_solid_02"><p class="pull-right padding_top30px" style="color:#1e8cce;padding-right:20px"><a href="javascript:void(0)" ng-click="recoveryField()">恢复初始配置</a></p></div><div class="padding_top25px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateFormfields();">更新</button></div></div></div><div ng-show="showTicketWebTab==4"><h4 class="margin_left20px size14" style="margin-top:40px"><strong>辅助搜索</strong></h4><p class="margin_left20px size13">用户在填写留言（工单的描述字段）时，自动匹配知识库文章和社区问答，并将搜索结果呈现在窗口内。<a target="_blank" href="{{::eweiHelpcenterApiUrl}}new/#/article/detail/347">了解更多 </a></p><label style="float:left" class="margin_left20px padding_top10px"><input name="fruit" type="checkbox" id="autoSearchCheckbox" ng-model="ticketWebForm.autoSearch"></label><p style="margin-left:40px;line-height:40px"><label for="autoSearchCheckbox">启用辅助搜索</label></p><p class="margin_left20px padding_top30px w690 line_solid_02"></p><div class="padding_top25px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateFormAdvanced();">更新</button></div></div><div ng-show="showTicketWebTab==5"><p class="padding_top23px margin_left20px line_solid_02"></p><div class="padding_top20px padding_bottom20px"><span class="margin_left20px padding_top10px size13"><strong>工单投递到哪里？</strong></span> <span class="margin_left80px size13">投递到下列客服小组</span></div><select class="margin_left210px form-control size13" style="width:745px" ng-model="ticketWebForm.serviceDesk.id" ng-options="selectDesk.value as selectDesk.option for selectDesk in selectServiceDesks"></select><p class="padding_top30px margin_left20px line_solid_02"></p><span style="float:left;margin-left:20px" class="padding_top30px"><strong>谁可以提交工单？</strong></span><div style="float:left;width:744px;margin-top:20px" class="margin_left95px size13"><table border="0" cellspacing="0"><tbody><tr><td width="690" align="left" valign="top" ng-class="everyoneClass" class="customer_padding"><label style="float:left" class="margin_left10px"><input name="submitRule" type="radio" value="everyone" ng-model="ticketWebForm.submitRules" ng-click="submitRulesSelect($event);"></label><p style="margin-left:30px;line-height:20px">任何人都可以提交工单，并成为你的客户<br>将同时创建工单和客户，用户提交新Email，将被创建为新客户。<br>如果Email已经存在于你的{{providerEweiProductName|replace_ewei_productname}}，工单将被关联到拥有此Email的老客户。</p><p style="margin-left:30px;margin-top:15px">黑名单，总是拒绝下列Email地址或域名<span style="color:#ccc">（多个Email之间以空格分隔）</span></p><p style="margin-left:30px"><textarea style="width:680px;height:35px;overflow:hidden" ng-model="ticketWebForm.blacklist" class="form-control"></textarea></p><div style="margin-left:30px" style="float:left" class="padding_top10px"><span style="float:left"><input type="checkbox" name="checkbox" id="verifyEmailCheckbox" ng-model="ticketWebForm.verifyEmail"><label for="verifyEmailCheckbox"></label></span><p style="margin-left:20px">验证用户提交的Email<br>发送欢迎邮件到用户提交的Email地址，要求用户完成验证。在验证完成之前，工单将一直停留在隔离区。</p><p></p></div><p style="padding-top:20px"></p></td></tr><tr><td align="left" valign="top" ng-class="customerClass" class="customer_padding"><label style="float:left" class="margin_left10px"><input type="radio" name="submitRule" value="customer" ng-model="ticketWebForm.submitRules" ng-click="submitRulesSelect($event);"></label><p style="margin-left:30px;line-height:20px">只允许老客户提交工单<br>你必须手工添加客户名单，用户提交工单时提交的Email必须与一位老客户的匹配，否则无法提交工单。</p><p style="margin-left:30px;margin-top:15px">白名单，总是接受下列Email地址或域名<span style="color:#ccc">（多个Email之间以空格分隔）</span></p><p style="margin-left:30px"><textarea style="width:680px;height:35px;overflow:hidden" ng-model="ticketWebForm.whitelist" class="form-control"></textarea></p></td></tr></tbody></table></div><p style="padding-top:400px" class="margin_left20px line_solid_02"></p><div style="margin-left:195px;clear:both" class="padding_top30px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateFormRules();">更新</button></div></div><br><br><br><br></div>');e.put("source/views/ticket/setting.triggerTask.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>触发器</strong></p></div><oem-learn-more type="automations" description="触发器能帮您自动完成工单分配、提醒、转派、变更等操作，原理类似当满足某些条件执行某些动作。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/505" class="know-more"></oem-learn-more><div class="system-setting-search" style="top:84px;left:auto;right:0"><div class="input-group"><input type="text" class="form-control search-input" placeholder="搜索" ng-model="searchKey" ng-enter="searchChannel()"> <span class="input-group-addon" style="cursor:pointer;color:#ccc" ng-click="searchChannel()" ng-style="(searchKey!=null&amp;&amp;searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span> <i class="iconfont delete-search-icon" ng-show="searchKey && oldSearchKey" ng-click="cancelSearch()">&#xe711;</i></div><a class="btn btn-default" href="javascript:void(0)" ng-click="addTriggerTask(0,\'add\',false);">添加触发器</a></div><ul class="nav-list clearfix"><li has-permissions="ticket_setting_ticket_trigger" ng-click="goDetail(\'ticket\')" ui-sref="system_setting.triggerTask.ticket" ui-sref-active="active">工单触发器</li><li has-permissions="chat_edit_trigger" ng-click="goDetail(\'webchat\')" ui-sref="system_setting.triggerTask.webchat" ui-sref-active="active">会话触发器</li></ul><div ui-view></div></div>');e.put("source/views/ticket/setting.triggerTask.ticket.edit.html",'<style type="text/css">.setting-auto tr{height:40px}.setting-auto select[disabled]{background-color:#F0F0F0;color:#C6C6C6;border:1px solid #BEBEBE;opacity:1;-webkit-box-shadow:inset 0 1px 0 0 rgba(140,140,140,1);-moz-box-shadow:inset 0 1px 0 0 rgba(140,140,140,1);box-shadow:inset 0 1px 0 0 rgba(140,140,140,1)}.datepicker-wrap .dropdown-menu{width:300px}.tip{color:#999;margin:5px 0}</style><div style="width:900px"><div class="setting-head-common"><div class="nav-title"><a ng-click="backTrigger();">触发器</a> 》 <span ng-if="!$stateParams.id || $stateParams.id==0">添加工单触发器 </span><span ng-if="$stateParams.id>0">{{triggerTask.name}}</span></div><oem-learn-more type="automations_edit" description="触发器能帮您自动完成工单分配、提醒、转派、变更等操作，原理类似当满足某些条件执行某些动作。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/783" class="know-more"></oem-learn-more></div><div class="margin_left20px"><div class="padding_top10px padding_bottom10px form-inline"><label class="margin_right35px size14">触发器名称*</label><input class="size14 form-control" maxlength="32" ng-model="triggerTask.name" placeholder="请输入触发器名称" style="width:300px"></div></div><div class="margin_left20px"><div class="padding_top10px padding_bottom10px form-inline"><label class="margin_right35px size14">触发器类型*</label><select class="size14 form-control" disabled="disabled" style="width:300px"><option value="ticket" selected="selected">工单触发器</option></select></div></div><div class="tryu margin_left20px margin_top20px w810" style="min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>符合下列 所有 条件：</strong></p></td></tr><tr ng-repeat="andCondition in andConditions track by $index"><td class="padding_left40px padding_right30px w230"><select ng-change="conditionChange(\'and\',$index,this)" class="size13 form-control w230" ng-options="andOption.value as andOption.option for andOption in andConditionOptions" ng-model="andCondition.attribute"></select></td><td class="padding_right30px w100"><select ng-disabled="andCondition.edit_able===0" ng-show="andCondition.attribute!=\'0\' && andCondition.attribute!=\'-1\'" class="size13 form-control w100" ng-options="compare.value as compare.option for compare in andCondition.compareOptions" ng-model="andCondition.compare"></select></td><td class="w320"><select ng-disabled="andCondition.edit_able===0" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'select\'&& andCondition.attribute !=\'priority\'" class="size13 form-control w320" ng-options="valueOption.value as valueOption.option for valueOption in andCondition.valueOptions" ng-model="andCondition.value"></select><ticket-priority-select disabled="andCondition.edit_able" width="w320" ng-if="andCondition.attribute!=\'0\' && andCondition.attribute==\'priority\'" selectedpriority="andCondition.value"></ticket-priority-select><via-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'via\'" selectedchannel="andCondition.value.channel" selectedtype="andCondition.value.viaType" selectedvia="andCondition.value.via" style="position:relative;top:-2px;margin:3px 0"></via-select><service-catalog-select disabled="andCondition.edit_able" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'serviceCatalog\'" selectedservicecatalog="andCondition.value" style="margin:3px 0" single-line="true"></service-catalog-select><engineer-select hascurrentengineer="true" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'engineer\'" selectedengineer="andCondition.engineer" selectedservicedesk="andCondition.engineerDesk" style="margin:3px 0" single-line="true"></engineer-select><service-desk-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'serviceDesk\'" selectedservicedesk="andCondition.value"></service-desk-select><user-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'requester\'" unable-add-user="true" selecteduser="andCondition.value"></user-select><user-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'user\'" unable-add-user="true" usertype="\'all\'" selecteduser="andCondition.value"></user-select><user-group-mutil-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'userGroup\'" usergroups="andCondition.value"></user-group-mutil-select><ticket-label-autocomplete ng-if="andCondition.attribute!=\'0\' && andCondition.valueType==\'autocomplete\'" disabled="andCondition.edit_able" subject="andCondition.value"></ticket-label-autocomplete><input ng-disabled="andCondition.edit_able===0" type="text" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'text\'" class="size13 form-control w320" ng-model="andCondition.value"> <input ng-disabled="andCondition.edit_able===0" type="number" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'number\'" class="size13 form-control w320" ng-model="andCondition.value" style="text-align:center"> <input lay-date id="{{\'layDate\'+andCondition.id+$index}}" ng-disabled="andCondition.edit_able===0" type="text" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'date_time\'" format="YYYY/MM/DD hh:mm:ss" class="size13 form-control w320" ng-model="andCondition.value"><div class="input-group w320 datepicker-wrap" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'date\'"><input ng-disabled="andCondition.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'andCondition\')" is-open="andCondition.start" ng-model="andCondition.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="andCondition.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'andCondition\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><cascade-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'cascade_options\'" category="auto" ticket-field="andCondition.valueOptions" single-line="true"></cascade-options><multi-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'multi_options\'" category="auto" ticket-field="andCondition.valueOptions"></multi-options><radio-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'options\'" category="auto" ticket-field="andCondition.valueOptions" single-line="true"></radio-options></td><td class="padding_left15px"><span style="color:#e04006;cursor:pointer" class="size30" ng-click="deleteCondition(\'and\',$index);">-</span></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addNewCondition(\'and\');"><strong>+</strong></span></td></tr></tbody></table></div><div class="tryu margin_left20px margin_top20px w810" style="min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>符合下列 任何条件：</strong></p></td></tr><tr ng-repeat="orCondition in orConditions track by $index"><td class="padding_left40px padding_right30px w230"><select class="size13 form-control w230" ng-change="conditionChange(\'or\',$index)" ng-options="orCondition.value as orCondition.option for orCondition in orConditionOptions" ng-model="orCondition.attribute"></select></td><td class="padding_right30px w100"><select ng-disabled="orCondition.edit_able===0" ng-show="orCondition.attribute!=\'0\' && orCondition.attribute!=\'-1\'" class="size13 form-control w100" ng-options="compare.value as compare.option for compare in orCondition.compareOptions" ng-model="orCondition.compare"></select></td><td class="w320"><select ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'select\' && orCondition.attribute!=\'priority\'" class="size13 form-control w320" ng-options="valueOption.value as valueOption.option for valueOption in orCondition.valueOptions" ng-model="orCondition.value"></select><ticket-priority-select disabled="orCondition.edit_able" width="w320" ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'select\' &&  orCondition.attribute==\'priority\'" selectedpriority="orCondition.value"></ticket-priority-select><via-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'via\'" selectedchannel="orCondition.value.channel" selectedtype="orCondition.value.viaType" selectedvia="orCondition.value.via" style="position:relative;top:-2px;margin:3px 0"></via-select><service-catalog-select disabled="orCondition.edit_able" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'serviceCatalog\'" selectedservicecatalog="orCondition.value" style="margin:3px 0"></service-catalog-select><engineer-select hascurrentengineer="true" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'engineer\'" selectedengineer="orCondition.engineer" selectedservicedesk="orCondition.engineerDesk" style="margin:3px 0"></engineer-select><service-desk-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'serviceDesk\'" selectedservicedesk="orCondition.value"></service-desk-select><user-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'requester\'" unable-add-user="true" selecteduser="orCondition.value"></user-select><user-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'user\'" unable-add-user="true" usertype="\'all\'" selecteduser="orCondition.value"></user-select><user-group-mutil-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'userGroup\'" usergroups="orCondition.value"></user-group-mutil-select><ticket-label-autocomplete ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'autocomplete\'" disabled="orCondition.edit_able" subject="orCondition.value"></ticket-label-autocomplete><input ng-disabled="orCondition.edit_able===0" type="text" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'text\'" class="size13 form-control w320" ng-model="orCondition.value"> <input lay-date id="{{\'layDate\'+orCondition.id+$index}}" type="text" ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'date_time\'" format="YYYY/MM/DD hh:mm:ss" class="size13 form-control w320" ng-model="orCondition.value"><div class="input-group w320 datepicker-wrap" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'date\'"><input ng-disabled="orCondition.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'orCondition\')" is-open="orCondition.start" ng-model="orCondition.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="orCondition.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'orCondition\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><cascade-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'cascade_options\'" category="auto" ticket-field="orCondition.valueOptions"></cascade-options><multi-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'multi_options\'" category="auto" ticket-field="orCondition.valueOptions"></multi-options><radio-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'options\'" category="auto" ticket-field="orCondition.valueOptions"></radio-options></td><td class="padding_left15px"><span style="color:#e04006;cursor:pointer" class="size30" ng-click="deleteCondition(\'or\',$index);">-</span></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addNewCondition(\'or\');"><strong>+</strong></span></td></tr></tbody></table></div><div class="tryu margin_left20px margin_top20px w810" style="min-height:184px"><table class="setting-auto" style="width:100%"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>执行以下操作:</strong></p></td></tr><tr ng-repeat="operation in operations track by $index"><td class="padding_left40px"><span style="color:#e04006;cursor:pointer;position:relative;float:right;top:5px;margin-right:10px" class="size30" ng-click="deleteCondition(\'operation\',$index);">-</span><select class="size13 form-control" style="width:230px;display:inline-block;margin-right:30px" ng-change="conditionChange(\'operation\',$index,this)" ng-options="operationOption.value as operationOption.option for operationOption in operation.options" ng-model="operation.attribute"></select><div style="width:230px;display:inline-block;position:relative" ng-if="operation.valueType != \'date_to_date\'"><select ng-disabled="operation.edit_able===0" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'select\'&& operation.attribute!=\'priority\'" class="size13 form-control" ng-model="operation.value" ng-options="valueOption.value as valueOption.option for valueOption in operation.valueOptions"></select><ticket-priority-select disabled="operation.edit_able" width="w300" ng-if="operation.attribute!=\'0\' && operation.valueType==\'select\' && operation.attribute==\'priority\'" selectedpriority="operation.value"></ticket-priority-select><service-catalog-select disabled="operation.edit_able" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'serviceCatalog\'" selectedservicecatalog="operation.value" style="position:relative;top:-2px;margin:3px 0"></service-catalog-select><engineer-select hascurrentengineer="true" ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'engineer\')" selectedengineer="operation.engineer" selectedservicedesk="operation.engineerDesk" style="position:relative;top:-2px;margin:3px 0"></engineer-select><notice-user-select ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'informUser\')" selected-item="operation.value.user" style="position:relative;top:-2px;margin:3px 0"></notice-user-select><service-desk-select ng-if="operation.attribute!=\'0\'&&operation.valueType==\'informUserGroup\'" selectedservicedesk="operation.value.serviceDesk"></service-desk-select><service-desk-select ng-if="operation.attribute!=\'0\'&&operation.valueType==\'serviceDesk\'" selectedservicedesk="operation.value"></service-desk-select><ticket-cc-input ng-if="operation.attribute!=\'0\'&&operation.valueType==\'addCC\'" ccs="operation.value" who="ticket" whoid="" usergroup="" style="position:relative;top:12px" assignable="true" hidetomy="true"></ticket-cc-input><input ng-disabled="operation.edit_able===0" type="text" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'text\'" class="size13 form-control w230" ng-model="operation.value" style="display:inline-block"> <input lay-date id="{{\'layDate\'+operation.id+$index}}" type="text" ng-disabled="operation.edit_able===0" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'date_time\'" format="YYYY/MM/DD hh:mm:ss" class="size13 form-control w230" ng-model="operation.value" style="display:inline-block"><cascade-options ng-if="operation.attribute!=\'0\'&&operation.valueType==\'cascade_options\'" category="auto" ticket-field="operation.valueOptions"></cascade-options><multi-options ng-if="operation.attribute!=\'0\'&&operation.valueType==\'multi_options\'" category="auto" ticket-field="operation.valueOptions"></multi-options><radio-options ng-if="operation.attribute!=\'0\'&&operation.valueType==\'options\'" category="auto" ticket-field="operation.valueOptions"></radio-options><div class="input-group w320 datepicker-wrap" style="position:relative" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'date\'"><input ng-disabled="operation.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'operation\')" is-open="operation.start" ng-model="operation.value" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" style="position:absolute;top:-22px"> <span class="input-group-btn" style="position:absolute;top:-22px;left:230px"><button ng-disabled="operation.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'operation\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><select ng-show="operation.attribute!=\'0\'&&operation.valueType==\'checkbox\'" class="size13 form-control w100" ng-options="compare.value as compare.option for compare in operation.compareOptions" ng-model="operation.compare"></select></div><div style="display:inline-block;width:430px;float:right;overflow-wrap:hidden" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'date_to_date\'"><div style="width:180px;display:inline-block;float:left" class="datepicker-wrap"><div class="input-group input-size-middle date-input"><input ng-disabled="operation.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,this,\'operation\',\'startTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="operation.startTimeForm" ng-model="operation.startTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" max-date="operation.endTime"><label class="input-group-btn"><button ng-disabled="operation.edit_able===0" class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,this,\'operation\',\'startTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div style="width:30px;text-align:center;line-height:34px;display:inline-block;float:left"><p>至</p></div><div style="width:180px;display:inline-block;float:left" class="datepicker-wrap"><div class="input-group input-size-middle date-input"><input ng-disabled="operation.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,this,\'operation\',\'endTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="operation.endTimeForm" ng-model="operation.endTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" min-date="operation.startTime"><label class="input-group-btn"><button ng-disabled="operation.edit_able===0" class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,this,\'operation\',\'endTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div><div style="padding-top:10px"><ticket-comment-select ng-if="operation.attribute!=\'0\'&&operation.valueType==\'ticketComment\'" ticketcomment="operation.value"></ticket-comment-select></div><div style="margin-bottom:10px" ng-if="operation.attribute==\'deleteTicket\' && operation.value != \'无效信息\' && operation.value != \'重复信息\' && operation.value != \'恶意骚扰\' && operation.value"><p style="margin:10px 0">删除原因</p><textarea ng-model="operation.reason" maxlength="200" style="width:650px;height:120px" class="form-control"></textarea></div><div ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'informUser\'||operation.valueType==\'informUserGroup\')" style="margin-bottom:10px"><p style="margin:10px 0">邮件主题</p><input type="text" class="size13 form-control w230" ng-model="operation.value.title" maxlength="64" ng-keyup="checkCharCount(this)"><p style="margin:10px 0">邮件内容</p><textarea style="width:650px;height:120px" class="form-control" ng-model="operation.value.content" maxlength="512" ng-keyup="checkCharCount(this)"></textarea><p class="tip">工单相关内容，主题：${subject!} ，处理人：${engineer!} ，客户：${customer!}，最新回复：${comment!}</p><p class="tip">如需通知内容中包含对应内容，只需将该变量写入邮件内容中适当位置即可。</p></div><div ng-if="operation.attribute!=\'0\'&&operation.valueType==\'informEvaluate\'" style="margin-bottom:10px"><p style="margin:10px 0">评价内容</p><textarea style="width:650px;height:120px" class="form-control" maxlength="200" ng-keyup="checkCharCount(this)"></textarea></div><p class="tip" style="line-height:normal" ng-if="operation.attribute==\'status\' && operation.value!=\'deleted\'">提醒：该条件只有在工单处理人是客服时才会执行</p></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addNewCondition(\'operation\');"><strong>+</strong></span></td></tr></tbody></table></div><ewei-permissions ng-if="(rolePermissions && type !== \'add\') || type === \'add\'"></ewei-permissions><div class="margin_left20px padding_top55px line_solid_02"></div><div class="padding_top25px padding_left20px margin_bottom120px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="backTrigger()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="saveTriggerTask()" ng-disabled="isClick">更新</button></div></div>');e.put("source/views/ticket/setting.triggerTask.ticket.html",'<div class="channel-box"><div class="table-box" style="margin:0"><div class="table-responsive"><table class="table"><thead><tr><th style="width:500px;text-align:left">触发器名称(<span ng-bind="triggerTasksLen"></span>)</th></tr></thead><tbody ui-sortable="sortableOptions" ng-model="triggerTasks"><tr ng-if="triggerTasksLen==0"><td colspan="2">触发器为空</td></tr><tr ng-repeat="triggerTask in triggerTasks track by triggerTask.id" ng-show="triggerTask.accessed" id="{{triggerTask.type}}_{{triggerTask.id}}" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:500px;padding-top:12px"><a class="channel-name" ng-bind="triggerTask.name" ng-click="toEditTrigger(triggerTask.id,\'eidt\',triggerTask.isDefault);"></a></td><td class="text-right"><span ng-if="!triggerTask.isDefault" class="margin_left8px margin_right8px pull-right"><a href="javascript:void(0);" ng-click="deleteTicketTriggerTask($index,triggerTask)">删除</a> </span><span ng-if="!triggerTask.isDefault" class="pull-right">|</span> <a href="javascript:void(0);" class="margin_left8px margin_right8px pull-right" ng-click="toEditTrigger(triggerTask.id,\'eidt\',triggerTask.isDefault);">编辑</a> <span class="pull-right">|</span> <a href="javascript:void(0);" class="margin_left8px margin_right8px pull-right" ng-click="toEditTrigger(triggerTask.id,\'copy\',false);">克隆</a> <span class="pull-right">|</span> <a href="javascript:void(0)" class="margin_right8px margin_left8px myHandle pull-right" style="cursor:move">拖动排序</a> <span class="pull-right" ng-if="!triggerTask.isDefault">|</span> <span class="margin_right8px margin_left8px pull-right" ng-if="!triggerTask.isDefault"><a href="javascript:void(0);" ng-click="toActivateTriggerTask($index,triggerTask,true)" ng-if="!triggerTask.active">激活</a> <a href="javascript:void(0);" ng-click="toActivateTriggerTask($index,triggerTask,false)" ng-if="triggerTask.active">取消激活</a></span></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.triggerTask.webchat.edit.html",'<style type="text/css">.setting-auto tr{height:40px}.setting-auto select[disabled]{background-color:#F0F0F0;color:#C6C6C6;border:1px solid #BEBEBE;opacity:1;-webkit-box-shadow:inset 0 1px 0 0 rgba(140,140,140,1);-moz-box-shadow:inset 0 1px 0 0 rgba(140,140,140,1);box-shadow:inset 0 1px 0 0 rgba(140,140,140,1)}.datepicker-wrap .dropdown-menu{width:300px}.tip{color:#999;margin:5px 0}</style><div style="width:900px"><div class="setting-head-common"><div class="nav-title"><a ng-click="backTrigger();">触发器</a> 》 <span ng-if="!$stateParams.id || $stateParams.id==0">添加会话触发器 </span><span ng-if="$stateParams.id>0">{{triggerTask.name}}</span></div><oem-learn-more type="automations_edit" description="触发器能帮您自动完成工单分配、提醒、转派、变更等操作，原理类似当满足某些条件执行某些动作。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/783" class="know-more"></oem-learn-more></div><div class="margin_left20px"><div class="padding_top10px padding_bottom10px form-inline"><label class="margin_right35px size14">触发器名称*</label><input class="size14 form-control" maxlength="32" ng-model="triggerTask.name" placeholder="请输入触发器名称" style="width:300px"></div></div><div class="margin_left20px"><div class="padding_top10px padding_bottom10px form-inline"><label class="margin_right35px size14">触发器类型*</label><select class="size14 form-control" disabled="disabled" style="width:300px"><option value="ticket" selected="selected">会话触发器</option></select></div></div><div class="tryu margin_left20px margin_top20px w810" style="min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>符合下列 所有 条件：</strong></p></td></tr><tr ng-repeat="andCondition in andConditions track by $index"><td class="padding_left40px padding_right30px w230"><select ng-change="conditionChange(\'and\',$index,this)" class="size13 form-control w230" ng-options="andOption.value as andOption.option for andOption in andConditionOptions" ng-model="andCondition.attribute"></select></td><td class="padding_right30px w100"><select ng-disabled="andCondition.edit_able===0" ng-show="andCondition.attribute!=\'0\' && andCondition.attribute!=\'-1\'" class="size13 form-control w100" ng-options="compare.value as compare.option for compare in andCondition.compareOptions" ng-model="andCondition.compare"></select></td><td class="w320"><select ng-disabled="andCondition.edit_able===0" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'select\'&& andCondition.attribute !=\'priority\'" class="size13 form-control w320" ng-options="valueOption.value as valueOption.option for valueOption in andCondition.valueOptions" ng-model="andCondition.value"></select><ticket-priority-select disabled="andCondition.edit_able" width="w320" ng-if="andCondition.attribute!=\'0\' && andCondition.attribute==\'priority\'" selectedpriority="andCondition.value"></ticket-priority-select><via-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'via\'" selectedchannel="andCondition.value.channel" selectedtype="andCondition.value.viaType" selectedvia="andCondition.value.via" style="position:relative;top:-2px;margin:3px 0"></via-select><service-catalog-select disabled="andCondition.edit_able" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'serviceCatalog\'" selectedservicecatalog="andCondition.value" style="margin:3px 0" single-line="true"></service-catalog-select><engineer-select hascurrentengineer="true" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'engineer\'" selectedengineer="andCondition.engineer" selectedservicedesk="andCondition.engineerDesk" style="margin:3px 0" single-line="true"></engineer-select><service-desk-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'serviceDesk\'" selectedservicedesk="andCondition.value"></service-desk-select><user-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'requester\'" unable-add-user="true" selecteduser="andCondition.value"></user-select><user-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'user\'" unable-add-user="true" usertype="\'all\'" selecteduser="andCondition.value"></user-select><user-group-mutil-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'userGroup\'" usergroups="andCondition.value"></user-group-mutil-select><input ng-disabled="andCondition.edit_able===0" type="text" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'text\'" class="size13 form-control w320" ng-model="andCondition.value"> <input ng-disabled="andCondition.edit_able===0" type="number" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'number\'" class="size13 form-control w320" ng-model="andCondition.value" style="text-align:center"> <input lay-date id="{{\'layDate\'+andCondition.id+$index}}" ng-disabled="andCondition.edit_able===0" type="text" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'date_time\'" format="YYYY/MM/DD hh:mm:ss" class="size13 form-control w320" ng-model="andCondition.value"><div class="input-group w320 datepicker-wrap" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'date\'"><input ng-disabled="andCondition.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'andCondition\')" is-open="andCondition.start" ng-model="andCondition.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="andCondition.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'andCondition\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><cascade-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'cascade_options\'" category="auto" ticket-field="andCondition.valueOptions" single-line="true"></cascade-options><multi-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'multi_options\'" category="auto" ticket-field="andCondition.valueOptions"></multi-options><radio-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'options\'" category="auto" ticket-field="andCondition.valueOptions" single-line="true"></radio-options></td><td class="padding_left15px"><span style="color:#e04006;cursor:pointer" class="size30" ng-click="deleteCondition(\'and\',$index);">-</span></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addNewCondition(\'and\');"><strong>+</strong></span></td></tr></tbody></table></div><div class="tryu margin_left20px margin_top20px w810" style="min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>符合下列 任何条件：</strong></p></td></tr><tr ng-repeat="orCondition in orConditions track by $index"><td class="padding_left40px padding_right30px w230"><select class="size13 form-control w230" ng-change="conditionChange(\'or\',$index)" ng-options="orCondition.value as orCondition.option for orCondition in orConditionOptions" ng-model="orCondition.attribute"></select></td><td class="padding_right30px w100"><select ng-disabled="orCondition.edit_able===0" ng-show="orCondition.attribute!=\'0\' && orCondition.attribute!=\'-1\'" class="size13 form-control w100" ng-options="compare.value as compare.option for compare in orCondition.compareOptions" ng-model="orCondition.compare"></select></td><td class="w320"><select ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'select\' && orCondition.attribute!=\'priority\'" class="size13 form-control w320" ng-options="valueOption.value as valueOption.option for valueOption in orCondition.valueOptions" ng-model="orCondition.value"></select><ticket-priority-select disabled="orCondition.edit_able" width="w320" ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'select\' &&  orCondition.attribute==\'priority\'" selectedpriority="orCondition.value"></ticket-priority-select><via-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'via\'" selectedchannel="orCondition.value.channel" selectedtype="orCondition.value.viaType" selectedvia="orCondition.value.via" style="position:relative;top:-2px;margin:3px 0"></via-select><service-catalog-select disabled="orCondition.edit_able" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'serviceCatalog\'" selectedservicecatalog="orCondition.value" style="margin:3px 0"></service-catalog-select><engineer-select hascurrentengineer="true" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'engineer\'" selectedengineer="orCondition.engineer" selectedservicedesk="orCondition.engineerDesk" style="margin:3px 0"></engineer-select><service-desk-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'serviceDesk\'" selectedservicedesk="orCondition.value"></service-desk-select><user-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'requester\'" unable-add-user="true" selecteduser="orCondition.value"></user-select><user-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'user\'" unable-add-user="true" usertype="\'all\'" selecteduser="orCondition.value"></user-select><user-group-mutil-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'userGroup\'" usergroups="orCondition.value"></user-group-mutil-select><input ng-disabled="orCondition.edit_able===0" type="text" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'text\'" class="size13 form-control w320" ng-model="orCondition.value"> <input lay-date id="{{\'layDate\'+orCondition.id+$index}}" type="text" ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'date_time\'" format="YYYY/MM/DD hh:mm:ss" class="size13 form-control w320" ng-model="orCondition.value"><div class="input-group w320 datepicker-wrap" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'date\'"><input ng-disabled="orCondition.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'orCondition\')" is-open="orCondition.start" ng-model="orCondition.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="orCondition.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'orCondition\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><cascade-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'cascade_options\'" category="auto" ticket-field="orCondition.valueOptions"></cascade-options><multi-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'multi_options\'" category="auto" ticket-field="orCondition.valueOptions"></multi-options><radio-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'options\'" category="auto" ticket-field="orCondition.valueOptions"></radio-options></td><td class="padding_left15px"><span style="color:#e04006;cursor:pointer" class="size30" ng-click="deleteCondition(\'or\',$index);">-</span></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addNewCondition(\'or\');"><strong>+</strong></span></td></tr></tbody></table></div><div class="tryu margin_left20px margin_top20px w810" style="min-height:184px"><table class="setting-auto" style="width:100%"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>执行以下操作:</strong></p></td></tr><tr ng-repeat="operation in operations track by $index"><td class="padding_left40px"><span style="color:#e04006;cursor:pointer;position:relative;float:right;top:5px;margin-right:10px" class="size30" ng-click="deleteCondition(\'operation\',$index);">-</span><select class="size13 form-control" style="width:230px;display:inline-block;margin-right:30px" ng-change="conditionChange(\'operation\',$index,this)" ng-options="operationOption.value as operationOption.option for operationOption in operation.options" ng-model="operation.attribute"></select><div style="width:230px;display:inline-block;position:relative" ng-if="operation.valueType != \'date_to_date\'"><select ng-disabled="operation.edit_able===0" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'select\'&& operation.attribute!=\'priority\'" class="size13 form-control" ng-model="operation.value" ng-options="valueOption.value as valueOption.option for valueOption in operation.valueOptions"></select><ticket-priority-select disabled="operation.edit_able" width="w300" ng-if="operation.attribute!=\'0\' && operation.valueType==\'select\' && operation.attribute==\'priority\'" selectedpriority="operation.value"></ticket-priority-select><service-catalog-select disabled="operation.edit_able" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'serviceCatalog\'" selectedservicecatalog="operation.value" style="position:relative;top:-2px;margin:3px 0"></service-catalog-select><engineer-select hascurrentengineer="true" ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'engineer\')" selectedengineer="operation.engineer" selectedservicedesk="operation.engineerDesk" style="position:relative;top:-2px;margin:3px 0"></engineer-select><notice-user-select ng-if="operation.attribute!=\'0\'&&(operation.valueType==\'informUser\')" selected-item="operation.value.user" style="position:relative;top:-2px;margin:3px 0"></notice-user-select><service-desk-select ng-if="operation.attribute!=\'0\'&&operation.valueType==\'informUserGroup\'" selectedservicedesk="operation.value.serviceDesk"></service-desk-select><service-desk-select ng-if="operation.attribute!=\'0\'&&operation.valueType==\'serviceDesk\'" selectedservicedesk="operation.value"></service-desk-select><ticket-cc-input ng-if="operation.attribute!=\'0\'&&operation.valueType==\'addCC\'" ccs="operation.value" who="ticket" whoid="" usergroup="" style="position:relative;top:12px" assignable="true" hidetomy="true"></ticket-cc-input><input ng-disabled="operation.edit_able===0" type="text" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'text\'" class="size13 form-control w230" ng-model="operation.value" style="display:inline-block"> <input lay-date id="{{\'layDate\'+operation.id+$index}}" type="text" ng-disabled="operation.edit_able===0" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'date_time\'" format="YYYY/MM/DD hh:mm:ss" class="size13 form-control w230" ng-model="operation.value" style="display:inline-block"><cascade-options ng-if="operation.attribute!=\'0\'&&operation.valueType==\'cascade_options\'" category="auto" ticket-field="operation.valueOptions"></cascade-options><multi-options ng-if="operation.attribute!=\'0\'&&operation.valueType==\'multi_options\'" category="auto" ticket-field="operation.valueOptions"></multi-options><radio-options ng-if="operation.attribute!=\'0\'&&operation.valueType==\'options\'" category="auto" ticket-field="operation.valueOptions"></radio-options><div class="input-group w320 datepicker-wrap" style="position:relative" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'date\'"><input ng-disabled="operation.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'operation\')" is-open="operation.start" ng-model="operation.value" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" style="position:absolute;top:-22px"> <span class="input-group-btn" style="position:absolute;top:-22px;left:230px"><button ng-disabled="operation.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'operation\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><select ng-show="operation.attribute!=\'0\'&&operation.valueType==\'checkbox\'" class="size13 form-control w100" ng-options="compare.value as compare.option for compare in operation.compareOptions" ng-model="operation.compare"></select></div><div style="display:inline-block;width:430px;float:right;overflow-wrap:hidden" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'date_to_date\'"><div style="width:180px;display:inline-block;float:left" class="datepicker-wrap"><div class="input-group input-size-middle date-input"><input ng-disabled="operation.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,this,\'operation\',\'startTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="operation.startTimeForm" ng-model="operation.startTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" max-date="operation.endTime"><label class="input-group-btn"><button ng-disabled="operation.edit_able===0" class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,this,\'operation\',\'startTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div style="width:30px;text-align:center;line-height:34px;display:inline-block;float:left"><p>至</p></div><div style="width:180px;display:inline-block;float:left" class="datepicker-wrap"><div class="input-group input-size-middle date-input"><input ng-disabled="operation.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,this,\'operation\',\'endTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="operation.endTimeForm" ng-model="operation.endTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" min-date="operation.startTime"><label class="input-group-btn"><button ng-disabled="operation.edit_able===0" class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,this,\'operation\',\'endTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div><div style="padding-top:10px" ng-if="operation.attribute!=\'0\'&&operation.valueType==\'chatComment\'"><div class="form-group" style="padding:5px 0;width:496px"><div class="row"><div class="col-sm-12" style="margin-top:15px"><textarea ng-model="operation.value.value" class="size13 form-control" style="height:120px;resize:none" maxlength="10000" placeholder="回复文本内容"></textarea></div></div></div></div></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addNewCondition(\'operation\');"><strong>+</strong></span></td></tr></tbody></table></div><ewei-permissions ng-if="(rolePermissions && type !== \'add\') || type === \'add\'"></ewei-permissions><div class="margin_left20px padding_top55px line_solid_02"></div><div class="padding_top25px padding_left20px margin_bottom120px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="backTrigger()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="saveTriggerTask()" ng-disabled="isClick">更新</button></div></div>');e.put("source/views/ticket/setting.triggerTask.webchat.html",'<div class="channel-box"><div class="table-box" style="margin:0"><div class="table-responsive"><table class="table"><thead><tr><th style="width:500px;text-align:left">触发器名称(<span ng-bind="triggerTasksLen"></span>)</th></tr></thead><tbody ui-sortable="sortableOptions" ng-model="triggerTasks"><tr ng-if="triggerTasksLen==0"><td colspan="2">触发器为空</td></tr><tr ng-repeat="triggerTask in triggerTasks track by triggerTask.id" ng-show="triggerTask.accessed" id="{{triggerTask.type}}_{{triggerTask.id}}" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:500px;padding-top:12px"><a class="channel-name" ng-bind="triggerTask.name" ng-click="toEditTrigger(triggerTask.id,\'eidt\',triggerTask.isDefault);"></a></td><td class="text-right"><span ng-if="!triggerTask.isDefault" class="margin_left8px margin_right8px pull-right"><a href="javascript:void(0);" ng-click="deleteTicketTriggerTask($index,triggerTask)">删除</a> </span><span ng-if="!triggerTask.isDefault" class="pull-right">|</span> <a href="javascript:void(0);" class="margin_left8px margin_right8px pull-right" ng-click="toEditTrigger(triggerTask.id,\'eidt\',triggerTask.isDefault);">编辑</a> <span class="pull-right">|</span> <a href="javascript:void(0);" class="margin_left8px margin_right8px pull-right" ng-click="toEditTrigger(triggerTask.id,\'copy\',false);">克隆</a> <span class="pull-right">|</span> <a href="javascript:void(0)" class="margin_right8px margin_left8px myHandle pull-right" style="cursor:move">拖动排序</a> <span class="pull-right" ng-if="!triggerTask.isDefault">|</span> <span class="margin_right8px margin_left8px pull-right" ng-if="!triggerTask.isDefault"><a href="javascript:void(0);" ng-click="toActivateTriggerTask($index,triggerTask,true)" ng-if="!triggerTask.active">激活</a> <a href="javascript:void(0);" ng-click="toActivateTriggerTask($index,triggerTask,false)" ng-if="triggerTask.active">取消激活</a></span></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.via_email.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>邮件转工单</strong></p><oem-learn-more type="via_email" description="配置邮件收件箱，公布给客户，接收客户发送的邮件，自动转为工单。工单的回复自动发送给客户，客户通过邮件回复工单。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/346" class="size13"></oem-learn-more></div><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:200px">渠道名称</th><th class="text-center">请求次数</th><th class="text-center">请求人数</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="toEditViaEmail(0,\'add\')">+ 添加渠道</a></th></tr></thead><tbody><tr ng-if="viaEmailList.length==0"><td colspan="4">还没有邮件渠道</td></tr><tr bindonce ng-repeat="viaEmail in viaEmailList | orderBy:\'enable\':true" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:400px;padding-top:12px"><a ng-bind="viaEmail.name" ng-if="viaEmail.enable" class="channel-name" ng-click="toEditViaEmail(viaEmail.id,\'modify\')"></a> <span ng-bind="viaEmail.name" ng-if="!viaEmail.enable" class="channel-name"></span><div style="display:inline-block;overflow:hidden"><span class="verify" ng-if="viaEmail.verified && (viaEmail.enable===true || viaEmail.enable===undefined)">已验证</span> <span class="no-verify" ng-if="!viaEmail.verified && (viaEmail.enable===true || viaEmail.enable===undefined)">未验证</span> &emsp;<a href="http://help.ewei.com/article_717" target="_blank" ng-if="!viaEmail.verified && (viaEmail.enable===true || viaEmail.enable===undefined)" style="color:#1e8cce">如何验证？</a></div></td><td style="text-align:center;width:120px"><span ng-if="viaEmail.enable===true || viaEmail.enable===undefined">{{viaEmail.ticketCount}}</span> <span ng-if="viaEmail.enable===false">-</span></td><td style="text-align:center;width:120px"><span ng-if="viaEmail.enable===true || viaEmail.enable===undefined">{{viaEmail.requesterCount}}</span> <span ng-if="viaEmail.enable===false">-</span></td><td class="text-right"><a ng-if="viaEmail.enable===true || viaEmail.enable===undefined" ng-click="toEditViaEmail(viaEmail.id,\'modify\')">编辑</a> <a ng-if="viaEmail.enable===false" ng-click="enabled(this,true)">启用</a>&emsp;|&emsp; <a ng-if="viaEmail.enable===false" ng-click="deleteViaEmail(viaEmail)">删除</a> <a ng-if="viaEmail.enable===true || viaEmail.enable===undefined" ng-click="enabled(this,false)">停用</a></td></tr></tbody></table><div class="text-center ng-table-pager"><ul class="pagination-sm center" uib-pagination total-items="allCount" ng-model="currentPage" items-per-page="pageSize" max-size="10" boundary-link-numbers="true" rotate="false" ng-change="reload()" previous-text="&lt;" next-text="&gt;"></ul></div></div></div></div>');e.put("source/views/ticket/setting.via_email_edit.html",'<style>#viaEmailForm{color:#666}.tabs-box{display:block;height:36px;border-bottom:1px solid #E4E4E4;margin:0 20px;margin-top:20px}.tabs-box .tab{width:120px;height:36px;border:1px solid #E4E4E4;padding:5px 10px;margin:0 0 0 10px;text-align:center;line-height:28px;border-radius:0;cursor:pointer;color:#69C;display:inline-block;font-size:13px}.tabs-box .active{background-color:#fff;border-bottom:1px solid transparent;color:#000}.font-bold{font-weight:700}.breadcrumb{padding-bottom:0;margin-bottom:18px}.ewei-breadcrumb{font-size:16px;font-weight:600;background:0 0;padding-left:22px}.ewei-breadcrumb>li:not(:last-child) a{color:#2D8ECE}.ewei-breadcrumb>li+li a,.ewei-breadcrumb>li+li a:hover,.ewei-breadcrumb>li+li:visited{cursor:default;color:#666;text-shadow:initial;text-decoration:initial}.ewei-breadcrumb>li+li:before{padding:0 5px;content:"》";color:#666}</style><div style="max-width:900px"><form name="viaEmailForm" id="viaEmailForm" class="css-form" novalidate><div class="padding_top13px"><ol class="breadcrumb ewei-breadcrumb"><li><a href="#" ui-sref="system_setting.detail({uri:\'via_email\',settingType:\'ticket\'})">邮件转工单</a></li><li><a href="jvascript:void(0);">{{viaEmail.id?viaEmail.name:\'添加渠道\'}}</a></li></ol><oem-learn-more type="via_email_edit" description="配置邮件收件箱，公布给客户，接收客户发送的邮件，自动转为工单。工单的回复自动发送给客户，客户通过邮件回复工单。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/346" class="margin_left20px size13"></oem-learn-more></div><section class="tabs-box"><span class="tab" ui-sref-active="active" ui-sref="system_setting.via_email_edit.email_address" onclick="_hmt.push([\'_trackEvent\',\'邮件渠道\',\'编辑或添加邮件渠道-Email地址\'])">Email地址</span> <span class="tab" ng-if="viaEmail.id" name="viaEmailtab" id="viaEmailtab2" ui-sref-active="active" ui-sref="system_setting.via_email_edit.deliver_rule" onclick="_hmt.push([\'_trackEvent\',\'邮件渠道\',\'编辑或添加邮件渠道-工单投递规则\'])">工单投递规则</span></section><div ui-view=""></div><input type="hidden" ng-model="viaEmail.id"></form></div>');e.put("source/views/ticket/setting.webchat_form.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>网页在线客服</strong></p><oem-learn-more type="webchat_form" description=" 添加在线客服渠道，发布在你的网页上，向客户提供网页在线交谈、远程协助、工单支持和FAQ自助等全方位的服务。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/354" class="size13"></oem-learn-more></div><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:330px">渠道名称</th><th class="text-center">请求次数</th><th class="text-center">请求人数</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="toEditWebchatForm(0,\'add\')">+ 添加渠道</a></th></tr></thead><tbody><tr ng-if="webChatForms.length==0"><td colspan="4">还没有网页在线客服渠道</td></tr><tr ng-repeat="chat in webChatForms | orderBy:\'active\':true" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:330px;padding-top:12px"><a ng-bind="chat.name" ng-if="chat.active" class="channel-name" ng-click="toEditWebchatForm(chat.id,\'modify\')"></a> <span ng-if="!chat.active" class="channel-name">{{::chat.name}}</span></td><td style="text-align:center;width:120px"><span ng-if="chat.active">{{::chat.ticketCount}}</span> <span ng-if="!chat.active">-</span></td><td style="text-align:center;width:120px"><span ng-if="chat.active">{{::chat.requesterCount}}</span> <span ng-if="!chat.active">-</span></td><td class="text-right"><a ng-if="chat.active" ng-click="toEditWebchatForm(chat.id,\'modify\')">编辑</a> <a ng-if="!chat.active" ng-click="enabled(chat,true)">启用</a>&emsp;|&emsp; <a ng-if="!chat.active" ng-click="deleteWebChatForm(chat)">删除</a> <a ng-if="chat.active" ng-click="enabled(chat,false)">停用</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.webchat_form_edit.html",'<style>table{width:744px;height:auto;border:solid #000 0}thead tr td{border-bottom:solid #000 1px}td.selected{background-color:#f8f8f8;border:solid #CCC 1px;cellspacing:0}.flagLinear{FILTER:progid:DXImageTransform.Microsoft.Gradient(gradientType=0,startColorStr=#000000,endColorStr={{webchatFormOutward.flagBackgroundColor}});background:-ms-linear-gradient(left,#000,{{webchatFormOutward.flagBackgroundColor}});background:-moz-linear-gradient(left,#000,{{webchatFormOutward.flagBackgroundColor}});background:-webkit-gradient(linear,0 0,0 100%,from(#000),to({{webchatFormOutward.flagBackgroundColor}}));background:-webkit-gradient(linear,0 0,0 100%,from(#000),to({{webchatFormOutward.flagBackgroundColor}}));background:-webkit-linear-gradient(left,#000,{{webchatFormOutward.flagBackgroundColor}});background:-o-linear-gradient(left,#000,{{webchatFormOutward.flagBackgroundColor}})}.webformfields{background-position:98% 1px;background-repeat:no-repeat}.active{font-weight:700;border-bottom:4px solid #1e8cce}.not-sortable{font-weight:700}.navChecked{font-weight:700;color:#333}.checked{background:url(../../../source/images/check.png) no-repeat center}.catalogColor{color:#45403C}.navColor{color:#409DFF}.arrowRightColor{color:#666}.focusInp:focus{color:#45403C;border:1px solid #39F;background:#fff}.main a{color:#3862ae}.main a:hover{color:#09F}.main ul{padding:0;margin:0;list-style:none}.main ul li{color:#3c7aaf}.main ul li:hover{color:#09F}.main ul li i{display:none}.main ul li:hover i{display:block}</style><div style="overflow:auto"><div class="padding_top13px"><p class="margin_left20px size16"><strong>在线交谈 / 远程协助网页组件</strong></p><oem-learn-more type="webchat_form_edit" description="直接拷贝源代码嵌入到你的网页即可。你还可以定义界面的外观，客户必须填写的字段，以及由哪个客服组负责响应客户的请求。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/354" class="margin_left20px size13"></oem-learn-more></div><section class="margin_left20px padding_top20px size14"><input type="radio" name="ticketWebTab" id="ticketWebTab1" class="tabs" checked="checked" ng-click="switchingWebChatFormTab(1);"><label for="ticketWebTab1">前期准备</label><input type="radio" name="ticketWebTab" id="ticketWebTab2" class="tabs" ng-click="switchingWebChatFormTab(2);"><label for="ticketWebTab2">界面外观</label><input type="radio" name="ticketWebTab" id="ticketWebTab3" class="tabs" ng-click="switchingWebChatFormTab(3);"><label for="ticketWebTab3">表单字段</label><input type="radio" name="ticketWebTab" id="ticketWebTab5" class="tabs" ng-click="switchingWebChatFormTab(5);"><label for="ticketWebTab5">创建和投递工单的规则</label><input ng-show="webchatForm.id>0" type="radio" name="ticketWebTab" id="ticketWebTab6" class="tabs" ng-click="switchingWebChatFormTab(6);"><label ng-show="webchatForm.id>0" for="ticketWebTab6">在线客服导航</label></section><input type="hidden" ng-model="webchatForm.id"><div ng-show="showWebchatTab==1"><div class="padding_top23px margin_left20px line_solid_02"></div><h4 class="margin_left20px padding_top10px size14"><strong>网页表单名称</strong></h4><div class="padding_left20px padding_right10px"><input class="form-control w690 size14" placeholder="在线交谈（实例）" ng-model="webchatForm.name"></div><h4 class="margin_left20px padding_top10px size13"><strong>源代码</strong></h4><p class="margin_left20px w690 line_solid_02"></p><p class="margin_left20px padding_top10px size13">复制下列脚本，将它们嵌入到任意网页的HTML源代码中去即可。<br>脚本必须插入在&lt;/body&gt; 标签之间。如果你希望网站的所有页面都呈现网页表单，请在每个页面上插入脚本。</p><textarea readonly="readonly" class="form-control tryul margin_left20px size13" style="width:690px;min-width:690px;height:290px;resize:none;cursor:copy">\r\n <script type="text/javascript">\r\n !function(e,t){"use strict";e.EweiWebFormBox&&e.EweiWebFormBox.init||function(r){var s=t.createElement("script"),i=t.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=r.url+"/source/css/web_form.css";var o=t.body||t.getElementsByTagName("body")[0];s.src=r.url+"/source/scripts/eweiBox.js",s.type="text/javascript",s.onload=s.onreadystatechange=function(){e.EweiWebFormBox&&e.EweiWebFormBox.init(r)},o.appendChild(i),o.appendChild(s)}({pid:{{currentProviderId}},eweiBoxId:"{{webchatForm.keyCode}}",url:"{{protocolDomainUrl}}",data:{userName:"",userEmail:"",userNickname:"",userExternalId:"",userPhone:"",userMobilePhone:"",userNotes:"",userGroupName:""}})}(window,document);\r\n <\/script>\r\n </textarea><h4 class="margin_left20px padding_top10px size13"><strong>外链(可选)</strong></h4><p class="margin_left20px w690 line_solid_02"></p><p class="margin_left20px padding_top10px size13">外链适用于微信公众号菜单，点击菜单后在微信内打开网页。<br>外链也适用于普通网页，你可以自行安排按钮的样式和在网页上出现的位置（无需在后台配置），点击按钮打开新页面。</p><input type="text" readonly="readonly" class="form-control tryul margin_left20px size13" style="width:690px;cursor:copy" value="{{protocolDomainUrl}}/webchat/{{webchatForm.keyCode}}"><h4 class="margin_left20px padding_top10px size13"><strong>测试你的网站</strong></h4><p class="margin_left20px w690 line_solid_02"></p><h4 class="margin_left20px padding_top10px size13">检验脚本是否在你的网页正常运行。如果成功，在你的页面上应该出现网页表单的按钮或窗口。</h4><div style="display:inline" class="padding_top25px padding_left20px"><input style="width:300px;float:left" class="form-control margin_left20px w280 size14" ng-model="testWebSiteUrl" placeholder="URL"> <button type="button" style="height:34px" class="btn btn-primary btn-sm" ng-click="testWebSite()">测试</button></div><p class="margin_left20px padding_top50px w690 line_solid_02"></p><div class="padding_top25px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateCode();">更新</button></div></div><div ng-show="showWebchatTab==2"><p class="padding_top23px margin_left20px line_solid_02"></p><div style="width:400px;height:900px" class="pull-right try margin_right2px"><div class="padding_top20px"><label class="margin_left20px size16">预览</label><p class="margin_left20px margin_right20px line_solid_02"></p><div style="margin:0 auto;width:180px;height:32px;margin-top:30px" ng-show="webchatFormOutward.style==\'badge\'"><div ng-style="{\'background-color\':webchatFormOutward.buttonLeftColor,\'width\':\'36px\',\'height\':\'32px\',\'float\':\'left\'}"><div class="size20" ng-style="{\'color\':webchatFormOutward.buttonFontColor}"><i class="fa fa-comments-o fa-3 padding5px"></i></div></div><div style="width:144px;height:32px;color:#fff;float:left" ng-style="{\'background-color\':webchatFormOutward.buttonBackgroundColor}"><p class="margin_left30px padding_top3px" ng-style="{\'color\':webchatFormOutward.buttonFontColor}">{{webchatFormOutward.buttonTitle}}</p></div></div><div style="text-align:center;border:1px thin #555;padding-top:10px" ng-show="webchatFormOutward.style==\'flag\'"><div style="width:180px;margin:0 auto;height:100px" class="flagLinear"><div style="width:100%;margin:0 auto;height:100;padding-top:10px"><div class="inline" style="float:left;width:70px;height:70px"><img class="margin_left10px" style="float:left;width:70px;height:70px" ng-src="{{webchatFormOutward.flagPictureSrc}}"></div><div ng-style="{\'color\':webchatFormOutward.flagFontColor}" style="width:110px;line-height:25px;float:right;text-align:center" class="size16">{{webchatFormOutward.flagTitle}}</div></div></div><p><input style="width:180px;margin:0 auto;height:36px;border:1px solid #ddd" class="name3" value="请在这里输入"></p></div><div class="padding_top30px size13"><div class="try1 size13" ng-style="{\'width\':selectSizeOption.windowWidth+\'px\',\'height\':selectSizeOption.windowHeight+\'px\'}" style="text-align:center;margin:0 auto;margin-top:30px"><div style="height:80px"><div class="try2" ng-style="{\'background-color\':webchatFormOutward.windowTitleColor}" style="text-align:left;width:100%;height:30px"><p ng-style="{\'color\':webchatFormOutward.windowfontColor}" class="margin_left3px text-center"><span style="margin-left:15%">{{webchatFormOutward.windowTitle}}</span> <span class="pull-right margin_right2px size24" style="margin-top:-3px"><i class="fa fa-arrow-up btn-sm"></i><i class="fa fa-minus fa-3 btn-sm"></i></span></p></div><div style="width:40px;height:52px;border:1px solid #CCC;position:relative;padding:0 0;margin-top:-10px;margin-left:10px;background-color:#fff" class="pull-left"><img class="margin10px" style="width:32px;height:32px" src="source/images/tou.png"></div><p style="line-height:18px;margin-left:68px" class="text-left"><strong>文平</strong><br>史上最牛客服，没有之一</p></div><div style="width:100%;overflow:auto;overflow:scroll;overflow-x:hidden" ng-style="{\'height\':selectSizeOption.windowHeight-154}" class="try1 text-left size12"><div class="margin_left10px margin_top10px"><strong>文平</strong><br>选项DSKJFH啊甲方</div><div class="margin_left10px margin_top10px"><strong>访客8789325012</strong><br>选项DSKJFH啊甲方哈斯卡手机费哈斯aflatoxin法规部分恢复规划法规和国家规划将很快就会将</div><div style="color:#ccc;width:200px;margin:0 auto;margin-top:10px">陈祥伍加入了会话第三方的孤独感</div></div><div style="height:74px"><div style="width:100%;height:24px;background-color:#f8f8f8" class="text-left"><span style="margin-top:3px"><i class="fa fa-share margin5px"></i> </span><span style="margin-top:3px"><i class="fa fa fa-camera margin5px"></i> </span><span style="margin-top:3px"><i class="fa fa fa-video-camera margin5px"></i> </span><span style="margin-top:3px" class="pull-right"><i class="fa fa-times margin5px"></i></span> <span style="margin-top:3px" class="pull-right"><i class="fa fa-envelope margin5px"></i></span> <span style="margin-top:3px" class="pull-right"><i class="fa fa-volume-up margin5px"></i></span></div><div style="height:50px"><textarea style="width:100%;height:100%;color:#ccc;border:1px solid #CCC">请在这里输入</textarea></div></div></div><div class="try1 size13" ng-style="{\'width\':selectSizeOption.windowWidth+\'px\',\'height\':selectSizeOption.windowHeight+\'px\'}" style="text-align:center;margin:0 auto;margin-top:30px"><div style="height:80px"><div class="try2" ng-style="{\'background-color\':webchatFormOutward.windowTitleColor}" style="text-align:left;width:100%;height:30px"><p ng-style="{\'color\':webchatFormOutward.windowfontColor}" class="margin_left3px text-center"><span style="margin-left:15%">{{webchatFormOutward.windowTitle}}</span> <span class="pull-right margin_right2px size24" style="margin-top:-3px"><i class="fa fa-arrow-up btn-sm"></i><i class="fa fa-minus fa-3 btn-sm"></i></span></p></div><div style="width:40px;height:52px;border:1px solid #CCC;position:relative;padding:0 0;margin-top:-10px;margin-left:10px;background-color:#fff" class="pull-left"><img class="margin10px" style="width:32px;height:32px" ng-src="{{webchatFormOutward.conciergePictureSrc}}"></div><p style="line-height:18px;margin-left:68px" class="text-left"><strong>{{webchatFormOutward.concierge}}</strong><br>{{webchatFormOutward.signature}}</p></div><div style="width:100%;overflow:auto;overflow:scroll;overflow-x:hidden" ng-style="{\'height\':selectSizeOption.windowHeight-154}" class="try1 text-left size12"><div style="color:#ccc;width:208px;margin:0 auto;margin-top:20px">正在呼叫客服，请稍候</div><div class="margin_left10px margin_top20px"><strong>Admin</strong><br>{{webchatFormOutward.salutatory}}</div></div><div style="height:74px"><div style="width:100%;height:24px;background-color:#f8f8f8" class="text-left"><span style="margin-top:3px"><i class="fa fa-share margin5px"></i> </span><span style="margin-top:3px"><i class="fa fa fa-camera margin5px"></i> </span><span style="margin-top:3px"><i class="fa fa fa-video-camera margin5px"></i> </span><span style="margin-top:3px" class="pull-right"><i class="fa fa-times margin5px"></i></span> <span style="margin-top:3px" class="pull-right"><i class="fa fa-envelope margin5px"></i></span> <span style="margin-top:3px" class="pull-right"><i class="fa fa-volume-up margin5px"></i></span></div><div style="height:50px"><textarea style="width:100%;height:100%;color:#ccc;border:1px solid #CCC">请在这里输入</textarea></div></div></div></div></div></div><p class="margin_left20px margin_right420px padding_top20px size14"><strong>按钮</strong></p><p class="margin_left20px margin_right420px padding_top2px line_solid_02"></p><div class="tli margin_left20px padding_top10px size13"><table style="line-height:40px;width:auto"><tbody><tr style="margin:10px"><td><span class="bue1">位置</span></td><td><span class="margin_left20px"><select style="height:24px;width:280px" class="size14" ng-model="webchatFormOutward.position" ng-options="positionItem.value as positionItem.option for positionItem in positionOptions"></select></span></td></tr><tr><td><span class="bue1">样式</span></td><td><span class="margin_left20px"><select style="height:24px;width:280px" ng-change="colorChange()" class="size14" ng-model="webchatFormOutward.style" ng-options="styleItem.value as styleItem.option for styleItem in styleOptions"></select></span></td></tr><tr ng-show="webchatFormOutward.style==\'badge\'"><td><span class="bue1">标题</span></td><td><span class="margin_left20px"><input style="height:24px;width:280px;line-height:24px" class="size14" ng-change="colorChange()" value="在线交谈" maxlength="8" ng-model="webchatFormOutward.buttonTitle"> </span></td></tr><tr ng-show="webchatFormOutward.style==\'badge\'"><td><span class="bue1">颜色1</span></td><td><span class="margin_left20px"><spectrum-colorpicker ng-model="webchatFormOutward.buttonBackgroundColor" on-change="colorChange()" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></td></tr><tr ng-show="webchatFormOutward.style==\'badge\'"><td><span class="bue1">颜色2</span></td><td><span class="margin_left20px"><spectrum-colorpicker ng-model="webchatFormOutward.buttonLeftColor" on-change="colorChange()" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></td></tr><tr ng-show="webchatFormOutward.style==\'badge\'"><td><span class="bue1">颜色3</span></td><td><span class="margin_left20px"><spectrum-colorpicker ng-model="webchatFormOutward.buttonFontColor" on-change="colorChange()" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></td></tr><tr ng-show="webchatFormOutward.style==\'flag\'"><td><span class="bue1">标题</span></td><td><span class="margin_left20px"><input style="height:24px;width:280px;line-height:24px" ng-change="colorChange()" class="size14" value="在线交谈 " maxlength="16" ng-model="webchatFormOutward.flagTitle"> </span></td></tr><tr ng-show="webchatFormOutward.style==\'flag\'"><td><span class="bue1">图片</span></td><td><div class="margin_left20px" style="float:left;width:64px;height:64px;border:1px solid #CCC;text-align:center"><img ng-src="{{webchatFormOutward.flagPictureSrc}}" style="margin:15px;width:32px;height:32px"></div><div style="float:left;margin-left:10px;margin-top:-20px"><label for="inputfile"></label><div class="_box1 tihian size12" ng-accept="\'image/*\'" ng-multiple="false" ng-file-change="uploadFlagPic(file)" ng-model="file" ng-file-select>上传</div></div></td></tr><tr ng-show="webchatFormOutward.style==\'flag\'"><td><span class="bue1"></span></td><td><span class="margin_left20px">最大尺寸70X100，最大体积200KBytes </span></td></tr><tr ng-show="webchatFormOutward.style==\'flag\'"><td><span class="bue1">颜色1</span></td><td><span class="margin_left20px"><spectrum-colorpicker ng-model="webchatFormOutward.flagBackgroundColor" on-change="colorChange()" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></td></tr><tr ng-show="webchatFormOutward.style==\'flag\'"><td><span class="bue1">颜色2</span></td><td><span class="margin_left20px"><spectrum-colorpicker ng-model="webchatFormOutward.flagFontColor" on-change="colorChange()" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></span></td></tr><tr><td colspan="2"><span class="bue1"><strong>界面呈现的先后次序</strong></span></td></tr><tr><td colspan="2"><p class="line_solid_02"></p></td></tr><tr><td><span class="bue1"><input name="fruit" type="radio" value="true" ng-model="webchatFormOutward.buttonHavePriority"></span></td><td><span class="margin_left20px">先呈现按钮，点击切换到窗口 </span></td></tr><tr><td><span class="bue1"><input name="fruit" type="radio" value="false" ng-model="webchatFormOutward.buttonHavePriority"> </span></td><td><span class="margin_left20px">先呈现窗口，点击切换到按钮 </span></td></tr><tr><td colspan="2"><span class="bue1"><strong>礼宾窗口</strong>(客户发起请求之后至客服响应之前的等待期间)</span></td></tr><tr><td colspan="2"><p class="line_solid_02"></p></td></tr><tr><td><span class="bue1">问候语</span></td><td><div class="margin_top10px pull-left margin_left20px" style="line-height:15px"><textarea style="width:280px;height:64px" class="size12" maxlength="255" ng-model="webchatFormOutward.salutatory">你好！欢迎体验远程协助服务。</textarea></div></td></tr><tr><td><span class="bue1">礼宾名称</span></td><td><span class="margin_left20px"><input style="height:24px;width:280px;line-height:24px" class="size12" maxlength="255" ng-model="webchatFormOutward.concierge"> </span></td></tr><tr><td><span class="bue1">签名</span></td><td><span class="margin_left20px"><input style="height:24px;width:280px;line-height:24px" class="size12" maxlength="255" ng-model="webchatFormOutward.signature"> </span></td></tr><tr><td><span class="bue1">图片</span></td><td><div class="margin_left20px" style="float:left;width:64px;height:64px;border:1px solid #CCC;text-align:center"><img ng-src="{{webchatFormOutward.conciergePictureSrc}}" style="margin:15px;width:32px;height:32px"></div><div style="float:left;margin-left:10px;margin-top:-20px"><label for="inputfile"></label><div class="_box1 tihian size12" ng-accept="\'image/*\'" ng-multiple="false" ng-file-change="uploadConciergePic(imagefile)" ng-model="imagefile" ng-file-select>上传</div></div></td></tr><tr><td><span class="bue1"></span></td><td><span class="margin_left20px">最大尺寸70X100，最大体积200KBytes </span></td></tr></tbody></table></div><div class="margin_left20px margin_right420px padding_top20px line_solid_02"><p class="pull-right padding_top10px" style="color:#1e8cce"><a href="javascript:void(0)" ng-click="recoveryFormOutward()">恢复初始配置</a></p></div><div class="padding_top20px padding_left20px" style="max-width:auto"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateOutward();">更新</button></div></div><div ng-show="showWebchatTab==3"><p class="padding_top23px margin_left20px line_solid_02"></p><div style="width:400px;height:501px" class="pull-right try margin_right2px"><div class="padding_top30px size13"><div class="try1 size13" ng-style="{\'width\':selectSizeOption.windowWidth+\'px\',\'height\':selectSizeOption.windowHeight+\'px\'}" style="text-align:center;margin:0 auto;margin-top:30px"><div class="try2" style="text-align:left;width:98%;height:30px" ng-style="{\'background-color\':webchatFormOutward.windowTitleColor}"><p ng-style="{\'color\':webchatFormOutward.windowfontColor}" style="text-align:center" class="margin_left3px">{{webchatFormOutward.windowTitle}} <span class="pull-right margin_right2px size16" ng-style="{\'color\':webchatFormOutward.windowfontColor}" style="margin-top:2px"><i class="fa fa-external-link fa-3"></i><i class="fa fa-minus fa-3" style="margin-left:5px"></i></span></p></div><div style="width:95%;margin:0 auto;overflow:auto" ng-style="{\'height\':selectSizeOption.windowHeight-100}"><div class="try1" style="text-align:left;width:98%;height:80px"><textarea style="text-align:left;width:100%;height:98%;margin:0 auto;border:0;color:#AAA">{{webchatForm.firstTicketcommentTip}} </textarea></div><div class="padding_top10px"><input style="width:97%;height:24px;margin-bottom:10px" class="webformfields" placeholder="你的名字和Email" ng-show="!showUserLogin" ng-click="showUserLoginAction(true);"> <input style="width:97%;height:24px;margin-bottom:10px" ng-show="showUserLogin" placeholder="{{webchatForm.nameTip}}"> <input style="width:97%;height:24px;margin-bottom:10px" ng-show="showUserLogin" placeholder="{{webchatForm.emailTip}}"><div style="width:95%" ng-show="verifyCodeItem.show"><img style="float:left;height:24px" src="source/images/daoru1.jpg"><input style="float:left;width:70%;height:24px" class="text-left" placeholder="{{webchatForm.verifyCodeTip}}"></div></div></div><div style="width:95%;height:70px;margin:0 auto"><p style="margin-bottom:10px" class="line_solid_02"></p><div ng-style="{\'background-color\':webchatFormOutward.windowTitleColor}" style="width:100%;padding-top:3px" class="try2 tijiao"><span ng-style="{\'color\':webchatFormOutward.windowfontColor}">开始交谈</span></div><p ng-if="!hideIntegralTab" style="font-size:10px"><a href="#">客服软件</a><a href="#"> 工单系统</a> By 易维帮助台</p></div></div></div></div><p class="">&nbsp;</p><div class="margin_left20px"><table style="line-height:25px;vertical-align:bottom;width:auto"><tbody class="size13 padding5px"><tr ng-show="subjectItem.show"><td style="width:350px"><strong>{{subjectItem.name}}</strong><br><input ng-disabled="subjectItem.showNameDisable" ng-model="subjectItem.showName" type="text" class="form-control w300"></td><td><input style="float:left" type="checkbox" name="checkbox" ng-disabled="subjectItem.showNameDisable" ng-checked="subjectItem.required" ng-click="setRequiredValue($event,subjectItem);">*<br><input class="form-control w300" ng-model="subjectItem.tip"><a style="color:#e04006" ng-click="todeleteField(-2);" class="padding_left10px size20">-</a></td></tr><tr ng-repeat="autoItem in autoselectWebFormFields track by $index"><td style="width:350px"><strong>{{autoItem.name}}</strong><br><input disabled="disabled" type="text" class="form-control w300"></td><td><input style="float:left" type="checkbox" ng-if="autoItem.fieldName==\'name\'" ng-model="webchatForm.nameRequired"> <input style="float:left" type="checkbox" ng-if="autoItem.fieldName==\'email\'" ng-model="webchatForm.emailRequired"> <input style="float:left" type="checkbox" ng-if="autoItem.fieldName==\'description\'" ng-model="webchatForm.firstTicketcommentRequired"><br><input class="form-control w300" ng-if="autoItem.fieldName==\'name\'" ng-model="webchatForm.nameTip"> <input class="form-control w300" ng-if="autoItem.fieldName==\'email\'" ng-model="webchatForm.emailTip"> <input class="form-control w300" ng-if="autoItem.fieldName==\'description\'" ng-model="webchatForm.firstTicketcommentTip"></td></tr></tbody></table></div><div class="margin_left20px margin_right420px padding_top30px line_solid_02"><p class="pull-right padding_top30px" style="color:#1e8cce"><a href="javascript:void(0);" ng-click="recoveryField();">恢复初始配置</a></p></div><div class="padding_top25px padding_left20px" style="max-width:auto"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateFormfields();">更新</button></div></div><div ng-show="showWebchatTab==4"><p class="padding_top23px margin_left20px line_solid_02"></p><h4 class="margin_left20px padding_top30px size14"><strong>界面呈现的先后次序</strong></h4><label style="float:left" class="margin_left20px"><input name="fruitTemp" type="radio" value="true" ng-model="webchatForm.buttonHavePriority"></label><p style="margin-left:40px;line-height:20px">先呈现按钮，点击切换到窗口</p><br><label style="float:left" class="margin_left20px"><input name="fruitTemp" type="radio" value="false" ng-model="webchatForm.buttonHavePriority"></label><p style="margin-left:40px;line-height:20px">首先呈现窗口，最小化为按钮</p><br><h4 class="margin_left20px padding_top10px size14"><strong>离线留言</strong></h4><p class="margin_left20px size13">当客服不在线时，引导客户留言（提交工单）。<a target="_blank" href="{{::eweiHelpcenterApiUrl}}new/#/article/detail/355">了解更多 </a></p><p class="margin_left20px size13">用户点击在线交谈按钮后，如果对应的客服人员全部都不在线，则呈现下面所选的网页表单供客户留言。</p><div class="margin_left20px size13" style="width:300px"><select class="form-control size13" ng-model="webchatForm.relationCustomWebForm.id" ng-options="ticketform.value as ticketform.option for ticketform in selectTicketWebForms"></select></div><p class="margin_left20px padding_top30px w690 line_solid_02"></p><div class="padding_top25px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateFormAdvanced();">更新</button></div></div><div ng-show="showWebchatTab==5" class="margin_left20px"><p class="padding_top23px margin_left20px line_solid_02"></p><form class="form-horizontal"><div style="width:900px;margin-top:40px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">会话投递到哪里？</label><div class="col-sm-10"><p style="margin:5px 0">客户选择“与客服交谈”，会话请求投递到下面所选的客服小组</p><select class="form-control size13" ng-model="webChatRoute.serviceDeskId" ng-options="selectDesk.value as selectDesk.option for selectDesk in selectServiceDesks"></select></div></div><div style="width:900px;margin-top:40px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">最多允许多少个排队等待？</label><div class="col-sm-10"><div style="margin:5px 0"><input ng-model="limit" ng-click="clickLimit(0)" name="Limit" style="margin-right:16px" class="v_top" type="radio" value="0">不设上限，所有会话请求进入等待队列排队等候（FIFO），直至客服接通，或客户主动退出</div><div class="margin_top20px"><input ng-model="limit" ng-click="clickLimit(1)" name="Limit" style="margin-right:16px" class="v_top" type="radio" value="1">设定上限，避免无谓的等待</div><div ng-show="limit == \'1\'" class="margin_left30px margin_top15px"><div class="of0"><div class="floatLeft">当排队数量达到&nbsp;&nbsp;<input ng-model="webChatRoute.queueSizeMax" style="text-align:center" ng-blur="checkValue()" min="0" class="w50 h20" type="number">&nbsp;个时,</div><div style="color:#CFCECE" class="floatRight">*设为0意味着关闭本渠道</div></div><div class="margin_top15px"><input ng-model="webChatRoute.queueFullAction" name="count" style="margin-right:16px" maxlength="64" class="v_top" type="radio" value="auto_reply">拒绝新的会话请求，并回复如下</div><div ng-show="webChatRoute.queueFullAction ==\'auto_reply\'" class="margin_top15px margin_left30px"><input ng-model="webChatRoute.queueFullMessage" style="width:660px" class="form-control input-sm" type="text"></div><div class="margin_top15px"><input ng-model="webChatRoute.queueFullAction" name="count" style="margin-right:16px" class="v_top" type="radio" value="create_ticket">引导客户留言（提交工单）</div><div ng-show="webChatRoute.queueFullAction ==\'create_ticket\'" class="margin_top15px margin_left30px"><input ng-model="webChatRoute.queueFullTicketMessage" style="width:660px" class="form-control input-sm" maxlength="64" type="text"></div></div></div></div><div style="width:900px;margin-top:40px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">离线留言如何处理？</label><div class="col-sm-10"><p style="margin:5px 0">客户在非营业时段请求会话</p><div class="margin_top15px"><input ng-model="webChatRoute.actionWhenClosing" name="notBusiness" style="margin-right:16px" class="v_top" maxlength="64" type="radio" value="create_ticket">引导客户留言（提交工单）</div><div ng-show="webChatRoute.actionWhenClosing ==\'create_ticket\'" class="margin_top15px margin_left30px"><input ng-model="webChatRoute.ticketMessageWhenClosing" style="width:660px" class="form-control" maxlength="64" type="text"></div><div class="margin_top15px"><input ng-model="webChatRoute.actionWhenClosing" name="notBusiness" style="margin-right:16px" class="v_top" type="radio" value="auto_reply">拒绝服务，并回复如下</div><div ng-show="webChatRoute.actionWhenClosing == \'auto_reply\'" class="margin_left30px margin_top15px"><input ng-model="webChatRoute.autoReplyMessageWhenClosing" style="width:690px" maxlength="64" class="form-control input-sm" type="text"></div><p class="margin_top30px">客服组成员全部不在线时</p><div class="margin_top15px"><input ng-model="webChatRoute.actionWhenOffline" name="notOnline" style="margin-right:16px" class="v_top" type="radio" value="create_ticket">引导客户留言（提交工单）</div><div ng-show="webChatRoute.actionWhenOffline ==\'create_ticket\'" class="margin_top15px margin_left30px"><input ng-model="webChatRoute.ticketMessageWhenOffline" style="width:660px" maxlength="64" class="form-control" type="text"></div><div class="margin_top15px"><input ng-model="webChatRoute.actionWhenOffline" name="notOnline" maxlength="64" style="margin-right:16px" class="v_top" type="radio" value="auto_reply">拒绝服务，并回复如下</div><div ng-show="webChatRoute.actionWhenOffline == \'auto_reply\'" class="margin_left30px margin_top15px"><input ng-model="webChatRoute.autoReplyMessageWhenOffline" maxlength="64" style="width:690px" class="form-control input-sm" type="text"></div></div></div><div class="form-group w100p"><div class="col-sm-12"><div style="margin-top:40px;padding-top:30px;border-top:1px solid #ccc"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit()">取消</button> <span class="padding_left15px"></span> <button ng-click="updateFormRules();" type="button" class="btn btn-primary w100">更新</button></div></div></div></form></div><div ng-show="showWebchatTab==6&&webchatForm.id>0" class="margin_left10px"><p class="padding_top23px margin_left20px line_solid_02"></p><div ng-model="navCrumbs" style="color:#409DFF;margin-top:40px" class="size16 margin_left10px"><span style="cursor:pointer" ng-class="{\'navChecked\':$index == navCrumbs.length-1}" ng-repeat="item in navCrumbs" ng-click="showNavClick($index,item)">{{item.name}} <span ng-hide="$index == navCrumbs.length-1">》</span></span></div><div class="margin_top30px margin_left10px"><span>Tips</span> &nbsp; <input style="display:inline-block" ng-model="webchatServiceCatalog.tips" class="form-control w550 padding_left5px" type="text" placeholder="请点击选择服务目录。" ng-blur="updateTips()"> <input style="margin-left:60px" ng-change="updateDirectlyChat()" ng-model="webchatServiceCatalog.directlyChat" type="checkbox" ng-true-value="false" ng-false-value="true"> 下级目录必选</div><div style="margin-top:36px" class="of0 w950 line_solid_02 padding_bottom5px"><div class="floatLeft margin_left10px">客户可选</div><div class="floatLeft margin_left40px">目录名称（客服所见）</div><div style="margin-left:150px" class="floatLeft">导航名称（客户所见）</div><div class="floatRight margin_right10px"><i class="fa fa-plus"></i> <a href="#/ticket/setting/service_catalog">添加服务目录</a></div></div><ul ng-model="onlineNav" style="padding:0;list-style:none;color:#A1A09F;margin-top:12px" class="w950"><li style="background:#FAFAFA" class="border04 h60 margin_bottom5px" ng-repeat="item in onlineNav"><div class="floatLeft"><div style="margin-top:13px" ng-class="{\'checked\': item.active}" class="w32 h32 radius5 box99 margin_left20px border05 cursorhand" ng-click="showChecked(item);"></div></div><div style="margin-top:4px;border-left:1px solid #E4E4E4;border-right:1px solid #E4E4E4;line-height:50px;padding-left:20px" ng-class="{\'catalogColor\': item.active}" class="floatLeft margin_left20px w300 h50">{{item.serviceCatalogName}}</div><div style="margin-top:4px;line-height:50px" class="floatLeft margin_left20px h50"><span ng-show="!item.active">{{item.name}}</span> <input ng-model="item.name" ng-show="item.active" ng-focus="navFocus()" ng-blur="navBlur($index,item)" style="margin-top:10px;background:#FAFAFA;line-height:30px" ng-class="{\'navColor\': item.active}" class="w470 h30 border0 focusInp" type="text"></div><div style="text-align:center;line-height:60px;color:#ccc" ng-click="showClick($index,item)" class="floatRight w65 h60 cursorhand"><i style="font-size:50px" ng-class="{\'arrowRightColor\': item.active}" class="fa fa-angle-right"></i></div></li></ul></div><br><br><br><br></div>');e.put("source/views/ticket/setting.wechat_detail.html",'<div class="padding_left20px size14" ng-switch on="selection"><style type="text/css">.active{font-weight:700;border-bottom:4px solid #1e8cce}.not-sortable{font-weight:700}.navChecked{font-weight:700;color:#333}.checked{background:url(../../../source/images/check.png) no-repeat center}.catalogColor{color:#45403C}.navColor{color:#409DFF}.arrowRightColor{color:#666}.focusInp:focus{color:#45403C;border:1px solid #39F;background:#fff}.main a{color:#3862ae}.main a:hover{color:#09F}.main ul{padding:0;margin:0;list-style:none}.main ul li{color:#3c7aaf}.main ul li:hover{color:#09F}.main ul li i{display:none}.main ul li:hover i{display:block}.template-tip{position:absolute;top:44px;left:670px;right:18px;text-align:center;font-size:14px;cursor:help;z-index:9999}.template-tip:before{content:\'模版ID\';color:#1e8cce}.template-tip:hover p{display:block}.template-tip p{display:none;position:absolute;border-radius:3px;box-shadow:1px 1px 1px rgba(0,0,0,.2);top:0;right:500px}.template-tip p:before{position:absolute;content:\'\';width:0;height:0}.template-tip p:after{width:100%;height:40px;content:\'\';position:absolute;top:-40px;left:0}</style><div class="line_solid_02"><p class="size16 font_b">编辑服务号/{{wechat.name}}#{{wechat.weixinNo}}</p><p>配置你的微信功能、交互和菜单。</p><ul style="padding:0;margin-bottom:0;list-style:none;overflow:hidden" class="margin_top30px"><li ng-repeat="item in nav" ng-click="showActive($index)" ng-class="{true:\'active\'}[selected == $index]" class="floatLeft margin_right35px padding_bottom5px cursorhand">{{item}}</li></ul></div><div class="margin_top30px"><div ng-switch-when="settings0"><p class="font_b">微信服务号账号信息</p><ul class="of0 line_solid_02" style="padding-left:0;margin-bottom:0;list-style:none;padding-bottom:10px"><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">微信服务号名称</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="wechat.name" value=""></li><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">微信号</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="wechat.weixinNo" value=""></li></ul><p class="font_b margin_top30px">微信高级接口</p><ul class="line_solid_02" style="padding-left:0;margin-bottom:0;list-style:none;padding-bottom:10px"><li class="margin_top5px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft">URL:</div><span class="floatLeft margin_left20px">http://{{httpUrl.subdomain}}.ewei.{{httpUrl.com}}/api/weixin_{{wechat.id}}.json</span></li><li class="margin_top5px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft">Token:</div><span class="floatLeft margin_left20px">{{wechat.apiToken}}</span></li></ul><p class="font_b margin_top30px">微信高级接口开发者凭据</p><ul class="line_solid_02" style="padding-left:0;margin-bottom:0;list-style:none;padding-bottom:10px"><li class="margin_top5px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft">AppId:</div><span class="floatLeft margin_left20px">{{wechat.appId}}</span></li><li class="margin_top5px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">AppSecret:</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="wechat.appSecret" value=""></li></ul><div class="margin_top30px"><a href="#/ticket/setting/wechat_setting" type="button" class="btn btn-default w100">取消</a> <button type="button" class="btn btn-primary w100 margin_left20px" ng-click="updateWechat()">更新</button></div></div><div ng-switch-when="settings1"><p>用户首次关注你的微信服务号，自动回复如下欢迎语</p><textarea style="border:1px solid #D7D7D7;padding-left:10px;padding-bottom:30px;width:670px;height:130px" class="form-control margin_top20px" ng-model="wechat.attentionWelcomes"></textarea><p class="margin_top30px">用户回复任意消息，自动回复下列导引</p><input disabled="disabled" style="border:1px solid #D7D7D7;padding-left:10px;width:670px" class="margin_top20px" ng-model="wechat.replyWelcomes"><div class="margin_top30px"><a href="#/ticket/setting/wechat_setting" type="button" class="btn btn-default w100">取消</a> <button type="button" class="btn btn-primary w100 margin_left20px" ng-click="updateWelcomes();">更新</button></div></div><div ng-switch-when="settings2"><form class="form-horizontal"><div style="width:900px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">会话投递到哪里？</label><div class="col-sm-10"><p style="margin:5px 0">客户选择“与客服交谈”，会话请求投递到下面所选的客服小组</p><select class="form-control" ng-options="item.name for item in ruleValue" ng-model="ruleType" ng-change="showRuleType(ruleType)"></select></div></div><div style="width:900px;margin-top:40px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">最多允许多少个排队等待？</label><div class="col-sm-10"><div style="margin:5px 0"><input ng-model="limit" ng-click="clickLimit(0)" name="Limit" style="margin-right:16px" class="v_top" type="radio" value="0">不设上限，所有会话请求进入等待队列排队等候（FIFO），直至客服接通，或客户主动退出</div><div class="margin_top20px"><input ng-model="limit" ng-click="clickLimit(1)" name="Limit" style="margin-right:16px" class="v_top" type="radio" value="1">设定上限，避免无谓的等待</div><div ng-show="limit == \'1\'" class="margin_left30px margin_top15px"><div class="of0"><div class="floatLeft">当排队数量达到&nbsp;&nbsp;<input ng-model="weixinChatRoute.queueSizeMax" style="text-align:center" ng-blur="checkValue()" class="w50 h20" type="text">&nbsp;个时,</div><div style="color:#CFCECE" class="floatRight">*设为0意味着关闭本渠道</div></div><div class="margin_top15px"><input ng-model="weixinChatRoute.queueFullAction" name="count" style="margin-right:16px" class="v_top" type="radio" value="auto_reply">拒绝新的会话请求，并回复如下</div><div ng-show="weixinChatRoute.queueFullAction ==\'auto_reply\'" class="margin_top15px margin_left30px"><input ng-model="weixinChatRoute.queueFullMessage" style="width:660px" class="form-control" type="text"></div><div class="margin_top15px"><input ng-model="weixinChatRoute.queueFullAction" name="count" style="margin-right:16px" class="v_top" type="radio" value="create_ticket">引导客户留言（提交工单）</div></div></div></div><div style="width:900px;margin-top:40px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">离线留言如何处理？</label><div class="col-sm-10"><p style="margin:5px 0">客户在非营业时段请求会话</p><div class="margin_top15px"><input ng-model="weixinChatRoute.actionWhenClosing" name="notBusiness" style="margin-right:16px" class="v_top" type="radio" value="create_ticket">引导客户留言（提交工单）</div><div class="margin_top15px"><input ng-model="weixinChatRoute.actionWhenClosing" name="notBusiness" style="margin-right:16px" class="v_top" type="radio" value="auto_reply">拒绝服务，并回复如下</div><div ng-show="weixinChatRoute.actionWhenClosing == \'auto_reply\'" class="margin_left30px margin_top15px"><input ng-model="weixinChatRoute.autoReplyMessageWhenClosing" style="width:690px" class="form-control input-sm" type="text"></div><p class="margin_top30px">客服组成员全部不在线时</p><div class="margin_top15px"><input ng-model="weixinChatRoute.actionWhenOffline" name="notOnline" style="margin-right:16px" class="v_top" type="radio" value="create_ticket">引导客户留言（提交工单）</div><div class="margin_top15px"><input ng-model="weixinChatRoute.actionWhenOffline" name="notOnline" style="margin-right:16px" class="v_top" type="radio" value="auto_reply">拒绝服务，并回复如下</div><div ng-show="weixinChatRoute.actionWhenOffline == \'auto_reply\'" class="margin_left30px margin_top15px"><input ng-model="weixinChatRoute.autoReplyMessageWhenOffline" style="width:690px" class="form-control input-sm" type="text"></div></div></div><div class="form-group w100p"><div class="col-sm-12"><div style="margin-top:40px;padding-top:30px;border-top:1px solid #ccc"><button ng-click="weixinChatRouteUpdate()" type="button" class="btn btn-primary w100">更新</button></div></div></div></form></div><div ng-switch-when="settings3"><div style="width:304px;height:426px;background:url(source/images/pic_weixin.jpg) no-repeat center;background-size:100% 100%"><h2 style="text-align:center;color:#fff;line-height:38px" class="size16">{{providerEweiProductName|replace_ewei_productname}}</h2><p>&nbsp;-&nbsp; 子菜单可拖动排序</p><p>&nbsp;-&nbsp; 同一个导航之上的子菜单不能超过5个</p><p>&nbsp;-&nbsp; 微信规则，菜单变更后24小时后才生效</p><div class="main" style="position:relative;height:294px;margin-top:23px"><div style="background:#fff;position:absolute;bottom:0;left:0;width:101px" class="floatLeft"><div ng-show="visible1" style="text-align:center;cursor:default" class="h35 border_dashed"><a ng-click="addNav(0)" class="block" href="#"><i style="font-size:26px;line-height:35px" class="fa fa-plus"></i></a></div><ul id="list1" ui-sortable="sortableOptions" class="apps-container" ng-model="wxListData[0]"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in wxListData[0] track by $index" class="app h35 border05" ng-class="{\'not-sortable\': $index == wxListData[0].length-1}" ng-click="editNavList($index,0)">{{item.name}} <i style="position:absolute;right:0;top:10px;font-size:18px" class="fa fa-trash-o" ng-click="delNavList($event,$index,0);"></i></li></ul></div><div style="background:#fff;position:absolute;bottom:0;left:101px;width:101px" class="floatLeft"><div ng-show="visible2" style="text-align:center" class="h35 border_dashed"><a ng-click="addNav(1)" class="block" href="#"><i style="font-size:26px;line-height:35px" class="fa fa-plus"></i></a></div><ul id="list2" ui-sortable="sortableOptions" class="apps-container" ng-model="wxListData[1]"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in wxListData[1]" class="app h35 border05" ng-class="{\'not-sortable\': $index == wxListData[1].length-1}" ng-click="editNavList($index,1)">{{item.name}} <i style="position:absolute;right:0;top:10px;font-size:18px" class="fa fa-trash-o" ng-click="delNavList($event,$index,1);"></i></li></ul></div><div style="background:#fff;position:absolute;bottom:0;left:202px;width:101px" class="floatLeft"><div ng-show="visible3" style="text-align:center" class="h35 border_dashed"><a ng-click="addNav(2)" class="block" href="#"><i style="font-size:26px;line-height:35px" class="fa fa-plus"></i></a></div><ul id="list3" ui-sortable="sortableOptions" class="apps-container" ng-model="wxListData[2]"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in wxListData[2]" class="app h35 border05" ng-class="{\'not-sortable\': $index == wxListData[2].length-1}" ng-click="editNavList($index,2)">{{item.name}} <i style="position:absolute;right:0;top:10px;font-size:18px" class="fa fa-trash-o" ng-click="delNavList($event,$index,2);"></i></li></ul></div></div></div><div style="margin-top:40px;padding-top:30px;border-top:1px solid #ccc"><a href="#/ticket/setting/wechat_setting" type="button" class="btn btn-default w100">取消</a> <button ng-click="update()" type="button" class="btn btn-primary w100 margin_left20px">更新</button></div></div><div ng-switch-when="settings4"><div ng-model="navCrumbs" style="color:#409DFF" class="size16"><span style="cursor:pointer" ng-class="{\'navChecked\':$index == navCrumbs.length-1}" ng-repeat="item in navCrumbs" ng-click="showNavClick($index,item)">{{item.name}} <span ng-hide="$index == navCrumbs.length-1">》</span></span></div><div class="margin_top30px margin_left10px"><span>Tips</span> &nbsp; <input style="display:inline-block" ng-model="weixinServiceCatalog.tips" class="form-control w550 padding_left5px" type="text" placeholder="回复数字序号，选择相应服务。" ng-blur="updateTips()"> <input style="margin-left:60px" ng-change="updateDirectlyChat()" ng-model="weixinServiceCatalog.directlyChat" type="checkbox" ng-true-value="false" ng-false-value="true"> 下级目录必选</div><div style="margin-top:36px" class="of0 w950 line_solid_02 padding_bottom5px"><div class="floatLeft margin_left10px">客户可选</div><div class="floatLeft margin_left40px">目录名称（客服所见）</div><div style="margin-left:150px" class="floatLeft">导航名称（客户所见）</div><div class="floatRight margin_right10px"><i class="fa fa-plus"></i> <a href="#/ticket/setting/service_catalog">添加服务目录</a></div></div><ul ng-model="onlineNav" style="padding:0;list-style:none;color:#A1A09F;margin-top:12px" class="w950"><li style="background:#FAFAFA" class="border04 h60 margin_bottom5px" ng-repeat="item in onlineNav"><div class="floatLeft"><div style="margin-top:13px" ng-class="{\'checked\': item.active}" class="w32 h32 radius5 box99 margin_left20px border05 cursorhand" ng-click="showChecked(item);"></div></div><div style="margin-top:4px;border-left:1px solid #E4E4E4;border-right:1px solid #E4E4E4;line-height:50px;padding-left:20px" ng-class="{\'catalogColor\': item.active}" class="floatLeft margin_left20px w300 h50">{{item.serviceCatalogName}}</div><div style="margin-top:4px;line-height:50px" class="floatLeft margin_left20px h50"><span ng-show="!item.active">{{item.name}}</span> <input ng-model="item.name" ng-show="item.active" ng-focus="navFocus()" ng-blur="navBlur($index,item)" style="margin-top:10px;background:#FAFAFA;line-height:30px" ng-class="{\'navColor\': item.active}" class="w470 h30 border0 focusInp" type="text"></div><div style="text-align:center;line-height:60px;color:#ccc" ng-click="showClick($index,item)" class="floatRight w65 h60 cursorhand"><i style="font-size:50px" ng-class="{\'arrowRightColor\': item.active}" class="fa fa-angle-right"></i></div></li></ul></div><div ng-switch-when="settings5"><form class="form-horizontal"><div style="width:900px" class="form-group"><label style="text-align:left" class="col-sm-1 control-label">模版ID</label><div class="col-sm-11"><input ng-model="wechat.weixinTicketTemplateId" maxlength="255" type="text" class="form-control"><p class="margin_top10px">登录你的微信服务号管理后台，添加名称为“工单消息提醒”，编号为OPENTM207212027 的消息模版，可取得</p><div class="template-tip"><p style="padding:1px;width:302px"><img style="border:2px solid #1e8cce;width:650px" src="source/images/templateID.png"></p></div><p></p><p class="margin_top40px">为什么要模版消息？</p><p class="margin_top10px">为了让客户了解工单处理进度，需要将工单处理过程中的回复消息发送到客户的微信客户端。但是微信官方对微信服务号有严格限制，如果要主动微信给粉丝发消息，必须以微信官方预设的消息格式发送（称为模版消息）。</p><p class="margin_top40px">如果不填写模版ID会怎样？</p><p class="margin_top10px">1，不影响微信客户主动联络你，进行在线交谈会话<br>2，在客户最后回复之后的48小时内，客户依然能够通过微信接收工单回复。48小时后，通知通道将被微信官方切断。</p><p class="margin_top40px">为什么我的微信后台找不到模版？</p><p class="margin_top10px">1，你的微信服务号未开通微信支付功能，请向微信官方申请<br>2，你的微信服务号虽取得了支付授权，但未开通模版消息，请向微信官方申请<br>3，你的微信服务号虽开通了模版消息，但你选择的行业不包含“IT科技/IT软件和服务“</p></div></div><div class="form-group w100p"><div class="col-sm-12"><div style="margin-top:40px;padding-top:30px;border-top:1px solid #ccc"><button ng-click="addTemplateInf()" type="button" class="btn btn-primary w100">更新</button></div></div></div></form></div></div></div>');e.put("source/views/ticket/setting.wechat_efit.html",'<form style="max-height:600px;overflow-x:hidden;overflow-y:auto" class="form-horizontal"><div class="form-group"><label class="col-sm-2 control-label">菜单名</label><div class="col-sm-9"><input ng-model="navType.name" maxlength="7" type="text" class="form-control"></div></div><div ng-show="showMenu3" class="form-group"><label class="col-sm-2 control-label">菜单类型</label><div class="col-sm-9"><select class="form-control" ng-change="showEditMenu(navType.type)" ng-options="item.name for item in navTypeValues" ng-model="navType.type"></select></div></div><div ng-if="navType.type && navType.type.type == \'submit_ticket\'" class="form-group"><label class="col-sm-2 control-label">选择表单</label><div class="col-sm-9"><select class="form-control" ng-model="navType.formId"><option ng-value="item.uid" ng-repeat="item in webFormList">{{item.name}}</option></select></div></div><div ng-show="showMenu1" class="form-group"><label class="col-sm-2 control-label">回复文本</label><div id="oParent" class="col-sm-10"><div oc-lazy-load="[\'source/js/wangEditor/css/wangEditor.css\', \'source/js/wangEditor/js/wangEditor.min.js\']"><textarea ewei-text-editor ng-model="navType.text" cols="30" rows="10"></textarea></div></div></div><div ng-show="showMenu2" class="form-group"><label class="col-sm-2 control-label">URL地址</label><div class="col-sm-10"><input ng-model="navType.URL" type="text" class="form-control" value="http://"></div></div><div ng-show="showMenu4" ng-repeat="item in textImg.articles track by $index"><div><div class="form-group"><label class="col-sm-2 control-label">标题</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="item.title" placeholder="图文消息标题"></div><div ng-if="$index != 0" class="col-sm-1"><a ng-click="delImgInf($index)" style="display:inline-block;margin-top:6px" href="javascript:"><i style="font-size:20px;color:#e04006" class="fa fa-minus"></i></a></div></div><div class="form-group"><label class="col-sm-2 control-label">描述</label><div class="col-sm-9"><textarea style="height:100px" class="form-control" ng-model="item.description" placeholder="图文消息摘要"></textarea></div></div><div class="form-group"><label class="col-sm-2 control-label">URL</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="item.url" placeholder="点击图文消息跳转页面"></div></div><div class="form-group"><label class="col-sm-2 control-label">图片</label><div class="col-sm-9"><div style="border:1px solid #ccc;overflow:hidden;border-radius:4px"><div style="float:left;width:85%"><input style="border:none" ng-if="$index == 0" type="text" class="form-control" ng-model="item.picUrl" placeholder="网络图片URL,图片尺寸900×500"> <input style="border:none" ng-if="$index != 0" type="text" class="form-control" ng-model="item.picUrl" placeholder="网络图片URL,图片尺寸200×200"></div><a href="javascript:" oc-lazy-load="[\'source/lib/webuploader-0.1.5/webuploader.min.js\']" style="margin-top:6px;float:right;text-align:center;width:15%;color:#39f;position:relative"><div wx-file-upload index="{{$index}}" class="pickWx">本地图片</div></a></div></div></div><div style="position:relative" ng-if="textImg.articles.length-1 != $index" class="form-group"><div style="border:1px solid #e5e5e5;position:absolute;width:100%"></div></div></div></div><div ng-show="showMenu5 && !dingdingMenue" class="form-group"><div class="col-sm-10 col-sm-offset-2"><div class="checkbox"><label style="font-size:13px"><input ng-model="navType.isSetCallbackUrl" type="checkbox"> 已在微信后台设置{{providerDomain}}为授权回调域名或可信域名。<a style="color:#3BA2DF" href="https://help.ewei.com/new/#/article/detail/1273" target="_blank">如何设置？</a></label></div></div></div><div class="form-group" ng-show="showMenu4"><label class="col-sm-2 control-label"><a ng-click="addImgInf()" href="#"><i style="font-size:22px;color:#7bbf6a" class="fa fa-plus"></i></a></label><div class="col-sm-10"><div id="showUploading" style="display:none;margin-top:6px"><div style="border:1px solid #1483d8;width:200px;background-color:#fff;height:22px;text-align:center;line-height:20px;color:#6dbfff;position:relative;display:inline-block;border-radius:4px;margin-left:50px"><span style="position:relative;z-index:10">0%</span> <span style="width:0;height:100%;position:absolute;left:0;top:0;background:#1483d8"></span></div><span style="margin-left:20px">正在上传请稍后...</span></div></div></div></form>');e.put("source/views/ticket/setting.wechat_inf.html",'<style>.channel-modal{width:450px;margin:0 auto}.channel-modal p{margin:5px 0 16px 0}.channel-modal label{font-size:14px;margin-top:10px;cursor:pointer}.channel-modal .btn{margin:30px 0}.channel-modal input[type=radio]{position:relative;top:2px}</style><div class="modal-inner-content"><div class="channel-modal"><label style="vertical-align:middle"><input type="radio" name="weixin" value="service" ng-model="channel.name"> 微信服务号</label><p>将企业的微信服务号接入客服系统，面向企业的客户提供服务。</p><label style="vertical-align:middle"><input type="radio" name="weixin" value="qiye" ng-model="channel.name"> 微信企业号</label><p>在企业的微信企业号上添加客服系统入口，面向企业员工提供服务。</p><a class="btn btn-primary" ng-click="addChannel()">创建微信客服渠道</a></div></div>');e.put("source/views/ticket/setting.wechat_modal_save.html",'<style>.btn-make-sure{width:80px;height:30px;font-size:14px;padding-top:3px;padding-bottom:3px}.btn-loading{background-color:#999}.btn-loading img{width:20px;height:20px}</style><form style="max-height:600px;overflow-x:hidden;overflow-y:auto" class="form-horizontal"><div class="form-group"><label class="col-sm-2 control-label">菜单名<span style="color:red">*</span></label><div class="col-sm-9"><input ng-model="navType.name" type="text" class="form-control" maxlength="80"></div></div><div ng-if="showMenu" class="form-group"><label class="col-sm-2 control-label">菜单类型</label><div class="col-sm-9"><select class="form-control" ng-options="item.name for item in navTypeValues" ng-change="changeNavType()" ng-model="navType.type"></select></div></div><div ng-if="showMenu"><div ng-if="navType.type && navType.type.key == \'wc\'" class="form-group" style="padding-left:110px;line-height:20px"><div class="col-sm-9 flex padding_bottom10px"><input type="checkbox" ng-model="navType.type.autoStart" value="navType.type.autoStart"> <span class="padding_left5px" style="color:#000">立即接通在线会话</span></div><div class="col-sm-9">开启后，点击菜单将立即尝试接通人工客服</div></div><div ng-if="navType.type && navType.type.key == \'submit_ticket\'" class="form-group"><label class="col-sm-2 control-label">选择表单</label><div class="col-sm-9"><select class="form-control" ng-model="navType.formId"><option ng-value="item.uid" ng-repeat="item in webFormList">{{item.name}}</option></select></div></div><div ng-if="navType.type && navType.type.key == \'cm\'"><div class="form-group"><label class="col-sm-2 control-label" style="white-space:nowrap">小程序appid<span style="color:red">*</span></label><div class="col-sm-9"><input ng-model="navType.appid" type="text" class="form-control" maxlength="80" placeholder="请前往您的小程序后台获取后填写"></div></div><div class="form-group"><label class="col-sm-2 control-label">小程序路径<span style="color:red">*</span></label><div class="col-sm-9"><input ng-model="navType.pagepath" type="text" class="form-control" maxlength="80" placeholder="小程序的页面跳转地址，请向您的小程序开发者索取"></div></div><div class="form-group"><label class="col-sm-2 control-label">备用网页<span style="color:red">*</span></label><div class="col-sm-9"><input ng-model="navType.URL" type="text" class="form-control" maxlength="80" placeholder="旧版微信无法支持小程序，用户点击菜单时将会打开备用网页"></div></div></div><div ng-if="navType.type && navType.type.key == \'reply\'" class="form-group"><label class="col-sm-2 control-label">回复文本</label><div id="oParent" class="col-sm-9"><div oc-lazy-load="[\'source/js/wangEditor/css/wangEditor.css\', \'source/js/wangEditor/js/wangEditor.min.js\']"><textarea ewei-text-editor ng-model="navType.text" cols="30" rows="10"></textarea></div></div></div><div ng-if="navType.type && navType.type.key == \'url\'" class="form-group"><label class="col-sm-2 control-label">URL地址</label><div class="col-sm-9"><input ng-model="navType.URL" type="text" class="form-control" placeholder="http://"></div></div><div ng-if="navType.type && navType.type.key == \'image\'" ng-repeat="item in textImg.articles track by $index"><div><div class="form-group"><label class="col-sm-2 control-label">标题</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="item.title" placeholder="图文消息标题"></div><div ng-if="$index != 0" class="col-sm-1"><a ng-click="delImgInf($index)" style="display:inline-block;margin-top:6px" href="javascript:"><i style="font-size:20px;color:#e04006" class="fa fa-minus"></i></a></div></div><div class="form-group"><label class="col-sm-2 control-label">描述</label><div class="col-sm-9"><textarea style="height:100px" class="form-control" ng-model="item.description" placeholder="图文消息摘要"></textarea></div></div><div class="form-group"><label class="col-sm-2 control-label">URL</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="item.url" placeholder="点击图文消息跳转页面"></div></div><div class="form-group"><label class="col-sm-2 control-label">图片</label><div class="col-sm-9"><div style="border:1px solid #ccc;overflow:hidden;border-radius:4px"><div style="float:left;width:85%"><input style="border:none" ng-if="$index == 0" type="text" class="form-control" ng-model="item.picUrl" placeholder="网络图片URL,图片尺寸900×500"> <input style="border:none" ng-if="$index != 0" type="text" class="form-control" ng-model="item.picUrl" placeholder="网络图片URL,图片尺寸200×200"></div><a href="javascript:" oc-lazy-load="[\'source/lib/webuploader-0.1.5/webuploader.min.js\']" style="margin-top:6px;float:right;text-align:center;width:15%;color:#39f;position:relative"><div wx-file-upload index="{{$index}}" class="pickWx">本地图片</div></a></div></div></div><div style="position:relative" ng-if="textImg.articles.length-1 != $index" class="form-group"><div style="border:1px solid #e5e5e5;position:absolute;width:100%"></div></div></div></div><div class="form-group" ng-if="navType.type && navType.type.key == \'image\'"><label class="col-sm-2 control-label"><a ng-click="addImgInf()" href="#"><i style="font-size:22px;color:#7bbf6a" class="fa fa-plus"></i></a></label><div class="col-sm-9"><div id="showUploading" style="display:none;margin-top:6px"><div style="border:1px solid #1483d8;width:200px;background-color:#fff;height:22px;text-align:center;line-height:20px;color:#6dbfff;position:relative;display:inline-block;border-radius:4px;margin-left:50px"><span style="position:relative;z-index:10">0%</span> <span style="width:0;height:100%;position:absolute;left:0;top:0;background:#1483d8"></span></div><span style="margin-left:20px">正在上传请稍后...</span></div></div></div><div ng-if="type !== \'service\' && navType.type && (navType.type.key == \'ch\' || navType.type.key == \'st\' || navType.type.key == \'submit_ticket\' || navType.type.key == \'download\' || navType.type.key == \'forum\') && !navType.newAndVerified" class="form-group"><div class="col-sm-9 col-sm-offset-2"><div class="checkbox"><label style="font-size:13px"><input ng-model="navType.isSetCallbackUrl" type="checkbox"> 已在微信后台设置{{providerDomain}}为授权回调域名或可信域名。<a style="color:#3BA2DF" href="https://help.ewei.com/new/#/article/detail/1273" target="_blank">如何设置？</a></label></div></div></div><div ng-show="isQiye && navType.type.key == \'console\'" class="form-group"><div class="col-sm-9 col-sm-offset-2"><div class="checkbox"><div style="font-size:13px"><i class="iconfont" style="color:#F90">&#xe63b;</i>前往企业号后台-应用中心，在需要添加此菜单的应用中添加{{providerDomain}}为可信域名之后，该功能才可正常使用。</div></div></div></div></div></form><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="save()" ng-if="!isSaveing">保存</button> <button type="button" class="btn btn-make-sure btn-loading" ng-if="isSaveing" disabled="disabled"><img src="source/images/home_load/load_white.gif"></button></div>');e.put("source/views/ticket/setting.wechat_qiye_detail.html",'<div class="padding_left20px size14" ng-switch on="selection"><style type="text/css">.active{font-weight:700;border-bottom:4px solid #1e8cce}.not-sortable{font-weight:700}.navChecked{font-weight:700;color:#333}.checked{background:url(../../../source/images/check.png) no-repeat center}.catalogColor{color:#45403C}.navColor{color:#409DFF}.arrowRightColor{color:#666}.focusInp:focus{color:#45403C;border:1px solid #39F;background:#fff}.main a{color:#3862ae}.main a:hover{color:#09F}.main ul{padding:0;margin:0;list-style:none}.main ul li{color:#3c7aaf}.main ul li:hover{color:#09F}.main ul li i{display:none}.main ul li:hover i{display:block}</style><div class="line_solid_02"><p class="size16 font_b">编辑企业号/{{wechat.name}}#{{wechat.weixinNo}}</p><p>配置你的微信功能、交互和菜单。</p><ul style="padding:0;margin-bottom:0;list-style:none;overflow:hidden" class="margin_top30px"><li ng-repeat="item in nav" ng-click="showActive($index)" ng-class="{true:\'active\'}[selected == $index]" class="floatLeft margin_right35px padding_bottom5px cursorhand">{{item}}</li></ul></div><div class="margin_top30px"><div ng-switch-when="settings0"><p class="font_b">微信企业号账号信息</p><ul class="of0 line_solid_02" style="padding-left:0;margin-bottom:0;list-style:none;padding-bottom:10px"><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">微信企业号名称</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="wechat.name" value=""></li><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">微信号</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="wechat.weixinNo" value=""></li></ul><p class="font_b margin_top30px">微信高级接口</p><ul class="line_solid_02" style="padding-left:0;margin-bottom:0;list-style:none;padding-bottom:10px"><li class="margin_top5px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft">URL:</div><span class="floatLeft margin_left20px">http://{{httpUrl.subdomain}}.ewei.{{httpUrl.com}}/api/weixin_qiye_{{wechat.id}}.json</span></li><li class="margin_top5px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft">Token:</div><span class="floatLeft margin_left20px">{{wechat.apiToken}}</span></li><li class="margin_top5px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft">EncodingAESKey:</div><span class="floatLeft margin_left20px">{{wechat.encodingAesKey}}</span></li></ul><p class="font_b margin_top30px">微信高级接口开发者凭据</p><ul class="line_solid_02" style="padding-left:0;margin-bottom:0;list-style:none;padding-bottom:10px"><li class="margin_top5px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft">CorpId:</div><span class="floatLeft margin_left20px">{{wechat.appId}}</span></li><li class="margin_top5px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">Secret:</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="wechat.appSecret" value=""></li><li class="margin_top5px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">应用ID:</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="wechat.agentId" value=""></li></ul><div class="margin_top30px"><a href="#/ticket/setting/wechat_setting" type="button" class="btn btn-default w100">取消</a> <button type="button" class="btn btn-primary w100 margin_left20px" ng-click="updateWechat()">更新</button></div></div><div ng-switch-when="settings1"><p>用户首次关注你的微信企业号，自动回复如下欢迎语</p><textarea style="border:1px solid #D7D7D7;padding-left:10px;padding-bottom:30px;width:670px;height:130px" class="form-control margin_top20px" ng-model="wechat.attentionWelcomes"></textarea><p class="margin_top30px">用户回复任意消息，自动回复下列导引</p><input disabled="disabled" style="border:1px solid #D7D7D7;padding-left:10px;width:670px" class="margin_top20px" ng-model="wechat.replyWelcomes"><div class="margin_top30px"><a href="#/ticket/setting/wechat_setting" type="button" class="btn btn-default w100">取消</a> <button type="button" class="btn btn-primary w100 margin_left20px" ng-click="updateWelcomes();">更新</button></div></div><div ng-switch-when="settings2"><form class="form-horizontal"><div style="width:900px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">会话投递到哪里？</label><div class="col-sm-10"><p style="margin:5px 0">客户选择“与客服交谈”，会话请求投递到下面所选的客服小组</p><select class="form-control" ng-options="item.name for item in ruleValue" ng-model="ruleType" ng-change="showRuleType(ruleType)"></select></div></div><div style="width:900px;margin-top:40px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">最多允许多少个排队等待？</label><div class="col-sm-10"><div style="margin:5px 0"><input ng-model="limit" ng-click="clickLimit(0)" name="Limit" style="margin-right:16px" class="v_top" type="radio" value="0">不设上限，所有会话请求进入等待队列排队等候（FIFO），直至客服接通，或客户主动退出</div><div class="margin_top20px"><input ng-model="limit" ng-click="clickLimit(1)" name="Limit" style="margin-right:16px" class="v_top" type="radio" value="1">设定上限，避免无谓的等待</div><div ng-show="limit == \'1\'" class="margin_left30px margin_top15px"><div class="of0"><div class="floatLeft">当排队数量达到&nbsp;&nbsp;<input ng-model="weixinChatRoute.queueSizeMax" style="text-align:center" ng-blur="checkValue()" class="w50 h20" type="text">&nbsp;个时,</div><div style="color:#CFCECE" class="floatRight">*设为0意味着关闭本渠道</div></div><div class="margin_top15px"><input ng-model="weixinChatRoute.queueFullAction" name="count" style="margin-right:16px" class="v_top" type="radio" value="auto_reply">拒绝新的会话请求，并回复如下</div><div ng-show="weixinChatRoute.queueFullAction ==\'auto_reply\'" class="margin_top15px margin_left30px"><input ng-model="weixinChatRoute.queueFullMessage" style="width:660px" class="form-control" type="text"></div><div class="margin_top15px"><input ng-model="weixinChatRoute.queueFullAction" name="count" style="margin-right:16px" class="v_top" type="radio" value="create_ticket">引导客户留言（提交工单）</div></div></div></div><div style="width:900px;margin-top:40px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">离线留言如何处理？</label><div class="col-sm-10"><p style="margin:5px 0">客户在非营业时段请求会话</p><div class="margin_top15px"><input ng-model="weixinChatRoute.actionWhenClosing" name="notBusiness" style="margin-right:16px" class="v_top" type="radio" value="create_ticket">引导客户留言（提交工单）</div><div class="margin_top15px"><input ng-model="weixinChatRoute.actionWhenClosing" name="notBusiness" style="margin-right:16px" class="v_top" type="radio" value="auto_reply">拒绝服务，并回复如下</div><div ng-show="weixinChatRoute.actionWhenClosing == \'auto_reply\'" class="margin_left30px margin_top15px"><input ng-model="weixinChatRoute.autoReplyMessageWhenClosing" style="width:690px" class="form-control input-sm" type="text"></div><p class="margin_top30px">客服组成员全部不在线时</p><div class="margin_top15px"><input ng-model="weixinChatRoute.actionWhenOffline" name="notOnline" style="margin-right:16px" class="v_top" type="radio" value="create_ticket">引导客户留言（提交工单）</div><div class="margin_top15px"><input ng-model="weixinChatRoute.actionWhenOffline" name="notOnline" style="margin-right:16px" class="v_top" type="radio" value="auto_reply">拒绝服务，并回复如下</div><div ng-show="weixinChatRoute.actionWhenOffline == \'auto_reply\'" class="margin_left30px margin_top15px"><input ng-model="weixinChatRoute.autoReplyMessageWhenOffline" style="width:690px" class="form-control input-sm" type="text"></div></div></div><div class="form-group w100p"><div class="col-sm-12"><div style="margin-top:40px;padding-top:30px;border-top:1px solid #ccc"><button ng-click="weixinChatRouteUpdate()" type="button" class="btn btn-primary w100">更新</button></div></div></div></form></div><div ng-switch-when="settings3"><div style="width:304px;height:426px;background:url(source/images/pic_weixin.jpg) no-repeat center;background-size:100% 100%"><h2 style="text-align:center;color:#fff;line-height:38px" class="size16">{{providerEweiProductName|replace_ewei_productname}}</h2><p>&nbsp;-&nbsp; 子菜单可拖动排序</p><p>&nbsp;-&nbsp; 同一个导航之上的子菜单不能超过5个</p><p>&nbsp;-&nbsp; 微信规则，菜单变更后24小时后才生效</p><div class="main" style="position:relative;height:294px;margin-top:23px"><div style="background:#fff;position:absolute;bottom:0;left:0;width:101px" class="floatLeft"><div ng-show="visible1" style="text-align:center;cursor:default" class="h35 border_dashed"><a ng-click="addNav(1)" class="block" href="#"><i style="font-size:26px;line-height:35px" class="fa fa-plus"></i></a></div><ul id="list1" ui-sortable="sortableOptions" class="apps-container" ng-model="list1"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in list1" class="app h35 border05" ng-class="{\'not-sortable\': $index == list1.length-1}" ng-click="editNavList($index,1)">{{item.name}} <i style="position:absolute;right:0;top:10px;font-size:18px" class="fa fa-trash-o" ng-click="delNavList($event,$index,1);"></i></li></ul></div><div style="background:#fff;position:absolute;bottom:0;left:101px;width:101px" class="floatLeft"><div ng-show="visible2" style="text-align:center" class="h35 border_dashed"><a ng-click="addNav(2)" class="block" href="#"><i style="font-size:26px;line-height:35px" class="fa fa-plus"></i></a></div><ul id="list2" ui-sortable="sortableOptions" class="apps-container" ng-model="list2"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in list2" class="app h35 border05" ng-class="{\'not-sortable\': $index == list2.length-1}" ng-click="editNavList($index,2)">{{item.name}} <i style="position:absolute;right:0;top:10px;font-size:18px" class="fa fa-trash-o" ng-click="delNavList($event,$index,2);"></i></li></ul></div><div style="background:#fff;position:absolute;bottom:0;left:202px;width:101px" class="floatLeft"><div ng-show="visible3" style="text-align:center" class="h35 border_dashed"><a ng-click="addNav(3)" class="block" href="#"><i style="font-size:26px;line-height:35px" class="fa fa-plus"></i></a></div><ul id="list3" ui-sortable="sortableOptions" class="apps-container" ng-model="list3"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in list3" class="app h35 border05" ng-class="{\'not-sortable\': $index == list3.length-1}" ng-click="editNavList($index,3)">{{item.name}} <i style="position:absolute;right:0;top:10px;font-size:18px" class="fa fa-trash-o" ng-click="delNavList($event,$index,3);"></i></li></ul></div></div></div><div style="margin-top:40px;padding-top:30px;border-top:1px solid #ccc"><a href="#/ticket/setting/wechat_setting" type="button" class="btn btn-default w100">取消</a> <button ng-click="update()" type="button" class="btn btn-primary w100 margin_left20px">更新</button></div></div><div ng-switch-when="settings4"><div ng-model="navCrumbs" style="color:#409DFF" class="size16"><span style="cursor:pointer" ng-class="{\'navChecked\':$index == navCrumbs.length-1}" ng-repeat="item in navCrumbs" ng-click="showNavClick($index,item)">{{item.name}} <span ng-hide="$index == navCrumbs.length-1">》</span></span></div><div class="margin_top30px margin_left10px"><span>Tips</span> &nbsp; <input style="display:inline-block" ng-model="weixinServiceCatalog.tips" class="form-control w550 padding_left5px" type="text" placeholder="回复数字序号，选择相应服务。" ng-blur="updateTips()"> <input style="margin-left:60px" ng-change="updateDirectlyChat()" ng-model="weixinServiceCatalog.directlyChat" type="checkbox" ng-true-value="false" ng-false-value="true"> 下级目录必选</div><div style="margin-top:36px" class="of0 w950 line_solid_02 padding_bottom5px"><div class="floatLeft margin_left10px">客户可选</div><div class="floatLeft margin_left40px">目录名称（客服所见）</div><div style="margin-left:150px" class="floatLeft">导航名称（客户所见）</div><div class="floatRight margin_right10px"><i class="fa fa-plus"></i> <a href="#/ticket/setting/service_catalog">添加服务目录</a></div></div><ul ng-model="onlineNav" style="padding:0;list-style:none;color:#A1A09F;margin-top:12px" class="w950"><li style="background:#FAFAFA" class="border04 h60 margin_bottom5px" ng-repeat="item in onlineNav"><div class="floatLeft"><div style="margin-top:13px" ng-class="{\'checked\': item.active}" class="w32 h32 radius5 box99 margin_left20px border05 cursorhand" ng-click="showChecked(item);"></div></div><div style="margin-top:4px;border-left:1px solid #E4E4E4;border-right:1px solid #E4E4E4;line-height:50px;padding-left:20px" ng-class="{\'catalogColor\': item.active}" class="floatLeft margin_left20px w300 h50">{{item.serviceCatalogName}}</div><div style="margin-top:4px;line-height:50px" class="floatLeft margin_left20px h50"><span ng-show="!item.active">{{item.name}}</span> <input ng-model="item.name" ng-show="item.active" ng-focus="navFocus()" ng-blur="navBlur($index,item)" style="margin-top:10px;background:#FAFAFA;line-height:30px" ng-class="{\'navColor\': item.active}" class="w470 h30 border0 focusInp" type="text"></div><div style="text-align:center;line-height:60px;color:#ccc" ng-click="showClick($index,item)" class="floatRight w65 h60 cursorhand"><i style="font-size:50px" ng-class="{\'arrowRightColor\': item.active}" class="fa fa-angle-right"></i></div></li></ul></div></div></div>');e.put("source/views/ticket/setting.wechat_setting.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>微信公众号接入</strong></p><oem-learn-more type="via_weixin" description="通过接口，将微信公众号接入客服系统。客户在微信内发起服务请求，接受在线客服、工单支持和FAQ自助等全方位的服务。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/472" class="size13"></oem-learn-more></div><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:200px">渠道名称</th><th class="text-center">请求次数</th><th class="text-center">请求人数</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="addWechatServiceNum()">+ 添加渠道</a></th></tr></thead><tbody><tr ng-if="lists.length==0"><td colspan="4">还没有微信渠道</td></tr><tr ng-repeat="list in lists | orderBy:\'enable\':true" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:500px;padding-top:12px"><a ng-bind="list.name" ng-if="list.enable" class="channel-name margin_right10px" ng-click="toWechatDetail(list.id,this)" style="display:initial"></a> <span ng-bind="list.name" ng-if="!list.enable" class="channel-name margin_right10px"></span> <span class="verify margin_right10px" ng-if="!list.componentAppid && list.verified && list.enable">已验证</span> <span class="no-verify margin_right10px" ng-if="!list.componentAppid && !list.verified && list.enable ">未验证</span> <a class="margin_right10px" href="http://help.ewei.com/article_720" target="_blank" ng-if="!list.componentAppid && !list.verified  && list.enable" style="color:#1e8cce">如何验证？</a> <span class="verify" ng-if="list.componentAppid && list.verified">已授权</span> <span class="no-verify" ng-if="list.componentAppid && !list.verified">未授权成功</span></td><td style="text-align:center;width:120px"><span ng-if="list.enable">{{list.ticketCount}}</span> <span ng-if="!list.enable">-</span></td><td style="text-align:center;width:120px"><span ng-if="list.enable">{{list.requesterCount}}</span> <span ng-if="!list.enable">-</span></td><td class="text-right"><a ng-if="list.enable" ng-click="toWechatDetail(list.id,this)">编辑</a> <a ng-if="!list.enable" ng-click="enabled(this,true)">启用</a>&emsp;|&emsp; <a ng-if="!list.enable" ng-click="deleteWeChat(list)">删除</a> <a ng-if="list.enable" ng-click="enabled(this,false)">停用</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.workday.html",'<div style="float:left;display:inline;overflow:scroll;overflow:auto;height:auto" class="margin_left20px">{{contextPath}}<iframe ng-src="{{iframeSrc}}" frameborder="0" scrolling="no" id="workdayIframe" onload="iFrameHeight()"></iframe><script type="text/javascript">function iFrameHeight() {\r\n\tvar ifm= document.getElementById("workdayIframe");\r\n\tvar subWeb = document.frames ? document.frames["workdayIframe"].document : ifm.contentDocument;\r\n\tif(ifm != null && subWeb != null) {\r\n   \tifm.height = subWeb.body.scrollHeight;\r\n   \tifm.width = subWeb.body.scrollWidth;\r\n\t}\r\n}<\/script></div>');e.put("source/views/ticket/setting.workflow_template_edit.html",'<div class="setting-head-common"><div class="nav-title"><a ng-click="cancelEdit();">工作流 </a>》 <span ng-if="!$stateParams.id || $stateParams.id==0">添加工作流</span><span ng-if="$stateParams.id>0">{{workflowTemplate.name}}</span></div><oem-learn-more type="workflow_templet_edit" description="工作流节点只能是客服，相邻两个节点不能相同（不可以是同一个客服）。实际流转过程中，当某个节点置工单状态为Solved后，系统自动分派工单到<br/>下一个节点（xxx客服组/xxx客服），工单状态为Open而不是Solved。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/583" class="know-more"></oem-learn-more></div><h4 class="margin_left20px padding_top5px size13"><strong>工作流名称</strong></h4><div class="padding_left20px padding_right10px"><input class="form-control w500" type="text" ng-model="workflowTemplate.name" maxlength="50"></div><div class="margin_left20px padding_top20px"><select class="form-control w500" ng-model="workflowSelectInfo" ng-options="item.option for item in workflowSelectItems"></select></div><h5 class="margin_left20px padding_top5px size13"><strong>自定义流程</strong><tool-tip tip="questionTip" placement="right"></tool-tip></h5><div class="margin_left20px line_solid_02"></div><workflow-tree tree="workflowTemplate.rootNode" show-only="false"></workflow-tree><div class="margin_left20px padding_top40px line_solid_02"></div><div class="padding_top25px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="cancelEdit();">取消</button> <span class="padding_left15px"></span> <button class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="updateWorkflowNote();" ng-disabled="isClick">更新</button></div>');e.put("source/views/ticket/setting.workflow_templet.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>工作流</strong></p></div><oem-learn-more type="workflow_templet" description="工作流可实现工单的自动流转。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/583" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-click="switching(\'public\')" ng-if="edit" ng-class="{true: \'active\',false: \'\'}[displayPublic]">公共工作流（{{publicWorkflowTemplets.length}}）</li><li ng-click="switching(\'private\')" ng-class="{true: \'active\',false: \'\'}[displayPrivate]">私有工作流（{{privateWorkflowTemplets.length}}）</li></ul></div><div class="channel-box"><div class="table-box"><div class="table-responsive"><table class="table"><thead><tr><th style="width:250px;text-align:left">工作流名称</th><th class="text-right"><a class="add" href="javascript:void(0)" ng-click="toEditWorkflowTemplate(0,\'add\')">+ 添加工作流</a></th></tr></thead><tbody><tr ng-repeat="item in workflowTemplets track by item.id" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td style="width:250px;padding-top:12px"><a class="channel-name" ng-click="toEditWorkflowTemplate(item.id,\'modify\')" ng-bind="item.name"></a></td><td class="text-right" width="180px"><a ng-click="toEditWorkflowTemplate(item.id,\'copy\')">克隆</a>&emsp;|&emsp; <a ng-click="toEditWorkflowTemplate(item.id,\'modify\')">编辑</a>&emsp;|&emsp; <a ng-click="deleteWorkflowTemplate($index,item)">删除</a></td></tr></tbody></table></div></div></div>');e.put("source/views/ticket/setting.working_day.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>营业时间</strong></p></div><oem-learn-more type="automations_edit" description="设置你的营业时间，让客户知道何时请求服务将得到响应，并按照工作时段度量客服团队的工作绩效。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/585" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-click="switching(\'public\')" ng-class="{true: \'active\'}[displayPublic]">营业时间</li><li ng-click="switching(\'private\')" ng-class="{true: \'active\'}[displayPrivate]">工作日</li></ul><div ng-show="displayPublic" id="businessHours"><div style="width:887px;height:50px" class="margin_top60px margin_bottom20px"><div style="float:left"><p class="font_b padding_bottom10px">开启营业时段</p><span style="color:#999;font-size:12px">不设工作日意味着一年365日，每周7*24小时提供服务</span><div style="clear:both"></div></div><toggle-switch class="switch-container J_switchContainer" ng-model="workingTime.status" ng-click="saveWorkingTime()" on-label="开" off-label="关"><toggle-switch></toggle-switch></toggle-switch></div><div ng-show="workingTime && workingTime.status"><business-hours-week></business-hours-week><div class="padding_top55px line_solid_02"></div><div class="col-md-7 padding_top30px padding_left10px"><button type="button" class="btn btn-primary w100" ng-click="saveWorkingTime()">更新</button></div></div></div><div ng-show="!displayPublic" id="holidays" style="position:relative"><div class="calendar-wrap margin_top20px" style="width:520px;display:inline-block"><ewei-calendar holidays="holidayArray" current-year="currentYear" current-month="currentMonth" on-date-change="onDateChange($yearMonth, $date, $isHoliday)" on-year-month-change="onYearMonthChange($yearMonth)" saturday-as-holiday="saturdayAsHoliday" sunday-as-holiday="sundayAsHoliday"></ewei-calendar><p class="padding_top20px">点选日期切换工作日状态。黑色为工作日，红色非工作日</p></div><div style="position:absolute;top:180px;left:600px"><p><input type="checkbox" ng-model="saturdayAsHoliday" ng-true-value="true" ng-false-value="false"> 周六为非工作日</p><p class="padding_top20px"><input type="checkbox" ng-model="sundayAsHoliday" ng-true-value="true" ng-false-value="false"> 周日为非工作日</p></div><div class="padding_top55px line_solid_02"></div><div class="col-md-7 padding_top30px padding_left10px"><button type="button" class="btn btn-primary w100" ng-click="saveHolidays()">更新</button></div></div></div>');e.put("source/views/ticket/ticket-create.html","<div ui-view></div>");e.put("source/views/ticket/ticket.detail.html",'<div class="ticket-detail-panel"><header class="title"><group-user-ticket-chain ng-if="webchat==null" group="ticket.requester.userGroup" user="ticket.requester" ticket="ticket" webchat="webchat" active="ticket"></group-user-ticket-chain><group-user-ticket-chain ng-if="webchat!=null" group="webchat.user.userGroup" user="webchat.user" ticket="webchat.ticket" webchat="webchat" active="ticket"></group-user-ticket-chain><span class="pull-right app-button-wrapper"><ticket-detail-operation-button ticket="ticket" webchat="webchat" on-merge="merger()" on-delete="delete()" on-destroy="destroy()" on-convert-to-article="helpCenter()" on-convert-to-ticket-template="ticketTemplate()" on-print="print()" on-export-to-word="printWord(ticket.id)" on-export-to-pdf="printPDF(ticket.id)" on-recover-isolation="isolation()" on-cancel-delete="cancelDelete(ticket)"></ticket-detail-operation-button></span><div class="ticket-countdown-wrapper" ng-if="ticket.status != \'suspended\' && ticket.status != \'deleted\' && !ticket.deleted" ng-cloak><ticket-countdown-info ticket="ticket"></ticket-countdown-info></div><span class="pull-right ticket-href custom-main-font-color" ng-click="viewNextTicket();" ng-if="showNextTicketBtn">下一张<i class="iconfont">&#xe62f;</i></span> <span class="pull-right ticket-href custom-main-font-color" ng-class=\'{"ticket-btn-pre":showNextTicketBtn}\' ng-click="viewPreTicket();" ng-if="showpreTicketBtn"><i class="iconfont">&#xe7ec;</i>上一张</span></header><section class="body" ng-class="{\'with-custom-form\': showCustomForm}"><div class="panel-form"><ticket-form ticket="ticket" custom-form-fields="customFormFields" all-received-msg="allReceivedMsg" ticket-logs="ticketLogs"></ticket-form></div><div class="panel-form" ng-if="!!showCustomForm && customFormFields && customFormFields.length > 0"><ticket-custom-form ticket="ticket" custom-form-fields="customFormFields" custom-form-loading="customFormLoading" on-hide="toggleCustomForm(false)"></ticket-custom-form></div><div class="panel-expander" ng-if="customFormFields && customFormFields.length > 0" ng-class="{\'expanded\': showCustomForm}" ng-click="toggleCustomForm(!showCustomForm)"><div class="handle" title="显示/隐藏扩展表单"><i ng-if="!showCustomForm" class="fa fa-caret-right"></i> <i ng-if="showCustomForm" class="fa fa-caret-left"></i></div></div><div class="panel-detail" infinite-scroll="scrollLoadEvent();" response-ticket-detail><section class="js-ticket-title" style="background:#fff"><div class="flex" style="position:relative"><div class="chat-plug-promet-group" style="position:absolute;top:0;left:0;width:100%"><div class="input-group chat-plug-promet" ng-if="plugPrometStatus == \'download\'"><div class="text-center chat-download-control">未检测到远程协助组件，请下载安装 <span ng-click="downloadApplication()" class="btn-d" style="margin-left:20px">下载</span> <span class="btn-close" ng-click="closedownloadApplication()">关闭</span></div></div><div class="input-group chat-plug-promet" ng-if="plugPrometStatus == \'download-done\'"><div class="text-center chat-download-control">请安装已下载的组件，安装成功后提示将自动消失 <span class="btn-close" ng-click="closedownloadApplication()">关闭</span></div></div></div><div style="margin-left:10px;line-height:59px"><i class="fa" style="font-size:1.3em;cursor:pointer" ng-class="{\'fa-star-o\':!ticket.isTarget,\'fa-star color_yellow\':ticket.isTarget}" ng-click="star_target(ticket)"><ewei-start-show ticketsubscriptions="ticketsubscriptions" item="ticket"></ewei-start-show></i></div><div class="box_flex_1"><div class="padding10px" bindonce="ticket"><strong><input type="text" ng-model="ticket.subject" required maxlength="128" class="form-control" ng-class="{true: \'show_input\',false: \'hide_input\'}[displaySubjectView]" style="color:#4f5c69;font-size:13px" ng-mouseover="mouseoverName()" ng-mouseout="mouseoutName()" ng-blur="updateSubject();"> </strong><span class="text_overflow_hide" style="white-space:initial;max-height:20px;color:#9ea7b7"><span ng-bind="ticket.createdAt"></span> | <span ng-bind="ticket.requester.name"></span> <span ng-hide="!ticket.requester.mobilePhone && !ticket.requester.contactMobilePhone && !ticket.requester.email && !ticket.requester.contactEmail">&lt; </span><span ng-if="ticket.requester.mobilePhone || ticket.requester.contactMobilePhone" ng-class="{\'custom-main-font-color\': ticket.requester.mobilePhone}"><i class="iconfont">&#xe614;</i><span ng-bind="ticket.requester.mobilePhone?ticket.requester.mobilePhone:ticket.requester.contactMobilePhone"></span>&nbsp;&nbsp; </span><span ng-if="ticket.requester.email || ticket.requester.contactEmail" ng-class="{\'custom-main-font-color\': ticket.requester.email}"><i class="iconfont">&#xe613;</i>&nbsp;<span ng-bind="ticket.requester.email?ticket.requester.email:ticket.requester.contactEmail"></span> </span><span ng-hide="!ticket.requester.mobilePhone && !ticket.requester.contactMobilePhone && !ticket.requester.email && !ticket.requester.contactEmail">&gt; </span><span ng-if="ticket.status!=\'closed\'&&!ticket.deleted&&ticket.status!=\'deleted\'&&ticket.status!=\'suspended\'"></span> | &lt;<span ng-bind="ticket.via.channelName"></span> &gt; &lt;<a class="custom-main-font-color" ng-href="{{ticket.via.source | hrefSetMark}}" target="_blank">{{ticket.via.source}}</a>&gt;</span></div></div></div><div class="alert alert-warning" role="alert" ng-if="ticket.status==\'pending\' && !ticket.deleted && latestTicketSla" ticket-sla-tip-bar sla="latestTicketSla" type="pending"></div><div class="alert alert-warning with-actions" ng-if="ticket.status==\'solved\' && !ticket.deleted"><span role="alert" ticket-sla-tip-bar sla="latestTicketSla" type="solved"></span></div><div class="more-actions" ng-if="ticket.status==\'solved\' && !ticket.deleted"><div class="action split-line" ng-show="hasReviewOrReply"><div><ticket-review-button style="margin-right:20px" has-permission="ticket_review"></ticket-review-button><ticket-reset-button has-permission="ticket_reply"></ticket-reset-button></div><span>如无变更，系统将自动关闭此工单</span></div><div class="action split-line" has-permission="ticket_reply"><div><ticket-append-log-button></ticket-append-log-button></div><span>追加工单回复</span></div><div class="action split-line" has-permission="project_create"><div><ticket-create-project-button></ticket-create-project-button></div><span>发现问题、需求或商机？<br>创建项目，用超级看板进行管理</span></div><div class="action" has-permission="ticket_reply"><div><ticket-create-solution-button></ticket-create-solution-button></div><span>为工单增加解决方案</span></div></div><div class="alert alert-warning" role="alert" ng-if="ticket.status==\'closed\' && !ticket.deleted">工单已于{{ticket.ticketMetric.closedAt|date_toLocale_string}}关闭。</div><div class="alert alert-warning" role="alert" ng-if="ticket.status==\'deleted\' || ticket.deleted"><span ng-if="ticket.deleteType==\'manual\'">{{ticket.deleter.user.name}} 于 {{ticket.deletedAt|date_toLocale_string}} 删除此工单。</span> <span ng-if="ticket.deleteType==\'merger\'">{{ticket.deletedAt}}，{{ticket.deleter.user.name}} 合并此工单到 <a class="c75 custom-main-font-color" ng-click="ticketDetailByNo(ticket.deleteReason.substring(1))">{{ticket.deleteReason}}</a>。 </span><span ng-if="ticket.deleteType==\'automation\'">系统于{{ticket.deletedAt|date_toLocale_string}}删除此工单。</span> <span ng-if="!ticket.deleteType">工单已删除。</span></div><div class="alert alert-warning" role="alert" ng-if="ticket.status==\'suspended\' && !ticket.deleted">工单被隔离。</div><div class="padding10px margin_right5px" ng-class="{\'hide\':!showReply}" style="padding-top:0" ng-show="ticket.status!=\'closed\'&&!ticket.deleted && ticket.status!=\'deleted\' && ticket.status!=\'solved\' && ticket.status!=\'suspended\'"><ticket-reply-box-template></ticket-reply-box-template></div></section><ticket-log ticketid="{{ticket.id}}" ticketno="{{ticket.no}}" ticket-logs="ticketLogs" all-received-msg="allReceivedMsg" class="js-ticket-content"></ticket-log><div class="js-ticket-back-top" style="position:fixed;right:20px;bottom:20px;width:40px;height:40px;opacity:.3;background:#000;color:#fff;text-align:center;cursor:pointer;display:none"><i class="fa fa-angle-double-up fa-4x"></i></div></div><div class="app-view" ng-click="showSearchList($event)" ng-class="{expanded:appVisiable}"><button ng-if="!$scope.ticket.deleted && $scope.ticket.status!=\'deleted\' && $scope.ticket.status!=\'closed\' && $scope.ticket.status!=\'deleted\' && $scope.ticket.status!=\'suspended\' && $scope.ticket.status!=\'solved\'" has-module="remote_help" ng-disabled="webchat!=null" type="button" class="btn btn-default btn-apps" ng-class="{expanded:appVisiable}" ng-click="sidebar($event);"><i class="icon iconfont">&#xe744;</i> <i class="name iconfont">&#xe746;</i> <i class="state iconfont">{{appVisiable?\'&#xe741;\':\'&#xe742;\'}}</i></button><div ui-view ng-show="appVisiable"></div></div></section></div>');e.put("source/views/ticket/ticket.new.html",'<div class="ticket-detail-panel ticket-new"><header><div class="title"><ticket-template-select ticket="newTicket" custom-form-fields="customFormFields" class="" style="display:inline-block"></ticket-template-select><div class="pull-right"><span class="batch-tip" ng-if="newTicket.createType === \'batch-customer\'" style="margin-right:20px;font-size:13px">将多个客户的相同事务，一次性分派给客服人员处理 </span><span class="batch-tip" ng-if="newTicket.createType === \'batch-engineer\'" style="margin-right:20px;font-size:13px">将相同的任务，一次性分派给多个客服/客服组</span></div></div></header><section class="body" ng-class="{\'with-custom-form\': showCustomForm}"><div class="panel-form"><ticket-form ticket="newTicket" new-ticket-form="true" hide-requester="newTicket.createType === \'batch-customer\'" hide-handle="newTicket.createType === \'batch-engineer\'"></ticket-form></div><div class="panel-expander" ng-if="customFormFields && customFormFields.length > 0" ng-class="{\'expanded\': showCustomForm}" ng-click="toggleCustomForm(!showCustomForm)"><div class="handle" title="显示/隐藏扩展表单"><i ng-if="!showCustomForm" class="fa fa-caret-right"></i> <i ng-if="showCustomForm" class="fa fa-caret-left"></i></div></div><div class="panel-form" ng-if="!!showCustomForm && customFormFields && customFormFields.length > 0"><ticket-custom-form ticket="newTicket" custom-form-fields="customFormFields" custom-form-loading="customFormLoading" on-hide="toggleCustomForm(false)"></ticket-custom-form></div><div class="batch-customer-panel" ng-class="{\'with-custom-form\': customFormFields && customFormFields.length > 0 ,\'custom-form-expanded\': showCustomForm}" ng-if="newTicket.createType === \'batch-customer\'"><customer-select customers="newTicket.selectedCustomers" max-count="1000"></customer-select></div><div class="batch-customer-panel" ng-class="{\'with-custom-form\': customFormFields && customFormFields.length > 0 ,\'custom-form-expanded\': showCustomForm}" ng-if="newTicket.createType === \'batch-engineer\'"><handle-select select-handles="newTicket.selectedEngineers"></handle-select></div><div class="panel-detail"><div class="chat-plug-promet-group" style="position:absolute;top:0;left:0;width:100%"><div class="input-group chat-plug-promet" ng-if="plugPrometStatus == \'download\'"><div class="text-center chat-download-control">未检测到远程协助组件，请下载安装 <span ng-click="downloadApplication()" class="btn-d" style="margin-left:20px">下载</span> <span class="btn-close" ng-click="closedownloadApplication()">关闭</span></div></div><div class="input-group chat-plug-promet" ng-if="plugPrometStatus == \'download-done\'"><div class="text-center chat-download-control">请安装已下载的组件，安装成功后提示将自动消失 <span class="btn-close" ng-click="closedownloadApplication()">关闭</span></div></div></div><div class="box0 c00 border0 padding10px form-wrap"><form name="addTicketForm" id="addTicketForm" class="css-form" novalidate><div class="form-group"><label>{{systemFieldSubject.title}} <span ng-if="systemFieldSubject.required" class="required">*</span></label><ewei-ticket-subject-auto-complete subject="newTicket.subject" placeholder="systemFieldSubject.notes"></ewei-ticket-subject-auto-complete></div><div class="form-group" style="margin-bottom:6px"><label>{{systemFieldTicketdescription.title}} <span ng-if="systemFieldTicketdescription.required" class="required">*</span></label><ticket-newcreate-box-template id="ticketContent"></ticket-newcreate-box-template></div><quick-knowledge-tip text-message="newTicket.ticketComment.content" focus-area-id="ticketContent" hide-send-knowledge="true"></quick-knowledge-tip><div style="margin-top:14px"><ticket-submit-button ticket="newTicket" save="save(_status)" custom-form-fields="customFormFields" disabled="replying" uploading="uploading"></ticket-submit-button></div></form></div></div></section></div>');e.put("source/views/ticket/ticket_pickup_resource.html",'<form name="selectResourceForm" id="selectResourceForm"><div class="artlist size13" ng-if="!showNoResource" style="height:450px;overflow-y:scroll;overflow-x:hidden"><div><ul style="list-style:none"><li style="margin-top:20px;line-height:5px" ng-repeat="catalog in catalogs track by $index"><strong ng-click="catalogCollapse(catalog)"><a href="javascript:void(0)"><span class="glyphicon" ng-class="{ \'glyphicon-chevron-right\': catalog.collapse, \'glyphicon-chevron-down\': !catalog.collapse }"></span> {{catalog.name}}（{{catalog.resources.length}}）</a></strong><p style="margin-top:20px" class="line_solid_02"></p><div class="box_flex_1" ui-sortable="sortableOptions" ng-model="catalog.resources" ng-if="!catalog.collapse"><div ng-repeat="resource in catalog.resources track by $index" id="{{catalog.id}}_{{resource.id}}"><div class="margin_left3px margin_right10px padding_top15px padding_bottom15px"><div><span style="padding-left:20px"><a style="color:#1e8cce" href="javascript:void(0)" ng-click="selectResource(resource);">{{resource.name}}</a></span></div></div></div></div></li></ul></div></div><div style="text-align:center" ng-if="showNoResource"><span style="color:red">无可用资源</span><div><img src="source/images/daoru11.jpg" style="border:1px dashed #CAC4C4;margin-top:20px;margin-bottom:20px;cursor:pointer" ng-click="addResource()"></div><span>请先为你的社区帮助中心添加资源</span></div></form>');e.put("source/views/ticket/ticket_templates.html",'<div class="modal-inner-content"><div class="form-group"><select multiple="multiple" class="form-control" ng-model="ticketTemplateId"><option ng-repeat="ticket_template in ticket_templates track by $index" value="{{ticket_template.id}}">{{ticket_template.name}}</option></select></div></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="selectedTicketTemplate(ticketTemplateId)">保存</button> <button type="button" class="btn btn-default" ng-click="$hide()">取消</button></div>');e.put("source/views/ticket/ticket_type_add.html",'<form name="newTicketTypeForm"><div class="modal-inner-content"><input type="hidden" ng-model="newTicketType.id"><div class="form-group"><label>工单类型 :</label><input type="text" ng-model="newTicketType.name" class="form-control ng-valid ng-dirty" maxlength="60"><label>说明:</label><textarea ng-model="newTicketType.description" class="form-control ng-valid ng-dirty"></textarea></div></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">取消</button> <button type="button" class="btn btn-primary" ng-click="$save(newTicketType)" ng-disabled="isClick">保存</button></div></form>');e.put("source/views/ticket/ticket_workflow_assign.html",'<tabset><tab heading="引用模板"><div class="modal-inner-content"><div class="form-group"><select multiple="multiple" class="form-control" ng-model="workflowTemplateId"><option ng-repeat="workflow_template in workflow_templates track by $index" value="{{workflow_template.id}}">{{workflow_template.name}}</option></select></div></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="selectWorkflowTemplate(workflowTemplateId)">保存</button> <button type="button" class="btn btn-default" ng-click="$hide()">取消</button></div></tab><tab heading="编辑工作流"><div class="modal-inner-content" id="node" ng-repeat="node in nodes track by $index"><div class="form-group" id="work-flow-node"><label class="inline_block" style="width:20%">节点({{node}}) :</label><select ng-model="workFlowEngineerId[node]" class="inline_block form-control" style="width:60%" ng-model="a"><option ng-repeat="engineer in engineers track by $index" value="{{engineer.id}}">{{engineer.nickname}}</option></select></div></div><div class="modal-footer"><a class="btn" ng-click="addNode()">添加节点</a> <button type="button" class="btn btn-primary" ng-click="addWorkflow(workFlowEngineerId)">保存</button> <button type="button" class="btn btn-default" ng-click="$hide()">取消</button></div></tab></tabset>');e.put("source/views/ticket/view.detail.html",'<div class="title clearfix"><h5><strong bindonce="view">{{view.title|translate}} {{$groups}}</strong> <button type="button" class="btn btn-link" ng-show="!defaultSorting" ng-click="clearSorting();" style="padding-top:0;padding-bottom:0"><small style="color:#428bca">恢复默认排序</small></button></h5><ewei-question description="view.description"></ewei-question><div ng-if="selectedTicketIds.length===0" class="btn-group margin10px pull-right padding_right10px padding_top5px"><input type="button" class="btn" ng-class="{\'btn-default\': selectedTicketIds.length ==0, \'btn-confirm\': selectedTicketIds.length>0}" value="逐条查看" ng-click="viewTicketList()"> <button type="button" class="btn dropdown-toggle" ng-class="{\'btn-default\': selectedTicketIds.length ==0, \'btn-confirm\': selectedTicketIds.length>0}" style="min-width:20px;border-radius:0 4px 4px 0" data-toggle="dropdown"><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu dropdown-menu-right" role="menu"><li has-permission="ticket_view_manage"><a ng-click="editList();">编辑列表</a></li><li role="presentation" class="divider"></li><li has-permission="ticket_export"><a ng-click="exportExcel(\'sql\');">导出Excel</a></li></ul></div><div class="btn-group margin10px pull-right padding_right10px padding_top5px" ng-if="tickets.length&&selectedTicketIds.length&&(view.title == \'VIEW_TITLE_TICKET_SUSPENDED\')"><button ng-click="isolation();" class="btn" ng-class="{\'btn-default\': selectedTicketIds.length ==0, \'btn-confirm\': selectedTicketIds.length>0}">移出隔离区</button></div><div class="btn-group pull-right padding_top5px" ng-if="tickets.length&&selectedTicketIds.length !=0 && view.title == \'VIEW_TITLE_TICKET_DELETED\'" has-permission="ticket_delete"><input type="button" class="btn" ng-class="{\'btn-default\': selectedTicketIds.length ==0, \'btn-confirm\': selectedTicketIds.length>0}" value="批量删除" ng-click="batchDeleteTicketList()"></div><div class="btn-group margin10px pull-right padding_right10px padding_top5px" uib-dropdown ng-if="tickets.length&&selectedTicketIds.length&&!(view.title == \'VIEW_TITLE_TICKET_DELETED\'||view.title == \'VIEW_TITLE_TICKET_SUSPENDED\')"><button type="button" class="btn" ng-class="{\'btn-default\': selectedTicketIds.length ==0, \'btn-confirm\': selectedTicketIds.length>0}" ng-click="deleteTickets();">删除工单</button> <button type="button" class="btn dropdown-toggle" ng-class="{\'btn-default\': selectedTicketIds.length ==0, \'btn-confirm\': selectedTicketIds.length>0}" uib-dropdown-toggle><span class="caret"></span> <span class="sr-only">Split button!</span></button><ul class="dropdown-menu" role="menu" aria-labelledby="split-button" style="min-width:115px" uib-dropdown-menu><li has-permission="ticket_merge" role="menuitem"><a href="#" ng-click="mergeTickets();">合并工单</a></li></ul></div><div class="btn-group margin10px pull-right padding_right10px padding_top5px" ng-if="tickets.length&&selectedTicketIds.length&&!(view.title == \'VIEW_TITLE_TICKET_DELETED\'||view.title == \'VIEW_TITLE_TICKET_SUSPENDED\')"><span ng-click="$parent.clearCheckBoxs();" class="btn-clear">取消选中</span></div><div class="title-box padding_top5px padding_right10px pull-right" ng-if="selectedTicketIds.length == 0" ng-show="hideTitle!==\'true\'"><div class="search-box"><input type="button" value="清除搜索条件" ng-show="argument.searchType!=null" ng-click="clearSearch();" class="tip"><div class="input-group"><input type="text" class="form-control txt" placeholder="{{placeholder}}" ng-model="argument.searchKey" ng-enter="search()"> <span class="input-group-addon" style="cursor:pointer" ng-click="search()" ng-style="(argument.searchKey!=null&&argument.searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span><div class="input-group-btn"><button type="button" class="btn btn-default" data-toggle="modal" data-target="#queryModal" data-placement="bottom" data-animation="am-flip-x" style="background-color:#eee;height:34px" ng-click="switchTemplateState()"><span class="caret"></span></button><ticket-advanced-query ng-if="view.type==\'ticket\'"></ticket-advanced-query><user-advanced-query ng-if="view.type==\'user\'"></user-advanced-query></div></div></div></div></div><eweitickettable></eweitickettable><div class="ticket-loading" ng-if="!view || (tableParams.total()==0 && tableParams.isTicketLoading)"><img src="/source/images/ajax-loader.gif"></div>');e.put("source/views/ticket/view.html",'<style>a:active,a:focus,a:hover{outline:0;-moz-outline:none}</style><div id="main_panes"><section class="main_panes layoutB" style=""><div class="pane left"><div class="title"><h5 style="padding-left:8px"><strong>工单列表</strong></h5><h5 class="pull-right padding_right10px" style="-moz-padding-end:22px"><a href="javascript:void(0);" class="iconfont" ui-sref="system_setting.detail({uri:\'ticket_list_custom\',settingType:\'ticket\'})" style="text-decoration:none;display:inline-block;font-size:15px;color:#6e7b8f;margin-right:20px">&#xe752;</a> <a href="javascript:void(0);" class="iconfont" ng-click="refreshViewList();" ng-style="transform" style="text-decoration:none;display:inline-block;transition:transform 1s;font-size:15px;color:#6e7b8f">&#xe753;</a></h5></div><div class="list box99"><div class="line_solid_02"><div class="list-group margin10px ticket-view-list" uib-collapse="isCollapsed" ng-sortable="sortOptions"><a ng-click="ticketListBuried(ticketview.title)" ui-sref="ticket_views.detail({id:ticketview.id})" ui-sref-active="box02" class="block padding10px20px" ng-class="{\'box02\':ticketview.id === currentActiveViewId}" ng-repeat="ticketview in views track by ticketview.id" has-permission="{{::ticketview.permission}}"><i class="iconfont sort-handle" title="拖动排序">&#xe71d;</i> <i class="glyphicon glyphicon-star view-icon" style="color:#f30" ng-if="ticketview.title==\'VIEW_TITLE_TICKET_SUBSCRIPTION\'"></i> <i class="fa fa-circle view-icon" style="color:#f30" ng-if="ticketview.title==\'VIEW_TITLE_TICKET_NEW\'"></i> <i class="fa fa-circle view-icon" style="color:#f90" ng-if="ticketview.title==\'VIEW_TITLE_TICKET_ASSIGNED_MY\'"></i> <span style="display:flex"><span class="ellipsis" style="flex:1;margin-right:16px"><span ng-if="true == ticketview.isSystemDefault && ticketview.title!=\'VIEW_TITLE_TICKET_ASSIGNED_MY\' && ticketview.title != \'VIEW_TITLE_TICKET_NEW\'" title="{{ticketview.displayTitle}}" ng-bind="ticketview.displayTitle"></span> <span ng-if="true == ticketview.isSystemDefault && ticketview.title==\'VIEW_TITLE_TICKET_ASSIGNED_MY\'" title="待我确认的派单（立即接单）">待我确认的派单<span class="text-muted">（立即接单）</span></span> <span ng-if="true == ticketview.isSystemDefault && ticketview.title==\'VIEW_TITLE_TICKET_NEW\'" title="未分派的工单（抢单）">未分派的工单<span class="text-muted">（抢单）</span></span> <span ng-if="false == ticketview.isSystemDefault" ng-bind="ticketview.title" title="{{ticketview.title}}"></span> </span><span style="flex:none" ng-bind="ticketview.count"></span></span></a></div></div><div class="ticket-loading" ng-if="loading && views.length === 0"><img src="/source/images/ajax-loader.gif"></div></div></div><div class="pane right" style="overflow-y:auto" ui-view></div></section></div>');e.put("source/webchat/template/deleteChat.html",'<div class="modal-inner-content confirm-content"><p>{{modalTip}}</p></div><div class="clearfix"><button type="button" class="btn btn-cancel pull-right" ng-click="$hide();">取消</button> <button type="button" class="btn btn-confirm margin_right20px pull-right" ng-click="$ok()" ng-disabled="disabled">确认</button></div>');e.put("source/webchat/template/webchat-detail.html",'<div class="detail-outside"><header class="chat-history-navbar" ng-if="mode===\'history\'"><div class="left-box"><span class="title">{{ webchat.firstMessage }}</span></div><div class="nav-wrap"><a ng-if="showPrevButton" class="btn-prev custom-link-color" ng-click="gotoHistory(-1)">上一个</a> <a ng-if="showNextButton" class="btn-next custom-link-color" ng-click="gotoHistory(1)">下一个</a></div></header><div class="detail-inside"><div class="detail"><div class="header"><div class="section-1"><div class="user-info"><div class="avatar" ng-if="webchat" title="{{webchat.userOnline?\'\': \'访客已离线，你发送的消息对方收不到\'}}"><image-show imageurl="{{webchat.user.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w40 h40 img-circle" editable="false"></image-show><div ng-if="!webchat.userOnline" class="img-off-line-back"></div></div><div class="name-list"><p class="name ellipsis">{{webchat.user.name?webchat.user.name:webchat.user.nickname}}</p><div ng-if="webchat.userOnline"><span class="status online"></span> 在线</div><div ng-if="!webchat.userOnline"><span class="status off-line"></span> 离线</div></div></div><div class="time" ng-if="webchat && webchat.status !== \'new\'">会话时长：<b ng-bind="webchat.time"></b></div><div class="time" ng-if="webchat && webchat.status === \'new\'">排队时长：<b ng-bind="webchat.time"></b></div><div class="hander"><div class="ellipsis" ng-if="webchat.engineer">接待客服：<span ng-bind="webchat.engineer.user.name?webchat.engineer.user.name:webchat.engineer.user.nickname"></span></div></div></div><div class="section-2"><div class="tab"><div ng-click="changeTab(\'log\')" ng-class="{\'active\':webchatTab === \'log\'}" class="tab-item">聊天</div><div ng-click="changeTab(\'people\')" ng-class="{\'active\':webchatTab === \'people\'}" class="tab-item">成员</div><div ng-click="changeTab(\'record\')" ng-class="{\'active\':webchatTab === \'record\'}" class="tab-item">互动记录</div></div><div class="btns"><webchat-button-group ng-if="webchat && webchat.chatStatus !== \'closed\'" webchat="webchat" webchat-core="webchatCore"></webchat-button-group></div></div></div><div class="logs" ng-show="webchatTab === \'log\'" ticket-image-view keep-scroll><webchat-logs log-lists="webchat.chatLogs" webchat="webchat" webchat-core="webchatCore"></webchat-logs></div><div class="logs" ng-if="webchatTab === \'people\'"><webchat-people webchat-core="webchatCore"></webchat-people></div><div class="logs" ng-show="webchatTab === \'record\'" ticket-image-view><webchat-record ng-if="webchat" webchat-core="webchatCore" webchat="webchat"></webchat-record></div><div class="reply-box" ng-show="webchatTab === \'log\'"><webchat-reply-box ng-if="webchat && webchat.status !== \'closed\' && webchat.status !== \'new\' && !(!webchat.myRoleName || (webchat.myRoleName && webchat.iquit))" webchat="webchat" webchat-core="webchatCore"></webchat-reply-box><div class="input-group chat-input-group" ng-if="webchat.chatStatus == \'closed\' && mode != \'history\'"><div class="text-center chat-download-control">会话已关闭 <span class="btn-d" ng-click="closeWebchatWindow()">确定</span></div></div><div class="input-group chat-input-group" ng-if="webchat.chatStatus == \'chat_transfer\'"><div class="text-center chat-download-control">{{webchat.engineer.name}}已强制转接会话 <span class="btn-d" ng-click="closeReplyShadow()">确认</span></div></div></div><div class="chat-plug-promet-group"><div class="input-group chat-plug-promet" ng-if="webchat.remotePlugStatus == \'download\'"><div class="text-center chat-download-control">未检测到远程协助组件，请下载安装 <span ng-click="downloadApplication()" class="btn-d" style="margin-left:20px">下载</span> <span class="btn-close" ng-click="closedownloadApplication()">关闭</span></div></div><div class="input-group chat-plug-promet" ng-if="webchat.remotePlugStatus == \'download-done\'"><div class="text-center chat-download-control">请安装已下载的组件，安装成功后提示将自动消失 <span class="btn-close" ng-click="closedownloadApplication()">关闭</span></div></div><div class="input-group chat-plug-promet" ng-if="webchat.remotePlugStatus == \'lack-plug\'"><div class="text-center chat-download-control">对方还未安装远程协助组件，请稍后再试... <span ng-click="giveUpRemoteDesk(\'remote_desk\')" class="btn-d" style="margin-left:20px">取消</span></div></div><div class="input-group chat-plug-promet" ng-if="webchat.remotePlugStatus == \'desk-requesting\'"><div class="text-center chat-download-control">您正在请求控制对方的电脑，请等待对方回应... <span ng-click="giveUpRemoteDesk(\'remote_desk\')" class="btn-d" style="margin-left:20px">取消</span></div></div><div class="input-group chat-plug-promet" ng-if="webchat.remotePlugStatus == \'desk-accept\'"><div class="text-center chat-download-control">对方接受了您的远程协助请求 <span ng-click="giveUpRemoteDesk(\'remote_desk\')" class="btn-d" style="margin-left:20px">取消</span></div></div><div class="input-group chat-plug-promet" ng-if="webchat.remotePlugStatus == \'video-requesting\'"><div class="text-center chat-download-control">您正在邀请对方视频通话，请等待对方回应... <span ng-click="giveUpRemoteDesk(\'video_call\')" class="btn-d" style="margin-left:20px">取消</span></div></div><div class="input-group chat-plug-promet" ng-if="webchat.remotePlugStatus == \'video-accept\'"><div class="text-center chat-download-control">对方接受了您的视频通话邀请 <span ng-click="giveUpRemoteDesk(\'video_call\')" class="btn-d" style="margin-left:20px">取消</span></div></div></div></div><webchat-user-ticket ng-if="webchat" webchat="webchat" webchat-core="webchatCore"></webchat-user-ticket></div></div>');e.put("source/webchat/template/webchat-history.html",'<div class="webchat"><div ui-view class="detail-wrap"></div></div>');e.put("source/webchat/template/webchat-list-history.html",'<div class="webchat-list-history"><div class="head"><div class="title-box"><span class="text dropdown-toggle" data-toggle="dropdown">{{historyModel.title}} <i class="iconfont icon">&#xe60e;</i></span><ul class="dropdown-menu" style="top:40px"><li ng-if="historyModel.type === \'untreated\'"><a ui-sref="webchat-history.list({type:\'end\'})">已结束会话</a></li><li ng-if="historyModel.type === \'end\'"><a ui-sref="webchat-history.list({type:\'untreated\'})">漏接的会话</a></li></ul><img width="24" ng-if="historyModel.isLoading" src="/source/quick_entry/images/loading.gif"></div><div ng-if="!historyModel.deleteHistoryList.length" class="webchat-search-tools"><ul><li ng-click="dateSearch(item.days)" ng-repeat="item in historyModel.searchParams track by item.days" ng-class="{\'active\': (item.startDate.format(\'YYYY/MM/DD\') ===  argument.startDate.format(\'YYYY/MM/DD\')) && (item.endDate.format(\'YYYY/MM/DD\') === argument.endDate.format(\'YYYY/MM/DD\'))}">{{item.name}}</li><li><ng-webchat-date-range date-range="historyModel.dateRange" class="date-input"></ng-webchat-date-range></li></ul><div class="btn btn-clear" style="color:#428bca;box-shadow:none" ng-click="clearSearch()" ng-if="viewType==\'end\' && (argument.searchKey || argument.chatQuery)">清除搜索条件</div><div class="ewei-search-container"><ewei-search clear-enabled="viewType!=\'end\' && argument.searchKey" searchkey="argument.searchKey" advanced-query-enabled="viewType == \'end\'" searchmethods="searchChatList()" adv-search-method="advSearch()" clear-search="clearSearch()" placeholderval="{{historyModel.placeholderVal}}" advanced-query-condition="advancedQueryCondition"></ewei-search></div><div class="export"><a class="custom-main-font-color" ng-click="exportHistoryData()" title="导出当前数据"><i class="icon iconfont">&#xe744;</i> 导出</a></div></div><div ng-if="historyModel.deleteHistoryList.length" class="delete-chat" has-permission="chat_delete"><a class="btn btn-primary" ng-click="deleteChat()">删除选中</a><div><span>已选：{{historyModel.deleteHistoryList.length}}</span> <a ng-click="cancleChecked()">取消选中</a></div></div></div><div class="ewei-table" style="background-color:#fff;top:46px" ng-class="{\'no-pager\': tableParams.total()==0}"><div ng-click="historyModel.showSettingBox = true" ng-mouseenter="hoverEffect = true" ng-mouseleave="hoverEffect = false" ng-class="{\'custom-main-font-color\':hoverEffect}" class="chat-table-header-setting"><span><i class="iconfont">&#xe639;</i>设置</span></div><div class="data-area"><table ng-table="tableParams" ewei-table-auto-rows="setRows" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th style="width:25px;padding:13px 0" ng-if="historyModel.historyList.length > 0"><input type="checkbox" ng-model="historyModel.isCheckedAll" ng-change="selectAllCheckbox(historyModel.isCheckedAll)"></th><th class="text-left {{item.widthClass}}" ng-repeat="item in historyModel.columnsFields track by $index" ng-class="{\r\n              \'sort-asc\': tableParams.isSortBy(item.field, \'asc\'),\r\n              \'sort-desc\': tableParams.isSortBy(item.field, \'desc\'),\r\n              \'sortable\': item.sortable\r\n            }" ng-click="sorting(item)" ng-if="item.default || item.active" ewei-custom-column-width="item" column-type="\'chat.end\'"><span>{{item.title}}<span class="sort-indicator"></span></span></th><th ng-if="historyModel.type === \'untreated\'" class="text-left" style="min-width:150px"><span>操作</span></th></tr></thead><tbody ng-if="tableParams.total()==0"><tr><td><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="tableParams.total()>0"><tr ng-repeat="item in historyModel.historyList track by $index"><td><input type="checkbox" ng-model="historyModel.deleteHistory[item.id]" ng-change="selectSingleCheckbox(item.id)"></td><td ng-repeat="column in historyModel.columnsFields track by $index" ng-if="column.default||column.active" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="\'chat.end\'"><span ng-switch-when="2" ng-switch="column.field"><span ng-switch-when="serviceDesk.name" ng-bind="item.serviceDesk.name | translate | nullStringFilter" title="{{item.serviceDesk.name | translate | nullStringFilter}}"></span> <span ng-switch-when="chatEvaluation.solved" ng-bind="item.chatEvaluation.solved | evaluateValueFilter:\'firstQuestion\'" title="{{item.chatEvaluation.solved | evaluateValueFilter:\'firstQuestion\'}}"></span> <span ng-switch-when="chatEvaluation.score" ng-bind="item.chatEvaluation.score | evaluateValueFilter" title="{{item.chatEvaluation.score | evaluateValueFilter}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1] | nullStringFilter" title="{{item[column.field0][column.field1]}}"></span> </span><span ng-switch-when="3" ng-switch="column.field"><span ng-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2]}}"></span> </span><span ng-switch-default ng-switch="column.field"><span ng-switch-when="waitTime" ng-bind="item.waitTime | secondToTimeCh | nullStringFilter"></span> <span ng-switch-when="chatTime" ng-bind="item.chatTime | secondToTimeCh | nullStringFilter"></span> <span ng-switch-when="firstMessage" title="{{item.firstMessage}}"><a ng-if="historyModel.type === \'end\'" class="custom-main-font-color" ui-sref="webchat-history.detail({id:item.id, key: historyModel.type})" ng-bind="item.firstMessage"></a> <a ng-if="historyModel.type !== \'end\' && item.ticketId" class="custom-main-font-color" ui-sref="tickets_detail({id:item.ticketId})" ng-bind="item.firstMessage"></a> <span ng-if="historyModel.type !== \'end\' && !item.ticketId" ng-bind="item.firstMessage"></span> </span><span ng-switch-when="participants" ng-bind="item.participants | participantsFilter" title="{{item.participants | participantsFilter}}"></span> <span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td><td ng-if="historyModel.type === \'untreated\'" style="text-align:left;min-width:150px"><span style="cursor:pointer" class="custom-main-font-color" ng-click="deleteChat([item.id])" has-permission="chat_delete">删除</span> &nbsp; <span ng-if="!item.ticketId" style="cursor:pointer" class="custom-main-font-color" ng-click="chatToTicket(item)">生成工单</span></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div><div class="setting-fileds-box" ng-show="historyModel.showSettingBox"><ul><li ng-click="selectColumn(item)" ng-repeat="item in historyModel.columnsFields track by $index">{{item.title}}<i ng-if="item.default || item.active" class="iconfont custom-main-font-color">&#xe640;</i></li></ul><div class="button-group"><button type="button" class="btn btn-primary btn-sm w100" ng-click="settingFields();">确定</button> <a class="btn" ng-click="cancelSettingFields()">取消</a></div></div></div><style>.ranges{clear:both}</style>');e.put("source/webchat/template/webchat-list-view.html",'<div class="detail-inside"><div class="instruction"><p><i class="iconfont">&#xe7a0;</i></p><p class="text">请左侧选择一个会话，如果没有可以试试手动刷新一下！</p></div></div>');e.put("source/webchat/template/webchat-list.html",'<div class="webchat"><div class="chat-list-wrap"><div class="chat-list-panel"><header><span class="title">会话</span> <span class="refresh-handle" ng-class="{active: refreshing}" title="刷新" ng-click="refresh()"><i class="iconfont">&#xe753;</i></span> <a class="history-btn" ui-sref="webchat-history"><i class="iconfont">&#xe7c5;</i>历史会话</a></header><div class="nav-tab"><div class="tab-item" ng-class="{\'active\': listType === \'waiting\'}" ng-click="switchList(\'waiting\')">排队中 <span class="num" ng-if="webchatCount">{{ webchatCount.waitingCount || 0 }}</span></div><div class="tab-item" ng-class="{\'active\': listType === \'processing\'}" ng-click="switchList(\'processing\')">我的会话 <span class="num" ng-if="webchatCount">{{ webchatCount.participatedCount || 0}}</span></div><div class="tab-item" ng-class="{\'active\': listType === \'visiable\'}" ng-click="switchList(\'visiable\')">会话监听 <span class="num" ng-if="webchatCount">{{ webchatCount.visibleCount || 0}}</span></div></div><div class="chat-list chat-list-wating" ng-if="listType === \'waiting\'"><div class="chat-list-search"><ewei-search clear-enabled="webchatWaitModel.searchKey" searchkey="webchatWaitModel.searchKey" searchmethods="searchChatList()" clear-search="clearSearch(\'wait\')" placeholderval="{{webchatWaitModel.placeholderVal}}"></ewei-search></div><webchat-list chat-list="chatList" type="waiting" active-chat-id="activeChatId" on-accept-chat="acceptChat(chatId)"></webchat-list></div><div class="chat-list chat-list-processing" ng-if="listType === \'processing\'"><div class="chat-list-search"><ewei-search clear-enabled="webchatListModel.searchKey" searchkey="webchatListModel.searchKey" searchmethods="searchChatList()" clear-search="clearSearch(\'processing\')" placeholderval="{{webchatListModel.placeholderVal}}"></ewei-search></div><webchat-list chat-list="chatList" type="processing" active-chat-id="activeChatId"></webchat-list></div><div class="chat-list chat-list-visiable" ng-if="listType === \'visiable\'"><div class="chat-list-search"><ewei-search clear-enabled="webchatVisiableModel.searchKey" searchkey="webchatVisiableModel.searchKey" searchmethods="searchChatList()" clear-search="clearSearch(\'visiable\')" placeholderval="{{webchatVisiableModel.placeholderVal}}"></ewei-search></div><webchat-list chat-list="chatList" type="visiable" active-chat-id="activeChatId" on-join-chat="joinChat(chatId)"></webchat-list></div></div></div><div ui-view class="detail-wrap"></div></div>');e.put("source/webchat_form/templates/auto_reply.html",'<div class="auto_reply"><div class="row"><div class="check_nav" ng-show="wechat.isMenu && !hasNav">当前的导航菜单为空，会导致客户无菜单可用。请前往“在线客服导航”进行配置。</div></div><div class="row"><div ng-class="{true: \'margin_top35px\'}[!wechat.isMenu || hasNav]"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>欢迎语</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><span class="pull-right"><input type="checkbox" ng-model="wechat.isMenu" ng-click="navCheck()">导航模式</span></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.onlineWelcome"></div></div></div><p ng-show="!wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">展开会话窗口时自动回复上述欢迎语。客户一旦回复，立即呼叫客服，开始在线交谈。</p><p ng-show="wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">打开会话窗口自动回复以上欢迎语。用户点击选择导航菜单，呼叫客服，开始在线交谈。 请不要删除模板中的<span ng-non-bindable>{{guide_menu}}</span>，会导致无法显示导航菜单。</p></div></div></div><div ng-show="wechat.isMenu" class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>自动回复</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.onlineAutomaticReply"></div></div></div><p ng-show="wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">若用户未选择导航菜单，发送内容，自动回复如上。 请不要删除模板中的<span ng-non-bindable>{{guide_menu}}</span>，会导致无法显示导航菜单。</p></div></div><div class="row"><div class="customer_not_online"><label class="col-md-5" style="margin:8px 0 0 12px">非营业时段，或客服不在线时的自动回复</label></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>欢迎语</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'offlineWelcome\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.offlineWelcome"></div></div></div><p class="margin_top10px margin_bottom40px color-gray">非营业时段或者客服都不在线的时候，展开会话窗口自动回复上述欢迎语。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>自动回复</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'offlineAutomaticReply\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.offlineAutomaticReply"></div></div></div><p class="margin_top10px margin_bottom40px color-gray">如果用户不理会提示继续回复，则自动回复如上。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'offlineArticleList\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.offlineArticleList"></div></div></div><p class="margin_top10px color-gray">用户的回复如果命中知识库文章关键字（标签），自动回复如上。请前往帮助中心 <a href="/showAddArticle" class="add_article" target="_blank">添加文章</a> 和标签。请不要删除模板里的<span ng-non-bindable>{{article_list}}</span>，会导致无法显示文章。</p><div class="auto_reply_footer"><button type="button" class="btn btn-primary w100" ng-click="updateWelcomes();">更新</button> <a href="javascript:void(0)" ng-click="resetDefault()" class="reset_btn">恢复系统默认值</a></div></div></div></div>');e.put("source/webchat_form/templates/interface_appearance.html",'<style type="text/css">.web-chat-box{padding:15px;background-color:#FAFAFB;height:370px;border:1px solid #F1F1F1}.web-chat-box li{margin-top:10px}.web-chat-box .my-self-send{text-align:right}.web-chat-box div{border:1px solid #E4E4E4;display:inline-block;padding:6px 8px;margin-top:5px;border-radius:3px;position:relative}.web-chat-box .web-chat-arrow-right{color:#fff;background-color:#3BB6EE}.web-chat-box .web-chat-arrow-left:before{content:\'\';border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #E4E4E4;position:absolute;top:7px;left:-7px}.web-chat-box .web-chat-arrow-left:after{content:\'\';border-top:5px solid transparent;border-bottom:5px solid transparent;border-right:5px solid #fff;position:absolute;top:9px;left:-5px}.web-chat-box .web-chat-arrow-right:before{content:\'\';border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:5px solid #3BB6EE;position:absolute;top:9px;right:-5px}.web-chat-tools{padding:8px 0 0}.web-chat-tools .tool-item{text-decoration:none;color:#999;line-height:16px;display:inline-block;padding:2px 8px;border:1px solid transparent}.web-chat-tools .tool-item:hover{border-radius:4px;border-color:#e4e4e4}.webchat-tipbox{position:absolute;bottom:70px;width:180px;border:1px solid #D7DADB;display:block;padding:5px;border-radius:3px;font-size:13px;color:#666;word-break:break-all;z-index:9999;background:#fff}.webchat-tipbox-fillet{right:-40px}.webchat-tipbox-square-roundness{right:-116px}.webchat-tipbox:after,.webchat-tipbox:before{content:"";position:absolute;border-style:dashed dashed solid dashed;display:inline-block}.webchat-tipbox:before{left:11px;bottom:-20px;border-color:#fff transparent transparent;border-width:10px;z-index:1081}.webchat-tipbox:after{left:10px;bottom:-23px;border-color:#D7DADB transparent transparent;border-width:11px;z-index:1080}.webuploader{font-size:66px;cursor:pointer;line-height:1;color:#dadada}.removeImg{font-size:16px;cursor:pointer;line-height:1;margin-top:-8px;position:absolute;color:#dadada}.removeImg:hover{color:#999}.webuploader-pick-hover .webuploader{color:#999}.carousel-indicators li{margin-left:5px}.carousel-indicators .active{margin-bottom:0;margin-left:5px}.carousel-indicators{bottom:16px}</style><div style="margin-top:45px" class="config_form"><div ng-style="{width: (webFormStype.enabledAdvertisement?\'950px\':\'900px\')}" class="form_window"><ul class="list-unstyled clearfix"><li class="first"><strong class="form_window_title">会话窗口</strong></li><li class="second"><ul class="list-unstyled config_list"><li><label>窗口标题</label><input type="text" class="size14 form-control window_title" maxlength="16" ng-model="webFormOutward.windowTitle" placeholder="在线交谈"></li><li><label>字体颜色</label><spectrum-colorpicker ng-model="webFormOutward.windowfontColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></li><li><label>背景颜色</label><spectrum-colorpicker ng-model="webFormOutward.windowTitleColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></li></ul></li><li style="margin-left:0;float:right;position:relative" class="third clearfix"><i ng-show="!webFormStype.enabledAdvertisement" style="position:absolute;font-size:30px;top:220px;left:300px" class="iconfont">&#xe628;</i> <i ng-show="webFormStype.enabledAdvertisement" style="position:absolute;font-size:30px;top:220px;left:300px" class="iconfont">&#xe629;</i><p style="height:34px;line-height:34px;background:{{webFormOutward.windowTitleColor}};color:{{webFormOutward.windowfontColor}}" class="text-center">{{webFormOutward.windowTitle}} <i class="iconfont pull-right" style="margin-right:15px;font-size:12px">&#xe620;</i> <span class="pull-right" style="margin-right:15px;font-size:30px;margin-top:-2px;color:#fff">-</span></p><div style="height:530px;width:330px" class="feedback-form pull-left"><ul class="list-unstyled web-chat-box"><li><p style="color:#999;font-size:12px">广东网域科技有限公司 14：23</p><div class="web-chat-arrow-left">欢迎光临，请问有什么可以帮到你？</div></li><li class="my-self-send"><p style="color:#999;font-size:12px">我 14：23</p><div class="web-chat-arrow-right">我今天天气怎么样。</div></li><li style="font-size:12px;text-align:center;line-height:52px">您当前在队列的第1位</li><li><p style="color:#999;font-size:12px">客服小易 14：24</p><div class="web-chat-arrow-left">你好，客服小易为您服务。</div></li><li><p style="color:#999;font-size:12px">客服小易 14：24</p><div class="web-chat-arrow-left">多云转阴， 建议增添衣服！</div></li></ul><div style="height:120px;background-color:#F8F8F8"><div class="web-chat-tools"><a href="javascript:void(0)" title="表情" class="tool-item"><i class="iconfont">&#xe60b;</i> </a><a has-module="remote_help" href="javascript:void(0)" title="屏幕截图" class="tool-item"><i class="iconfont">&#xe602;</i> </a><a has-module="remote_help" href="javascript:void(0)" title="屏幕录像" class="tool-item"><i class="iconfont">&#xe604;</i> </a><a href="javascript:void(0)" title="传送文件" class="tool-item"><i class="iconfont">&#xe607;</i> </a><a href="javascript:void(0)" title="邮件" class="tool-item"><i class="iconfont">&#xe613;</i> </a><a href="javascript:void(0)" title="静音取消" class="tool-item"><i class="iconfont">&#xe61d;</i></a></div><textarea style="height:50px;border:none;outline:0;width:100%;background-color:#F8F8F8;padding:5px 10px;resize:none" placeholder="在这里输入消息"></textarea><div style="text-align:right;margin-right:10px"><div class="btn-group"><div style="border-radius:5px" class="dropdown-toggle" dropdown-toggle aria-haspopup="true" aria-expanded="false"><div style="background-color:#1E8CCE;padding:4px 10px 4px 20px;border:none;border-top-right-radius:0;border-bottom-right-radius:0" class="btn btn-default"><span style="color:#fff">回复</span></div><div class="btn" style="background-color:#1E8CCE;padding:2px 8px 2px 2px;margin-left:-4px;color:#fff;border-top-left-radius:0;border-bottom-left-radius:0"><i class="iconfont">| &#xe615;</i></div></div></div></div></div></div><div ng-show="webFormStype.enabledAdvertisement" class="pull-left" style="width:170px;height:530px"><div style="height:270px"><div ewei-carousel interval="myInterval" ng-if="!reloadCarousel"><div ewei-slide ng-repeat="slide in slides" active="slide.active"><img ng-src="{{slide.image}}" style="margin:auto;height:270px;width:100%"></div></div></div><ul class="list-unstyled" style="padding-left:10px;background-color:#F0F8FA;height:220px;overflow:hidden"><li style="margin-top:30px"><strong>推荐的文章和问题 ：</strong></li><li style="margin-top:10px"><a style="color:#399BD2" href="javascript:void(0)">提交工单需要登录吗?</a></li><li style="margin-top:10px"><a style="color:#399BD2" href="javascript:void(0)">提问和提交工单有什么...</a></li><li style="margin-top:10px"><a style="color:#399BD2" href="javascript:void(0)">用手机浏览器能打开帮...</a></li><li style="margin-top:10px"><a style="color:#399BD2" href="javascript:void(0)">不小心误删了一张工单...</a></li><li style="margin-top:10px"><a style="color:#399BD2" href="javascript:void(0)">{{$root.provider.name}}有APP吗？</a></li></ul></div></li></ul><ul class="list-unstyled clearfix"><li class="first"><strong class="form_window_title">企业信息服务</strong></li><li style="width:750px" class="second"><ul class="list-unstyled config_list"><li><label style="float:left" class="padding_top10px"><input name="ad" type="checkbox" id="autoSearchCheckboxAd" ng-model="webFormStype.enabledAdvertisement"></label><p style="margin-left:10px;line-height:40px"><label for="autoSearchCheckboxAd">启用企业信息服务设置</label></p><p style="color:#999">开启后，将展开右侧的企业信息栏。</p><div ng-if="webFormStype.enabledAdvertisement"><p style="margin-top:20px;color:#333">图片广告</p><p style="margin-top:10px;color:#999">图片宽度为175px，高度270px，支持jpg/png/bmp/gif格式</p><div ng-repeat="img in webFormStype.customWebFormAdvertisements track by $index" class="form-inline margin_top40px"><img ng-src="{{\'/no_auth_ewei_attachment?contentUrl=\' + img.image.contentUrl}}" height="60px" width="60px" style="border-radius:5px"> <i ng-if="(license ==\'oem\'||licenseService.hasModule(\'oem\'))" ng-click="deleteCustomWebFormAd(img)" class="iconfont removeImg">&#xe63c;</i><div class="form-group padding_left40px"><p class="margin_bottom10px" style="color:#333">图片超链接</p><input ng-disabled="((license ==\'oem\'||licenseService.hasModule(\'oem\'))?false:true)" ng-model="img.url" type="text" class="form-control" style="width:400px" placeholder="请输入图片超链接"></div></div><div ng-if="(license ==\'oem\'||licenseService.hasModule(\'oem\')) && webFormStype.customWebFormAdvertisements && webFormStype.customWebFormAdvertisements.length<3" class="form-inline margin_top40px" style="position:relative"><div class="form-group"><div ewei-webuploader logo-uploading file-queued="fileQueued(file);" upload-progress="uploadProgress(file,percentage)" upload-success="uploadSuccess(file, response)" error="error(handler)" file-type="image" class="pickWx" style="width:60px;height:60px"><i class="iconfont webuploader">&#xe6c6;</i> <span style="display:none;margin-left:4px"><img style="padding:19px;width:58px" src="source/images/loading_01.gif"></span></div></div><div class="form-group padding_left40px"><p class="margin_bottom10px" style="color:#333">图片超链接</p><input ng-model="objAd.url" type="text" class="form-control" style="width:400px" placeholder="请输入图片超链接"></div></div></div></li></ul></li></ul></div><div class="form_btn"><ul class="list-unstyled clearfix"><li class="first"><strong>悬浮按钮</strong></li><li class="second"><ul class="list-unstyled config_list"><li><label>按钮样式</label><select class="form-control" ng-change="changeButtonStyle(webFormOutward.style)" ng-model="webFormOutward.style"><option value="fillet">圆角按钮</option><option value="square">方形按钮</option><option value="roundness">圆形按钮</option></select></li><li><label>悬浮位置</label><select class="form-control" ng-model="webFormOutward.position" ng-options="positionItem.value as positionItem.option for positionItem in positionOptions"></select></li><li ng-if="webFormOutward.style != \'square\' && webFormOutward.style != \'roundness\'"><label>按钮标题</label><input type="text" class="form-control" maxlength="10" ng-model="webFormOutward.buttonTitle" placeholder="意见反馈"></li><li><label>按钮颜色</label><spectrum-colorpicker ng-model="webFormOutward.buttonBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></li><li><label><input type="checkbox" ng-model="webFormOutward.openCountMessage" style="float:left;margin-right:5px;line-height:20px"> 启用新消息通知</label></li></ul></li><li class="third"><div class="form_btn_view"><div class="form_btn_preview" ng-style="{\'width\':webFormOutward.style == \'square\' || webFormOutward.style == \'roundness\'?\'80px\':\'230px\'}"><div class="webchat-tipbox" ng-if="webFormOutward.openCountMessage" ng-style="{true: \'webchat-tipbox-fillet\', false: \'webchat-tipbox-square-roundness\'}[webFormOutward.style == \'fillet\']"><p style="font-size:12px;height:12px;color:#999;text-align:left"></p><div style="margin-bottom:12px;line-height:18px;text-align:left">新消息提醒</div><span style="position:absolute;top:5px;right:5px;width:20px;height:20px;text-align:center;line-height:20px">×</span></div><div style="margin:0 auto;height:32px;position:relative;max-width:250px"><div ng-if="webFormOutward.style == \'badge\' || webFormOutward.style == \'fillet\'" ng-style="{\'height\':webFormOutward.buttonLeftHeight,\'background-color\':webFormOutward.buttonBackgroundColor,\'width\':webFormOutward.buttonLeftWidth,\'height\':\'32px\',\'float\':webFormOutward.buttonLeftFloat,\n                \'border-top-left-radius\': webFormOutward.buttonLeftRadiusLeftTop,\'border-top-right-radius\': webFormOutward.buttonLeftRadiusRightTop,\'border-bottom-left-radius\': webFormOutward.buttonLeftRadiusLeftBottom,\'border-bottom-right-radius\': webFormOutward.buttonLeftRadiusRightBottom,\'padding-left\': webFormOutward.buttonLeftPaddingLeft,\n                \'text-align\': \'center\',\'position\':webFormOutward.buttonLeftPosition,\'top\':webFormOutward.buttonLeftPositionTop,\'left\':webFormOutward.buttonLeftPositionLeft}"><div ng-style="{\'font-size\':webFormOutward.buttonLeftFontSize}"><i style="color:#fff" class="fa fa-comment-o fa-3 padding5px"></i></div></div><div ng-if="webFormOutward.style == \'square\' || webFormOutward.style == \'roundness\'" ng-style="{\'height\':webFormOutward.buttonLeftHeight,\'line-height\': webFormOutward.buttonLeftLineHeight,\'background-color\':webFormOutward.buttonBackgroundColor,\'width\':webFormOutward.buttonLeftWidth,\'float\':webFormOutward.buttonLeftFloat,\n                \'border-top-left-radius\': webFormOutward.buttonLeftRadiusLeftTop,\'border-top-right-radius\': webFormOutward.buttonLeftRadiusRightTop,\'border-bottom-left-radius\': webFormOutward.buttonLeftRadiusLeftBottom,\'border-bottom-right-radius\': webFormOutward.buttonLeftRadiusRightBottom,\'padding-left\': webFormOutward.buttonLeftPaddingLeft,\n                \'text-align\': \'center\',\'position\':webFormOutward.buttonLeftPosition,\'top\':webFormOutward.buttonLeftPositionTop,\'left\':webFormOutward.buttonLeftPositionLeft}"><div ng-style="{\'font-size\':webFormOutward.buttonLeftFontSize}"><i style="color:#fff" class="fa fa-comment-o fa-3 padding5px"></i></div></div><div ng-if="webFormOutward.style != \'square\' && webFormOutward.style != \'roundness\'" style="max-width:170px;height:32px;line-height:32px;color:#fff;padding-left:5px" ng-style="{\'background-color\':webFormOutward.buttonBackgroundColor,\'border-top-left-radius\': webFormOutward.buttonRightRadiusLeftTop,\'border-top-right-radius\': webFormOutward.buttonRightRadiusRightTop,\'border-bottom-left-radius\': webFormOutward.buttonRightRadiusLeftBottom,\'border-bottom-right-radius\': webFormOutward.buttonRightRadiusRightBottom,\'padding-right\': webFormOutward.buttonRightPaddingRight,\'float\':webFormOutward.buttonLeftFloat,\n              \'text-align\': \'center\',\'height\':webFormOutward.buttonRightHeight,\'line-height\':webFormOutward.buttonRightLineHeight}">{{webFormOutward.buttonTitle}}</div></div></div></div></li></ul></div><div class="form_search"><ul class="list-unstyled clearfix"><li class="first"><strong>表单窗口</strong></li><li class="second"><ul class="list-unstyled config_list"><li><label style="float:left" class="padding_top10px"><input name="fruit" type="checkbox" id="autoSearchCheckbox" ng-model="webFormOutward.chatFormShow"></label><p style="margin-left:10px;line-height:40px"><label for="autoSearchCheckbox">启用网页表单</label></p><p>启用后，点击在线交谈按钮或页面载入时，将先呈现表单窗口。</p></li><li><label style="margin-bottom:10px">附加说明</label><textarea ng-model="webFormOutward.remark" class="form-control" rows="3" maxlength="50"></textarea></li></ul><ul class="list-unstyled form-customField"><label>选择字段</label><div class="clearfix"><ul class="list-unstyled"><li ng-style="{marginRight:($index %2 == 0 ? \'35px\': \'\')}" style="display:inline-block" ng-class="{true: \'activeShow\'}[userCustomField.activeShow]" ng-click="checkedMenu(userCustomField)" ng-repeat="userCustomField in userCustomFields track by $index">{{userCustomField.name}} <img ng-show="userCustomField.activeShow" ng-src="source/images/checked.png"></li></ul></div><p style="width:280px;text-align:center;margin-top:20px">你还可以自定义更多字段供选择</p></ul></li><li class="third"><div class="search-form"><div class="form-header"><p class="text-center" style="background:{{webFormOutward.windowTitleColor}};color:{{webFormOutward.windowfontColor}}">{{webFormOutward.windowTitle}} <span class="pull-right" style="margin-right:15px;font-size:30px;color:#fff">-</span></p></div><div ng-show="webFormOutward.remark" style="border:1px solid #E4E4E4;background:#F2F2F2;padding:6px 30px;word-break:break-all;position:relative"><i style="color:#F99B04;position:absolute;left:8px;top:5px" class="iconfont">&#xe63b;</i> <span style="color:#333;font-size:14px">{{webFormOutward.remark}}</span></div><div submit-custom-field-set class="feedback-form"><ul style="background:#F2F2F2;padding:15px 30px;list-style:none;font-size:14px"><li style="margin-bottom:10px" ng-if="userInfArr.length == 2"><div style="overflow:hidden"><div style="float:left"><span style="font-weight:700">Email或手机</span></div><div style="float:right;margin-right:3px"><input disabled="disabled" checked="checked" type="checkbox"><span style="position:relative;left:3px;top:-2px;color:#999">必填</span></div></div><input type="test" class="form-control" style="width:100%;margin-top:5px" placeholder="请输入Email或手机"></li><div ui-sortable ng-model="ticketCustomFieldShowDemo"><li style="margin-bottom:10px;position:relative" ng-repeat="demo in ticketCustomFieldShowDemo track by $index"><div ng-if="(demo.fieldName == \'email\' || demo.fieldName == \'mobilePhone\') && userInfArr.length < 2" style="overflow:hidden"><div style="float:left"><input ng-if="demo.inputType==\'checkbox\'" type="checkbox"> <span style="position:absolute;left:-20px;top:3px;cursor:move;color:#999" class="fa fa-arrows"></span> <span ng-show="!demo.active" style="font-weight:700">{{demo.showName}}</span> <input ng-model="demo.showName" ng-blur="editMenuOver(demo)" ng-show="demo.active" type="text"> <i ng-click="editMenu(demo)" ng-show="!demo.active" style="color:#39f" class="fa fa-pencil-square-o"></i></div><div style="float:right;margin-right:3px"><input ng-model="demo.required" type="checkbox"><span style="position:relative;left:3px;top:-2px;color:#999">必填</span></div></div><div ng-if="demo.fieldName != \'email\' && demo.fieldName != \'mobilePhone\'" style="overflow:hidden"><div style="float:left"><input ng-if="demo.inputType==\'checkbox\'" type="checkbox"> <span style="position:absolute;left:-20px;top:3px;cursor:move;color:#999" class="fa fa-arrows"></span> <span ng-show="!demo.active" style="font-weight:700">{{demo.showName}}</span> <input ng-model="demo.showName" ng-blur="editMenuOver(demo)" ng-show="demo.active" type="text"> <i ng-click="editMenu(demo)" ng-show="!demo.active" style="color:#39f" class="fa fa-pencil-square-o"></i></div><div ng-if="demo.inputType != \'checkbox\' && demo.fieldName != \'verifyCode\'" style="float:right;margin-right:3px"><input ng-model="demo.required" type="checkbox"> <span style="position:relative;left:3px;top:-2px;color:#999">必填</span></div></div><input ng-if="demo.inputType ==\'text\' && (demo.fieldName == \'email\' || demo.fieldName == \'mobilePhone\') && userInfArr.length < 2" style="margin-top:5px;width:100%" type="text" class="form-control" ng-model="demo.tip"> <input ng-if="demo.inputType ==\'text\' && demo.fieldName != \'verifyCode\' && demo.fieldName != \'email\' && demo.fieldName != \'mobilePhone\'" style="margin-top:5px;width:100%" type="text" class="form-control" ng-model="demo.tip"><select ng-if="demo.inputType==\'select\'" style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select><input ng-if="demo.inputType==\'date\'" type="date" class="form-control" style="width:100%;margin-top:5px" placeholder="{{demo.tip}}"> <input ng-if="demo.inputType==\'date_time\'" type="datetime-local" class="form-control" style="width:100%;margin-top:5px" placeholder="{{demo.tip}}"><div class="row" ng-if="demo.inputType==\'date_to_date\'"><div class="col-md-6"><input type="date" class="form-control" style="margin-top:5px" placeholder="{{demo.tip}}"></div><div class="col-md-6" ng-if="demo.inputType==\'date_to_date\'"><input type="date" class="form-control" style="margin-top:5px" placeholder="{{demo.tip}}"></div></div><div ng-if="demo.inputType==\'cascade_options\'"><select style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select><select style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select></div><div ng-if="demo.inputType==\'multi_options\'"><div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" uib-dropdown-toggle ng-disabled="disabled" style="text-align:left;height:32px"><span style="float:left;word-break:break-all">{{demo.tip}}</span> <span class="caret" style="position:absolute;right:8px;top:14px"></span></button><ul style="padding:0;height:auto;max-height:330px;overflow:auto;width:100%" class="list-group dropdown-menu" role="menu" uib-dropdown-menu><li class="list-group-item" style="padding:5px 15px" ng-click="$event.stopPropagation()"><label style="width:100%;cursor:pointer"><input type="checkbox" style="margin-right:10px;position:relative;top:3px"><span>{{demo.tip}}</span></label></li></ul></div></div><textarea ng-if="demo.inputType==\'textarea\'" style="margin-top:5px;width:100%" class="form-control" ng-model="demo.tip" maxlength="255"></textarea><div ng-if="demo.fieldName == \'verifyCode\'" style="margin-top:10px;overflow:hidden"><input style="float:left;width:120px;height:34px" class="form-control" ng-model="demo.tip"><div style="float:left;margin-left:10px;margin-top:5px"><img style="height:24px" src="source/images/daoru1.jpg"> <a style="font-size:12px">看不清，换一张</a></div></div></li></div></ul><div style="padding:0 30px 30px 30px;background:#F2F2F2"><button type="button" style="color:{{webFormOutward.windowfontColor}};background:{{webFormOutward.windowTitleColor}};border-color:{{webFormOutward.windowTitleColor}}" class="btn btn-primary btn-block">提交</button></div></div></div></li></ul></div><div style="padding-bottom:50px" class="form-submit"><a web-form-style href="javascript:" class="btn btn-primary w100" ng-click="updateOutward()">更新</a> <a style="color:#3BA2DF;margin-left:40px;position:relative;top:10px" href="javascript:void(0)" ng-click="recoveryFormOutward();">恢复系统默认值</a></div></div>');e.put("source/webchat_form/templates/online_customer_navigation.html",'<div class="serviceCatalogBox clearfix"><h3 class="font_b">服务目录</h3><div class="serviceCatalogContent"><p><span ng-repeat="nav in navList track by $index"><span ng-if="$index != 0">》</span> <span ng-click="goServiceCatalog(nav,$index)" ng-class="{true:\'navClass\'}[$index != navList.length-1]">{{nav.name}}</span></span></p><ul><li ng-click="setIndex(item)" ng-class="{true:\'weixinActive\'}[item.isChecked]" ng-repeat="item in serviceCatalogs track by $index"><div class="serviceCatalogListNo">{{item.no}}</div><div class="serviceCatalogListCon"><span ng-click="getNextServiceCatalog(item,$event)" ng-show="!item.isShowInput" style="float:left">{{item.name}}</span> <input id="{{item.uId}}" ng-blur="ngBlur(item)" ng-focus="ngFocus()" ng-show="item.isShowInput" ng-click="inputStopPropagation($event)" style="height:20px" type="text" ng-model="item.name"></div><div class="serviceCatalogListEdit"><label for="{{item.uId}}" ng-show="(!item.isShowInput) && item.isChecked " ng-click="editServiceCatalog(item,$event)" style="cursor:pointer"><i class="fa fa-pencil"></i></label></div></li></ul><p style="margin-top:30px;color:#999">选择服务目录项，编辑导航菜单。如需添加菜单项，请前往<span style="font-weight:700">商业规则-服务目录</span>页面，添加目录。</p><p style="position:absolute;top:40px;right:40px">选中可编辑</p><button style="width:100px;margin-top:50px" ng-click="updateServiceCatalogs()" type="button" class="btn btn-primary">更新</button></div></div>');e.put("source/webchat_form/templates/plug_in.html",'<div class="setting-common-body"><ul><li><div class="title-bar"><span>渠道名称{{webChat.title}}</span></div><div class="form-content"><input type="text" maxlength="20" class="form-control w400" ng-model="webChat.ticketWebForm.name"><p class="tip">取一个简短的名称，在工单和报告中显示为工单渠道来源。</p></div></li><li><div class="title-bar"><span>JS代码</span></div><div class="form-content"><textarea id="webChatTextareaCodeJS" class="form-control" readonly="readonly" spellcheck="false" style="cursor:default">{{webChat.ticketWebForm.code}}\n        </textarea><p class="tip"><a copy-some-thing="webChatTextareaCodeJS" href="javascript:void(0)">复制上面的JS代码</a>，将它们插入到网页的HTML源代码标签&lt;/body&gt;之间。若每一个页面分别插入该代码，则所有页面都呈现网页表单。</p></div></li><li><div class="title-bar"><span>HTML外链<br>（可选）</span></div><div class="form-content"><div style="position:relative"><input id="inputHtmlLink" ng-model="webChat.protocolHref" readonly="readonly" type="text" class="form-control" style="cursor:default;padding-right:50px"> <a copy-some-thing="inputHtmlLink" style="color:#1e8cce;position:absolute;right:0;top:0;width:50px;height:34px;line-height:34px;text-align:center" href="javascript:">复制</a></div><p class="tip">外链适用于：1）无法在网页上嵌入JS代码，比如微信公众号自定义菜单，2）需要将在线客服插件锚链在网页中间的文字或图片上，而不是页面侧边或底部的固定浮层。</p></div></li><li><div class="title-bar"><span>二维码</span></div><div class="form-content"><img style="width:138px" ng-src="{{webChat.imgTwoSrc}}"> <a style="color:#1E8CCE;vertical-align:bottom" href="{{webChat.imgTwoSrc}}" target="_blank">下载二维码</a><p class="tip">二维码适用于印刷品或网站，扫描二维码在手机上打开在线客服网页。</p></div></li><li><div class="title-bar"></div><div class="form-content"><input type="button" class="btn btn-primary w100" ng-click="webChat.updateCode()" ng-disabled="webChat.isDisabled" value="更新"><p ng-if="webChat.id == 0" class="tip">点击更新，生成网页在线客服渠道，你还可以进一步定制在线客服页面的样式和交互。</p></div></li></ul></div>');e.put("source/webchat_form/templates/ticket_send_rule.html",'<div style="margin-top:50px" class="rule"><form class="form-horizontal"><div style="margin-bottom:60px" class="form-group"><label style="text-align:center" class="col-sm-2 control-label">受理客服组</label><div class="col-sm-10"><select class="form-control w400" ng-options="option.name for option in serviceDesks" ng-model="serviceDesk"></select><p style="color:#999;margin-top:10px;line-height:22px">会话和工单默认分派到选定的客服组，任何组员都可以响应组的“待响应工单”。<br>或根据导航菜单（服务目录）动态地分派到相应的客服组。参见<strong>商业规则-服务目录</strong>关于<br>责任客服组的配置。</p></div></div><div style="margin-bottom:60px" class="form-group" has-module="robot"><label style="text-align:center" class="col-sm-2 control-label">智能机器人</label><div class="col-sm-10"><input type="checkbox" style="position:relative;top:2px" ng-model="robotReply">有新的会话请求时，优先接通机器人客服<p style="color:#999;margin-top:10px;line-height:22px;width:470px">系统会根据客户输入的内容匹配知识库文章，当命中文章主题或者内容标签时，将自动回复文章链接给到客户。</p></div></div><div class="form-group"><div class="col-sm-10 col-sm-offset-2"><button ng-click="update()" type="button" class="btn btn-primary w100">更新</button></div></div></form></div>');e.put("source/webchat_form/templates/webchat_api.html",'<style>.setting-common-body{padding-left:40px}.setting-common-body .title-bar{padding-top:0}.setting-common-body .api-info{margin:13px 0}h5{margin:0}.setting-common-body>ul>li{margin-bottom:30px}</style><div class="setting-common-body"><ul><li><p class="padding_left10px">{{$root.provider.name}}提供的网页在线客服渠道</p><p class="padding_left10px padding_top10px">为满足各种企业客户业务的需要提供了两种接入方式供企业客户选择:</p></li><li><h5 class="padding_left10px padding_bottom30px" style="font-weight:700;padding-top:0">1.JS代码嵌入方式</h5><div class="title-bar">优势：</div><div class="form-content"><p>(1)使用此方式，客户可以方便快捷的接入在线客服功能</p><p class="api-info">(2)可通过修改JS代码，根据需要随意修改按钮样式，位置，以及窗口样式等</p></div></li><li><div class="title-bar">弊端：</div><div class="form-content"><p>此方式只兼容到IE8</p><p class="tip">(对于需要兼容到更低IE版本的企业客户，请使用此文中介绍的第二种接入方式)</p></div></li><li><div class="title-bar">接入方法：</div><div class="form-content"><p>第一步： 在“界面外观”中定义好请求按钮图片样式、请求表单等，并点击更新。</p><p class="api-info">第二步： 点击“网页插件”复制JS代码。</p><p class="api-info">第三步：将复制的JS代码嵌入到你的网站html代码的&lt;body&gt;标签内，完成此步，即可正常使用。</p></div></li><li><div class="title-bar">注意事项：</div><div class="form-content"><p>(1) 如果你还想把你网站的登录用户信息直接同步到{{$root.provider.name}}，而不是让登录用户每次请求都要填写用户信息表单。</p><p class="api-info">你可以通过在嵌入js代码的最前面加上下列代码的方式实现：</p><textarea class="form-control" readonly="readonly" spellcheck="false" style="cursor:default;height:120px;overflow:hidden">\nwindow._ewei_auto_fill_webchat_in_data_=\n{\n"用户字段的key":用户字段的值\n… //这里可添加多个字段，多个之间用英文逗号分隔\n}\n        </textarea><p class="tip padding_bottom30px">此段代码中的“用户字段的key”就是{{$root.provider.name}}用户字段的标识，“用户字段的值”不用说，你应该明白。对应关系见字段名称与字段key对应表。示例：</p><textarea class="form-control" readonly="readonly" spellcheck="false" style="cursor:default;height:140px;overflow:hidden">\nwindow._ewei_auto_fill_webchat_in_data_=\n{\n"email":"abc@infocare.cn",\n"name":"abc",\n"user_customField_193":"122"\n}\n        </textarea><p class="tip">提示：请参考在“界面外观”中定义的表单字段必填属性，必填的字段必须赋值，否者请求会失败。</p><p class="api-info">(2) 如果你在“界面外观”中修改了请求按钮图片样式，请重新复制新生成的js代码替换原来嵌入的代码，否者新样式不生效。</p><p class="api-info">(3) js代码中已包含请求按钮图片、样式、位置，接入者也可随意修改样式来和宿主页面样式保持统一。</p></div></li><li><h5 class="padding_left10px padding_bottom30px" style="font-weight:700">2.HTML URL外链方式</h5><div class="title-bar">优势：</div><div class="form-content"><p>(1)使用此方式，接入在线客服功能时，更灵活，企业客户既可以在当前页弹层打开会话界面，也可以新开页面。</p><p class="api-info">(2)兼容性好，能够兼容所有浏览器。</p></div></li><li><div class="title-bar">接入方法：</div><div class="form-content"><p>接入者在自己网站实现请求按钮交互逻辑，点击请求按钮弹层，弹层中使用&lt;iframe&gt;标签，&lt;iframe&gt;标签的src属性值就是“网页插件”中提供的HTML外链。当然你也可以直接新窗口打开到“网页插件”中提供的HTML外链。</p></div></li><li><div class="title-bar">注意事项：</div><div class="form-content"><p class="padding_bottom30px">(1) 和js代码方式一样，URL外链也支持直接同步在你网站登录的用户信息到{{$root.provider.name}}。传参方式就是直接在URL外链后面传递参数，见下面的URL：</p><textarea class="form-control" readonly="readonly" spellcheck="false" style="cursor:default;height:54px;overflow:hidden">\nhttp://xxx.ewei.com/load_webchat_window/13/F82tihKckYtettX5yEty?用户字段的key=用户字段的值\n        </textarea><p class="tip padding_bottom30px">问号?前面就是系统生成的URL外链，“用户字段的key”就是{{$root.provider.name}}用户字段的标识，“用户字段的值”不用说，你应该明白。对应关系见字段名称与字段key对应表。示例：</p><textarea class="form-control" readonly="readonly" spellcheck="false" style="cursor:default;height:54px;overflow:hidden">\nhttp://xxx.ewei.com/load_webchat_window/13/F82tihKckYtettX5yEty?email=abc@infocare.cn&name=abc&user_customField_193=122\n        </textarea><p class="tip padding_bottom30px">提示：如果是小屏使用，请增加参数isMobile=true，见示例：</p><textarea class="form-control" readonly="readonly" spellcheck="false" style="cursor:default;height:54px;overflow:hidden">\nhttp://xxx.ewei.com/load_webchat_window/13/F82tihKckYtettX5yEty?isMobile=true&email=abc@infocare.cn&name=abc&user_customField_193=122\n        </textarea><p class="tip padding_bottom30px">提示：此接入方式也请参考在“界面外观”中定义的表单字段必填属性，必填的字段必须赋值，否者请求会失败。</p><p class="api-info">(2)为了方便小屏接入，还将url外链生成了二维码，扫描二维码将直接发起会话请求。你可以将此二维码放到你的任何宣传媒介上。</p></div></li><li><h5 class="padding_left10px padding_bottom30px" style="font-weight:700">字段名称与字段key对应表</h5><div class="title-bar" style="height:10px"></div><div class="form-content"><p class="api-info">因为自定义字段key值不确定，请参照如下字段名称与字段key对应表。</p><div class="table-responsive"><table class="table table-striped table-bordered"><thead><tr><th>字段名</th><th>ID</th></tr></thead><tbody><tr ng-repeat="webFormField in api.webFormFields"><td>{{webFormField.name}}</td><td>{{webFormField.fieldName}}</td></tr></tbody></table></div><p class="api-info">如果同时选择了Email和手机，请只传其中一个的值。</p></div></li></ul></div>');e.put("source/webpage_form/templates/config_form_style.html",'<div style="margin-top:45px" class="config_form"><div class="form_window"><ul class="list-unstyled clearfix"><li class="first"><strong class="form_window_title">表单窗口</strong></li><li class="second"><ul class="list-unstyled config_list"><li><label>窗口标题</label><input type="text" class="size14 form-control window_title" maxlength="16" ng-model="webFormOutward.windowTitle" placeholder="意见反馈"></li><li><label>窗口颜色</label><spectrum-colorpicker ng-model="webFormOutward.windowTitleColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></li><li><label>字体颜色</label><spectrum-colorpicker ng-model="webFormOutward.windowfontColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></li><li><label style="margin-bottom:10px">附加说明</label><textarea ng-model="webFormOutward.remark" class="form-control" rows="3" maxlength="50"></textarea></li><li class="select_field"><label>选择字段123123</label><div class="clearfix form-customField"><ul class="list-unstyled pull-left"><li ng-class="{true: \'activeShow\'}[ticketCustomField.activeShow]" ng-click="checkedMenu(ticketCustomField)" ng-repeat="ticketCustomField in ticketCustomFields track by $index">{{ticketCustomField.name}} <img ng-show="ticketCustomField.activeShow" ng-src="source/images/checked.png"></li></ul><ul class="list-unstyled pull-right"><li ng-class="{true: \'activeShow\'}[userCustomField.activeShow]" ng-click="checkedMenu(userCustomField)" ng-repeat="userCustomField in userCustomFields track by $index">{{userCustomField.name}} <img ng-show="userCustomField.activeShow" ng-src="source/images/checked.png"></li></ul></div><p style="width:280px;text-align:center;margin-top:20px">你还可以自定义更多字段供选择</p></li></ul></li><li class="third"><div submit-custom-field-set class="feedback-form"><p style="height:34px;line-height:34px;background:{{webFormOutward.windowTitleColor}};color:{{webFormOutward.windowfontColor}}" class="text-center">{{webFormOutward.windowTitle}} <span class="pull-right" style="margin-right:15px;font-size:30px;margin-top:-2px;color:#fff">-</span></p><div ng-show="webFormOutward.remark" style="border:1px solid #E4E4E4;background:#F2F2F2;padding:6px 30px;word-break:break-all;position:relative"><i style="color:#F99B04;position:absolute;left:8px;top:5px" class="iconfont">&#xe63b;</i> <span style="color:#333;font-size:14px">{{webFormOutward.remark}}</span></div><ul style="background:#F2F2F2;padding:15px 30px;list-style:none;font-size:14px"><li style="margin-bottom:10px" ng-if="userInfArr.length == 2"><div style="overflow:hidden"><div style="float:left"><span style="font-weight:700">Email或手机</span></div><div style="float:right;margin-right:3px"><input disabled="disabled" checked="checked" type="checkbox"><span style="position:relative;left:3px;top:-2px;color:#999">必填</span></div></div><input type="test" class="form-control" style="width:100%;margin-top:5px" placeholder="请输入Email或手机"></li><div ui-sortable ng-model="ticketCustomFieldShowDemo"><li style="margin-bottom:10px;position:relative" ng-repeat="demo in ticketCustomFieldShowDemo track by $index"><div ng-if="(demo.fieldName == \'email\' || demo.fieldName == \'mobilePhone\') && userInfArr.length < 2" style="overflow:hidden"><div style="float:left"><input ng-if="demo.inputType==\'checkbox\'" type="checkbox"> <span style="position:absolute;left:-20px;top:3px;cursor:move;color:#999" class="fa fa-arrows"></span> <span ng-show="!demo.active" style="font-weight:700">{{demo.showName}}</span> <input ng-model="demo.showName" ng-blur="editMenuOver(demo)" ng-show="demo.active" type="text"> <i ng-click="editMenu(demo)" ng-show="!demo.active" style="color:#39f" class="fa fa-pencil-square-o"></i></div><div style="float:right;margin-right:3px"><input ng-model="demo.required" type="checkbox"><span style="position:relative;left:3px;top:-2px;color:#999">必填</span></div></div><div ng-if="demo.fieldName != \'email\' && demo.fieldName != \'mobilePhone\'" style="overflow:hidden"><div style="float:left"><input ng-if="demo.inputType==\'checkbox\'" type="checkbox"> <span style="position:absolute;left:-20px;top:3px;cursor:move;color:#999" class="fa fa-arrows"></span> <span ng-show="!demo.active" style="font-weight:700">{{demo.showName}}</span> <input ng-model="demo.showName" ng-blur="editMenuOver(demo)" ng-show="demo.active" type="text"> <i ng-click="editMenu(demo)" ng-show="!demo.active" style="color:#39f" class="fa fa-pencil-square-o"></i></div><div ng-if="demo.inputType != \'checkbox\' && demo.fieldName != \'verifyCode\'" style="float:right;margin-right:3px"><input ng-if="demo.fieldName == \'subject\' || demo.fieldName == \'description\'" disabled="disabled" checked="checked" type="checkbox"> <input ng-if="demo.fieldName != \'subject\' && demo.fieldName != \'description\'" ng-model="demo.required" type="checkbox"> <span ng-if="demo.fieldName != \'serviceCatalog\' && demo.inputType !== \'cascade_options\'" style="position:relative;left:3px;top:-2px;color:#999">必填</span> <span ng-if="demo.fieldName == \'serviceCatalog\' || demo.inputType === \'cascade_options\'" style="position:relative;left:3px;top:-2px;color:#999">必须选到底层</span></div></div><input ng-if="demo.inputType ==\'text\' && (demo.fieldName == \'email\' || demo.fieldName == \'mobilePhone\') && userInfArr.length < 2" style="margin-top:5px;width:100%" type="text" class="form-control" ng-model="demo.tip" maxlength="255"> <input ng-if="demo.inputType ==\'text\' && demo.fieldName != \'verifyCode\' && demo.fieldName != \'email\' && demo.fieldName != \'mobilePhone\'" style="margin-top:5px;width:100%" type="text" class="form-control" ng-model="demo.tip" maxlength="255"><select ng-if="demo.inputType==\'select\'" style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select><input ng-if="demo.inputType==\'date\'" type="date" class="form-control" style="width:100%;margin-top:5px" placeholder="{{demo.tip}}"> <input ng-if="demo.inputType==\'date_time\'" type="datetime-local" class="form-control" style="width:100%;margin-top:5px" placeholder="{{demo.tip}}"><div class="row" ng-if="demo.inputType==\'date_to_date\'"><div class="col-md-6"><input type="date" class="form-control" style="margin-top:5px" placeholder="{{demo.tip}}"></div><div class="col-md-6" ng-if="demo.inputType==\'date_to_date\'"><input type="date" class="form-control" style="margin-top:5px" placeholder="{{demo.tip}}"></div></div><div ng-if="demo.inputType==\'cascade_options\'"><select style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select><select style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select></div><div ng-if="demo.inputType==\'multi_options\'"><div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" uib-dropdown-toggle ng-disabled="disabled" style="text-align:left;height:32px"><span style="float:left;word-break:break-all">{{demo.tip}}</span> <span class="caret" style="position:absolute;right:8px;top:14px"></span></button><ul style="padding:0;height:auto;max-height:330px;overflow:auto;width:100%" class="list-group dropdown-menu" role="menu" uib-dropdown-menu><li class="list-group-item" style="padding:5px 15px" ng-click="$event.stopPropagation()"><label style="width:100%;cursor:pointer"><input type="checkbox" style="margin-right:10px;position:relative;top:3px"><span>{{demo.tip}}</span></label></li></ul></div></div><textarea ng-if="demo.inputType==\'textarea\'" style="margin-top:5px;width:100%" class="form-control" ng-model="demo.tip" maxlength="255"></textarea><div ng-if="demo.fieldName == \'verifyCode\'" style="margin-top:10px;overflow:hidden"><input style="float:left;width:120px;height:34px" class="form-control" ng-model="demo.tip" maxlength="255"><div style="float:left;margin-left:10px;margin-top:5px"><img style="height:24px" src="source/images/daoru1.jpg"> <a style="font-size:12px">看不清，换一张</a></div></div></li></div></ul><div style="padding:0 30px 30px 30px;background:#F2F2F2"><button type="button" style="color:{{webFormOutward.windowfontColor}};background:{{webFormOutward.windowTitleColor}};border-color:{{webFormOutward.windowTitleColor}}" class="btn btn-primary btn-block">提交</button></div></div></li></ul></div><div class="form_btn"><ul class="list-unstyled clearfix"><li class="first"><strong>悬浮按钮</strong></li><li class="second"><ul class="list-unstyled config_list"><li><label>按钮样式</label><select class="form-control" ng-change="changeButtonStyle(webFormOutward.style)" ng-model="webFormOutward.style"><option value="fillet">圆角按钮</option><option value="square">方形按钮</option><option value="roundness">圆形按钮</option></select></li><li><label>悬浮位置</label><select class="form-control" ng-model="webFormOutward.position" ng-options="positionItem.value as positionItem.option for positionItem in positionOptions"></select></li><li ng-if="webFormOutward.style != \'square\' && webFormOutward.style != \'roundness\'"><label>按钮标题</label><input type="text" class="form-control" maxlength="10" ng-model="webFormOutward.buttonTitle" placeholder="意见反馈"></li><li><label>按钮颜色</label><spectrum-colorpicker ng-model="webFormOutward.buttonBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></li></ul></li><li class="third"><div class="form_btn_view"><div class="form_btn_preview" ng-style="{\'width\':webFormOutward.style == \'square\' || webFormOutward.style == \'roundness\'?\'80px\':\'230px\'}"><div style="margin:0 auto;height:32px;position:relative;max-width:250px"><div ng-if="webFormOutward.style == \'badge\' || webFormOutward.style == \'fillet\'" ng-style="{\'height\':webFormOutward.buttonLeftHeight,\'background-color\':webFormOutward.buttonBackgroundColor,\'width\':webFormOutward.buttonLeftWidth,\'height\':\'32px\',\'float\':webFormOutward.buttonLeftFloat,\n                \'border-top-left-radius\': webFormOutward.buttonLeftRadiusLeftTop,\'border-top-right-radius\': webFormOutward.buttonLeftRadiusRightTop,\'border-bottom-left-radius\': webFormOutward.buttonLeftRadiusLeftBottom,\'border-bottom-right-radius\': webFormOutward.buttonLeftRadiusRightBottom,\'padding-left\': webFormOutward.buttonLeftPaddingLeft,\n                \'text-align\': \'center\',\'position\':webFormOutward.buttonLeftPosition,\'top\':webFormOutward.buttonLeftPositionTop,\'left\':webFormOutward.buttonLeftPositionLeft}"><div ng-style="{\'font-size\':webFormOutward.buttonLeftFontSize}"><i style="color:#fff" class="fa fa-comment-o fa-3 padding5px"></i></div></div><div ng-if="webFormOutward.style == \'square\' || webFormOutward.style == \'roundness\'" ng-style="{\'height\':webFormOutward.buttonLeftHeight,\'line-height\': webFormOutward.buttonLeftLineHeight,\'background-color\':webFormOutward.buttonBackgroundColor,\'width\':webFormOutward.buttonLeftWidth,\'float\':webFormOutward.buttonLeftFloat,\n                \'border-top-left-radius\': webFormOutward.buttonLeftRadiusLeftTop,\'border-top-right-radius\': webFormOutward.buttonLeftRadiusRightTop,\'border-bottom-left-radius\': webFormOutward.buttonLeftRadiusLeftBottom,\'border-bottom-right-radius\': webFormOutward.buttonLeftRadiusRightBottom,\'padding-left\': webFormOutward.buttonLeftPaddingLeft,\n                \'text-align\': \'center\',\'position\':webFormOutward.buttonLeftPosition,\'top\':webFormOutward.buttonLeftPositionTop,\'left\':webFormOutward.buttonLeftPositionLeft}"><div ng-style="{\'font-size\':webFormOutward.buttonLeftFontSize}"><i style="color:#fff" class="fa fa-comment-o fa-3 padding5px"></i></div></div><div ng-if="webFormOutward.style != \'square\' && webFormOutward.style != \'roundness\'" style="max-width:170px;height:32px;line-height:32px;color:#fff;padding-left:5px" ng-style="{\'background-color\':webFormOutward.buttonBackgroundColor,\'border-top-left-radius\': webFormOutward.buttonRightRadiusLeftTop,\'border-top-right-radius\': webFormOutward.buttonRightRadiusRightTop,\'border-bottom-left-radius\': webFormOutward.buttonRightRadiusLeftBottom,\'border-bottom-right-radius\': webFormOutward.buttonRightRadiusRightBottom,\'padding-right\': webFormOutward.buttonRightPaddingRight,\'float\':webFormOutward.buttonLeftFloat,\n              \'text-align\': \'center\',\'height\':webFormOutward.buttonRightHeight,\'line-height\':webFormOutward.buttonRightLineHeight}">{{webFormOutward.buttonTitle}}</div></div></div></div></li></ul></div><div class="form_search"><ul class="list-unstyled clearfix"><li class="first"><strong>辅助搜索</strong></li><li class="second"><ul class="list-unstyled config_list"><li><label style="float:left" class="padding_top10px"><input name="fruit" type="checkbox" id="autoSearchCheckbox" ng-model="webFormOutward.searchable"></label><p style="margin-left:10px;line-height:40px"><label for="autoSearchCheckbox">启用辅助搜索</label></p><p>启用后，点击意见反馈按钮或页面载入时，将先呈现搜索窗口。</p></li></ul></li><li class="third"><div class="search-form"><div class="form-header"><p class="text-center" style="background:{{webFormOutward.windowTitleColor}};color:{{webFormOutward.windowfontColor}}">{{webFormOutward.windowTitle}} <span class="pull-right" style="margin-right:15px;font-size:30px;color:#fff">-</span></p></div><div class="form-body"><div class="search-box"><span>搜索常见问题</span> <span class="pull-right"><i class="fa fa-search"></i></span></div><p>以下为全部热门推荐文章：</p><p><a href="javascript:void(0)">· 提交工单需要登录吗？QQ登录可不可以</a></p><p><a href="javascript:void(0)">· 提问和提交工单有什么区别？</a></p><p><a href="javascript:void(0)">· 用手机浏览器能打开帮助中心吗？</a></p><p><a href="javascript:void(0)">· 不小心误删了一张工单，可以恢复吗？</a></p><p><a href="javascript:void(0)">· {{$root.provider.name}}有APP吗？支持哪些系统？</a></p><p>查看全部信息</p></div><div class="form-footer clearfix"><p class="pull-left">没有你要的答案？</p><a href="javascript:void(0)" style="background:{{webFormOutward.windowTitleColor}};color:{{webFormOutward.windowfontColor}}" class="btn btn-default pull-right">{{webFormOutward.buttonTitle}}</a></div></div></li></ul></div><div style="padding-bottom:50px" class="form-submit"><a web-form-style href="javascript:" class="btn btn-primary w100" ng-click="updateOutward()">更新</a> <a style="color:#3BA2DF;margin-left:40px;position:relative;top:10px" href="javascript:void(0)" ng-click="recoveryFormOutward();">恢复系统默认值</a></div></div>');e.put("source/webpage_form/templates/plug_in.html",'<div class="setting-common-body"><ul><li><div class="title-bar"><span>渠道名称</span></div><div class="form-content"><input type="text" class="form-control w400" maxlength="32" ng-model="ticketWebForm.name"><p class="tip">取一个简短的名称，在工单和报告中显示为工单渠道来源。</p></div></li><li><div class="title-bar"><span>JS代码</span></div><div class="form-content"><textarea id="textareaCodeJS" class="form-control" readonly="readonly" spellcheck="false" style="cursor:default">{{ticketWebForm.code}}</textarea><p class="tip"><a copy-some-thing="textareaCodeJS" href="javascript:void(0)">复制上面的JS代码</a>，将它们插入到网页的HTML源代码标签&lt;/body&gt;之间。若每一个页面分别插入该代码，则所有页面都呈现网页表单。</p></div></li><li><div class="title-bar"><span>HTML外链<br>（可选）</span></div><div class="form-content"><div style="position:relative"><input id="inputHtmlLink" ng-model="protocolHref" readonly="readonly" type="text" class="form-control" style="cursor:default;padding-right:50px"> <a copy-some-thing="inputHtmlLink" style="color:#1e8cce;position:absolute;right:0;top:0;width:50px;height:34px;line-height:34px;text-align:center" href="javascript:">复制</a></div><p class="tip">外链适用于：1）无法在网页上嵌入JS代码，比如微信公众号自定义菜单，2）需要将网页表单锚链在网页中间的文字或图片上，而不是页面侧边或底部的固定浮层。</p></div></li><li><div class="title-bar"><span>二维码</span></div><div class="form-content"><img style="width:138px" ng-src="{{imgTwoSrc}}"> <a style="color:#1E8CCE;vertical-align:bottom" href="{{imgTwoSrc}}" target="_blank">下载二维码</a><p class="tip">二维码适用于印刷品或网站，扫描二维码在手机上打开网页表单。</p></div></li><li><div class="title-bar"></div><div class="form-content"><input type="button" class="btn btn-primary w100" ng-click="updateCode()" ng-disabled="disableValue" value="更新"><p class="tip">点击更新，生成网页表单，你还可以进一步定制网页表单的样式和交互。</p></div></li></ul></div>');e.put("source/webpage_form/templates/ticket_send_rule.html",'<div style="margin-top:50px" class="rule"><form class="form-horizontal"><div style="margin-bottom:60px" class="form-group"><label style="text-align:center" class="col-sm-2 control-label">客服组</label><div class="col-sm-10"><select class="form-control w400" ng-options="option.name for option in serviceDesks" ng-model="serviceDesk"></select><p style="color:#999;margin-top:10px">工单首先分派到选定的客服组，任何组员都可以响应组的“待响应工单”。</p></div></div><div class="form-group"><div class="col-sm-10 col-sm-offset-2"><button ng-click="update()" type="button" class="btn btn-primary w100">更新</button></div></div></form></div>');e.put("source/webpage_form/templates/webpage_api.html",'<style>.setting-common-body .title-bar{padding-top:0}.setting-common-body .api-info{margin:13px 0}</style><div class="setting-common-body"><ul><li><div class="title-bar"><span>Js代码<br>传值方式</span></div><div class="form-content"><textarea class="form-control" readonly="readonly" spellcheck="false" style="cursor:default;height:140px;overflow:hidden">\nwindow.__ewei__auto__fill__in__data__=\n{\n“email”:“abc@infocare.cn”,\n“name”:“abc”，\n“user_customField_193”:“122”\n}\n        </textarea><p class="api-info">请参照如上格式示例，在嵌入网页的js代码中加入相应变量，如果变量存在，则填入对应的值即可。</p></div></li><li><div class="title-bar"><span>html外链<br>传值方式</span></div><div class="form-content"><textarea class="form-control" readonly="readonly" spellcheck="false" style="cursor:default;height:auto;overflow:hidden;word-break:break-all">http://xxx.ewei.com/load_ticket_web_form/13/F82tihKckYtettX5yEty？email=abc@infocare.cn&name = abc& user_customField_193=122\n          </textarea></div></li><li><div class="title-bar"><span>特殊说明</span></div><div class="form-content"><p>如果同时选择了Email和手机，请只传其中一个的值。</p></div></li><li><div class="title-bar"><span>对应关系</span></div><div class="form-content"><div class="table-responsive"><table class="table table-striped table-bordered"><thead><tr><th>字段名</th><th>id</th></tr></thead><tbody><tr ng-repeat="webFormField in api.webFormFields"><td>{{webFormField.name}}</td><td>{{webFormField.fieldName}}</td></tr></tbody></table></div><p class="api-info">以上为此外链所选字段的字段名和传值参数名称对应关系。</p></div></li></ul></div>');e.put("source/weixin-setting/templates/auto_reply.html",'<div class="auto_reply"><div class="row"><div class="check_nav" ng-show="checkedNavigationMode && !setWeixin">当前的导航菜单为空，会导致客户无菜单可用。请前往“在线客服导航”进行配置。</div></div><div class="row"><div ng-class="{true: \'margin_top35px\'}[!checkedNavigationMode || setWeixin]"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>欢迎语</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注呼叫客服指令" class="hoverMark" ng-mousedown="markText(\'welcome\')" ng-show="!checkedNavigationMode" style="margin-right:10px;color:#999">【...】</a> <a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'1\')" class="fa fa-link hoverMark" style="color:#999"></a> <span class="pull-right"><input type="checkbox" ng-model="checkedNavigationMode" ng-click="navCheck()"> 导航模式</span></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="onWelcome"></div></div></div><p ng-show="!checkedNavigationMode" class="margin_top10px margin_bottom40px color-gray">微信用户首次关注你的公众号时，自动回复以上欢迎语。<br>请用【...】标注呼叫指令，用户只要回复指令，立即呼叫客服，开始在线交谈。</p><p ng-show="checkedNavigationMode" class="margin_top10px margin_bottom40px color-gray">微信用户首次关注你的公众号时，自动回复以上欢迎语。用户回复数字序号选择导航菜单，呼叫客服，开始在线交谈。<br>请不要删除模板中的{{unusualGuideMenu}}，会导致无法显示导航菜单。</p></div></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>自动回复</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注呼叫客服指令" class="hoverMark" ng-mousedown="markText(\'automatic_reply\')" ng-show="!checkedNavigationMode" style="margin-right:10px;color:#999">【...】</a> <a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'2\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="onAutoReply"></div></div></div><p ng-show="!checkedNavigationMode" class="margin_top10px margin_bottom40px color-gray">用户的回复未命中指令，自动回复如上，如果连续3次未命中，系统将自动执行指令。<br>请用【...】标注呼叫指令，用户只要回复指令，立即呼叫客服，开始在线交谈。</p><p ng-show="checkedNavigationMode" class="margin_top10px margin_bottom40px color-gray">用户的回复未命中数字序号，自动回复如上，如果连续3次未命中，系统将自动选中当前菜单1，呼叫客服，开始在线交谈。<br>请不要删除模板中的{{unusualGuideMenu}}，会导致无法显示导航菜单。</p></div></div><div class="row"><div class="customer_not_online"><label class="col-md-5" style="margin:8px 0 0 12px">非营业时段，或客服不在线时的自动回复</label></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>欢迎语</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'3\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="offWelcome"></div></div></div><p class="margin_top10px margin_bottom40px color-gray">用户在非营业时段或者客服都不在线的时候关注你的公众号，自动回复上述欢迎语。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>自动回复</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'4\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="offAutoReply"></div></div></div><p ng-show="!checkedNavigationMode" class="margin_top10px margin_bottom40px color-gray">如果用户不理会提示继续回复，则自动回复如上。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p><p ng-show="checkedNavigationMode" class="margin_top10px margin_bottom40px color-gray">用户的回复未命中，自动回复如上。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'5\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="offArticleList"></div></div></div><p class="margin_top10px margin_bottom40px color-gray">用户的回复如果命中知识库文章关键字（标签），自动回复如上。请前往帮助中心 <a href="/showAddArticle" class="add_article" target="_blank">添加文章</a> 和标签。<span>{{unusualArticleList}}</span></p></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label></label></div><div class="col-md-7"><div class="auto_reply_footer"><button type="button" class="btn btn-primary w100" ng-click="updateWelcomes();">更新</button> <a href="javascript:void(0)" ng-click="resetDefault()" class="reset_btn">恢复系统默认值</a></div></div></div></div>');e.put("source/weixin-setting/templates/auto_reply_link.html",'<div><form><ul class="list-unstyled"><li><label>链接</label><input type="text" class="form-control" ng-model="tip.autoReplyLink"></li><li><label>标题</label><input type="text" class="form-control" ng-model="tip.autoReplyTitle"></li></ul></form><div><input style="outline:0" type="button" class="btn btn-default" ng-click="addMessage()" value="插入"></div></div>');e.put("source/weixin-setting/templates/online_customer_navigation.html",'<div class="serviceCatalogBox clearfix"><h3 class="font_b">服务目录</h3><div class="serviceCatalogContent"><p><span ng-repeat="nav in navList track by $index"><span ng-if="$index != 0">》</span> <span ng-click="goServiceCatalog(nav,$index)" ng-class="{true:\'navClass\'}[$index != navList.length-1]">{{nav.name}}</span></span></p><ul><li ng-click="setIndex(item)" ng-class="{true:\'weixinActive\'}[item.isChecked]" ng-repeat="item in serviceCatalogs track by $index"><div class="serviceCatalogListNo">{{item.no}}</div><div class="serviceCatalogListCon"><span ng-click="getNextServiceCatalog(item,$event)" ng-show="!item.isShowInput" style="float:left">{{item.name}}</span> <input id="{{item.uId}}" ng-blur="ngBlur(item)" ng-focus="ngFocus()" ng-show="item.isShowInput" ng-click="inputStopPropagation($event)" style="height:20px" type="text" ng-model="item.name"></div><div class="serviceCatalogListEdit"><label for="{{item.uId}}" ng-show="(!item.isShowInput) && item.isChecked " ng-click="editServiceCatalog(item,$event)" style="cursor:pointer"><i class="fa fa-pencil"></i></label></div></li></ul><div ng-if="nowServiceCatalogNo > 0"><div class="nextListBox"><span>【0】</span><div>返回上一级</div></div><div class="nextListBox"><span>【999】</span><div>立即呼叫客服</div></div></div><div class="settingtips">回复数字序号获得帮助。</div><p style="margin-top:30px;color:#999">选择服务目录项，编辑导航菜单。如需添加菜单项，请前往<span style="font-weight:700">商业规则-服务目录</span>页面，添加目录。</p><p style="position:absolute;top:40px;right:40px">选中可编辑</p><button style="width:100px;margin-top:50px" ng-click="updateServiceCatalogs()" type="button" class="btn btn-primary">更新</button></div></div>');e.put("source/weixin-setting/templates/template_message.html",'<div class="wx_message"><div class="row"><div class="col-sm-2" style="width:120px;margin:8px 0 0 12px"><label>模版ID</label></div><div class="col-sm-7"><input ng-model="wechat.weixinTicketTemplateId" maxlength="255" type="text" class="form-control w400"><p class="margin_top10px color-gray">请登录微信服务号管理后台（mp.weixin.qq.com），进入功能-模板消息页面，点击“从模板库添加”，选择一级行业为“IT科技”二级行业为“IT软件与服务”标题为“工单消息提醒”的模板（确认编号为OPENTM207212027），点添加。然后复制模板ID，填入上面的输入框，点更新。</p><div class="template-tip"><p style="padding:1px;width:302px"></p></div><div style="margin-top:45px"><button ng-click="addTemplateInf()" type="button" class="btn btn-primary w100">更新</button></div><p></p></div></div><div class="template_text"><ul class="list-unstyled color-gray"><li><label>什么是模版消息，有什么用？</label><p class="margin_top20px">微信官方对微信服务号有所谓“48小时”限制：</p><p>1.服务号不可以主动给客户发消息（每月4次的群发除外）。</p><p>2，客户给服务号发消息后，服务号可以回复客户，48小时内不限条数，48小时后回复通道关闭。</p><p class="margin_top20px">模板消息不受“48小时”规则限制，让你随时主动给微信用户发通知。这种主动消息必须封装成微信官方预制的模板样式，所以称为模板消息。工单处理过程往往大于48小时，当有消息需要通知客户时，需要用到模板消息。</p></li><li class="margin_top20px"><label>没有模版消息功能有什么影响？</label><p class="margin_top20px">1.不影响在线客服会话，因为会话持续时长几乎不会超过48小时。</p><p>2.影响工单。在最后回复的48小时内，客户依然能够通过微信接收工单回复；48小时后，通知通道被切断。</p></li><li class="margin_top20px"><label>为什么我的微信后台找不到模版？</label><p class="margin_top20px">1.你的微信服务号未开通微信支付功能，请向微信官方申请。</p><p>2.你的微信服务号虽取得了支付授权，但未开通模版消息，请向微信官方申请。</p><p>2.你的微信服务号虽开通了模版消息，但你选择的行业不包含“IT科技/IT软件和服务“。</p></li></ul></div></div>');e.put("source/weixin-setting/templates/ticket_send_rule.html",'<div class="wx_ticket_send_rule margin_top50px"><div class="row"><div class="col-sm-2" style="width:120px;margin:8px 0 0 12px"><label>受理客服组</label></div><div class="col-sm-7"><select class="form-control w400" ng-options="item.name for item in ruleValue" ng-model="ruleType" ng-change="showRuleType(ruleType)"></select><p class="margin_top10px color-gray">会话和工单默认分派到选定的客服组，任何组员都可以响应组的“待响应工单”。 或根据导航菜单（服务目录）动态地分派到相应的客服组。参见商业规则-服务目录关于责任客服组的配置。</p></div></div><div class="row" style="margin-top:30px" has-module="robot"><div class="col-sm-2" style="width:120px;margin:8px 0 0 12px"><label>智能机器人</label></div><div class="col-sm-7"><input type="checkbox" style="position:relative;top:2px" ng-model="weixinChatRoute.robotReply">有新的会话请求时，优先接通机器人客服<p class="margin_top10px color-gray">系统会根据客户输入的内容匹配知识库文章，当命中文章主题或者内容标签时，将自动回复文章链接给到客户。</p><div style="margin-top:45px"><button ng-click="weixinChatRouteUpdate()" type="button" class="btn btn-primary w100">更新</button></div></div></div></div>');e.put("source/weixin-setting/templates/weixin_menu.html",'<div class="wx-set-wrap"><div class="wx-set-vertify" ng-if="!verified">由于与微信服务器的接口尚未连接成功，你所配置的微信菜单将只保存在客服系统端，待接口连通后才会自动更新到微信端，在你的微信公众号呈现。</div><form class="form-horizontal ng-valid ng-dirty ng-valid-parse" style="margin-top:20px"><div style="width:900px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">微信菜单</label><div class="col-sm-10"><div style="width:304px;height:426px;margin-bottom:25px;background:url(source/images/pic_weixin.jpg) no-repeat center;background-size:100% 100%"><h2 style="text-align:center;color:#fff;line-height:38px;margin-top:0" class="size16">{{providerEweiProductName|replace_ewei_productname}}</h2><p>&nbsp;-&nbsp; 子菜单可拖动排序</p><p>&nbsp;-&nbsp; 同一个导航之上的子菜单不能超过5个</p><p>&nbsp;-&nbsp; 微信规则，菜单变更后24小时后才生效</p><p>&nbsp;-&nbsp; 菜单编辑之后，将会覆盖原有设置，请谨慎操作</p><div class="main" style="position:relative;height:300px;margin-top:23px"><div style="background:#fff;position:absolute;bottom:0;left:0;width:101px" class="floatLeft"><div ng-show="visible1" style="text-align:center;cursor:default" class="h35 wx-menu-add-btn"><a ng-click="addNav(0)" class="block" href="#"><i class="fa fa-plus wx-menu-add"></i></a></div><ul id="list1" ui-sortable="sortableOptions" class="apps-container" ng-model="wxListData[0]"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in wxListData[0]" class="app h35 border05" ng-class="{\'not-sortable\': $index == list1.length-1}" ng-click="editNavList($index,0)"><i class="fa fa-reorder wx-menu-icon" ng-if="$index == wxListData[0].length-1"></i> <span class="text-overflow wx-menu-name" title="{{item.name}}">{{item.name}}</span> <i style="position:absolute;right:4px;top:10px;font-size:16px" class="fa fa-trash-o" ng-click="delNavList($event,$index,0);"></i></li></ul></div><div style="background:#fff;position:absolute;bottom:0;left:101px;width:101px" class="floatLeft"><div ng-show="visible2" style="text-align:center" class="h35 wx-menu-add-btn"><a ng-click="addNav(1)" class="block" href="#"><i class="fa fa-plus wx-menu-add"></i></a></div><ul id="list2" ui-sortable="sortableOptions" class="apps-container" ng-model="wxListData[1]"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in wxListData[1]" class="app h35 border05" ng-class="{\'not-sortable\': $index == list2.length-1}" ng-click="editNavList($index,1)"><i class="fa fa-reorder wx-menu-icon" ng-if="$index == wxListData[1].length-1"></i> <span class="text-overflow wx-menu-name" title="{{item.name}}">{{item.name}}</span> <i style="position:absolute;right:4px;top:10px;font-size:16px" class="fa fa-trash-o" ng-click="delNavList($event,$index,1);"></i></li></ul></div><div style="background:#fff;position:absolute;bottom:0;left:202px;width:101px" class="floatLeft"><div ng-show="visible3" style="text-align:center" class="h35 wx-menu-add-btn"><a ng-click="addNav(2)" class="block" href="#"><i class="fa fa-plus wx-menu-add"></i></a></div><ul id="list3" ui-sortable="sortableOptions" class="apps-container" ng-model="wxListData[2]"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in wxListData[2]" class="app h35 border05" ng-class="{\'not-sortable\': $index == list3.length-1}" ng-click="editNavList($index,2)"><i class="fa fa-reorder wx-menu-icon" ng-if="$index == wxListData[2].length-1"></i> <span class="text-overflow wx-menu-name" title="{{item.name}}">{{item.name}}</span> <i style="position:absolute;right:4px;top:10px;font-size:16px" class="fa fa-trash-o" ng-click="delNavList($event,$index,2);"></i></li></ul></div></div></div><div class="wx-set-pro-txt"><p>客服系统提供下列菜单类型供选择：</p><p>1，在线客服。呼叫客服，开始在线交谈。</p><p>2，提交工单。打开网页，填写表单，提交工单。</p><p>3，查询工单。打开网页，查询当前用户的工单列表。</p><p>4，访问帮助中心。打开网页，访问帮助中心（{{providerDomain}}）。</p><p>5，回复文本。回复文本消息，文本消息自定义，可插入文字链。</p><p>6，回复图文消息。回复图文消息，图文消息自定义。</p><p>7，打开网页。打开网页，访问自定义的网址。</p><p>8，绑定账号。供客户绑定已有的帮助中心账号。</p></div></div></div><div class="form-group w100p"><div class="col-sm-12"><div class="wx-set-btn-group"><div style="margin-bottom:15px"><button ng-click="update()" type="button" class="btn btn-primary w100">更新</button> <a class="wx-menu-default" href="javascript:void(0)" ng-click="defaultMenu();">恢复系统默认值</a></div><p class="wx-set-pro-txt">点击更新，将菜单项同步到微信端。如果希望立即看到更新后的效果，可取消关注再关注。</p></div></div></div></form></div>');e.put("source/weixin-setting/templates/weixin_new_menu.html",'<div class="wx-set-wrap"><div class="wx-set-vertify" ng-if="!verified">由于与微信服务器的接口尚未连接成功，你所配置的微信菜单将只保存在客服系统端，待接口连通后才会自动更新到微信端，在你的微信公众号呈现。</div><form class="form-horizontal ng-valid ng-dirty ng-valid-parse" style="margin-top:20px"><div style="width:900px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">微信菜单</label><div class="col-sm-10"><div style="width:304px;height:426px;margin-bottom:25px;background:url(source/images/pic_weixin.jpg) no-repeat center;background-size:100% 100%"><h2 style="text-align:center;color:#fff;line-height:38px;margin-top:0" class="size16">{{providerEweiProductName|replace_ewei_productname}}</h2><p>&nbsp;-&nbsp; 子菜单可拖动排序</p><p>&nbsp;-&nbsp; 同一个导航之上的子菜单不能超过5个</p><p>&nbsp;-&nbsp; 微信规则，菜单变更后24小时后才生效</p><p>&nbsp;-&nbsp; 菜单编辑之后，将会覆盖原有设置，请谨慎操作</p><div class="main" style="position:relative;height:300px;margin-top:23px"><div ng-repeat="menu in buttonMenus" style="background:#fff;position:absolute;bottom:0;width:101px" ng-style="{left: ($index*101+\'px\')}" class="floatLeft"><div ng-if="!menu.sub_button || menu.sub_button.length<6" style="text-align:center;cursor:default" class="h35 wx-menu-add-btn"><a ng-click="addNav(menu,buttonMenus)" class="block"><i class="fa fa-plus wx-menu-add"></i></a></div><ul id="{{\'list\'+($index+1)}}" ui-sortable="sortableOptions" class="apps-container" ng-model="menu.sub_button"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in menu.sub_button" class="app h35 border05" ng-class="{\'not-sortable\': $index == item.length-1}" ng-click="editNavList(item,menu.sub_button,$index)"><i ng-if="$index == menu.sub_button.length-1" class="fa fa-reorder wx-menu-icon"></i> <span class="text-overflow wx-menu-name" title="{{item.name}}">{{item.name}}</span> <i style="position:absolute;right:4px;top:10px;font-size:16px" class="fa fa-trash-o" ng-click="delNavList($event,item,menu.sub_button,\'sub_btn\');"></i></li></ul></div></div></div><div class="wx-set-pro-txt"><p>客服系统提供下列菜单类型供选择：</p><p>1，在线客服。呼叫客服，开始在线交谈。</p><p>2，提交工单。打开网页，填写表单，提交工单。</p><p>3，查询工单。打开网页，查询当前用户的工单列表。</p><p>4，访问帮助中心。打开网页，访问帮助中心（{{providerDomain}}）。</p><p>5，回复文本。回复文本消息，文本消息自定义，可插入文字链。</p><p>6，回复图文消息。回复图文消息，图文消息自定义。</p><p>7，打开网页。打开网页，访问自定义的网址。</p><p>8，绑定账号。供客户绑定已有的帮助中心账号。</p></div></div></div><div class="form-group w100p"><div class="col-sm-12"><div class="wx-set-btn-group"><div style="margin-bottom:15px"><button ng-click="update()" type="button" class="btn btn-primary w100">更新</button></div><p class="wx-set-pro-txt">点击更新，将菜单项同步到微信端。如果希望立即看到更新后的效果，可取消关注再关注。</p></div></div></div></form></div>');e.put("source/weixin-setting/templates/weixin_new_service_port.html",'<style>.tip{height:40px;background-color:#FFF5E8;padding-left:13px;line-height:40px;margin:0 0 30px 10px}.color-red{color:#e82020}</style><div class="port margin_top30px" ng-if="!vm.showWinxin"><p class="tip" ng-if="vm.wechat.id>0 && !vm.wechat.verified"><span class="color-red margin_right20px">温馨提示：欠缺部分必要的权限，需要重新授权才能正式使用微信渠道！</span> <button ng-click="vm.reAuthority();" type="button" class="btn btn-primary" style="background-color:#4B0;border-color:#4B0;margin-top:-4px"><i class="iconfont">&#xe644;</i> 立即重新授权</button></p><ul class="list-unstyled port_list"><li class="row"><div style="width:120px;margin:8px 0 0 12px" class="col-md-2"><label>渠道名称</label></div><div class="col-md-7"><input class="form-control w400" type="text" ng-model="vm.wechat.name"><p class="description_text color-gray">取一个简短的名称，在工单和报告中显示为工单渠道来源。</p></div></li><li class="margin_top10px row"><div style="width:120px;margin:8px 0 0 12px" class="col-md-2"><label>权限明细</label></div><div class="col-md-7"><div class="table-responsive"><table class="table w400" style="border:1px solid #ddd"><thead><tr><th class="text-center" style="border-right:1px solid #ddd">权限</th><th class="text-center">授权结果</th></tr></thead><tbody><tr ng-if="vm.authorityList.length==0"><td colspan="2">没有权限列表</td></tr><tr style="border-bottom:1px solid #DDD" ng-repeat="authority in vm.authorityList"><td class="text-center" style="padding-top:8px;border-right:1px solid #ddd" ng-bind="authority.name"></td><td class="text-center" style="width:120px"><span ng-bind="authority.result" ng-style="{\'color\':authority.color}"></span></td></tr></tbody></table></div><p ng-if="!vm.wechat.id" class="description_text color-red"><span>温馨提示：为保证所有功能正常，授权时请保持默认选择。</span></p><div class="margin_top60px"><button ng-if="!vm.wechat.id" ng-click="vm.updateWechat()" type="button" class="btn btn-primary" style="background-color:#4B0;border-color:#4B0"><i class="iconfont" style="font-size:18px">&#xe644;</i> 立即授权，添加渠道</button> <button ng-if="vm.wechat.id" ng-click="vm.updateWechat()" type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px">更新</button> <a ui-sref="system_setting.detail({uri:\'wechat_setting\',settingType:\'ticket\'})" style="margin-left:20px;color:#999">取消</a></div></div></li></ul></div><iframe ng-if="vm.showWinxin" ng-src="{{vm.authorityPage}}" width="1250px" height="750px" style="overflow:hidden;border-width:0" scrolling="no"></iframe>');e.put("source/weixin-setting/templates/weixin_port.html",'<style>.tip{height:40px;background-color:#FFF5E8;padding-left:13px;line-height:40px;margin:0 0 30px 10px}.tip-old{height:auto;background-color:#FFF5E8;margin:0 0 30px 10px;padding:10px 15px}.color-red{color:#e82020}.width45{width:45%}</style><div ng-if="!showWinxin"><p class="tip" ng-if="verified">与微信服务器之间的接口尚未连接成功，请检查双方的参数设置，确保ID、URL、Token等参数准确无误。然后点击更新再次尝试互联。</p><div ng-if="isMessageTemplate === \'service\'" class="tip-old row"><div class="col-md-6 width45"><span>更换授权方式，让公众号可授权给多个第三方应用</span><p class="color-red margin_top10px">温馨提示：为保证所有功能正常，授权时请保持默认选择。</p></div><button ng-click="reAuthority();" type="button" class="btn btn-primary" style="background-color:#4B0;border-color:#4B0"><i class="iconfont">&#xe644;</i> 立即更换授权方式</button></div><div class="port"><ul class="list-unstyled port_list"><li class="row"><div style="width:120px;margin:8px 0 0 12px" class="col-md-2"><label>渠道名称</label></div><div class="col-md-7"><input class="form-control w400" type="text" ng-model="wechat.name" value=""><p class="description_text color-gray">取一个简短的名称，在工单和报告中显示为工单渠道来源。</p></div></li><li class="margin_top10px row"><div style="width:120px;margin:8px 0 0 12px" class="col-md-2"><label>微信号</label></div><div class="col-md-7"><input class="form-control w400" type="text" ng-model="wechat.weixinNo" value=""><p class="description_text color-gray"><span ng-if="isMessageTemplate === \'service\'">填写微信服务号。</span><span ng-if="isMessageTemplate === \'qiye\'">填写微信企业号。</span></p></div></li><li ng-if="isMessageTemplate === \'service\'" class="margin_top10px row"><div style="width:120px;margin:8px 0 0 12px" class="col-md-2"><label>开发者ID</label></div><div class="col-md-7"><p><input class="form-control w400 margin_bottom15px" type="text" ng-model="wechat.appId" placeholder="AppID" ng-disabled="checkId>0 && wechat.appVerified"></p><p><input class="form-control w400" type="text" ng-model="wechat.appSecret" placeholder="AppSecret"></p><p class="description_text color-gray">请登录微信服务号管理后台（mp.weixin.qq.com），进入开发-基本配置页面，复制AppID和AppSecret，对应填入。</p></div></li><li ng-if="isMessageTemplate === \'qiye\'" class="margin_top10px row"><div style="width:120px;margin:8px 0 0 12px" class="col-md-2"><label>企业ID</label></div><div class="col-md-7"><p><input class="form-control w400 margin_bottom15px" type="text" ng-model="wechat.appId" placeholder="CorpID" ng-disabled="checkId>0 && wechat.appVerified"></p><p><input class="form-control w400" type="text" ng-model="wechat.appSecret" placeholder="Secret"></p><p class="description_text color-gray">请登录微信企业号管理后台（qy.weixin.qq.com），进入设置-权限管理-应用管理组页面，复制CorpID和Secret，对应填入。</p></div></li><li ng-if="isMessageTemplate === \'qiye\'" class="margin_top10px row"><div style="width:120px;margin:8px 0 0 12px" class="col-md-2"><label>应用ID</label></div><div class="col-md-7"><input class="form-control w400" type="text" ng-model="wechat.agentId"><p class="description_text color-gray">请登录微信企业号管理后台（qy.weixin.qq.com），进入应用中心页面，添加应用取得应用ID，填入。</p></div></li><li class="server_config margin_top10px row"><div style="width:120px;margin:0 0 0 12px" class="col-md-2"><label>服务器配置</label></div><div class="col-md-7"><ul class="list-unstyled server_config_list"><li><span>URL（服务器地址）</span> <span class="server_config_url">{{protocol}}//{{httpUrl.subdomain}}.ewei.{{httpUrl.com}}/api/<span ng-if="isMessageTemplate==\'qiye\'">weixin_qiye_</span><span ng-if="isMessageTemplate==\'service\'">weixin_</span>{{wechat.id}}.json</span></li><li><span>Token（令牌）</span> <span class="server_config_url">{{wechat.apiToken}}</span></li><li ng-if="isMessageTemplate === \'service\'"><span class="color-gray">请登录微信服务号管理后台（mp.weixin.qq.com），进入开发-基本配置-服务器配置页面。复制上列URL和Token，对应填入。</span></li><li ng-if="isMessageTemplate === \'qiye\'"><span>EncodingAESKey（密钥）</span> <span class="server_config_url">{{wechat.encodingAesKey}}</span></li><li ng-if="isMessageTemplate === \'qiye\'"><span class="color-gray">请登录微信企业号管理后台（qy.weixin.qq.com），进入应用中心-回调模式-回调URL和密钥-修改页面，复制上列URL、Token和密钥，对应输入。</span></li></ul><div class="margin_top60px"><button type="button" class="btn btn-primary w100" ng-click="updateWechat(isMessageTemplate)"><span ng-if="checkId>0">更新</span><span ng-if="checkId==0">添加</span></button><p class="margin_top15px color-gray">点<span ng-if="checkId>0">更新</span><span ng-if="checkId==0">添加</span>按钮，客服系统将验证微信接口是否设置成功。</p></div></div></li></ul></div></div><iframe ng-if="showWinxin" ng-src="{{authorityPage}}" width="1250px" height="750px" style="overflow:hidden;border-width:0" scrolling="no"></iframe>');e.put("source/batch-create-ticket/directive/batch-operation-table/batch-operation-table.html",'<div class="batch-table"><table class="table table-bordered table-striped"><thead><tr><th class="column-checkbox" ng-if="showCheckboxes" style="min-width:30px"><input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value=""></th><th ng-repeat="column in columns track by $index" class="text-{{column.align}} {{column.widthClass}}" ng-style="{\'min-width\': (column.active ? column.fieldLength: (column.length || 180)) + \'px\',\'max-width\': (column.active ? column.fieldLength: (column.length || 180)) + \'px\'}"><span ng-style="{\'max-width\': (column.active ? (column.fieldLength - 20): ((column.length || 180) - 20)) + \'px\'}" title="{{column.title}}">{{column.title}} </span><i ng-if="column.required" class="required">*</i></th></tr></thead><tbody><tr ng-repeat="item in batchList track by $index" ng-class="{\'checked\': item.active}"><td ng-if="showCheckboxes" class="column-checkbox" style="min-width:30px"><input type="checkbox" ng-model="checkboxes.items[item.id]"></td><td ng-repeat="column in columns track by $index" ng-click="checkedTableCell(item, column, $event)" class="text-{{column.align}}" ng-class="{\'has-field-error\': item[\'$errorData\'][column.field] && !item.active}" ng-switch="column.field" ng-style="{\'min-width\': (column.active ? column.fieldLength: (column.length || 180)) + \'px\',\'max-width\': (column.active ? column.fieldLength: (column.length || 180)) + \'px\'}"><div ng-switch-when="handle"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group ticket-detail-form"><engineer-or-workflow-select class="ticket-handler" showinticketdetail="false" hideworkflow="true" selectedservicedesk="item.serviceDesk" selectedengineer="item.engineer" selectedworkflow="item.workflowTemplate" assignable="" activiti-workflow-node-uid=""></engineer-or-workflow-select></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span ng-if="item.serviceDesk==null&&item.engineer==null&&item.workflowTemplate==null">-</span> <span ng-if="item.workflowTemplate!=null"><span class="work"></span> <span ng-if="item.engineer!=null">{{item.engineer.user.name}}</span><span ng-if="selectedservicedesk!=null"><span ng-if="selectedengineer!=null && selectedservicedesk!=null">@</span>{{selectedservicedesk.name | translate}}</span><span ng-if="selectedengineer!=null || selectedservicedesk!=null">/</span>{{selectedworkflow.name}} </span><span ng-if="item.workflowTemplate==null&&item.serviceDesk!=null" title="{{item.engineer?(item.engineer.user.name+\'/\'):\'\'}}{{item.serviceDesk.name | translate}}"><span class="persons" ng-if="item.engineer==null"></span> <span class="person" ng-if="item.engineer!=null"></span> <span ng-if="item.engineer!=null">{{item.engineer.user.name}}/</span> {{item.serviceDesk.name | translate}}</span></div></div></div><div ng-switch-when="customer"><div ng-show="(column.active && item.active == column.field)" class="is-checked form-group"><div class="btn-group relative dropdown"><user-select selecteduser="item.requester" component-id="{{item.id}}" ticketid="" usertype="\'all\'" by-access-scope="false" default-user-name="{{item[\'$errorData\'] && !item.requester ? item[\'$errorData\'][column.field].text : \'\'}}"></user-select></div></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field] && !item.requester"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field] || (item[\'$errorData\'][column.field] && item.requester)" class="overflow-hidden"><span title="{{item.requester.name || \'-\'}}">{{ item.requester.name || \'-\'}}</span></div></div></div><div ng-switch-when="subject"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><div class="btn-group relative dropdown"><input type="text" class="form-control" ng-model="item.subject" maxlength="255"></div></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{item.subject || \'-\'}}">{{item.subject || \'-\'}}</span></div></div></div><div ng-switch-when="ticket_description"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><div class="btn-group relative dropdown"><textarea type="text" class="form-control" ng-model="item.ticketComment.content" rows="1" maxlength="1000" textarea-auto-height="140" style="overflow:hidden;min-height:34px"></textarea></div></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{item.ticketComment.content || \'-\'}}">{{item.ticketComment.content || \'-\'}}</span></div></div></div><div ng-switch-when="priority"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><ticket-priority-select selectedpriority="item.priority"></ticket-priority-select></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{(item.priority | priority: column.customFieldOptions)|| \'-\'}}">{{(item.priority | priority: column.customFieldOptions) || \'-\'}}</span></div></div></div><div ng-switch-when="service_catalog"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><service-catalog-select selectedservicecatalog="item.serviceCatalog"></service-catalog-select></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{(item.serviceCatalog | serviceCatalog) || \'-\'}}">{{(item.serviceCatalog | serviceCatalog) || \'-\'}}</span></div></div></div><div ng-switch-when="ticket_type"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><ticket-type-select selectedtickettype="item.ticketType" ticketprojecttype="ticketprojecttype"></ticket-type-select></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{item.ticketType.name}}">{{item.ticketType.name || \'-\'}}</span></div></div></div><div ng-switch-when="ccs"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group ticket-detail-form"><ticket-cc-input class="copy-to" hidetomy="true" isticketdetail="true" ccs="item.ccs" usergroup="item.requester.userGroup" user="item.requester" who="item" whoid="" assignable="true"></ticket-cc-input></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{(item.ccs | ccs) || \'-\' }}">{{(item.ccs | ccs) || \'-\'}}</span></div></div></div><div ng-switch-when="tags"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><ewei-tags-input edit-able="true" tags="item.tags" who="ticket" whoid="" notes="{{column.notes}}"></ewei-tags-input></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{(item.tags | tags) || \'-\'}}">{{(item.tags | tags) || \'-\'}}</span></div></div></div><div ng-switch-when="sla_time"><div ng-show="(column.active && item.active == column.field)" class="is-checked form-group"><ticket-plan-solved-at disabled="false" selected-plan-solved-at="item.ticketMetric.planSolvedAt"></ticket-plan-solved-at></div><div ng-show="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{item.ticketMetric.planSolvedAt || \'-\'}}">{{item.ticketMetric.planSolvedAt || \'-\'}}</span></div></div></div><div ng-switch-default ng-switch="column.type"><div ng-switch-when="number,text,email,mobile_phone,phone,currency" ng-switch-when-separator=","><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><div ng-class="{\'input-group\': item[column.field].valueUrl}"><input type="text" ng-model="item[column.field].value" class="form-control" maxlength="255" placeholder="{{column.notes}}" ng-blur="updateValue(item[column.field],column);" ng-keyup="filedValueChange(item[column.field], column.url,item[column.field].value);"></div></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{item[column.field].value || \'-\'}}">{{item[column.field].value || \'-\'}}</span></div></div></div><div ng-switch-when="textarea"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><textarea type="textarea" class="form-control" rows="1" ng-model="item[column.field].value" maxlength="1000" textarea-auto-height="140" style="overflow:hidden" placeholder="{{column.notes}}" ng-blur="updateValue(item[column.field],column);">\r\n                  </textarea></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{item[column.field].value || \'-\'}}">{{item[column.field].value || \'-\'}}</span></div></div></div><div ng-switch-when="regexp,decimal,ip,url" ng-switch-when-separator=","><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><div class="btn-group relative dropdown"><input ng-model="item[column.field].value" class="form-control" placeholder="{{column.notes}}" maxlength="255" ng-blur="updateValue(item[column.field],column);"></div></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{item[column.field].value || \'-\'}}">{{item[column.field].value || \'-\'}}</span></div></div></div><div ng-switch-when="date_time"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><div class="input-group"><input type="text" datetime-picker="yyyy/MM/dd HH:mm:ss" button-bar="datetimepickerConfig.buttonBar" datepicker-options="datetimepickerConfig.datepickerOptions" timepicker-options="datetimepickerConfig.timepickerOptions" datepicker-append-to-body="true" is-open="item[column.field].startForm" ng-model="item[column.field].value" ng-click="open($event,item[column.field])" class="form-control" when-closed="updateValue(item[column.field],column);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,item[column.field])" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{(item[column.field].value | date:\'yyyy/MM/dd HH:mm:ss\') || \'-\'}}">{{(item[column.field].value | date:\'yyyy/MM/dd HH:mm:ss\') || \'-\'}}</span></div></div></div><div ng-switch-when="date"><div ng-show="(column.active && item.active == column.field)" class="is-checked form-group"><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,item[column.field])" is-open="item[column.field].startForm" ng-model="item[column.field].value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" datepicker-append-to-body="true" datepicker-options="datetimepickerConfig.datepickerOptions" ng-blur="updateValue(item[column.field],column)"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,item[column.field])" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{(item[column.field].value | date:\'yyyy/MM/dd\') || \'-\'}}">{{(item[column.field].value | date:\'yyyy/MM/dd\' ) || \'-\'}}</span></div></div></div><div ng-switch-when="checkbox"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group is-checkbox"><input type="checkbox" ng-model="item[column.field].value" ng-true-value="\'true\'" ng-false-value="\'false\'"></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><input type="checkbox" ng-model="item[column.field].value" ng-true-value="\'true\'" ng-false-value="\'false\'" disabled="disabled"></div></div></div><div ng-switch-when="options"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><radio-options ticket-field="item[column.field]"></radio-options></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{item[column.field].value || \'-\'}}">{{item[column.field].value || \'-\'}}</span></div></div></div><div ng-switch-when="cascade_options"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><cascade-options ticket-field="item[column.field]"></cascade-options></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{item[column.field].value || \'-\'}}">{{item[column.field].value || \'-\'}}</span></div></div></div><div ng-switch-when="multi_options"><div ng-if="(column.active && item.active == column.field)" class="is-checked form-group"><multi-options ticket-field="item[column.field]"></multi-options></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{item[column.field].value || \'-\'}}">{{item[column.field].value || \'-\'}}</span></div></div></div><div ng-switch-when="date_to_date"><div ng-show="(column.active && item.active == column.field)" class="is-checked form-group" style="display:flex"><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,item[column.field],\'startTimeForm\')" ng-change="change(item[column.field], column);" is-open="item[column.field].startTimeForm" ng-model="item[column.field].startTime" uib-datepicker-popup="yyyy/MM/dd" datepicker-append-to-body="true" datepicker-options="datetimepickerConfig.datepickerOptions" current-text="今天" clear-text="清除" close-text="关闭" max-date="item[column.field].endTime" ng-blur="updateValue(item[column.field],column);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,item[column.field],\'startTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div><span style="display:inline-block;margin-top:7px">至</span><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,item[column.field],\'endTimeForm\')" ng-change="change(item[column.field], column);" is-open="item[column.field].endTimeForm" ng-model="item[column.field].endTime" uib-datepicker-popup="yyyy/MM/dd" datepicker-append-to-body="true" datepicker-options="datetimepickerConfig.datepickerOptions" current-text="今天" clear-text="清除" close-text="关闭" min-date="item[column.field].startTime" ng-blur="updateValue(item[column.field],column);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,item[column.field],\'endTimeForm\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div ng-if="!(column.active && item.active == column.field)" class="is-not-checked"><div ng-if="item[\'$errorData\'][column.field]"><span class="error-tip" bs-tooltip data-container="body" data-title="{{item[\'$errorData\'][column.field].message}}"><i class="iconfont">&#xe63b;</i></span> <span>{{ item[\'$errorData\'][column.field].text }}</span></div><div ng-if="!item[\'$errorData\'][column.field]" class="overflow-hidden"><span title="{{item[column.field].value || \'-\'}}">{{item[column.field].value || \'-\'}}</span></div></div></div></div></td></tr></tbody></table></div>');e.put("source/project_management/directives/nav/universalNavigation.html",'<section class="universalnav"><div bs-tooltip placement="bottom" class="title">超级看板</div><div class="center"><i class="turnleft iconfont" turnright>&#xe63a;</i><section class="carousel"><ul class="ul specialul"><li class="li li-color-a specialli" ui-sref="universal_list.favorites_list" ui-sref-active="activefavorites" ng-click="vm.trackNav(\'favorites_list\')"><p class="iconfontarea iconfont iconfontarea-color-a">&#xe6cc;</p><p class="iconinfo iconfont">收藏夹</p></li><li class="li specialli" ng-class="{\n          \'li-color-b\':item.defalutSystemSetting==\'requirement\',\n          \'li-color-c\':item.defalutSystemSetting==\'question\',\n          \'li-color-d\':item.defalutSystemSetting==\'business_opportunity\',\n          \'li-color-self\':item.defalutSystemSetting==\'none\',\n          \'activefavorites\': item.active\n        }" ng-repeat="item in vm.sortItems track by $index" ng-if="item.display" ng-click="vm.trackNav(item, $index)"><p class="iconfontarea iconfont iconfontarea-color-b" ng-if="item.defalutSystemSetting==\'requirement\'">&#xe6cb;</p><p class="iconfontarea iconfont iconfontarea-color-c" ng-if="item.defalutSystemSetting==\'question\'">&#xe6ca;</p><p class="iconfontarea iconfont iconfontarea-color-d" ng-if="item.defalutSystemSetting==\'business_opportunity\'">&#xe6cd;</p><p class="iconfontarea iconfontarea-color-self" ng-if="item.defalutSystemSetting==\'none\'">{{item.name|backFirstStr}}</p><p class="iconinfo">{{item.name}}</p></li></ul></section><i class="turnright iconfont" turnleft>&#xe63e;</i></div><div class="right" ng-class="{hasSearch: vm.default}"><div class="search" ng-if="vm.showSearchInput"><a ng-if="vm.searchKey" ng-click="vm.clearSearchKey()" class="custom-main-font-color">清除搜索条件</a><div class="input-group"><input type="text" class="form-control search-input" placeholder="搜索主题、编号、名字" ng-model="vm.searchKey" ng-enter="searchChannel()"> <span class="input-group-addon" ng-click="vm.searchCategory()" ng-style="(vm.searchKey!=null&&vm.searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span></div></div><div class="dropdown flexbtn" ng-if="vm.default"><div class="dropdown-toggle btn btn-default" id="dropdownMenu1" data-toggle="dropdown"><div class="common message" ng-click="vm.createProject(\'create\');" stopparent>创建新项目</div><div class="iconfont xl common">&#xe60c;</div><section style="clear:both"></section></div><ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1"><li role="presentation" ng-click="vm.createProject(\'create\');"><a role="menuitem" tabindex="-1">创建新项目</a></li><li role="presentation" ng-click="vm.createProject(\'fl\');"><a role="menuitem" tabindex="-1">管理项目分类</a></li></ul></div><p ng-if="!vm.default" class="cancelChosen" ng-click="vm.tranferProject(\'cancel\');">取消选中条件</p><div class="dropdown flexbtn" ng-if="!vm.default"><div class="dropdown-toggle btn btn-default" id="dropdownMenu1" data-toggle="dropdown" style="background:#ff8652;border:none"><div class="common message" ng-click="vm.tranferProject(\'tranfer\');" stopparent>转化为项目</div><div class="iconfont xl common">&#xe62f;</div><section style="clear:both"></section></div><ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1"><li role="presentation" ng-click="vm.tranferProject(\'tranfer\');"><a role="menuitem" tabindex="-1" href="#">转化为项目</a></li><li role="presentation" ng-click="vm.tranferProject(\'append\');"><a role="menuitem" tabindex="-1" href="#">添加到已有项目</a></li><li role="presentation" ng-click="vm.tranferProject(\'delete\');"><a role="menuitem" tabindex="-1" href="#">删除收藏项</a></li></ul></div></div></section>');e.put("source/project_management/directives/phase/phaseCard.html",'<div class="phase-header"><span class="title" title="{{phase.name}}">{{phase.name}}</span> <img ng-if="vm.loading" class="loading-indicator" src="/source/quick_entry/images/loading.gif"><div class="showmyonly"><div class="checkbox custom-checkbox"><input id="{{\'cb-project-phase\' + phaseIndex + \'-showmyonly\'}}" type="checkbox" ng-model="vm.showmyonly" value="true"><label for="{{\'cb-project-phase\' + phaseIndex + \'-showmyonly\'}}"></label></div><label for="{{\'cb-project-phase\' + phaseIndex + \'-showmyonly\'}}">只显示我的</label></div></div><div class="phase-body"><ol class="project-list" ng-sortable="vm.sortOptions" ng-model="vm.projects"><li ng-repeat="project in vm.projects | filter:vm.filter"><div class="project-icon"><i class="circle project-color" ng-style="{\'background-color\': phase.color}"></i> <i class="iconfont project-action" ng-click="vm.deleteProject(project, $index)">&#xe63c;</i></div><div class="content"><span ui-sref="project_detail({categoryid:{{vm.catId}},id:{{project.id}}})">#{{project.no}} {{project.name}}</span><p class="info"><span class="creater">{{project.creater.name}}</span><span class="date">{{(project.joinPhaseTime || project.createdAt) | dateOnly}}</span></p></div></li></ol><div class="loading-mask" ng-if="vm.loading"></div></div>');e.put("source/project_management/directives/related-workorder/related-workorder.html",'<div class="attachment-content"><ul class="list"><li ng-repeat="ticket in vm.ticketLists"><div class="list-wrap"><div class="list-icon"><ewei-ticket-sla ticketstatuscolors="vm.ticketStatusColors" ticketid="{{ticket.id}}" deleted="ticket.deleted" ng-if="!ticket.thoroughstatus" status="ticket.status" format="short" data-template-url="/source/scripts/directives/ewei-ticket-sla/sla_tip.html"></ewei-ticket-sla><span class="Deleted" style="cursor:pointer;background-color:#999" ng-if="ticket.thoroughstatus">D</span></div><div class="list-content"><a class="title ticket" ng-click="!ticket.deleted&&vm.openTicket(ticket)" title="{{ticket.deleted?\'工单已删除\':\'\'}}">#{{ticket.no}}&nbsp;&nbsp;&nbsp;{{ticket.subject}}</a><p class="det" ng-if="!ticket.thoroughstatus">处理人：{{ticket.username || ticket.nickname || ticket.service_desk_name || \'-\'}}</p></div></div><a class="delete" ng-click="vm.removeRelevanceWorkOrder(ticket,$index);"><i class="iconfont">&#xe63c;</i></a></li></ul><p class="noData" ng-if="vm.ticketLists.length <= 0">暂无关联工单</p></div>');e.put("source/project_management/directives/share-user/share-user.html",'<div class="add-share-input"><tags-input template="/source/project_management/directives/share-user/tasinput.html" ng-focus="focus()" ng-blur="blur()" ng-class="" ng-model="ccs" display-property="name" on-tag-adding="validateTag($tag);" on-tag-added="tagAdded($tag)" on-tag-removing="tagRemoveing($tag)" replace-spaces-with-dashes="false" min-length="1" max-length="128" max-tags="20" key-property="id" placeholder="输入要分享的客服Email或名字" class="share-user-wrap"><auto-complete source="loadUsers($query)" min-length="1" debounce-delay="300" ng-focus="focus()"></auto-complete></tags-input></div><ul class="share-user-box"><li class="userList" ng-repeat="item in ccs track by item.id"><image-show imageurl="{{item.contentUrl || item.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="img-circle" editable="false"></image-show><div class="info"><span class="user-name">{{item.showname || item.name}}</span> <span class="user-group" ng-if="item.userGroup">({{item.userGroup.name}})</span><p class="user-contact" ng-if="item.mobilePhone">{{item.mobilePhone}}</p><p class="user-contact" ng-if="!item.mobilePhone && item.email">{{item.email}}</p><a class="delete" ng-click="deleteCcRelation(item);" ng-if="!isclosed"><i class="iconfont">&#xe711;</i></a></div><span class="user-role" ng-if="item.role"><i class="iconfont"></i> {{item.role.name|translate}}</span></li></ul>');e.put("source/project_management/directives/share-user/tasinput.html","");e.put("source/project_management/template/modal_template/appendToProject.html",'<form name="mergerProjectForm" class="css-form" novalidate autocomplete="off"><div class="modal-inner-content"><p style="padding:10px">添加到已有项目：</p><div class="form-group"><div class="btn-group relative" style="width:100%"><div style="position:relative"><input type="text" name="name" ng-model="mergerUnit.curText" ng-change="mergerUnit.change()" ng-focus="mergerUnit.focus();" ng-keyup="mergerUnit.keyup($event)" class="form-control" placeholder="搜索项目编号或主题" style="padding-right:50px"> <span class="close" ng-if="mergerUnit.showSearch===false" ng-click="mergerUnit.clear();" style="position:absolute;right:10px;top:5px">×</span> <i ng-if="mergerUnit.showSearch===true" ng-click="mergerUnit.search();" class="fa fa-search" style="position:absolute;right:10px;top:10px;cursor:pointer"></i></div><ul ng-if="mergerUnit.list.length>0" class="dropdown-menu" style="width:100%" ng-style="{\'display\':mergerUnit.openMenu?\'block\':\'none\'}"><li ng-repeat="item in mergerUnit.list track by $index" ng-click="mergerUnit.select(item)"><a ng-click="javascript(0);" style="display:flex;width:100%"><span>#</span> <span style="display:block;width:150px">{{item.no}}</span> <span style="display:block;flex:1;overflow:hidden;text-overflow:ellipsis">{{item.name}}</span></a></li></ul></div></div></div><div class="modal-footer btn-group-common" style="border:none;margin-top:15px"><button type="button" class="btn btn-confirm" ladda="mergerUnit.submiting" ng-click="$ok(mergerUnit.selectedProject)" ng-disabled="!mergerUnit.selectedProject"><span>确认</span></button> <button type="button" class="btn btn-cancel" ng-click="$hide()"><span>取消</span></button></div></form>');e.put("source/project_management/template/modal_template/changeProgress.html",'<div class="modal-inner-content project-detial-modal"><p class="title">项目进度（里程碑）<span class="required">*</span></p><select ng-model="vm.projectProgress.id" ng-options="item.id as item.name for item in vm.projectPhases | orderBy : \'position\'" class="form-control"></select><p class="title">备注描述</p><textarea placeholder="请输入备注描述" class="remarks-textarea form-control" ng-model="vm.projectProgress.text"></textarea></div><div class="modal-footer btn-group-common"><button type="button" id="saveButton" class="btn btn-confirm custom-background-color" ng-click="saveChangeProgress()">保存</button> <button type="button" class="btn btn-cancel" ng-click="cancel?cancel():$hide()">取消</button></div>');e.put("source/project_management/template/modal_template/createProject.html",'<div class="modal-inner-content project-modal"><p class="title">项目名称 <span class="required">*</span></p><input type="text" class="form-control height30" ng-model="vm.projectName" maxlength="32" placeholder="请输入项目名称"><p class="title">项目描述 <span class="required">*</span></p><textarea class="form-control" rows="3" ng-model="vm.describe"></textarea><p class="title">项目分类 <span class="required">*</span></p><select ng-model="vm.choseSort" ng-options="y.name for (x, y) in vm.items" class="form-control"></select></div><div class="modal-footer btn-group-common"><button type="button" id="saveButton" class="btn btn-confirm custom-background-color" ng-click="vm.makeSureCreate()">保存</button> <button type="button" class="btn btn-cancel" ng-click="$hide()">取消</button></div>');e.put("source/project_management/template/modal_template/deleteListAlert.html",'<div class="modal-inner-content project-detial-modal"><p style="text-align:left;padding:10px 5px;font-size:14px">{{_messages}}</p></div><div class="modal-footer btn-group-common"><button type="button" id="saveButton" class="btn btn-confirm custom-background-color" ng-click="$hide()">知道了</button></div>');e.put("source/project_management/template/modal_template/deleteWorkOrder.html",'<style>.modal.center .modal-dialog{width:484px;height:232px;margin-top:0;margin-bottom:0;top:50%}.modal.center .modal-body{padding:20px}.modal.center .modal-title{font-size:16px;color:#333}.modal.center .close{display:none}.modal-inner-content{font-size:16px}.btn-make-sure{width:80px;height:30px;font-size:14px;padding-top:3px;padding-bottom:3px}.btn-loading{background-color:#999}.btn-loading img{width:20px;height:20px}.btn-cancel{background:0 0;color:#999}.btn-cancel.active:focus,.btn-cancel:active:focus,.btn-cancel:focus{outline:0;box-shadow:none}</style><div class="modal-inner-content text-center margin_top35px margin_bottom50px"><p style="text-align:left;padding:0 5px">{{_messages}}</p></div><div class="text-right"><button type="button" style="color:#fff" class="btn btn-make-sure custom-background-color" ng-click="$hide();$ok()" ng-if="!isLoading">确认</button> <button type="button" class="btn btn-make-sure btn-loading" ng-if="isLoading" disabled="disabled"><img src="source/images/home_load/load_white.gif"></button> <button type="button" class="btn btn-make-sure btn-cancel" ng-click="$hide();">取消</button></div>');e.put("source/project_management/template/modal_template/relevanceWorkorder.html",'<form name="mergerTicketForm" class="css-form" novalidate autocomplete="off"><div class="modal-inner-content"><p style="padding:10px">添加关联工单：</p><div class="form-group"><div class="btn-group relative" style="width:100%"><div style="position:relative"><input type="text" name="name" ng-model="mergerUnit.curText" ng-change="mergerUnit.change()" ng-focus="mergerUnit.focus();" ng-keyup="mergerUnit.keyup($event)" class="form-control" placeholder="搜索工单编号或主题" style="padding-right:50px"> <span class="close" ng-if="mergerUnit.showSearch===false" ng-click="mergerUnit.clear();" style="position:absolute;right:10px;top:5px">×</span> <i ng-if="mergerUnit.showSearch===true" ng-click="mergerUnit.search();" class="fa fa-search" style="position:absolute;right:10px;top:10px;cursor:pointer"></i></div><ul ng-if="mergerUnit.list.length>0" class="dropdown-menu" style="width:100%" ng-style="{\'display\':mergerUnit.openMenu?\'block\':\'none\'}"><li ng-repeat="item in mergerUnit.list track by $index" ng-click="mergerUnit.select(item)"><a ng-click="javascript(0);" style="display:flex;width:100%"><span>#</span> <span style="display:block;width:150px">{{item.no}}</span> <span style="display:block;flex:1;overflow:hidden;text-overflow:ellipsis">{{item.subject}}</span></a></li></ul></div></div></div><div class="modal-footer btn-group-common" style="border:none;margin-top:15px"><button type="button" class="btn btn-confirm" ladda="mergerUnit.submiting" ng-click="$ok(mergerUnit.selectedTicket)" ng-disabled="!mergerUnit.selectedTicket"><span>确认</span></button> <button type="button" class="btn btn-cancel" ng-click="$hide()"><span>取消</span></button></div></form>');e.put("source/project_management/template/modal_template/translateToProject.html",'<div class="modal-inner-content project-modal"><p class="title">项目名称</p><input type="text" class="form-control height30" ng-model="vm.projectName" maxlength="32" placeholder="请输入项目名称"><p class="title">项目分类</p><select ng-model="vm.choseSort" ng-options="y.name for (x, y) in vm.items" class="form-control"></select></div><div class="modal-footer btn-group-common"><button type="button" id="saveButton" class="btn btn-confirm custom-background-color" ng-click="vm.makeSure()">保存</button> <button type="button" class="btn btn-cancel" ng-click="$hide()">取消</button></div>');e.put("source/scripts/directives/Pagebar/pageBar.html",'<div><ul class="page-bar-chat"><li ng-click="prevPage();" ng-if="isShow>1" class="iconfont">&#xe63a;</li><li ng-click="switchPage(item)" ng-if="isShow>1" ng-repeat="item in paramsArray track by $index" ng-class="{\'page-bar-actived\':item==params._currentPage}">{{item}}</li><li ng-click="nextPage();" ng-if="isShow>1" class="iconfont">&#xe63e;</li><div class="page-bar-total">共计{{params._total}}条</div><div style="clear:both"></div></ul></div>');e.put("source/scripts/directives/alert/alert.html",'<div class="alert margin0px" ng-class="[\'alert-\' + (type || \'success\'), closeable ? \'alert-dismissable\' : null]" role="alert"><button ng-if="closeable" type="button" class="close" ng-click="close()"><span aria-hidden="true">&times;</span> <span class="sr-only">Close</span></button><div ng-transclude></div></div>');e.put("source/scripts/directives/alert-sms/alert-sms.html",'<div class="text-center" style="margin-top:25px;margin-bottom:20px;font-size:14px;color:#666">短信剩余条数严重不足，无法启用短信通知，增购短信后，再来试试吧！<p style="margin-top:40px"><button class="btn btn-default btn-confirm" type="button" ng-click="paySms()">增购短信</button></p></div><style>.modal.center .modal-dialog{width:500px}</style>');e.put("source/scripts/directives/alert-workflows/alert-workflows.html",'<div class="text-center" style="margin-bottom:40px"><workflow-tree tree="workflowRootNode" show-only="true" doing-uid="activitiWorkflowNodeUid"></workflow-tree></div><style>.modal.center .modal-dialog{max-width:100%;width:auto}</style>');e.put("source/scripts/directives/area-select/area-select.html",'<div class="btn-group relative" uib-dropdown is-open="isopen"><button type="button" class="dropdown-toggle form-control relative" style="height:auto;min-height:32px" uib-dropdown-toggle ng-disabled="disabled" ng-click="click()"><span style="text-align:left;float:left" ng-if="selectArea == null">-</span> <span style="text-align:left;float:left" ng-class="{\'one-line-select-span\': singleLine}" ng-if="selectArea != null"><span title="{{selectArea.provice.name}}">{{selectArea.provice.name}} </span><span ng-if="selectArea.city && selectArea.city.name!=null" title="{{selectArea.city.name}}">/{{selectArea.city.name|splitcharacters:20}}</span> </span><span class="caret" style="position:absolute;right:8px;top:14px" ng-if="!catSelected"></span></button> <button type="button" class="close" ng-if="catSelected" ng-click="clear()" style="position:absolute;right:8px;top:4px"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><ul class="list-group dropdown-menu of_y1 h400" style="width:inherit" role="menu" uib-dropdown-menu><li class="list-group-item cursorhand" ng-if="showProvice" bindonce ng-repeat="item in provice track by $index" ng-click="selectAreaFunc(item, \'provice\', $event)"><span bo-bind="item.name"></span> <span class="pull-right glyphicon glyphicon-chevron-right"></span></li><li class="list-group-item" ng-if="showCity"><button class="btn btn-default btn-xs" ng-click="back($event)"><span class="glyphicon glyphicon-chevron-left"></span> 返回</button></li><li class="list-group-item cursorhand" ng-if="showCity" ng-click="selectAreaFunc(tempProvice, \'onlyProvice\')"><span ng-bind="tempProvice.name"></span></li><li class="list-group-item cursorhand" ng-if="showCity" bindonce ng-repeat="item in city track by $index" ng-click="selectAreaFunc(item, \'city\')"><span class="size12" ng-bind="item.name"></span></li></ul></div>');e.put("source/scripts/directives/attachment-detail/attachment-detail-item.html",'<style>.usb-phone{color:#999;min-width:300px}.usb-phone h5{font-weight:700}.usb-phone p{margin-top:5px;font-size:14px}</style><div ng-if="isImage" data-context-menu="/source/scripts/directives/attachment-detail/image-context-menu.html"><img class="cursorhand img-responsive js-view" ng-if="isImage" scroll-image-item="{{useScroll}}" ng-src="{{url}}" alt="{{attachment.fileName}}" title="点击查看大图"></div><a ng-if="isMap" style="position:relative;cursor:pointer;display:block" href="http://api.map.baidu.com/marker?location={{location}}&title=我的位置&content={{addr}}&output=html" target="_blank"><img ng-src="{{url}}" alt="{{attachment.fileName}}" title="{{addr}}"> <span style="position:absolute;bottom:0;left:0;width:100%;height:30px;padding:0 5px;color:#fff;line-height:30px;font-size:14px;background:rgba(0,0,0,.5);filter:alpha(opacity=50);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box">{{addr}}</span></a><div ng-if="isVideo"><video videojs class="video-js vjs-default-skin vjs-big-play-centered chat-video-item" scroll-item="{{useScroll}}" ewei-src="{{url}}" width="310" height="200"><p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p></video></div><audio ng-if="isAudio &&log.chat.clientType!=\'USB_PHONE\'" scroll-item="{{useScroll}}" ewei-src="{{url}}" controls="controls" audio-error>Your browser does not support the audio tag.</audio><div class="usb-phone" ng-if="isAudio &&log.chat.clientType==\'USB_PHONE\'"><audio ng-if="log.attachment.size>0" scroll-item="{{useScroll}}" ewei-src="{{url}}" controls="controls" audio-error>Your browser does not support the audio tag.</audio><h5>通话详情</h5><hr style="margin:5px 1px"><p><span ng-if="log.chat.requestMode==\'outgoing\'">去电号码</span><span ng-if="log.chat.requestMode!=\'outgoing\'">来电号码</span>：{{log.chat.phoneNo || log.chat.user.mobilePhone || log.chat.user.phone}}</p><p>渠道：{{log.chat.via.channelName}}</p><p><span ng-if="log.chat.requestMode==\'outgoing\'">呼出客服</span><span ng-if="log.chat.requestMode!=\'outgoing\'">接听客服</span>：{{log.chat.engineer.user.name}}</p></div><a ng-if="isKnowledge" class="chat-knowledge-item" target="_black" ng-href="{{question.topic.type===\'questions\' || question.topic.type===\'deletes\' || question.topic.type===\'default\'?\'/#/forum/detail/\':\'/#/article/detail/\'}}{{question.id}}"><h5 class="chat-title"><span>{{question.title}}</span></h5><div class="media"><div class="media-left media-middle" ng-bind-html="question.remark|firstimage"></div><div class="media-body media-top"><p class="summary">{{question.summary}}</p></div></div></a><div ng-if="isOther" scroll-item="{{useScroll}}" class="chat-file-item"><p class="attachment-file-name">{{attachment.fileName}}</p><div class="attachment-file-box"><div class="file-ico"><image-file-type></image-file-type></div><div class="file-content-box"><p class="size-box"><span class="size">{{attachment.size|fileSize}}</span> <a class="c75" target="_blank" ng-href="{{url}}" ng-if="sendStatus==\'success\'||!sendStatus">下载<i class="fa fa-angle-right" style="font-size:18px;margin-left:4px;vertical-align:text-top"></i></a> <a class="c75" ng-if="sendStatus==\'error\'||sendStatus==\'send\'" style="color:#ccc;text-decoration:none">下载<i class="fa fa-angle-right" style="font-size:18px;margin-left:4px;vertical-align:text-top"></i></a></p></div></div></div>');e.put("source/scripts/directives/attachment-detail/attachment-detail.html",'<section bindonce><p bo-html="content|linkSetMark" ng-if="content&&!richText"></p><div ng-if="richText" set-iframe-content="{{richText}}"><iframe style="display:none" ng-src="source/views/help_center/ui_setting_html/empty.frame.html?t=1231231231"></iframe></div><div ng-repeat="attachment in attachments | orderBy:\'-id\'" keep-scroll ng-class="{\'chat-media-item\':attachments.length>1}"><span attachment-detail-item attachment="attachment" attachmentid="{{attachment.id}}"></span></div></section>');e.put("source/scripts/directives/attachment-detail/image-context-menu.html",'<input type="button" class="btn btn-default btn-xs" ng-click="saveAsImage(this);" value="另存为图片...">');e.put("source/scripts/directives/avatar-box/avatar-box.html",'<div class="avatar-panel" ng-class="{\'avatar-panel-active\': panelActived}"><ol class="nav-menu"><li ui-sref="system_setting.detail({uri:\'my_account\',settingType:\'system\'})" ui-sref-opts="{reload: true}" ng-click="hidePanel();$parent.currentUserBuried();"><a class="important custom-main-font-color size16">{{currentUserName}}</a><ul class="nav-submenu"><li><span class="ellipsis">{{engineer.defaultServiceDesk.name | translate}}</span></li><li><span class="ellipsis">{{engineer.role.name | translate}}</span></li></ul></li><li><a class="important custom-main-font-color" ng-href="https://{{providerDomain + \'/cti/\'}}" ng-click="goCti($event)" target="_blank">呼叫中心 <span class="extra">{{providerDomain}}/cti/</span></a></li><li><a class="important custom-main-font-color" ng-href="{{providerHelpCenterUrl}}" ng-click="$parent.helpcenterBuried()">切换到帮助中心 <span class="extra">{{providerDomain}}</span></a></li><li><span class="gray">并发会话上限</span><ul class="nav-submenu"><li><button type="button" class="btn btn-default btn-dropdown" bs-dropdown="chatNumberOptions" aria-haspopup="true" aria-expanded="false">{{$root.concurrentChatNumber==0?\'示忙\':$root.concurrentChatNumber}}<i class="iconfont">&#xe60e;</i></button></li></ul></li><li class="roomly"><ul class="nav-submenu"><li ng-if="$root.providerLicense && $root.providerLicense.type !=\'oem\' && !licenseService.hasModule(\'oem\')"><a ng-click="hidePanel();component_popup(1)">APP和微信客服端</a></li><li ng-if="$root.providerLicense && $root.providerLicense.type !=\'oem\' && !licenseService.hasModule(\'oem\')"><a ng-click="hidePanel();component_popup(2)">远程协助组件</a></li><li><a ng-click="hidePanel();$parent.noviceguideBuried()" ui-sref="noviceguide.experience">新手向导</a></li><li><a ng-click="hidePanel();$parent.helpTextBuried()" ng-href="{{$root.gettingHelpUrl}}" target="_blank">帮助文档</a></li><li ng-if="$root.providerLicense && $root.providerLicense.type !=\'oem\' && !licenseService.hasModule(\'oem\')"><a ng-click="hidePanel();developerBuried()" href="http://api.ewei.com" target="_blank">开发者</a></li><li><a ng-click="hidePanel();developerBuried();goNotify();" ui-sref="system_setting.detail({uri:\'my_account\',settingType:\'system\'})" ui-sref-opts="{reload: true}">通知设置</a></li></ul></li><li><a ng-click="logoutBuried()">退出</a></li></ol></div>');e.put("source/scripts/directives/batch-indicator/batch-indicator.html",'<div class="batch-indicator" ng-class="{\'processing\': status === \'processing\'}" ng-if="status !== \'ready\'" ng-switch="batchType"><div ng-switch-when="batch-ticket-export|customer-batch-export|user-group-batch-export|webchat-history-batch-export" ng-switch-when-separator="|"><div ng-if="status === \'processing\'"><div ng-if="!needConfirmStop"><span class="progress-wrapper"><i class="fa fa-spinner fa-pulse"></i> {{finished}}/{{total}}</span> <span class="tip-text">正在导出Excel，请勿关闭页面</span><div class="actions"><button class="btn btn-stop" ng-click="stop()">停止</button></div></div><div ng-if="needConfirmStop"><span class="progress-wrapper"><i class="fa fa-spinner fa-pulse"></i> {{finished}}/{{total}}</span> <span class="tip-text">是否终止导出工单？</span><div class="actions"><button class="btn btn-stop" ng-disabled="!stopEnabled" ng-click="confirmStop()">确认</button> <button class="btn btn-cancel" ng-click="cancelStop()">取消</button></div></div></div><div ng-if="status === \'complete\'" class="complete"><i class="iconfont icon-complete" ng-if="!reason">&#xe63d;</i> <i class="iconfont icon-error" ng-if="reason">&#xe63c;</i> <span class="tip-text" ng-if="!reason">{{finished}}数据导出成功</span> <span class="tip-text" ng-if="reason">{{finished}}数据导出成功，{{ (total - finished)}}失败</span><div class="actions"><button ng-if="finished >= total" class="btn btn-confirm" ng-click="ok()">知道了</button> <button ng-if="finished < total" class="btn btn-cancel" ng-click="ok()">取消</button></div></div></div><div ng-switch-default><div ng-if="status === \'processing\'"><div ng-if="!needConfirmStop"><span class="progress-wrapper"><i class="fa fa-spinner fa-pulse"></i> {{finished}}/{{total}}</span> <span class="tip-text">正在批量创建工单，请勿关闭页面</span><div class="actions"><button class="btn btn-stop" ng-click="stop()">停止</button></div></div><div ng-if="needConfirmStop"><span class="progress-wrapper"><i class="fa fa-spinner fa-pulse"></i> {{finished}}/{{total}}</span> <span class="tip-text">是否终止批量创建工单？</span><div class="actions"><button class="btn btn-stop" ng-disabled="!stopEnabled" ng-click="confirmStop()">确认</button> <button class="btn btn-cancel" ng-click="cancelStop()">取消</button></div></div></div><div ng-if="status === \'complete\'" class="complete"><i class="iconfont icon-complete" ng-if="finished === total">&#xe63d;</i> <i class="iconfont icon-error" ng-if="finished !== total">&#xe63c;</i> <span class="tip-text" ng-if="finished === total">{{finished}}张工单创建成功</span> <span class="tip-text" ng-if="finished !== total">{{finished}}张工单创建成功，{{ (total - finished)}}张失败</span><div class="actions"><button ng-if="finished == total" class="btn btn-confirm" ng-click="ok()">知道了</button> <button ng-if="finished != total" class="btn btn-confirm" ng-click="ok(true)">查看</button> <button ng-if="finished != total" class="btn btn-cancel" ng-click="ok()">取消</button></div></div></div></div>');e.put("source/scripts/directives/business-hours/business-hours.html",'<div class="b-hours"><p class="week" ng-bind="::vm.week.day"></p><div class="item" ng-style="$index%2==0?{}:{\'margin-bottom\':\'36px\'}" ng-repeat="item in vm.week.times track by $index"><div class="hours"><div class="txt" ng-bind="$index%2==0 ?\'启\':\'止\'"></div><input type="text" class="val" size="8" ng-model="item" ng-change="vm.timeChange($index, item)" name="time" bs-timepicker data-time-format="HH:mm" data-length="1" data-minute-step="1" data-arrow-behavior="picker"></div></div><a class="botm custom-main-font-color" ng-click="vm.splitOrMergeTime()" ng-bind="vm.handleText"></a></div>');e.put("source/scripts/directives/business-hours-week/business-hours-week.html",'<div class="businessHours-week clearfix"><link href="/source/css/businessHours.css" media="all" rel="stylesheet" type="text/css"><div class="clearfix"><business-hours class="day" ng-repeat="item in vm.week track by $index" week="item"></business-hours></div><div class="promet"><p>提醒</p><p>1 每天的结束时间不得大于23:59</p><p>2 单个时间段，结束时间必须大于等于开始时间</p></div></div>');e.put("source/scripts/directives/cascade-options/cascade-options.html",'<div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" uib-dropdown-toggle ng-disabled="disabled || field.edit_able==0" style="text-align:left;min-height:32px;height:auto;word-break:break-all" ng-click="click()"><span style="float:left;word-break:break-all" ng-class="{\'one-line-select-span\': singleLine}" title="{{ticketField.value}}" ng-bind="ticketField.value"></span> <span class="caret" style="position:absolute;right:8px;top:14px" ng-if="!catSelected"></span></button> <button type="button" class="close" ng-if="catSelected" ng-click="clear()" style="position:absolute;right:8px;top:5px"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><ul style="padding:0;height:auto;max-height:330px;overflow:auto;width:100%" class="list-group dropdown-menu" role="menu" uib-dropdown-menu><li class="list-group-item" ng-show="backShow"><button class="btn btn-default btn-xs" style="width:60px" ng-click="back($event)"><span class="glyphicon glyphicon-chevron-left"></span> 返回</button></li><li class="list-group-item cursorhand" ng-repeat="item in showOption" ng-click="selectOption(this,$event)"><span ng-if="item.children" class="folder2"></span><span ng-if="!item.children" class="folder3"></span> <span ng-bind="item.name"></span><span ng-if="item.children" class="pull-right glyphicon glyphicon-chevron-right"></span></li></ul></div>');e.put("source/scripts/directives/chart-ticket-field/chart-ticket-field.html",'<div><div class="show-colums"><span ng-click="setShowColums();" class="ticket-field-class"><i class="iconfont ticket-field-class">&#xe62e;</i> <span class="ticket-field-class">展示的列</span></span><ul class="ticket-field-class ticket-field" ng-show="fieldIsShow"><li class="item ticket-field-class" ng-repeat="item in ticketFields"><label class="ticket-field-class"><input ng-click="selectVisibleColumn(item)" class="inp ticket-field-class" type="checkbox" ng-checked="item.selected" ng-disabled="item.ischecked"> {{item.title}}</label></li></ul></div><div ng-click="exportBuried()" class="btn-group" has-permission="statistics_export"><span data-toggle="dropdown" class="statisticsChart_hover_pointer"><i class="fa fa-share chart_img_font"></i> <span class="statisticsChart_font statisticsChart_margin_right_20">导出</span></span><ul class="dropdown-menu pull-right statisticsChart_margin_right_5" role="menu"><li><a ng-click="downLoadCharts(1);">EXCEL格式</a></li><li class="divider"></li><li><a ng-click="downLoadCharts(3);">CSV格式</a></li></ul></div></div>');e.put("source/scripts/directives/chart-tool-bar/chart-tool-bar.html",'<div><div style="padding:10px 0 10px 0"><div class="statisticsChart_float_left statisticsChart_padding_left_10"><ul style="list-style:none;padding:0;margin:0" id="chart_ul"><li class="statisticsChart_float_left statisticsChart_line_height"><select class="statisticsChart_margin_right_20 statisticsChart_select_box form-control" style="height:35px;width:130px" ng-change="changeQueryDate()" ng-model="chartSelectTime.id" ng-options="chartSelectTime.id as chartSelectTime.name for chartSelectTime in chartSelectTimeValue"></select></li><li class="statisticsChart_float_left statisticsChart_margin_right_20 statisticsChart_hidden statisticsChart_width139 chart_box" ng-show="chartSelectTimeIsShow"><div class="input-group input-size-middle date-input"><input class="form-control statisticsChart_width100 ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched statisticsChart_border_right_none" type="text" ng-click="open($event,\'startFrom\')" max-date="chartSelectedDate.end" is-open="datepickers.startFrom" ng-model="chartSelectedDate.begin" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" name="startFrom"> <span class="input-group-btn"><button class="btn btn-default dateBtn statisticsChart_hover_none statisticsChart_border_left_none" ng-click="open($event,\'startFrom\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div></li><li class="statisticsChart_float_left statisticsChart_margin_right_20 statisticsChart_hidden statisticsChart_width139 chart_box" ng-show="chartSelectTimeIsShow"><p class="input-group"><input class="form-control statisticsChart_width100 ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched statisticsChart_border_right_none" type="text" ng-click="open($event,\'startTo\')" min-date="chartSelectedDate.begin" is-open="datepickers.startTo" ng-model="chartSelectedDate.end" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" name="startTo"> <span class="input-group-btn"><button class="btn btn-default dateBtn statisticsChart_hover_none statisticsChart_border_left_none" ng-click="open($event,\'startTo\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></p></li><li class="statisticsChart_float_left statisticsChart_line_height" ng-show="chartServiceDeskIsShow"><select class="statisticsChart_margin_right_20 statisticsChart_select_box form-control" style="height:35px;width:130px" ng-change="changeQueryServiceDesks()" ng-model="chartServiceDesk.id" ng-options="chartServiceDesk.id as chartServiceDesk.name for chartServiceDesk in chartServiceDeskValue"></select></li><li class="statisticsChart_float_left statisticsChart_line_height" ng-show="chartEngineerIsShow"><select class="statisticsChart_margin_right_20 statisticsChart_select_box form-control" style="height:35px;width:130px" ng-model="chartEngineer.id" ng-options="chartEngineer.id as chartEngineer.name for chartEngineer in chartEngineerValue"></select></li><li class="statisticsChart_float_left statisticsChart_line_height" ng-show="chartEngineerIsShow"><select class="statisticsChart_margin_right_20 statisticsChart_select_box form-control" style="height:35px;width:130px" ng-model="selectedHandle"><option value="0">全部操作</option><option value="1">创建的（手工创建工单）</option><option value="2">响应的（第一个回复客户）</option><option value="3">处理的（作为处理人或之一）</option><option value="4">完成的（回复为处理完毕）</option><option value="5">审核的（作为审核人）</option></select></li><li class="statisticsChart_float_left statisticsChart_line_height statisticsChart_hover_pointer" ng-click="queryData()"><i class="fa fa-refresh chart_img_font"></i> <span class="statisticsChart_font statisticsChart_hover_pointer" id="renewal">更新</span></li><div style="clear:both"></div></ul></div><div class="statisticsChart_float_right" style="line-height:35px"><span class="statisticsChart_font statisticsChart_margin_right_30 statisticsChart_hover_pointer" style="color:#428bca" ng-click="chartClearEliminate()" ng-show="showfilter==\'true\' && visible">清除筛选条件</span> <span ng-click="filterBuried()" class="statisticsChart_hover_pointer" data-toggle="modal" data-target="#myModal" ng-show="showfilter==\'true\'"><i class="fa fa-filter chart_img_font"></i> <span class="statisticsChart_font statisticsChart_margin_right_30">筛选</span></span><div ng-click="exportBuried()" ng-show="showexport == \'true\' && showfilter==\'true\'" class="btn-group" has-permission="statistics_export"><span data-toggle="dropdown" class="statisticsChart_hover_pointer"><i class="fa fa-share chart_img_font"></i> <span class="statisticsChart_font statisticsChart_margin_right_20">导出</span></span><ul class="dropdown-menu pull-right statisticsChart_margin_right_5" role="menu"><li ng-show="showfilter==\'true\'"><a ng-click="downLoadCharts(1);">EXCEL格式</a></li><li ng-show="showfilter==\'true\'" class="divider"></li><li ng-show="showfilter==\'true\'"><a ng-click="downLoadCharts(3);">CSV格式</a></li></ul></div></div><div style="clear:both"></div></div><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="background:rgba(0,0,0,.5)"><div class="modal-dialog modal-sm"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">筛选</h4></div><div class="modal-body modal-pad"><p style="display:inline-block;margin:auto"><label class="chart_modal_title">类别</label></p><select class="form-control form-group" ng-options="chartClass.id as chartClass.name for chartClass in chartClassSelectValue" ng-model="chartClassSelect.id"></select><p><label class="chart_modal_title">对象</label></p><select class="form-control form-group" ng-if="chartClassSelect.id==0"><option value="0">请选择类别--</option></select><service-desk-select ng-if="chartClassSelect.id==1" selectedservicedesk="$parent.selectedservicedesk" class="form-group"></service-desk-select><engineer-select ng-if="chartClassSelect.id==2" selectedservicedesk="$parent.selectedservicedesk_engineer" selectedengineer="$parent.selectedengineer" id="chart_modal_select_engineer_box" class="form-group"></engineer-select><input type="checkbox" id="res" ng-model="chartResponseCheckbox.isChecked"><label for="res" class="chart_modal_checkbox_label"><span class="statisticsChart_margin_left_5">响应的(第一次回复)</span></label><br><input type="checkbox" id="deal" ng-model="chartDisposeCheckbox.isChecked"><label for="deal" class="chart_modal_checkbox_label"><span class="statisticsChart_margin_left_5">处理的(更新过)</span></label><br><input type="checkbox" id="finish" ng-model="chartFinishCheckbox.isChecked"><label for="finish" class="chart_modal_checkbox_label"><span class="statisticsChart_margin_left_5">完成的(回复为处理完毕)</span></label></div><div class="modal-footer"><p ng-show="submitCheck" class="text-right text-danger margin10px">对象不能为空</p><button type="button" class="btn btn-primary" ng-click="advancedQuery($event)">更新</button></div></div></div></div></div>');e.put("source/scripts/directives/chat-advanced-query/chat-advanced-query.html",'<div class="modal fade" id="queryModal" role="dialog" aria-labelledby="queryModalLabel" aria-hidden="true"><div class="query-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="queryModalLabel">高级查询</h4></div><div class="media-body advanced-query-box"><form name="query" method="post"><table class="queryTable"><tr class="lineHeight"><td class="firstCell">来访渠道</td><td colspan="3"><via-select hide-console="true" selectedtype="advancedQueryCondition.viaType" selectedchannel="advancedQueryCondition.viaChannel" selectedvia="advancedQueryCondition.via"></via-select></td></tr><tr class="lineHeight"><td class="firstCell">客户</td><td colspan="3"><user-select selecteduser="advancedQueryCondition.user" can-clear="true" usertype="\'all\'" by-access-scope="false"></user-select></td></tr><tr class="lineHeight"><td class="firstCell">客户组</td><td colspan="3"><user-group-select unable-add-usergroup="true" selectedusergroup="advancedQueryCondition.userGroup" can-clear="true" without-access-scope="true"></user-group-select></td></tr><tr class="lineHeight"><td class="firstCell">客服/客服组</td><td colspan="3"><engineer-select selectedservicedesk="advancedQueryCondition.serviceDesk" selectedengineer="advancedQueryCondition.engineer" selectableservicedesk="true"></engineer-select></td></tr><tr class="lineHeight"><td class="firstCell">{{systemFieldServiceCatalog.title}}</td><td colspan="3"><service-catalog-select selectedservicecatalog="advancedQueryCondition.serviceCatalog"></service-catalog-select></td></tr><tr class="lineHeight"><td class="firstCell">自动结束</td><td colspan="3"><select class="form-control" ng-model="advancedQueryCondition.isAutoClose" ng-options="item.value as item.label for item in autoCloseOptions"></select></td></tr><tr class="lineHeight"><td class="firstCell">评价否</td><td colspan="3"><select class="form-control" ng-model="advancedQueryCondition.isEvaluation" ng-options="item.value as item.label for item in evaluationOptions"></select></td></tr><tr class="lineHeight" ng-if="advancedQueryCondition.isEvaluation"><td class="firstCell">解决否</td><td><select ng-model="advancedQueryCondition.isSolved" ng-options="item.value as item.label for item in solvedOptions" class="form-control input-size-middle"></select></td></tr><tr class="lineHeight" ng-if="advancedQueryCondition.isEvaluation"><td class="firstCell">满意度</td><td class="clearfix"><div class="col-md-5" style="padding:0"><div class="input-group"><input type="number" min="0" max="99999999" class="form-control" ng-model="advancedQueryCondition.evaluationScoreMin"> <span class="input-group-addon">分</span></div></div><div class="col-md-2" style="padding:0;text-align:center;line-height:34px">-</div><div class="col-md-5" style="padding:0"><div class="input-group"><input type="number" min="0" max="99999999" class="form-control" ng-model="advancedQueryCondition.evaluationScoreMax"> <span class="input-group-addon">分</span></div></div></td></tr><tr class="lineHeight"><td class="firstCell">质检否</td><td colspan="3"><select class="form-control" ng-model="advancedQueryCondition.qualityInspected" ng-options="item.value as item.label for item in qualityScoreOptions"></select></td></tr><tr class="lineHeight" ng-if="advancedQueryCondition.qualityInspected"><td class="firstCell">质检分</td><td class="clearfix"><div class="col-md-5" style="padding:0"><div class="input-group"><input type="number" min="0" max="99999999" class="form-control" ng-model="advancedQueryCondition.qualityScoreMin"> <span class="input-group-addon">分</span></div></div><div class="col-md-2" style="padding:0;text-align:center;line-height:34px">-</div><div class="col-md-5" style="padding:0"><div class="input-group"><input type="number" min="0" max="99999999" class="form-control" ng-model="advancedQueryCondition.qualityScoreMax"> <span class="input-group-addon">分</span></div></div></td></tr></table><div class="modal-footer"><button type="button" class="btn btn-confirm" ng-click="advSearchMethod();"><span>搜索</span></button> <span class="wroMsg">{{advancedQueryCondition.advancedQueryError}}</span></div></form></div></div></div>');e.put("source/scripts/directives/chat-log-in-ticket-log/chat-log-in-ticket-log.html",'<div keep-scroll style="width:inherent"><div class="chat-log-box" ng-if="chatLogs && chatLogs.length>0"><span class="info">会话#{{ticketComment.chatId}}开始</span></div><chat-logs ng-if="chatLogs && chatLogs.length>0" ticket-comment="ticketComment" log-lists="chatLogs" is-webchat="true"></chat-logs><div class="chat-log-box" ng-if="chatLogs && chatLogs.length>0"><span class="info">会话#{{ticketComment.chatId}}结束</span></div><div class="chat-log-box" ng-if="chatLogs && chatLogs.length==0"><span class="info">关联会话#{{ticketComment.chatId}}已经被删除</span></div></div>');e.put("source/scripts/directives/chat-log-in-ticket-log/chat-logs.html",'<ul class="list-unstyled" style="margin-bottom:70px"><li ng-repeat="log in logLists track by $index" class="chat-item" scroll-item="{{isWebchat}}" bindonce><div ng-if="log.type!=\'log\'"><div class="media"><div class="media-left media-top" style="padding-right:4px"><image-show imageurl="{{log.user.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w40 h40 img-circle" editable="false"></image-show></div><div class="media-body media-top"><p class="media-user-info" style="color:#9ea7b7"><span class="padding_right10px" style="color:#333c3e;font-size:13px" bo-bind="log.user.name"></span> <span bo-bind="log.createdAt|dateFilter_style1"></span></p><div class="chat-log"><span class="text" ng-if="log.type==\'text\'" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" bo-html="log.content|wechatEmoji"></span> <span class="text" ng-if="log.type==\'html\'" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" bo-html="log.richTextContent.richText"></span> <span class="text single" ng-if="log.type!=\'text\'&& log.type!=\'html\'&&log.type!=\'location\'&&log.attachment.contentUrl!=\'uploadProcess\'" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" log="log" attachment-detail-item attachment="log.attachment" use-scroll="{{isWebchat}}" attachmentid="{{log.attachment.id}}" question-id="{{log.questionId}}"></span> <span class="text single" ng-if="log.type===\'location\'&&log.attachment" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" log="log" attachment-detail-item attachment="log.attachment" use-scroll="{{isWebchat}}" attachmentid="{{log.attachment.id}}" question-id="{{log.questionId}}"></span> <span class="text single" ng-if="log.type ===\'location\'&& !log.attachment" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" bo-html="log.content|setTargetForLabel"></span> <span ng-if="!log.isPublic" style="margin-left:10px"><i class="fa fa-lock" style="color:#737373"></i></span> <span ng-if="log.sendStatus==\'send\'" style="margin-left:10px"><img src="source/images/help_center/new/sending.gif"> </span><span ng-if="log.sendStatus==\'error\'" ng-click="reSendMessage(log)" ng-mouseover="log.showSend=true;" ng-mouseout="log.showSend=false;" style="color:#e82020;margin-left:10px;cursor:pointer"><i class="icon iconfont">&#xe63b;</i> <span ng-if="log.sendStatus==\'error\' && log.showSend" style="color:gray;z-index:55">点击重新发送 </span></span><span has-module="super_board" ng-if="ticketComment && ticketComment.id && !log.questionId" class="open-toggle" title="添加到收藏夹" style="vertical-align:baseline" add-to-favorite="ticketComment" log-type="chat" chat-log="log"><i class="iconfont" style="font-size:21px">&#xe6d5;</i></span></div><div class="margin10px" ng-if="log.type!=\'text\'&&log.attachment.contentUrl==\'uploadProcess\'">正在上传文件:<span ng-if="log.progress==\'\'">等待上传，请稍后...</span> <span ng-if="log.progress!=\'\'">{{log.progress}}% &emsp;&emsp;<a href="#" ng-click="cancelProgess(this)">取消</a></span></div></div></div></div><div ng-if="log.type==\'log\'"><p class="text-right" style="color:#9ea7b7"><span ng-if="log.operate==\'accept_chat\'">{{log.user.name}}{{\'ACCEPT_CHAT_REQUEST\'|translate}}</span> <span ng-if="log.operate==\'quit_chat\'">{{log.user.name}}{{\'EXITED_CHAT\'|translate}}</span> <span ng-if="log.operate==\'close_chat\'">{{log.user.name}}{{\'CLOSED_CHAT\'|translate}}</span> <span ng-if="log.operate==\'system_closed_chat\'">系统自动{{\'CLOSED_CHAT\'|translate}}</span> <span ng-if="log.operate==\'response_chat_invite\'||log.operate==\'join_chat\'||log.operate==\'force_join_chat\'">{{log.user.name}}{{\'JOINED_CHAT\'|translate}}</span> <span ng-if="log.operate==\'reject_chat_invite\'">{{\'REFUSAL_CHAT_INVALID\'|translate}}</span> <span ng-if="log.operate==\'no_reply_chat_invite\'">{{\'NO_REPLY_CHAT_INVITE\'|translate}}</span> <span ng-if="log.operate==\'request_remote_desk\'">{{log.user.name}}{{\'REQUEST_REMOTE_DESK\'|translate}}</span> <span ng-if="log.operate==\'accept_remote_desk\'">{{log.user.name}}{{\'ACCEPT_REMOTE_DESK\'|translate}}</span> <span ng-if="log.operate==\'reject_remote_desk\'">{{log.user.name}}{{\'REJECT_REMOTE_DESK\'|translate}}</span> <span ng-if="log.operate==\'cancel_remote_desk\'">{{log.user.name}}{{\'CANCEL_REMOTE_DESK\'|translate}}</span> <span ng-if="log.operate==\'remote_desk_start\'">{{log.user.name}}{{\'REMOTE_DESK_START\'|translate}}</span> <span ng-if="log.operate==\'remote_desk_end\'">{{log.user.name}}{{\'REMOTE_DESK_END\'|translate}}</span> <span ng-if="log.operate==\'video_call_start\'">{{log.user.name}}{{\'VIDEO_CALL_START\'|translate}}</span> <span ng-if="log.operate==\'video_call_end\'">{{log.user.name}}{{\'VIDEO_CALL_END\'|translate}}</span> <span ng-if="log.operate==\'request_video_call\'">{{log.user.name}}{{\'REQUEST_VIDEO_CALL\'|translate}}</span> <span ng-if="log.operate==\'accept_video_call\'">{{log.user.name}}{{\'ACCEPT_VIDEO_CALL\'|translate}}</span> <span ng-if="log.operate==\'reject_video_call\'">{{log.user.name}}{{\'REJECT_VIDEO_CALL\'|translate}}</span> <span ng-if="log.operate==\'cancel_video_call\'">{{log.user.name}}{{\'CANCEL_VIDEO_CALL\'|translate}}</span> <span ng-if="log.operate==\'update_user\'">{{log.user.name}}修改客户</span> <span ng-if="log.operate==\'chat_to_ticket\'">{{log.user.name}} {{\'CHAT_TO_TICKET\'|translate}}#{{log.content}}</span> <span ng-if="log.operate==\'transfer_chat\'">{{log.user.name}} {{\'TRANSFER_CHAT_TO\'|translate}}&nbsp;{{log.content}}</span> <span ng-if="log.operate==\'invite_join_chat\'">{{log.user.name}} {{\'STATISTICS_INVITE\'|translate}}&nbsp;{{log.content}}&nbsp;{{\'STATISTICS_JOIN_CHAT\'|translate}}</span> <span class="padding_right10px" ng-bind="log.createdAt|dateFilter_style1"></span> <span>{{\'SYSTEM_MESSAGE\'|translate}}</span> <i class="fa fa-flag padding_right10px padding_left10px"></i></p></div></li></ul>');e.put("source/scripts/directives/copy-img-upload/copy-img-upload-modal.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div></div></div></div>');e.put("source/scripts/directives/copy-img-upload/copy-img-upload.html",'<div><div style="height:300px;text-align:center;line-height:300px;margin-bottom:15px"><img style="max-height:100%;max-width:100%" ng-src="{{uploadImgUrl}}"></div><div class="text-right"><button ng-if="!isImgUpload" type="button" style="color:#fff" class="btn btn-make-sure custom-background-color" ng-click="sendImg($event)">发送</button> <button ng-if="isImgUrlUpload" type="button" class="btn btn-make-sure btn-loading" disabled="disabled"><img src="source/images/home_load/load_white.gif"></button> <button type="button" class="btn btn-make-sure btn-cancel" ng-click="cancleSendImg();">取消</button></div></div>');e.put("source/scripts/directives/custom-field-jurisdiction/custom-field-jurisdiction.html",'<div class="jurisdiction"><div class="title-bar"><span>字段的可见范围与操作</span></div><div class="form-content" style="position:relative"><p class="tip">勾选或取消勾选来设置，角色对该字段的查看和编辑权限。</p><div class="role-list"><div class="role-title clearfix"><span class="item role-name">角色</span> <span class="item scan-jurisdiction">查看</span> <span class="item edit-jurisdiction">编辑</span></div><div class="role-content"><div class="content-item clearfix" ng-repeat="item in vm.roleJurisdictionList"><span class="item role-name" ng-bind="::item.role_name"></span> <span class="item scan-jurisdiction"><input type="checkbox" ng-model="item.scan_able" ng-click="vm.scanAble(item)" ng-true-value="1" ng-false-value="0" ng-disabled="isRequired || ticketCustomField.systemFieldKey || userCustomField.systemField"></span><span class="item edit-jurisdiction"><input type="checkbox" ng-model="item.edit_able" ng-click="vm.editAble(item)" ng-true-value="1" ng-false-value="0" ng-disabled="isRequired"></span></div></div><div class="role-footer"><a href="javascript:void(0)" ng-if="vm.hasMore" class="more" ng-click="vm.showMore()">更多角色</a></div></div></div></div>');e.put("source/scripts/directives/customer-and-customer-group-select/customer-and-customer-group-select.html",'<div class="customer-and-customer-group-select relative" click-outside="isopen=false;"><input type="text" class="form-control" placeholder="{{placeholder}}" ng-model="key" ng-focus="onFocus($event);" ng-change="onChanged()"><div ng-if="isopen" class="select-dropdown"><ul class="tab"><li class="tab-item" ng-class="{\'active\': type===\'customer\'}" ng-click="switchTab(\'customer\');">客户</li><li class="tab-item" ng-class="{\'active\': type===\'customerGroup\'}" ng-click="switchTab(\'customerGroup\');">客户组</li></ul><ul ng-if="type===\'customer\'" class="list" infinite-scroll="loadMore(key)"><li ng-repeat="item in customerList" :key="$index" class="customer" title="{{item.nameA}}&#13;{{item.contactA}}" ng-click="selectCustomer(item)"><div class="name">{{item.nameA}}</div><div class="contact">{{item.contactA}}</div></li><li ng-show="!loading && customerList.length===0" class="no-data">没有搜索到结果</li></ul><ul ng-if="type===\'customerGroup\'" class="list" infinite-scroll="loadMore(key)"><li ng-repeat="item in customerGroupList" :key="$index" class="customer-group" title="{{item.name}}" ng-click="selectCustomerGroup(item)"><div class="name"><i class="icon iconfont">&#xe665;</i>{{item.name}}({{item.countUser}})</div></li><li ng-show="!loading && customerGroupList.length===0" class="no-data">没有搜索到结果</li></ul></div></div>');e.put("source/scripts/directives/customer-group-operation-button/customer-group-operation-button.html",'<div class="btn-group"><button type="button" ng-if="mainButton" class="btn btn-default" ng-click="doAction(mainButton.action)">{{mainButton.title}}</button> <button ng-disabled="webchat!=null" ng-if="validButtons.length > 0" type="button" class="btn btn-default dropdown-toggle" style="border-radius:0 4px 4px 0" data-toggle="dropdown"><span class="caret"></span> <span class="sr-only">切换下拉</span></button><ul class="dropdown-menu dropdown-menu-right" role="menu" ng-if="validButtons.length > 0"><li ng-repeat="button in validButtons"><a ng-click="doAction(button.action)">{{button.title}}</a></li></ul></div>');e.put("source/scripts/directives/customer-group-select/customer-group-select.html",'<div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" uib-dropdown-toggle ng-click="click()"><span style="float:left" ng-if="selectedcustomergroup.name==null">-</span> <span style="float:left" ng-if="selectedcustomergroup.name!=null">{{selectedcustomergroup.name | translate}}</span> <span class="caret" style="position:absolute;right:8px;top:14px"></span></button><ul class="list-group dropdown-menu padding0 of_y1 h400" role="menu" uib-dropdown-menu><li class="list-group-item" ng-click="showSearchList($event);"><input type="text" class="form-control" ng-model="searchName" ng-keyup="searchUserGroup($event);" placeholder="输入关键字搜索客户组"></li><li class="list-group-item cursorhand" ng-repeat="userGroup in searchedData.userGroups track by userGroup.id " ng-click="selectSearchedCustomerGroup(userGroup,$event)"><span ng-bind="userGroup.name  | translate"></span></li></ul></div>');e.put("source/scripts/directives/customer-operation-button/customer-operation-button.html",'<div class="btn-group"><button type="button" class="btn btn-default" ng-click="doAction(mainButton.action)">{{mainButton.title}}</button> <button ng-disabled="webchat!=null" ng-if="validButtons.length > 0" type="button" class="btn btn-default dropdown-toggle" style="border-radius:0 4px 4px 0" data-toggle="dropdown"><span class="caret"></span> <span class="sr-only">切换下拉</span></button><ul class="dropdown-menu dropdown-menu-right" role="menu" ng-if="validButtons.length > 0"><li ng-repeat="button in validButtons"><a ng-click="doAction(button.action)">{{button.title}}</a></li></ul></div>');e.put("source/scripts/directives/customer-select/customer-select.html",'<div class="customer-select"><div class="total-tip-wrapper" ng-if="ticketCount > 0"><span class="total-tip">排重后共创建{{ticketCount}}张工单</span><div class="btn btn-default clear-handle pull-right" ng-click="clear()">清空</div></div><div class="form-group" style="padding:10px"><label>客户 <span class="required">*</span></label><span class="tip" style="color:#999">（添加多个客户，创建多张工单）</span><fieldset class="customer-input"><customer-and-cutstomer-group-select time-out="500" placeholder="输入关键字搜索客户/客户组" component-id="{{$index}}"></customer-and-cutstomer-group-select></fieldset></div><ul class="selected-customers"><li style="color:#999" ng-if="customers.length === 0">无已选的客户</li><li ng-if="customers.length > 0" ng-repeat="item in customers" class="user"><div class="content ellipsis"><span ng-if="item.type" title="{{item.name + (item.groupName?\'/\'+item.groupName:\'\')}}"><span class="username">{{item.name}}</span> <span class="usergroup" ng-if="item.userGroup">/{{item.userGroup.name}}</span> </span><span ng-if="!item.type" class="username" title="{{item.userGroup.name}}({{item.userGroup.countUser}})"><i class="iconfont" style="padding-right:5px">&#xe665;</i>{{item.userGroup.name}}({{item.userGroup.countUser}})</span></div><span class="remove-handle" ng-click="removeCustomer($index)"><i class="iconfont">&#xe767;</i></span></li></ul></div>');e.put("source/scripts/directives/dashboard-chart/dashboard-chart.html",'<div><div class="header"><div class="clearfix open-select" data-toggle="dropdown"><span class="txt">{{vm.selectedChartName}}</span> <i class="iconfont icon">&#xe60e;</i></div><div class="delete-templte" ng-click="vm.deleteTemplte(vm.chartposition)"><i class="iconfont">&#xe647;</i></div><ul class="select-chart dropdown-menu"><li class="chart-item" ng-click="vm.changeChart(item)" ng-repeat="item in vm.chartList track by $index">{{item.name}}</li></ul></div><div class="chart-content"><div ng-hide="loadingChart" style="position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff;opacity:.5;z-index:1"><img src="source/images/home_load/load_black.gif" style="height:60px;width:60px;display:block;margin:100px auto"></div><div class="dash-pie" id="chart_{{vm.chartPosition}}" style="width:100%;height:100%"></div></div></div>');e.put("source/scripts/directives/daterange-picker/daterange-picker.html",'<div class="btn btn-default" ng-disabled="disabled"><span>{{dateRange.startDate.format(format)}} - {{dateRange.endDate.format(format)}}</span> &nbsp; <i class="fa fa-calendar"></i></div>');e.put("source/scripts/directives/engineer-advanced-query/engineer-advanced-query.html",'<div class="modal fade" id="engineerAdvancedModal" tabindex="-1" role="dialog" aria-labelledby="queryModalLabel" aria-hidden="true"><div class="query-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="queryModalLabel">高级查询</h4></div><div class="media-body advanced-query-box"><form name="query" method="post" style="padding-top:10px"><table class="queryTable"><tr class="lineHeight"><td class="secondCell">姓名</td><td colspan="3" class="w280"><input type="text" name="name" ng-model="advancedQueryCondition.name" required maxlength="32" class="form-control" style="border-radius:6px"></td></tr><tr class="lineHeight"><td class="secondCell">Email</td><td colspan="3" class="w280"><input type="text" name="email" ng-model="advancedQueryCondition.email" required maxlength="32" class="form-control" style="border-radius:6px"></td></tr><tr class="lineHeight"><td class="secondCell">手机号</td><td colspan="3" class="w280"><input type="text" name="phone" ng-model="advancedQueryCondition.phone" required maxlength="32" class="form-control" style="border-radius:6px"></td></tr><tr class="lineHeight"><td class="secondCell">角色</td><td colspan="3" class="w280"><select class="form-control" name="repeatSelect" id="repeatSelect" ng-model="advancedQueryCondition.roleId" style="border-radius:6px"><option value="">-</option><option ng-repeat="option in roles" value="{{option.id}}">{{option.name}}</option></select></td></tr><tr class="lineHeight"><td class="secondCell">首选客服组</td><td colspan="3" class="w280"><select class="form-control" name="repeatSelect" id="repeatSelect" ng-model="advancedQueryCondition.defaultServiceDeskId" style="border-radius:6px;width:280px;overflow:hidden"><option value="">-</option><option ng-repeat="serviceDesk in serviceDesks" value="{{serviceDesk.id}}">{{serviceDesk.name | translate}}</option></select></td></tr></table><div class="modal-footer"><button type="button" class="btn btn-confirm" ng-click="advancedQuery();"><span>更新</span></button> <span class="wroMsg">{{advancedQueryError}}</span></div></form></div></div></div>');e.put("source/scripts/directives/engineer-or-workflow-select/engineer-or-workflow-select.html",'<div class="engineer-or-workflow-select"><label ng-if="showinticketdetail">处理人 <span class="required">*</span></label><a class="custom-link-color pull-right" ng-click="viewWorkflow()" ng-if="selectedworkflow!=null"><i class="icon iconfont">&#xe76c;</i></a><div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative text-left" uib-dropdown-toggle ng-disabled="disabled" style="height:auto;min-height:32px" ng-click="click()"><span ng-if="selectedservicedesk==null&&selectedengineer==null&&selectedworkflow==null">-</span> <span ng-if="selectedworkflow!=null" style="width:95%;white-space:normal"><span class="work"></span> <span ng-if="selectedengineer!=null" style="white-space:normal">{{selectedengineer.user.name}}</span><span ng-if="selectedservicedesk!=null"><span ng-if="selectedengineer!=null && selectedservicedesk!=null">@</span>{{selectedservicedesk.name | translate}}</span><span ng-if="selectedengineer!=null || selectedservicedesk!=null">/</span>{{selectedworkflow.name}} </span><span ng-if="selectedworkflow==null&&selectedservicedesk!=null" style="width:95%;display:inline-block;white-space:normal"><span class="persons" ng-if="selectedengineer==null"></span> <span class="person" ng-if="selectedengineer!=null"></span> <span ng-if="selectedengineer!=null" style="white-space:normal">{{selectedengineer.user.name}}/</span> {{selectedservicedesk.name | translate}} </span><span class="caret" style="position:absolute;right:8px;top:14px"></span></button><ul ng-if="isopen" class="list-group dropdown-menu padding0 of_y1 h400" style="width:100%" role="menu" uib-dropdown-menu><li class="list-group-item" ng-click="showSearchList($event);"><input type="text" class="form-control" ng-model="searchName" ng-keyup="searchEngineerOrWorkflow($event);" placeholder="输入关键字搜索处理人"></li><li class="list-group-item cursorhand" ng-if="assignable==\'true\'" ng-show="selectedengineer.id!=myEngineerId"><div ng-click="assignMe()">分派给自己</div></li><li class="list-group-item cursorhand" ng-repeat="workflowTemplate in searchedData.workflows track by workflowTemplate.id" ng-click="selectWorkflowTemplate(workflowTemplate);"><span class="work"></span> <span ng-bind="workflowTemplate.name"></span></li><ul class="list-unstyled" ng-repeat="desk in searchedData.serviceDesks track by desk.id"><li class="list-group-item cursorhand" ng-click="selectSearchedServiceDesk(desk,$event)"><span class="persons"></span> <span ng-bind="desk.name | translate"></span> <span class="pull-right glyphicon glyphicon-chevron-down"></span></li><li class="list-group-item cursorhand engineer" ng-repeat="engineer in desk.engineers track by engineer.id" ng-click="selectEngineer(engineer,{id:desk.id,name:desk.name})"><div ng-if="showMoreInfoBar===\'false\'"><span style="position:relative;top:10px" class="person"></span> <span class="size12" ng-bind="engineer.user.name"></span><p style="text-indent:18px" class="size12" ng-bind="engineer.email"></p></div><div ng-if="showMoreInfoBar===\'true\'" style="position:relative;min-height:50px"><span style="position:absolute;height:20px;top:10px" class="person"></span><div class="size12" style="padding-left:20px"><p style="margin-bottom:10px"><span ng-bind="engineer.user.name"></span> <span style="text-indent:18px" ng-bind="engineer.email"></span></p><p><span><i style="font-size:13px" class="iconfont padding_right5px">&#xe661;</i><span ng-bind="engineer.chatCount || 0"></span></span> <span style="margin-left:10px"><i style="font-size:13px" class="iconfont padding_right5px">&#xe65e;</i><span ng-bind="engineer.ticketCount || 0"></span></span> <span class="online-status pull-right"><i ng-style="{\'visibility\': engineer.status.webLogin ? \'visible\' : \'hidden\'}" ng-class="{\'online\': engineer.status.webOnline}" style="font-size:13px;color:#ccc" class="iconfont">&#xe777;</i> <i ng-style="{\'visibility\': engineer.status.androidLogin ? \'visible\' : \'hidden\'}" ng-class="{\'online\': engineer.status.androidOnline}" style="font-size:13px;color:#ccc" class="iconfont">&#xe776;</i> <i ng-style="{\'visibility\': engineer.status.iosLogin ? \'visible\' : \'hidden\'}" ng-class="{\'online\': engineer.status.iosOnline}" style="font-size:13px;color:#ccc" class="iconfont">&#xe771;</i></span></p></div></div></li></ul><li class="list-group-item cursorhand" ng-if="!hideworkflow && showServiceDeskList" ng-click="selectWorkflow($event)"><span class="work"></span> 工作流 <span ng-if="workflowTemplates.length>0" class="pull-right glyphicon glyphicon-chevron-right"></span></li><li class="list-group-item cursorhand" ng-if="showServiceDeskList" bindonce ng-repeat="serviceDesk in serviceDesks track by serviceDesk.id" ng-click="selectServiceDesk(serviceDesk,$event)"><span class="persons"></span> <span bo-bind="serviceDesk.name | translate"></span> <span ng-if="serviceDesk.engineers.length>0" class="pull-right glyphicon glyphicon-chevron-right"></span></li><li class="list-group-item" ng-if="showEngineerList||showWorkflowList"><button class="btn btn-default btn-xs" ng-click="back($event)"><span class="glyphicon glyphicon-chevron-left"></span> 返回</button></li><li class="list-group-item cursorhand" ng-if="showEngineerList" ng-click="selectServiceDeskInEngineerList()"><span class="persons"></span> <span bindonce="tempServiceDesk" bo-bind="tempServiceDesk.name | translate"></span></li><li class="list-group-item cursorhand engineer" ng-if="showEngineerList" bindonce ng-repeat="engineer in engineers track by engineer.id" ng-click="selectEngineer(engineer)"><div ng-if="showMoreInfoBar===\'false\'"><span style="position:relative;top:10px" class="person"></span> <span class="size12" ng-bind="engineer.user.name"></span><p style="text-indent:18px" class="size12" ng-bind="engineer.email"></p></div><div ng-if="showMoreInfoBar===\'true\'" style="position:relative;min-height:50px"><span style="position:absolute;height:20px;top:10px" class="person"></span><div class="size12" style="padding-left:20px"><p style="margin-bottom:10px"><span ng-bind="engineer.user.name"></span> <span style="text-indent:18px" ng-bind="engineer.email"></span></p><p><span><i style="font-size:13px" class="iconfont padding_right5px">&#xe661;</i><span ng-bind="engineer.chatCount || 0"></span></span> <span style="margin-left:10px"><i style="font-size:13px" class="iconfont padding_right5px">&#xe65e;</i><span ng-bind="engineer.ticketCount || 0"></span></span> <span class="online-status pull-right"><i ng-style="{\'visibility\': engineer.status.webLogin ? \'visible\' : \'hidden\'}" ng-class="{\'online\': engineer.status.webOnline}" style="font-size:13px;color:#ccc" class="iconfont">&#xe777;</i> <i ng-style="{\'visibility\': engineer.status.androidLogin ? \'visible\' : \'hidden\'}" ng-class="{\'online\': engineer.status.androidOnline}" style="font-size:13px;color:#ccc" class="iconfont">&#xe771;</i> <i ng-style="{\'visibility\': engineer.status.iosLogin ? \'visible\' : \'hidden\'}" ng-class="{\'online\': engineer.status.iosOnline}" style="font-size:13px;color:#ccc" class="iconfont">&#xe776;</i></span></p></div></div></li><li class="list-group-item cursorhand" ng-if="showWorkflowList&&workflowTemplates.length>0" bindonce ng-repeat="workflowTemplate in workflowTemplates track by workflowTemplate.id" ng-click="selectWorkflowTemplate(workflowTemplate)"><span class="work"></span> <span bo-bind="workflowTemplate.name"></span></li><li class="list-group-item cursorhand" ng-if="showWorkflowList&&workflowTemplates.length==0" ng-click="back($event)">尚无工作流模板</li></ul></div><span class="c05" ng-if="workflows.length>0&&showWorkflowList"><span ng-if="ticketid==null||ticketid==\'\'"><a ng-click="switchWorkflow();">[<span ng-if="openWorkflow">-</span><span ng-if="!openWorkflow">+</span>]</a> <span bindonce ng-repeat="workflow in workflows track by workflow.id"><span ng-class="{\'hide\':$index>1&&!openWorkflow}"><span ng-class="{\'c28\':$index==0}" bo-bind="workflow.engineer.user.name"></span> &gt;</span> </span><span ng-if="!openWorkflow&&workflows.length>2">...</span></span></span></div>');e.put("source/scripts/directives/engineer-select/engineer-select.html",'<div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" style="height:auto;min-height:32px;overflow:hidden" uib-dropdown-toggle ng-disabled="disabled" ng-click="click()"><span style="text-align:left;float:left" ng-if="selectedservicedesk.name==null && !hascurrentengineer">-</span> <span style="text-align:left;float:left" ng-class="{\'one-line-select-span\': singleLine}" ng-if="selectedservicedesk.name!=null && selectedengineer.id !== \'${current_engineer_id}\'"><span title="{{selectedservicedesk.name | translate}}"><span class="glyphicon glyphicon-user margin_right5px"></span>{{selectedservicedesk.name | translate}}</span> <span ng-if="selectedengineer.user.name!=null" title="{{selectedengineer.user.name}}">/{{selectedengineer.user.name|splitcharacters:20}}</span></span> <span style="text-align:left;float:left" ng-class="{\'one-line-select-span\': singleLine}" ng-if="selectedengineer.id === \'${current_engineer_id}\'"><span ng-if="selectedengineer.name!=null" title="{{selectedengineer.name}}"><span class="glyphicon glyphicon-user margin_right5px"></span> {{selectedengineer.name|splitcharacters:20}} </span></span><span class="caret" style="position:absolute;right:8px;top:14px" ng-if="!catSelected"></span></button> <button type="button" class="close" ng-if="catSelected" ng-click="clear()" style="position:absolute;right:8px;top:4px"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><ul class="list-group dropdown-menu of_y1 h400" style="width:inherit" role="menu" uib-dropdown-menu><li class="list-group-item" ng-click="showSearchList($event)"><input type="text" ng-model="searchName" class="form-control" style="float:inherit" placeholder="输入关键字搜索" ng-keyup="searchEngineerOrWorkflow($event)"></li><ul class="list-unstyled" ng-repeat="desk in searchedData.serviceDesks track by desk.id"><li class="list-group-item cursorhand" ng-click="selectSearchedServiceDesk(desk,$event,workflow)"><span class="persons"></span> <span ng-bind="desk.name | translate"></span> <span class="pull-right glyphicon glyphicon-chevron-down"></span></li><li class="list-group-item cursorhand" ng-repeat="engineer in desk.engineers track by engineer.id" ng-click="selectEngineer(engineer,{id:desk.id,name:desk.name})"><span style="position:relative;top:10px" class="person"></span> <span class="size12" ng-bind="engineer.user.name"></span><p style="text-indent:18px" class="size12" ng-bind="engineer.email"></p></li></ul><li class="list-group-item cursorhand" ng-if="showCurrentEngineer" ng-click="selectEngineer(currentEngineer)"><span class="person"></span> <span ng-bind="currentEngineer.name | translate"></span></li><li class="list-group-item cursorhand" ng-if="showServiceDeskList && (serviceDesk.engineers.length > 0 || selectableservicedesk)" bindonce ng-repeat="serviceDesk in serviceDesks track by serviceDesk.id" ng-click="selectServiceDesk($index,$event)"><span class="persons"></span> <span bo-bind="serviceDesk.name | translate" style="white-space:normal"></span><span ng-if="serviceDesk.engineers.length>0" class="pull-right glyphicon glyphicon-chevron-right"></span></li><li class="list-group-item" ng-if="showEngineerList"><button class="btn btn-default btn-xs" ng-click="back($event)"><span class="glyphicon glyphicon-chevron-left"></span> 返回</button></li><li class="list-group-item cursorhand" ng-if="showEngineerList && selectableservicedesk" ng-click="selectServiceDeskInEngineerList()"><span class="persons"></span> <span bindonce="tempServiceDesk" bo-bind="tempServiceDesk.name | translate"></span></li><li class="list-group-item cursorhand" ng-if="showEngineerList" bindonce ng-repeat="engineer in engineers track by engineer.id" ng-click="selectEngineer(engineer)"><span style="position:relative;top:10px" class="person"></span> <span class="size12" ng-bind="engineer.user.name"></span><p style="text-indent:18px" class="size12" ng-bind="engineer.email"></p></li></ul></div>');e.put("source/scripts/directives/engineer-select/no-group-engneer-select-search.html",'<input type="text" ng-focus="onFocus();" ng-blur="onBlur();" class="form-control" ng-model="username" placeholder="输入关键字搜索客服" uib-typeahead="enginner.user.name for enginner in loadEngineers($viewValue)" typeahead-min-length="1" typeahead-wait-ms="500" typeahead-on-select="onSelect($item, $model, $label, $event)" typeahead-focus-on-select="false" typeahead-template-url="typeahead/customTemplate.engineer.html">');e.put("source/scripts/directives/engineer-status/engineer-status.html",'<span ng-if="brackets"><span>(</span> <span ng-if="chatMax>0" ng-style="{color:chatMax>chatCount ? \'#29BD8B\':\'#FF0000\'}">{{chatCount}}/{{chatMax}}</span> <span ng-if="chatMax==0" style="color:#F90">示忙</span> <span>)</span> </span><span ng-if="!brackets"><span ng-if="(engineer.webOnline || engineer.androidOnline || engineer.iosOnline) && chatMax>0" ng-style="{color:chatMax>chatCount ? \'#29BD8B\':\'#FF0000\'}">{{chatCount}}/{{chatMax}}</span> <span ng-if="(engineer.webOnline || engineer.androidOnline || engineer.iosOnline) && chatMax==0" style="color:#F90">示忙</span> <span ng-if="!(engineer.webOnline || engineer.androidOnline || engineer.iosOnline)">-</span> </span>');e.put("source/scripts/directives/ewei-alert/ewei_alert.html",'<div class="padding_top20px padding_bottom20px padding_left20px" style="min-height:70px;box-shadow:0 0 20px #ccc;background:#fff;border-radius:5px;margin-bottom:5px" ng-class="[ closeable ? \'alert-dismissable\' : null]"><div style="display:inline-block;width:330px"><div style="display:flex;display:-webkit-flex;align-items:center"><span><i ng-if="type == \'success\'" class="iconfont" style="font-size:22px;color:#29bd8b;margin-right:10px">&#xe63d;</i> <i ng-if="type == \'danger\'" class="iconfont" style="font-size:22px;color:#e82020;margin-right:10px">&#xe63c;</i> <i ng-if="type == \'warning\'" class="iconfont" style="font-size:22px;color:#fed22f;margin-right:10px">&#xe63b;</i> </span><span style="font-size:16px" ng-transclude></span></div></div><span style="float:right"><i class="iconfont text-right close-iconfont" ng-click="close()" style="display:block;font-size:22px;color:#ccc;position:relative;margin-top:-30px;margin-right:-40px;opacity:1">&#xe63c;</i></span></div>');e.put("source/scripts/directives/ewei-calendar/ewei-calendar.html",'<ul class="ewei-calendar"><li class="nav form-inline clearfix"><div class="btn btn-default" ng-click="prevMonth()">&lt;</div><select class="form-control" ng-options="year for year in years" ng-model="currentYear" ng-change="yearMonthChanged()"></select>&nbsp;&nbsp;<select class="form-control" ng-options="month.value as month.label for month in months" ng-model="currentMonth" ng-change="yearMonthChanged()"></select><div class="btn btn-default" ng-click="nextMonth()">&gt;</div><div class="pull-right"><a href="javascript:void(0)" ng-click="goToday()" class="today">回到今天</a></div></li><li class="week header"><div class="day-wrap"><div class="day">一</div></div><div class="day-wrap"><div class="day">二</div></div><div class="day-wrap"><div class="day">三</div></div><div class="day-wrap"><div class="day">四</div></div><div class="day-wrap"><div class="day">五</div></div><div class="day-wrap"><div class="day">六</div></div><div class="day-wrap"><div class="day">日</div></div></li><li class="week" ng-repeat="(key,week) in weeks"><div class="day-wrap" ng-repeat="day in week.days track by day.id"><div class="day" ng-class="{today: day.fullName == today, before: day.before, after: day.after, holiday: day.isHoliday, empty: !day.date}" ng-click="toggleHoliday(day)">{{day.name?day.name:\'\'}}</div></div></li></ul>');e.put("source/scripts/directives/ewei-carousel/ewei-carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()"><div class="carousel-inner" ng-transclude></div><ol class="carousel-indicators" ng-show="slides.length > 1"><li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)"><span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span></li></ol><style>.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style></div>');e.put("source/scripts/directives/ewei-carousel/ewei-slide.html",'<div ng-class="{\r\n    \'active\': active\r\n  }" class="item text-center" ng-transclude></div>');e.put("source/scripts/directives/ewei-common-header/header.html",'<div class="title dash-header" style="height:51px"><div class="clearfix flex-none"><ul class="nav nav-pills dash-nav"><li ng-class="{\'active\':vm.activeObj[\'quickentry\']}"><a ng-click="vm.clickCommonHeader(\'quickentry\');" href="javascript:void(0);" class="nowrap">快捷入口</a></li><li ng-class="{\'active\':vm.activeObj[\'dashboard\']}"><a ng-click="vm.clickCommonHeader(\'dashboard\');" href="javascript:void(0);" class="nowrap">仪表盘</a></li></ul><div class="title"><p class="pull-right"><span>帮助中心网址：</span> <a class="setting-head-common custom-main-font-color" href="{{vm.providerDomain}}" target="_blank">{{vm.providerDomain}}</a> <a class="setting-head-common" ng-click="vm.showShareDiv()"><i class="iconfont" style="font-size:16px;margin-right:4px">&#xe664;</i>通知客户</a> <a class="setting-head-common" has-permission="system_setting_domain" ui-sref="system_setting.detail({uri:\'domain_setting\'})"><i class="iconfont" style="font-size:15px;margin-right:4px">&#xe65b;</i>更换域名</a></p></div></div></div>');e.put("source/scripts/directives/ewei-custom-style/ewei-custom-style.html","<style type=\"text/css\">.custom-fontsize{font-size:{{style.fontSize|| '14px'}}!important}.custom-background-color{background-color:{{style.headBackgroundColor}}!important}.custom-tabcolor{background-color:{{style.dropDownColor}}!important}.custom-title-font{font-family:\"{{style.titleTypeface}}\"!important}.custom-title-font-color{color:{{style.titleTypefaceColor}}!important}.custom-button-font{font-family:\"{{style.buttonTypeface}}\"!important}.custom-main-font-color{color:{{style.headBackgroundColor}}!important}.custom-main-bgcolor{background-color:{{style.headBackgroundColor}}!important}.custom-checkbox label:after{border-color:{{style.headBackgroundColor}}!important}.custom-border-color{border-color:{{style.headBackgroundColor}}!important}.btn.btn-confirm{background-color:{{style.headBackgroundColor}}!important}.btn.btn-primary{background-color:{{style.headBackgroundColor}};border-color:{{style.headBackgroundColor}}}.btn-primary.active,.btn-primary:active,.btn-primary:focus,.btn-primary:hover,.open>.dropdown-toggle.btn-primary{background-color:{{mainColor.clone() .lighten(10) .toString() }}}.dropdown-menu>li a.custom-link-color,.statistics-chart-wrap .switch-to-new a,.statistics>header>.switch-to-old a,.table-box tr td:first-child a.channel-name,a.custom-link-color{color:{{style.headBackgroundColor}}}.dropdown-menu>li a.custom-link-color:hover,.table-box tr td:first-child a.channel-name,a.custom-link-color:hover{color:{{mainColor.clone() .lighten(5) .toString() }}}.btn.btn-confirm[disabled],.btn.btn-primary[disabled]{background-color:#bdbdbd!important;border-color:#bdbdbd!important}.btn.btn-default.btn-user-template{color:{{style.headBackgroundColor}}!important}.btn.btn-default.btn-user-template.active,.btn.btn-default.btn-user-template.focus,.btn.btn-default.btn-user-template:active,.btn.btn-default.btn-user-template:focus,.btn.btn-default.btn-user-template:hover,.open>.dropdown-toggle.btn-default.btn-user-template{background-color:{{mainColor.clone() .setAlpha(.15) .toString() }}!important;border-color:{{mainColor.clone() .toString() }}}.btn-default.btn-user-template.active.focus,.btn-default.btn-user-template.active:focus,.btn-default.btn-user-template.active:hover,.btn-default.btn-user-template:active.focus,.btn-default.btn-user-template:active:focus,.btn-default.btn-user-template:active:hover,.open>.dropdown-toggle.btn-default.btn-user-template.focus,.open>.dropdown-toggle.btn-default.btn-user-template:focus,.open>.dropdown-toggle.btn-default.btn-user-template:hover{border-color:{{mainColor.clone() .toString() }}}.btn.active.focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn:active:focus,.btn:focus{outline-color:{{mainColor.clone() .setAlpha(.5) .toString() }}}.ng-table-pager .pagination>.active>a,.ng-table-pager .pagination>.active>a:focus,.ng-table-pager .pagination>.active>a:hover,.ng-table-pager .pagination>.active>span,.ng-table-pager .pagination>.active>span:focus,.ng-table-pager .pagination>.active>span:hover{background-color:{{style.headBackgroundColor}}!important;border-color:{{style.headBackgroundColor}}!important}.quick-entry .board-box-active{border-bottom:4px solid {{style.headBackgroundColor}}!important}.quick-entry .board-box-active h5.number,.quick-entry .board-box-active h5.text{color:{{style.headBackgroundColor}}!important}.quick-entry .board-box:hover{background-color:{{ mainColor.clone() .setAlpha(.1) .toString() }}!important}.dropdown-menu .chart-item:hover{background-color:{{style.headBackgroundColor}}!important}.dash-nav li.active a{border-bottom-color:{{style.headBackgroundColor}}!important}.dash-nav li a:focus,.dash-nav li a:hover,.dash-nav li.active a,.dash-nav li.active a:focus,.dash-nav li.active a:hover{color:{{style.headBackgroundColor}}!important}.avatar-panel .favorite{border-color:{{style.headBackgroundColor}}!important;color:{{style.headBackgroundColor}}!important}.quick-entry-management .list-common li .right-top-point{color:{{style.headBackgroundColor}}!important}.box02,.box02-active{background-color:{{style.headBackgroundColor}}!important;color:#fff!important}.box02>.badge{background-color:{{style.headBackgroundColor}}}.hobox02:hover{background-color:{{style.headBackgroundColor}}!important;color:#fff!important}.box02 .show_num_right,.box02 .title_left_class{color:#fff!important}.quick-entry-management .sortable-chosen{background-color:{{style.headBackgroundColor}};color:{{style.titleTypefaceColor}}!important}.uniqueDomains:hover{color:{{style.headBackgroundColor}}}.chat-tip ul li .chat-module:hover{border:1px dashed {{style.headBackgroundColor}}}.s-type-item .detail:hover,.s-type-item .selected{color:#fff!important;background-color:{{style.headBackgroundColor}}!important}.pss-title .title-one,.pss-type-list .active,.s-btn-wrapper .button-senior:hover,.s-type-item .detail{color:{{style.headBackgroundColor}}!important}.s-type-item .detail.selected{color:#fff!important}tags-input .tags .tag-item{background-color:{{style.headBackgroundColor}}!important}.dashboard-newstate-list .item .detail:hover{color:{{style.headBackgroundColor}}!important}tags-input.ng-invalid .tags{box-shadow:none;border-color:red}tags-input .tags .input.invalid-tag,tags-input .tags .tag-item .remove-button:active{color:#333}.community_div input.tabs:checked+label{border-bottom:4px solid {{style.headBackgroundColor}}!important;color:{{style.headBackgroundColor}}!important}.community_div_title{border-left:5px solid {{style.headBackgroundColor}}!important}.project_classify_borderColor:before{content:'';position:absolute;left:0;bottom:2px;right:auto;top:auto;height:74%;width:4px;display:block;z-index:2;backface-visibility:hidden;background-color:{{style.headBackgroundColor}}!important}.project_btn_back{background-color:{{style.headBackgroundColor}}!important}.project_classify_lsitColor .project_icon{color:{{style.headBackgroundColor}}!important;border-color:{{style.headBackgroundColor}}!important}.project_classify_lsitColor:hover .project_icon{color:#fff!important;border-color:{{style.headBackgroundColor}}!important;background-color:{{style.headBackgroundColor}}!important}.project_node_fontcolor{color:{{style.headBackgroundColor}}!important}.project_node_backcolor{border-color:{{style.headBackgroundColor}}!important;background-color:{{style.headBackgroundColor}}!important}.project_btn_backcolor{color:#fff!important;border-color:{{style.headBackgroundColor}}!important;background-color:{{style.headBackgroundColor}}!important}.project_upload_color,.project_upload_color i{color:{{style.headBackgroundColor}}!important}.project_btn_backcolor{color:#fff!important;border-color:{{style.headBackgroundColor}}!important;background-color:{{style.headBackgroundColor}}!important}.universalnav .carousel .ul .activefavorites{border-bottom:4px solid {{style.headBackgroundColor}}!important}.universalnav .carousel .ul .activefavorites:before{border-bottom:7px solid {{style.headBackgroundColor}}!important}.universalnav .ul .activefavorites .iconfontarea{background:{{style.headBackgroundColor}}!important;border:1px solid {{style.headBackgroundColor}}!important;color:#fff!important}.iconfontarea-color-self{color:{{style.headBackgroundColor}};border:1px solid {{style.headBackgroundColor}}!important}.iconfontarea-color-self:hover{color:#fff!important;background:{{style.headBackgroundColor}}!important}.li-color-self:hover{border-bottom:4px solid {{style.headBackgroundColor}}!important}.li-color-self:before{border-bottom:7px solid {{style.headBackgroundColor}}!important}.project-category .phase-container .phase-card .phase-body .project-list>li .content>span:hover{color:{{style.headBackgroundColor}}!important}.ticket-view-list .sortable-chosen{background-color:{{style.headBackgroundColor}};color:{{style.titleTypefaceColor}}!important}.setting-head-common .nav-list li{color:{{style.headBackgroundColor}}!important}.setting-head-common .nav-list li.active{color:#747C7E!important}.my-activity .list-group .community_item_title{color:{{style.headBackgroundColor}}!important}.avatar-panel .nav-menu a:active,.avatar-panel .nav-menu a:hover,.avatar-panel .nav-menu>li:first-child:active,.avatar-panel .nav-menu>li:first-child:hover,.list.box99 .menu-collapsed:hover,.list.box99 .menu-expended:hover,.pane .list a:hover{background-color:{{ mainColor.clone() .setAlpha(.1) .toString() }}!important}.pane .list a.box02:hover{background-color:{{style.headBackgroundColor}}!important}.pane .list a.box02-active:hover{background-color:{{style.headBackgroundColor}}!important}.message-panel .messages-list>li:hover,user-select .active>.user-select-wrap,user-select .user-select-wrap:hover{background-color:{{ mainColor.clone() .setAlpha(.1) .toString() }}}.service-report-detail .report-content .introduction .add-tips .btn-default{border-color:{{style.headBackgroundColor}};color:{{style.headBackgroundColor}}}.service-report-detail .report-content .brief i.iconfont.button{color:{{style.headBackgroundColor}}}.ticket-detail-panel .ticket-href i.iconfont{color:{{style.headBackgroundColor}}}.ticket-detail-panel .ticket-href:hover i.iconfont{color:{{style.headBackgroundColor}}}.cd-horizontal-timeline .events a.selected{background-color:{{style.headBackgroundColor}}!important;border-color:{{style.headBackgroundColor}}!important}.cd-horizontal-timeline .timeline-workflow .popover-content{color:{{style.headBackgroundColor}}!important}.ewei-calendar .nav .today{color:{{style.headBackgroundColor}}!important}.ewei-calendar .day-wrap .day.today{border-color:{{style.headBackgroundColor}}!important}#main_navigation{background-color:{{style.headBackgroundColor}}}#main_navigation a:hover{background-color:{{mixColor(mainColor,'#ffffff',15) .toString() }}}.header-background{background:linear-gradient(to left,{{style.headBackgroundColor}},{{mainColor.clone() .darken(10) .toString() }})}.chat-table-header-setting,.ewei-table .ng-table th.sortable.sort-asc,.ewei-table .ng-table th.sortable.sort-desc,.ewei-table table.table thead tr,.ewei-table table.table thead tr>th,.ewei-table table.table.table-custom-width thead tr{background-color:#fbfdfe}.statistics>.stat-view .nav.nav-tabs>li>a,.ticket-detail-panel>.body .btn-apps>i.icon{color:{{style.headBackgroundColor}}}.statistics>header>.nav>li.active>a,.statistics>header>.nav>li>a:focus{color:{{style.headBackgroundColor}};border-bottom:4px solid {{style.headBackgroundColor}}}#projectDetail .timeline-attachment-area .nav-pills>li.active>a,#projectDetail .timeline-attachment-area .nav-pills>li.active>a:focus,#projectDetail .timeline-attachment-area .nav-pills>li.active>a:hover{background-color:{{style.headBackgroundColor}}}.statistics>header>.nav>li>a:hover{border-bottom:4px solid {{mixColor('#ffffff',mainColor,30) .toString() }}}a:focus,a:hover{color:{{style.headBackgroundColor}}}.ranges li{color:{{style.headBackgroundColor}}}.ranges li.active,.ranges li:hover{border-color:{{style.headBackgroundColor}};background-color:{{style.headBackgroundColor}}}.daterangepicker td.in-range{background-color:{{mixColor('#ffffff',mainColor,10) .toString() }}}.daterangepicker td.active,.daterangepicker td.active:hover{background-color:{{style.headBackgroundColor}}}.daterangepicker .input-mini.active{border-color:{{mixColor('#ffffff',mainColor,60) .toString() }}}.data-area .ewei-table table tbody tr:nth-child(even),.data-area .ewei-table table tbody tr:nth-child(even) td,.ewei-table table.table.table-custom-width tbody tr:nth-child(even),.ewei-table table.table.table-custom-width tbody tr:nth-child(even)>td{background-color:{{mixColor('#ffffff','#A1ABC2',5) .toString() }}}.data-area .ewei-table table tbody tr:nth-child(odd),.data-area .ewei-table table tbody tr:nth-child(odd) td,.ewei-table table.table.table-custom-width tbody tr:nth-child(odd),.ewei-table table.table.table-custom-width tbody tr:nth-child(odd)>td{background-color:#fff}.data-area .ewei-table table tbody tr:hover:nth-child(even),.data-area .ewei-table table tbody tr:hover:nth-child(even) td,.data-area .ewei-table table tbody tr:hover:nth-child(odd),.data-area .ewei-table table tbody tr:hover:nth-child(odd) td,.ewei-table table.table.table-custom-width tbody tr:hover:nth-child(even),.ewei-table table.table.table-custom-width tbody tr:hover:nth-child(even)>td,.ewei-table table.table.table-custom-width tbody tr:hover:nth-child(odd),.ewei-table table.table.table-custom-width tbody tr:hover:nth-child(odd)>td{background-color:{{mixColor('#ffffff',mainColor,6) .toString() }}}.chart_request_distribute_time_input:checked+label{background-color:{{style.headBackgroundColor}};border-color:{{style.headBackgroundColor}}}.switch.checked{background-color:{{style.headBackgroundColor}}!important;border-color:{{style.headBackgroundColor}}!important}.batch-customer-panel .customer-select .total-tip-wrapper{background-color:{{style.headBackgroundColor}}}.batch-customer-panel .handle-select .total-tip-wrapper{background-color:{{style.headBackgroundColor}}}.batch-indicator .complete .actions .btn.btn-cancel{color:{{style.headBackgroundColor}}}.chat-list-wrap .chat-list-panel .chat-list .webchat-list>li.active,.chat-list-wrap .chat-list-panel .chat-list .webchat-list>li.active:hover,.detail-wrap .webchat-list-history .webchat-search-tools li.active,.detail-wrap .webchat-list-history .webchat-search-tools>li.active:hover{background-color:{{style.headBackgroundColor}}}.panel-transfer-select .sub-title>.search i:hover{color:{{style.headBackgroundColor}}!important}.panel-transfer-select .row-list>.row-item.active,.panel-transfer-select .row-list>.row-item:hover{background-color:{{mixColor('#ffffff',mainColor,15) .toString() }}!important}.panel-transfer-select .tag-list>.tag-item{background-color:{{style.headBackgroundColor}}!important}.panel-transfer-select .tag-list>.tag-item:hover{background-color:{{mainColor.clone() .lighten(10) .toString() }}!important}.customer-and-customer-group-select .select-dropdown .tab .tab-item.active{border-color:{{style.headBackgroundColor}}!important;color:{{style.headBackgroundColor}}!important}.license-control a{color:{{style.headBackgroundColor}}!important}.no-license-modal .service-phone{color:{{style.headBackgroundColor}}!important}.engineer-or-workflow-select .online{color:{{style.headBackgroundColor}}!important}</style>");e.put("source/scripts/directives/ewei-invite-engineer/ewei-invite-engineer-dialog.html",'<div class="modal invite-engineer-dialog" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content" style="width:670px"><div class="modal-header"><h4 class="modal-title">{{title}}<span>(任性邀请，不限数量)</span></h4></div><form name="vm.inviteEngineerForm" ng-submit="$save(userNoticeConfig)" novalidate><div class="modal-body"><div class="error-info" ng-if="vm.inviteEngineerForm.$dirty && !vm.inviteEngineerForm.$valid && vm.errorMessage">{{vm.errorMessage || \'格式有误，请重新输入\'}}</div><div class="modal-inner-content"><ul class="engineer-list"><li ng-repeat="item in vm.inviteEngineers" class="form-inline"><div class="form-group" ng-class="{\'has-error\': vm.inviteEngineerForm[\'name-\'+ $index].$dirty && vm.inviteEngineerForm[\'name-\'+ $index].$invalid}"><input maxlength="32" ng-class="{\'inviteEngineer-has-error\':item.verifyNameFail}" name="name-{{$index}}" ng-model="item.name" type="text" class="form-control" placeholder="名字" required></div><div class="form-group" ng-class="{\'has-error\': vm.inviteEngineerForm[\'email-\'+ $index].$dirty && vm.inviteEngineerForm[\'email-\'+ $index].$invalid}"><input name="email-{{$index}}" ng-model="item.email" type="text" ng-model-options="{updateOn: \'default blur\', debounce: { \'default\': 500, \'blur\': 0 }}" ng-pattern="/^[A-Za-z0-9](([_\\.\\-]?[a-zA-Z0-9]+)*)@([A-Za-z0-9]+)(([\\.\\-]?[a-zA-Z0-9]+)*)\\.([A-Za-z]{2,6})$/i" class="form-control" placeholder="Email" required></div><div class="form-group" ng-class="{\'has-error\': vm.inviteEngineerForm[\'role-\'+ $index].$dirty && vm.inviteEngineerForm[\'role-\'+ $index].$invalid}"><select class="form-control" name="role-{{$index}}" ng-options="option.id as option.name for option in vm.engineersRoleList" ng-model="item.engineerRole.id" required></select></div><div class="form-group"><i ng-if="vm.inviteEngineers.length > 1" ng-click="vm.removeEngineer($index)" class="fa fa-minus-circle"></i> <i ng-if="vm.inviteEngineers.length == ($index+1)" ng-click="vm.addEngineer()" class="fa fa-plus-circle"></i></div></li></ul><div class="tips"><p>输入小伙伴的名字和邮箱，发送注册邮件给他们。</p><p>小伙伴收信后，点击链接，设置密码，完成注册，成为服务团队成员</p></div></div></div><div class="modal-footer btn-group-common"><button type="submit" class="btn btn-confirm" ladda="vm.saving" ng-disabled="vm.saving">确定</button> <button type="button" class="btn btn-cancel" ng-click="$hide()">取消</button></div></form></div></div></div>');e.put("source/scripts/directives/ewei-multiple-component/ewei-multiple-component.html",'<section class="fan-outter"><section class="fan-border"><section class="tags-div"><section class="tags-info custom-background-color" ng-repeat="item in tagObj track by $index"><span>{{item.name|t}}</span>&nbsp; <span class="tagRemoved" ng-click="tagRemoved(item.id);">X</span></section><section style="clear:both"></section></section><section class="form-group input-div"><input ng-model="query" placeholder="{{placeholderval}}" ng-focus="focus();" ng-change="clicked = true;" class="form-control"></section><section style="clear:both"></section></section><section class="list-div" ng-if="itemlist&&itemlist.length>0&&clicked"><ul><li ng-repeat="item in itemlist|filter:query track by $index" ng-click="tagAdded(item);">{{item.name|t}}</li></ul></section></section>');e.put("source/scripts/directives/ewei-permissions/ewei-permissions.html",'<div class="setting-common-body"><div class="jurisdiction ewei-permissions"><div class="title-bar"><span>{{eweiPermisstionType}}可见范围</span></div><div class="form-content" style="position:relative"><p class="tip">勾选或取消勾选来设置，角色对{{eweiPermisstionType}}的查看权限。</p><div class="role-list"><div class="role-title clearfix"><span class="item role-name">角色</span> <span class="item scan-jurisdiction"><label><input type="checkbox" ng-model="allChecked" ng-click="checkAll(\'scanAble\')" style="vertical-align:middle;margin:0 5px 0 0">全选</label></span></div><div class="role-content"><div class="content-item clearfix" ng-repeat="item in roleJurisdictionList"><span class="item role-name" ng-bind="::item.name"></span> <span class="item scan-jurisdiction"><input type="checkbox" ng-model="item.scanAble" ng-click="scanAble(item, \'scanAble\')"></span></div></div><div class="role-footer"><a href="javascript:void(0)" ng-if="hasMore" class="more" ng-click="showMore()">更多角色</a></div></div></div></div></div>');e.put("source/scripts/directives/ewei-question/ewei-question.html",'<style>.height_0px{height:0}.question_icon{border:0;padding:0;margin-top:12px;margin-left:-10px;height:16px;box-shadow:none;-webkit-box-shadow:none}.question_icon span:hover{cursor:default}.question_messages{max-width:300px!important;min-height:30px;height:auto;position:absolute;z-index:5;background-color:#000;padding:5px 5px;margin-left:10px;font-size:12px;color:#fff;border-radius:0;top:10px;opacity:.6}.arrow{display:block;height:0;width:0;position:absolute;font-size:0;line-height:0;top:3px;left:-10px;border-top:10px solid transparent;border-bottom:10px solid transparent;border-right:15px solid #000;border-left:0}</style><div ng-if="description" class="form-inline height_0px"><div class="question_icon form-control"><span ng-mouseover="showDescription=true;" ng-mouseleave="showDescription=false;"><i class="icon iconfont" style="font-size:14px">&#xe649</i></span></div><div class="question_messages form-control" ng-show="showDescription"><span class="arrow"></span> <span>{{description}}</span></div></div>');e.put("source/scripts/directives/ewei-tags-input/ewei-tags-input.html",'<style>.input-group tags-input{display:block}</style><tags-input ng-model="tags" display-property="name" on-tag-added="tagAdded($tag)" on-tag-removed="tagRemoved($tag)" add-on-space="true" replace-spaces-with-dashes="false" min-length="1" add-on-blur="false" max-length="16" ng-disabled="editAble == 0" placeholder="{{ notes ||\'输入关键字搜索标签，按空格创建新标签\'}}"><auto-complete source="loadTags($query)" min-length="1" debounce-delay="300" load-on-focus="true" load-on-empty="true"></auto-complete><span class="help-block" ng-hide="hideHelp===\'true\'">输入文字匹配已有标签，或按空格或回车生成新标签。如输入边框变红，表示已超过可添加标签的最大数，请尝试删除标签，直到红色边框消失，否则不能保存。</span></tags-input>');e.put("source/scripts/directives/ewei-template-pagination/ewei-template-pagination.html",'<div ng-if="params.total>0 && pages && pages.length>3" class="ng-cloak ng-table-pager clearfix"><ul class="pagination ng-table-pagination"><li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"><a ng-switch-when="prev" ng-click="changePage({number:page.number})" href=""><i class="iconfont">&#xe63a;</i></a> <a ng-switch-when="first" ng-click="changePage({number:page.number})" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="changePage({number:page.number})" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" class="more" ng-click="changePage({number:page.number})" href="">&#8230;</a> <a ng-switch-when="last" ng-click="changePage({number:page.number})" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="changePage({number:page.number})" href=""><i class="iconfont">&#xe63e;</i></a></li><li><span class="text">共计{{params.total}}条</span></li></ul></div>');e.put("source/scripts/directives/ewei-ticket-sla/sla_tip.html",'<div class="popover sla-popover" tabindex="-1"><div class="popover-content html-content" ng-bind-html="content"></div></div>');e.put("source/scripts/directives/eweitable/eweitable.html",'<div class="ewei-table" ng-class="{\'no-pager\': tableParams.total()==0}"><h4 ng-if="tableParams.total()==0" style="margin:10px;padding-top:20px;text-align:center" ng-bind="noDataTip" title="{{noDataTip}}"></h4><div class="data-area" ng-hide="tableParams.total()==0" ng-class="{\'with-title-box\': hideTitle!==\'true\'}" style="top:0"><table ng-table="tableParams" id="tableParams" ewei-table-auto-rows="setRows" has-group="$groups.length>1" group-info="$groups" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th class="column-checkbox" ng-if="showCheckboxes"><input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value=""></th><th ng-repeat="column in columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ewei-custom-column-width="column" column-type="columnType" custom-field-column-width-info="customFieldsLength" field-column-width-info="fieldsLength" ng-class="{\n                    \'sort-asc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'asc\'),\n                    \'sort-desc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="column.sortable?tableParams.sorting(column.field==\'ticketSlas\'?\'updatedAt\':column.field, tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\') ? \'asc\' : \'desc\'):\'\'"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-repeat="group in $groups track by $index" style="border-top:0"><tr class="ng-table-group" ng-if="group.value!=null"><td colspan="{{columns.length+1}}"><a ng-click="group.$hideRows = !group.$hideRows"><span class="glyphicon" ng-class="{ \'glyphicon-chevron-right\': group.$hideRows, \'glyphicon-chevron-down\': !group.$hideRows }"></span> <strong ng-bind="group.value | nullStringFilter" title="{{group.value | nullStringFilter}}"></strong></a></td></tr><tr ng-hide="group.$hideRows" ng-repeat="item in group.data track by item.id"><td class="column-checkbox" ng-if="showCheckboxes"><input ng-if="!item.isCreator" type="checkbox" ng-model="checkboxes.items[item.id]"></td><td ng-repeat="column in columns track by $index" ng-if="column.visible" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="columnType" custom-field-column-width-info="customFieldsLength" field-column-width-info="fieldsLength"><span ng-switch-when="2" ng-switch="column.field"><span ng-switch-when="serviceCatalog.id"><service-catalog-name-show servicecatalogid="{{item.serviceCatalog.id}}" servicecatalogs="servicecatalogs"></service-catalog-name-show></span><span ng-switch-when="user.tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span ng-switch-when="user.name"><a class="c75 custom-main-font-color" ui-sref="system_setting.engineer_detail({id:item.id,uri:isStop})" ng-bind="item.user.name | nullStringFilter" title="{{item.user.name | nullStringFilter}}" ng-click="engineerDetailBuried()"></a></span> <span ng-switch-when="role.name" ng-bind="item.role.name | translate" title="{{item.role.name | translate}}"></span> <span ng-switch-when="serviceDesk.name" ng-bind="item.serviceDesk.name | translate" title="{{item.serviceDesk.name | translate}}"></span> <span ng-switch-when="defaultServiceDesk.name" ng-bind="item.defaultServiceDesk.name | translate" title="{{item.defaultServiceDesk.name | translate}}"></span> <span ng-switch-when="evaluate.score">{{item.evaluate.score}}</span> <span ng-switch-when="evaluate.solved"><ticket-evaluate-solved-show value="{{item.evaluate.solved}}" solveds="evaluate.solveds"></ticket-evaluate-solved-show></span><span ng-switch-when="user.status" ng-bind="item[column.field0][column.field1] | customerStatus" title="{{item[column.field0][column.field1] | customerStatus}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1] | nullStringFilter" title="{{item[column.field0][column.field1] | nullStringFilter}}"></span> <span ng-switch-when="ticketMetric.pausedAt" ng-bind="item.ticketMetric.pausedAt | dateFilter_style1" title="{{item.ticketMetric.pausedAt | dateFilter_style1}}"></span> <span ng-switch-when="ticketMetric.solvedAt" ng-bind=\'item.ticketMetric.solvedAt | dateFilter_style1:"solvedAt":item.status\'></span> <span ng-switch-when="ticketMetric.responseAt" ng-bind="item.ticketMetric.responseAt | dateFilter_style1" title="{{item.ticketMetric.responseAt | dateFilter_style1}}"></span> <span ng-switch-when="ticketMetric.responseMinutes" ng-bind=\'item.ticketMetric.responseMinutes | minute_format_filter:"responseMinutes":item.status\'></span> <span ng-switch-when="ticketMetric.solveMinutes" ng-bind=\'item.ticketMetric.solveMinutes | minute_format_filter:"solveMinutes":item.status\'></span></span> <span ng-switch-when="3" ng-switch="column.field"><span ng-switch-when="user.role.name" ng-bind="item.user.role.name | translate" title="{{item.user.role.name | translate}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span></span> <span ng-switch-default ng-switch="column.field"><span ng-switch-when="subject"><span><ewei-ticket-sla ticketstatuscolors="ticketStatusColors" ticketid="{{item.id}}" status="item.status" format="short" data-template-url="/source/scripts/directives/ewei-ticket-sla/sla_tip.html"></ewei-ticket-sla></span><a class="c75 custom-main-font-color" ui-sref="tickets_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> </span><span ng-switch-when="subscription"><i class="fa fa-star-o" style="position:relative;top:3px;font-size:1.3em;cursor:pointer" ng-class="{\'fa-star-o\':!item.isTarget,\'fa-star\':item.isTarget,\'color_yellow\':item.isTarget}" ng-click="star_target(item)"><ewei-start-show ticketsubscriptions="ticketsubscriptions" item="item"></ewei-start-show></i></span><span ng-switch-when="createdAt" ng-bind="item.createdAt | dateFilter_style1" title="{{item.createdAt | dateFilter_style1}}"></span> <span ng-switch-when="updatedAt" ng-bind="item.updatedAt  | dateFilter_human" title="{{item.updatedAt  | dateFilter_human}}"></span> <span ng-switch-when="deletedAt" ng-bind="item.deletedAt | dateFilter_style1" title="{{item.deletedAt | dateFilter_style1}}"></span> <span ng-switch-when="lastLoginAt" ng-bind="item.lastLoginAt | dateFilter_style1" title="{{item.lastLoginAt | dateFilter_style1}}"></span> <span ng-switch-when="shared" ng-bind="item.shared | booleanFilter" title="{{item.shared | booleanFilter}}"></span> <span ng-switch-when="status" ng-bind="item.status| ticketStatusFilter" title="{{item.status| ticketStatusFilter}}"></span> <span ng-switch-when="tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span ng-switch-when="deleteReason"><span ng-if="item.deleteType==\'merger\'" translate="MERGER_TICKET_TO"></span><span ng-bind="item.deleteReason | nullStringFilter" title="{{item.deleteReason | nullStringFilter}}"></span></span> <span ng-switch-when="name"><a class="c75 custom-main-font-color" ng-click="customerDetailBuried()" ng-if="view.type==\'user\'" ui-sref="customers_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a><a class="c75 custom-main-font-color" ng-if="view.type==\'userGroup\'" ng-click="userGroupsBuried()" ui-sref="user_groups_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a></span> <span ng-switch-when="recommendIndex"><span style="cursor:pointer" ng-hide="recommendIndexShow[item[\'id\']]" ng-click="showUpdate(item)" ng-bind="item[column.field]" title="{{item[column.field]}}"></span> <input ng-show="recommendIndexShow[item[\'id\']]" ng-blur="updateRecommendIndex(item)" ng-model="item[column.field]" ng-focus="recommendIndexShow[item[\'id\']]"> </span><a ng-switch-when="title" class="c75 custom-main-font-color" target="_blank" ng-if="item.topic.type != \'questions\' && item.topic.type != \'deletes\' && item.topic.type != \'default\'" ng-href="/#/article/detail/{{item.id}}" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <a ng-switch-when="title" class="c75 custom-main-font-color" target="_blank" ng-if="item.topic.type == \'questions\' || item.topic.type == \'deletes\' || item.topic.type == \'default\'" ng-href="/#/forum/detail/{{item.id}}" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <span ng-switch-when="priority"><ticket-priority-show priority="{{item.priority}}"></ticket-priority-show></span><span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span> <span ng-switch-when="customFields" ng-switch="column.field"><ewei-custom-fields-show customfields="customFieldList" ticketid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-show></span><span ng-switch-when="customFieldsUser" ng-switch="column.field"><ewei-custom-fields-user customfields="customFieldList" userid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-user></span><span ng-switch-when="customFieldsUserGroup" ng-switch="column.field"><ewei-custom-fields-user customfields="customFieldList" userid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-user></span></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div>');e.put("source/scripts/directives/export-temp/export-template.html",'<style type="text/css">.export-temp-box{padding:40px;text-align:center}.export-temp-box h3{font-size:16px;font-weight:400;color:#333}.export-temp-box p{color:#999;margin-top:20px;margin-bottom:60px}</style><div class="export-temp-box"><h3>正在整理要导出的数据，请稍后...</h3><p>您可以离开此页面，导出将在后台进行，完成后请到“通知”中下载。</p><button ng-click="$hide()" class="btn btn-confirm w100">知道了</button></div>');e.put("source/scripts/directives/file-upload-button/file-upload-button.html",'<div class="cursorhand btn-group pull-right" style="margin-right:60px"><div id="container" class="btn-group btn-group-sm" role="group"><input type="hidden" id="qiniuDomain" value="${(qiniuBucketDomain)!}"> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><i class="iconfont">&#xe601;</i> 上传附件</button><ul class="dropdown-menu dropdown-menu-left" role="menu"><li><a id="pickfiles">上传本地文件</a></li><li><a ng-click="pickResource();">调用社区资源</a></li></ul></div><div has-module="remote_help" type="button" class="btn btn-default btn-sm" ng-click="requestScreenshot();"><i class="iconfont">&#xe602;</i> 屏幕截图</div><div has-module="remote_help" type="button" class="btn btn-default btn-sm" ng-click="requestVideo();"><i class="iconfont">&#xe60a;</i> 屏幕录像</div></div><ul ng-if="cacheFiles.length > 0" style="clear:both" class="w500 pull-right"><li ng-repeat="f in cacheFiles track by $index" style="margin:5px;font-size:12px"><span>{{f.name}} {{f.size | fileSize}}</span><button type="button" class="close" ng-if="!f.uploading" style="margin-right:50px" ng-click="deleteAttachment(f.result,$index)"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> <span ng-if="f.uploading" style="float:right"><span ng-if="f.progress > 0 && f.progress < 100">{{f.progress}}%</span><span ng-if="f.progress == 100">附件处理中，请稍后...</span><span ng-if="f.progress == 0">等待上传，请稍后...</span></span></li></ul>');e.put("source/scripts/directives/group-user-ticket-chain/group-user-ticket-chain.html",'<nav class="btn-group btn-groupB"><span ng-if="group!=null &&((user && user.type!=undefined && user.type!=\'engineer\')|| !user)" class="btn btn-default" ng-class="{\'custom-main-font-color\': active!=\'group\',\'active\':active==\'group\',\'disabled\':disableStyle4Group}" ng-click="group_click();" title="{{group.name}}"><i class="iconfont tab-icon">&#xe665;</i> {{group.name}} </span><span ng-if="user!=null && user.type!=undefined && user.type!=\'engineer\' && group==null" class="btn btn-default" ng-class="{\'custom-main-font-color\': active!=\'group\', \'active\':active==\'group\',\'disabled\':disableStyle4Group}" ng-click="group_click();" title="{{\'客户组(创建)\'}}"><i class="iconfont tab-icon">&#xe665;</i> {{"客户组(创建)"}} </span><span ng-if="user!=null && user.type!=undefined &&user.type!=\'engineer\'" class="btn btn-default" ng-class="{\'custom-main-font-color\': active!=\'user\', \'active\':active==\'user\',\'disabled\':disableStyle4User}" ng-click="user_click();" title="{{user.showName}}"><i class="iconfont tab-icon">&#xe650;</i> {{user.name||user.nickname||user.id}} </span><span ng-if="(ticket!=null||active==\'ticket\')&&webchat==null" class="btn btn-default ticket" ng-class="{\'custom-main-font-color\': active!=\'ticket\', \'active\':active==\'ticket\'}" ng-click="ticket_click();"><span ng-if="ticket==null||ticket.id==null"><i class="iconfont"><span class="new ticket-sla">NEW</span></i>新建的工单 </span><span style="-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text" ng-if="ticket!=null&&ticket.id!=null" ng-class="{\'custom-main-font-color\': active!=\'ticket\', \'active\':active==\'ticket\'}"><i class="iconfont tab-icon">&#xe64e;</i> #{{ticket.no}}<sapn class="{{ticket.deleted?\'deleted\':ticket.status}} status ticket-sla">{{ticket.deleted?\'deleted\':ticket.status | firstUpperCase}}</sapn></span></span><span ng-if="webchat!=null" class="btn btn-default ticket" ng-class="{\'custom-main-font-color\': active!=\'ticket\', \'active\':active==\'ticket\'}" ng-click="goOrChainTicket()"><span ng-if="ticket==null||ticket.id==null"><i class="iconfont tab-icon">&#xe64e;</i>(创建) </span><span ng-if="ticket!=null&&ticket.id!=null" ng-class="{\'custom-main-font-color\': active!=\'ticket\', \'active\':active==\'ticket\'}"><i class="iconfont tab-icon">&#xe64e;</i> #{{ticket.no}}<sapn class="{{ticket.status}} status ticket-sla">{{ticket.status | firstUpperCase}}</sapn></span></span><span ng-if="webchat!=null" class="btn btn-default" ng-class="{\'custom-main-font-color\': active!=\'webchat\', \'active\':active==\'webchat\'}" ng-click="webchat_click();"><i class="iconfont tab-icon">&#xe638;</i>{{\'statistics_chat\'|translate}}#{{webchat.id}}</span></nav>');e.put("source/scripts/directives/handle-select/handle-select.html",'<div class="handle-select"><div class="total-tip-wrapper" ng-if="selectHandles.length > 0"><span class="total-tip">共创建 {{selectHandles.length}} 张工单</span><div class="btn btn-default clear-handle pull-right" ng-click="clear()">清空重选</div></div><div class="form-group" style="margin-bottom:0;position:relative"><div class="conductor"><label>处理人 <span class="required">*</span></label><span class="tip" style="color:#999">（选中的客服/客服组，各派一单）</span></div><input type="text" class="service-input" placeholder="输入关键字搜索客服/客服组" ng-model="serviceInput" ng-keyup="enterSearch($event)" ng-change="watchInput()"> <i ng-class="selectHandles.length > 0 ? \'iconfont change-search\':\'iconfont service-search\'" ng-click="serviceDeskSearch(serviceDesks)">&#xe624;</i> <i ng-class="selectHandles.length > 0 ? \'iconfont change-remove\':\'iconfont service-remove\'" ng-if="serviceInput" ng-click="removeSearchContent()">&#xe63c;</i></div><div class="service-tooltip" ng-if="resultType && searchFlag">搜索到{{serviceDesks.length}}条结果:</div><div class="service-tooltip" ng-if="!resultType && searchFlag">搜索到0条结果:</div><div class="form-group select-handles" style="border-top:none"><div ng-repeat="serviceDesk in serviceDesks track by serviceDesk.id" class="serviceDesk" ng-class="{active: serviceDesk.showEngineers}"><div class="list" ng-click="showEngineers(serviceDesk)"><div class="right"><i class="iconfont" ng-if="serviceDesk.showEngineers">&#xe630;</i> <i class="iconfont" ng-if="!serviceDesk.showEngineers">&#xe60e;</i> <span title="{{serviceDesk.name | translate}}" class="serviceDesk-name">{{serviceDesk.name | translate}} </span><a class="custom-link-color">{{serviceDesk.checked ? \'(组内抢单)\':(serviceDesk.checkedEngineers?\'(选中\'+ serviceDesk.checkedEngineers +\'人)\':\'\')}}</a></div><div class="left"><input type="checkbox" ng-model="serviceDesk.checked" ng-click="checkedServiceDesk($event,serviceDesk)"></div></div><ul ng-if="serviceDesk.showEngineers && serviceDesk.engineer_count > 0" class="engineers"><li class="item" ng-repeat="engineer in serviceDesk.engineers track by engineer.id"><input type="checkbox" ng-model="engineer.checked" ng-click="checkedEngineer(engineer, serviceDesk)"> <span title="{{engineer.user.name}}({{engineer.email}})" class="engineer-name">{{engineer.user.name}}({{engineer.email}})</span></li></ul></div></div></div>');e.put("source/scripts/directives/image-show/image-show.html","<img class=\"{{imageclass}}\" ng-click=\"editable=='true'?toEdit():''\" ng-src=\"{{url}}\" title=\"{{editable=='true'?'点击可编辑':''}}\">");e.put("source/scripts/directives/ip-to-address/ip-to-address.html",'<span ng-bind="address"></span>');e.put("source/scripts/directives/lay-date/lay-date.html",'<input lay-date type="text" id="layDate" ng-model="startTime">');e.put("source/scripts/directives/message-box/message-box.html",'<div class="message-panel" ng-class="{\'message-panel-active\': vm.panelActived}"><section class="panel-messages" ng-show="vm.currentPanel!==\'setting\'"><header class="panel-header clearfix"><h5 class="panel-title pull-left">通知消息</h5><div class="options pull-right"><a ng-click="vm.deleteNotifyLogs()"><i class="iconfont">&#xe647;</i></a><a ng-click="vm.showSettingPanel()" ui-sref="system_setting.detail({uri:\'my_account\',settingType:\'system\'})"><i class="iconfont">&#xe645;</i></a></div></header><div class="panel-body"><ol class="messages-list"><li ng-repeat="log in vm.notifyLogs track by $index" ng-class="{\'cursorhand\':log.type==\'ticket\'||log.type==\'answer_question\'||log.type==\'comment_article\'||log.type==\'comment_answer\'||log.type==\'project\'||log.type==\'file\'}" ng-click="vm.clickNotifyLog(log);"><div class="basic-info"><image-show imageurl="{{log.operater.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w32 h32 img-circle" editable="false"></image-show><div class="date">{{log.createdAt | dateFilter_style1}}</div></div><div class="content"><dash-log-message message="{{log.message}}"></dash-log-message></div></li></ol><div class="tips" ng-if="vm.notifyLogs.length === 0">没有新的通知消息</div><div ng-show="vm.loading" class="more-indicator"><a ng-click="vm.getMore();">正在加载...</a></div></div><footer ng-if="$root.providerLicense && $root.providerLicense.type !=\'oem\' && !vm.licenseService.hasModule(\'oem\')" class="panel-footer"><a class="tips" ng-click="vm.hidePanel();vm.component_popup(1)">安装移动客户端，随时随地接收通知</a></footer></section></div>');e.put("source/scripts/directives/mini-editor/mini-editor.html",'<div class="mini-editor"><pre paste-for-text="true" id="{{id}}" has-cache="false" ng-model="value" contenteditable="true" style="min-height:70px;min-width:400px;-webkit-user-modify:read-write-plaintext-only;padding-bottom:20px" ng-style="{\'height\': height, \'width\': width}" class="form-control content" ng-mouseup="onSelect()" data-ph="{{placeholder}}"></pre><span class="toolbar"><i class="iconfont" ng-click="addLink()" title="添加链接">&#xe7c1;</i> <i ng-if="mark" class="iconfont" ng-click="addMark()" title="添加{{mark.title}}链接">{{mark.icon}}</i></span></div>');e.put("source/scripts/directives/mini-editor/modal-link.html",'<style>.modal-link>.title{font-size:16px;color:#000;padding-bottom:10px}.modal-link>.content{padding-bottom:20px}.modal-link>.footer button{width:100%}</style><div class="modal-link"><p class="title">添加超链接</p><div class="content"><input type="text" ng-model="data.url" class="form-control w350" placeholder="例如：https://www.ewei.com" maxlength="512"></div><div class="footer"><button type="button" class="btn btn-confirm" ng-click="$ok()">确定</button></div></div>');e.put("source/scripts/directives/multi-options/multi-options.html",'<div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" uib-dropdown-toggle ng-disabled="disabled || field.edit_able==0" style="text-align:left;height:auto;min-height:32px" ng-click="click()"><span style="float:left;word-break:break-all">{{ticketField.value}}</span> <span class="caret" ng-if="!catSelected" style="position:absolute;right:8px;top:14px"></span></button> <button type="button" class="close" ng-if="catSelected" ng-click="clear()" style="position:absolute;right:8px;top:5px"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><ul style="padding:0;height:auto;max-height:330px;overflow:auto;width:100%" class="list-group dropdown-menu" role="menu" uib-dropdown-menu><li ng-if="field.openSearch" class="list-group-item" ng-click="$event.stopPropagation()"><input type="text" class="form-control" ng-keyup="dropdownMultiselectSearch($event,field.customFieldOptions);" placeholder="输入关键字搜索"></li><li class="list-group-item" ng-repeat="item in field.customFieldOptions" style="padding:5px 15px" ng-click="$event.stopPropagation()"><label style="width:100%;cursor:pointer"><input type="checkbox" ng-model="item.selectValue" ng-click="selected($event,item)" style="margin-right:10px;position:relative;top:3px"><span ng-bind="item.value" style="font-weight:400"></span></label></li><li class="list-group-item" ng-if="category!=\'auto\' && category!=\'polymerize_search\'"><p class="btn btn-primary" ng-click="update(field.customFieldOptions)" style="vertical-align:middle;color:#f5f5f5;padding:5px 20px;position:relative;left:0">确定</p></li></ul></div>');e.put("source/scripts/directives/notice-user-select/notice-user-select.html",'<select class="form-control" ng-model="selectedItem" ng-options="user.name for user in userItems"><option value="">-</option></select>');e.put("source/scripts/directives/oem-learn-more/oem-learn-more-edit.html",'<form name="oemConfigForm" novalidate ng-submit="oemLearnMore.saveOemConfig(oemConfigForm.$valid);"><div class="form-group" show-errors><label>描述文字</label><textarea class="form-control" required name="description" style="resize:none" ng-model="oemLearnMore.editModel.description"></textarea><p class="help-block" ng-if="oemConfigForm.description.$error.required">请输入描述文字</p></div><div class="form-group" show-errors><label>了解更多链接</label><input type="url" class="form-control" required name="moreUrl" ng-model="oemLearnMore.editModel.learnMoreUrl"><p class="help-block" ng-if="oemConfigForm.moreUrl.$error.url">请输入正确的链接</p><p class="help-block" ng-if="oemConfigForm.moreUrl.$error.required">请输入了解更多链接</p></div><div class="form-group text-right"><button type="button" class="btn btn-small btn-default" ng-click="$hide();">取消</button> <button type="submit" class="btn btn-small btn-primary" ng-disabled="oemConfigForm.$pristine">保存</button></div></form>');e.put("source/scripts/directives/oem-learn-more/oem-learn-more.html",'<p ng-show="oemLearnMore.show"><span ng-bind-html="oemLearnMore.showLearnMore.description|sanitize|trusted"></span> <a class="custom-main-font-color" style="text-decoration:underline" ng-href="{{oemLearnMore.showLearnMore.learnMoreUrl}}" target="_blank">了解更多</a> <span class="icon-edit custom-main-font-color" ng-if="oemLearnMore.oemConfig.open&&oemLearnMore.oemConfig.learnMore==\'each\'&&(oemLearnMore.nameKey==\'ROLE_NAME_CREATOR\' ||oemLearnMore.nameKey==\'ROLE_NAME_ADMIN\')" style="cursor:pointer" ng-click="oemLearnMore.editConfig();"></span></p>');e.put("source/scripts/directives/progress-color/progress-color.html",'<div class="progress-color-box"><div class="progress-color" ng-click="listShow=!listShow"><span class="progress-icon" ng-style="{backgroundColor:defaultColr}"></span></div><div class="progress-color-list" ng-show="listShow"><ul><li style="background-color:#6CDDCB" ng-click="changeColor(\'#6CDDCB\')"></li><li style="background-color:#A0EEE1" ng-click="changeColor(\'#A0EEE1\')"></li><li style="background-color:#FC3" ng-click="changeColor(\'#FFCC33\')"></li><li style="background-color:#FCF" ng-click="changeColor(\'#FFCCFF\')"></li><li style="background-color:#99F" ng-click="changeColor(\'#9999FF\')"></li><li style="background-color:#D6D5B7" ng-click="changeColor(\'#D6D5B7\')"></li><li style="background-color:#9CF" ng-click="changeColor(\'#99CCFF\')"></li><li style="background-color:#F4606C" ng-click="changeColor(\'#F4606C\')"></li><li style="background-color:#ECAD9E" ng-click="changeColor(\'#ECAD9E\')"></li><li style="background-color:#B7B7B7" ng-click="changeColor(\'#B7B7B7\')"></li></ul></div></div>');e.put("source/scripts/directives/question-article-link/question-article-link.html",'<a ng-click="goDetail(item)" class="c75 custom-main-font-color" ng-bind="article.title | nullStringFilter"></a>');e.put("source/scripts/directives/quick_knowledge_tip/quick_knowledge_tip.html",'<div ng-switch on="vm.quickmatchItems"><section ng-switch-default ng-show="vm.matchItems.length>0" class=""><ul class="list-unstyled chat-replay-list"><li style="cursor:pointer" ng-repeat="item in vm.matchItems track by $index" ng-click="vm.selectmatchQuickReplys(item.content);" ng-class="{true:\'item-select\',false:\'item-not-select\'}[item.selected]" ng-mouseenter="vm.itemMouseenter(item);" class="media"><span ng-bind-html="item.html|sanitize|trusted" class="media-left hideOverflow" style="max-width:250px"></span> <span class="hideOverflow media-right">{{item.content}}</span></li></ul></section><section ng-switch-when="knowledge" class="chat-box" style="position:static;padding-left:0;padding-right:0"><ul class="list-unstyled list-knowledge" ng-show="vm.questions.length>0"><li class="media list-knowledge-item" ng-repeat="q in vm.questions"><div class="media-left media-middle"><button type="button" class="btn btn-knowledge-send" ng-click="vm.sendKnowledge(q)" ng-if="vm.hideSendKnowledge!==\'true\' &&(q.sendKnowledgeStatus == \'success\' || q.sendKnowledgeStatus == \'error\' || !q.sendKnowledgeStatus)">发送</button> <button type="button" class="btn btn-knowledge-send" disabled="disabled" style="padding:1px 14px" ng-if="q.sendKnowledgeStatus == \'send\'"><img src="source/images/home_load/load_white.gif" style="width:20px;height:20px"></button> <button type="button" class="btn btn-knowledge-edit" ng-click="vm.editKnowledge(q)">编辑</button></div><div class="media-body media-top" style="padding-top:3px"><p><span class="margin_right5px knowledge-type">/{{vm.questionKnowledgeType[q.topic.type]}}/{{q.topic.name}}</span> <span class="knowledge-title">{{q.title}}</span> <span class="knowledge-type" ng-if="q.sendKnowledgeStatus == \'error\'"><i class="icon iconfont" style="color:#e82020">&#xe63b;</i></span></p><p class="knowledge-summary">{{q.summary}}</p></div></li></ul></section></div>');e.put("source/scripts/directives/radio-options/radio-options.html",'<div class="btn-group relative" style="width:100%;font-size:14px"><button type="button" class="dropdown-toggle form-control relative text-left" style="width:100%;height:auto;min-height:32px;word-break:break-all" ng-disabled="field.edit_able==0" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span ng-if="field.value" ng-class="{\'one-line-select-span\':singleLine}" title="{{field.value}}">{{field.value}}</span> <span ng-if="!field.value">-</span> <span class="caret" style="position:absolute;right:8px;top:14px"></span></button><ul class="dropdown-menu list-group padding0 of_y1 h400" style="width:100%"><li class="list-group-item" ng-if="field.openSearch" ng-click="$event.stopPropagation()"><input type="text" class="form-control" ng-keyup="dropdownRadioSearch($event,field.customFieldOptions);" placeholder="输入关键字搜索"></li><li class="list-group-item cursorhand" ng-click="chooseDropdownRadio(field,option);" ng-repeat="option in (field.customFieldOptions)"><span ng-bind="option.name"></span></li></ul></div>');e.put("source/scripts/directives/rate/rate.html",'<div class="ew-rate"><div class="ew-rate-star" ng-class="{checked:value>=score}" ng-repeat="score in scores" ng-click="setValue(score)"><i class="fa fa-star" ng-if="value >= score"></i> <i class="fa fa-star-o" ng-if="value < score"></i></div></div><style>.ew-rate-star{display:inline-block;margin:0;padding:0;margin-right:8px;position:relative;transition:all .3s ease;color:#a9a9a9}.ew-rate-star.checked{color:#fcad23}</style>');e.put("source/scripts/directives/resources-upload-button/resources-upload-button.html",'<div class="cursorhand pull-right margin_right10px" style="position:absolute;left:0;top:0;width:100%"><div ng-hide="!fileSelectVisible" id="container"><input type="hidden" id="qiniuDomain" value="${(qiniuBucketDomain)!}"> <span id="pickfiles"><img flow-btn class="margin_left5px" src="source/images/avatar-female5.jpg">上传附件</span></div><ul ng-if="cacheFiles.length > 0"><li ng-repeat="f in cacheFiles"><span style="line-height:20px">{{f.name}}</span>&nbsp; <span ng-if="f.size<1024">{{f.size|number:0}}byte</span> <span ng-if="f.size>=1024&&f.size<1048576">{{f.size/1024|number:0}}KB</span> <span ng-if="f.size>=1048576">{{f.size/1048576|number:0}}M</span><button type="button" class="close" ng-if="!f.uploading" style="margin-right:30px" ng-click="deleteAttachment(f.result,$index)"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> <span ng-if="f.uploading" style="float:right"><span ng-if="f.progress > 0 && f.progress < 100">{{f.progress}}%</span><span ng-if="f.progress == 100">附件处理中，请稍后...</span><span ng-if="f.progress == 0">等待上传，请稍后...</span></span><br><br></li></ul></div>');e.put("source/scripts/directives/search-component/search-component.html",'<div class="search-group-component search-box"><input type="button" value="清除搜索条件" ng-show="(searchkey!=null&&searchkey!=\'\')" ng-click="clearSearch();" class="tip"><div class="input-group"><input ng-enter="searchmethods()" type="text" class="search-input-part" placeholder="{{placeholderval}}" ng-model="searchkey"> <span class="search-icon-part" ng-click="searchmethods()" style="cursor:pointer" ng-style="(searchkey!=null&&searchkey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span><div style="clear:both"></div></div></div>');e.put("source/scripts/directives/select-condition/select-condition.html",'<div class="condition"><div class="detail tryu padding20px" style="min-width:810px"><strong>符合下列所有条件：</strong><div ng-repeat="filter in andConditions track by $index" class="padding_top10px padding_bottom410px" style="position:relative;padding-left:40px"><select class="form-control w230 margin_right30px select" ng-options="item.option for item in filter.firstOptions" ng-model="filter.firstValue" ng-change="firstFilterOptionChange($index,filter.firstValue, \'and\');"></select><select class="form-control w100 margin_right30px select" ng-options="item.option for item in filter.secondOptions" ng-model="filter.secondValue"></select><input ng-if="filter.valueType==\'user.tags\'" ng-model="filter.thirdValue" class="form-control w320 margin_right20px select"><div class="w320 margin_right20px select" ng-if="filter.valueType==\'via\'"><via-select viatype="type" selectedtype="filter.thirdValue.viaType" selectedvia="filter.thirdValue.via" selectedchannel="filter.thirdValue.channel"></via-select></div><div class="w320 margin_right20px select" ng-if="filter.valueType==\'userGroup\'"><user-group-select unable-add-usergroup="true" selectedusergroup="filter.thirdValue"></user-group-select></div><area-select class="w320 margin_right20px select" ng-if="filter.valueType==\'location\'" select-area="filter.thirdValue" single-line="true"></area-select><a style="color:#e04006" ng-click="toDeleteFilterOption(\'and\', $index);" class="size20">-</a></div><p class="margin_top10px margin_left40px"><a class="add size20" style="color:#7bbf6a;cursor:pointer" href="javascript:;" ng-if="!isDefault" ng-click="toAddFilterOption(\'and\');"><strong>+</strong></a></p></div><div class="detail tryu padding20px margin_top20px" style="min-width:810px"><strong>符合下列任何条件：</strong><div ng-repeat="filter in orConditions track by $index" class="padding_top10px padding_bottom410px" style="position:relative;padding-left:40px;vertical-align:middle"><select class="form-control w230 margin_right30px select" ng-options="item.option for item in filter.firstOptions" ng-model="filter.firstValue" ng-change="firstFilterOptionChange($index,filter.firstValue, \'any\');"></select><select class="form-control w100 margin_right30px select" ng-options="item.option for item in filter.secondOptions" ng-model="filter.secondValue"></select><input ng-if="filter.valueType==\'user.tags\'" ng-model="filter.thirdValue" class="form-control w320 margin_right20px select"><div class="w320 margin_right20px select" ng-if="filter.valueType==\'via\'"><via-select viatype="type" selectedtype="filter.thirdValue.viaType" selectedvia="filter.thirdValue.via" selectedchannel="filter.thirdValue.channel"></via-select></div><div class="w320 margin_right20px select" ng-if="filter.valueType==\'userGroup\'"><user-group-select unable-add-usergroup="true" selectedusergroup="filter.thirdValue"></user-group-select></div><area-select class="w320 margin_right20px select" ng-if="filter.valueType==\'location\'" select-area="filter.thirdValue" single-line="true"></area-select><a style="color:#e04006" ng-click="toDeleteFilterOption(\'any\', $index);" class="size20">-</a></div><p class="margin_top10px margin_left40px"><a class="add size20" style="color:#7bbf6a;cursor:pointer" href="javascript:;" ng-if="!isDefault" ng-click="toAddFilterOption(\'any\');"><strong>+</strong></a></p></div></div>');e.put("source/scripts/directives/selected-engineer-message/selected-engineer-message-template.html",'<form name="selectedEngineerMessageForm" novalidate ng-submit="saveSelectedEngineerMessage();"><div class="form-group" show-errors><textarea class="form-control" ng-model="selectedEngineerMessage.content" name="text" maxlength="1000" placeholder="请在此输入消息，“/”搜索快捷回复。未输入内容直接提交留言，将默认回复：“{{engineerOrWorkflowName}}“" style="resize:vertical;max-height:200px"></textarea><quick-knowledge-tip text-message="selectedEngineerMessage.content" only-quick-replys="true" focus-area-id="ticketContent" hide-send-knowledge="true"></quick-knowledge-tip></div><div class="row"><div class="col-md-6"><label class="checkbox-inline" style="line-height:20px"><input type="checkbox" ng-true-value="false" ng-false-value="true" ng-model="selectedEngineerMessage.open"> 私密回复</label><label class="checkbox-inline" style="line-height:20px"><input type="checkbox" ng-model="selectedEngineerMessage.copyToMe"> 抄送给我</label></div><div class="col-md-6 text-right"><input type="button" class="btn btn-small btn-cancel" value="取消" ng-click="cancelSaveSelectedEngineerMessage();" style="border:none;margin-right:10px"> <input ng-if="!isLoding" type="submit" class="btn btn-small btn-confirm" value="提交留言"> <button ng-if="isLoding" type="button" class="btn btn-small btn-confirm"><img src="/source/images/loading.gif"></button></div></div></form>');e.put("source/scripts/directives/selected-engineer-message/selected-engineer-model-template.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div></div></div></div>');e.put("source/scripts/directives/service-catalog-select/service-catalog-select.html",'<div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" uib-dropdown-toggle ng-disabled="disabled==0" style="text-align:left;height:auto;min-height:32px;word-break:break-all" ng-click="click()"><span style="float:left;word-break:break-all" ng-class="{\'one-line-select-span\':singleLine}" ng-title="{{selectedServiceCatalogNameChain}}" ng-bind="selectedServiceCatalogNameChain"></span> <span class="caret" style="position:absolute;right:8px;top:14px" ng-if="!catSelected"></span></button> <button type="button" class="close" ng-if="catSelected" ng-click="clear()" ng-disabled="disabled==0" style="position:absolute;right:8px;top:5px"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><ul ng-if="isopen" style="padding:0;height:auto;max-height:330px;overflow:auto;width:100%" class="list-group dropdown-menu" role="menu" uib-dropdown-menu><li ng-click="stopPropagation($event)" class="list-group-item"><input style="float:inherit" type="text" class="form-control" ng-model="searchKey" ng-change="searchCatalog(searchKey)" placeholder="输入关键字搜索服务目录"></li><div ng-if="!searchKey"><li class="list-group-item" ng-if="parentServiceCatalog!=null" ng-class="{\'line_solid\':serviceCatalogs.length>0}"><button class="btn btn-default btn-xs" style="width:60px" ng-click="back($event)"><span class="glyphicon glyphicon-chevron-left"></span> 返回</button></li><li class="list-group-item cursorhand" ng-if="parentServiceCatalog!=null" ng-click="selectParentServiceCatalog()"><span ng-if="parentServiceCatalog.children[0].children_count!=null" class="folder1"></span> <span ng-if="parentServiceCatalog.children[0].children_count==null" class="folder2"></span> <span ng-bind="parentServiceCatalog.name"></span></li><li class="list-group-item cursorhand" bindonce ng-repeat="serviceCatalog in showServiceCatalogs  track by serviceCatalog.id" ng-click="selectServiceCatalog($index,$event)"><span bo-if="serviceCatalog.children_count>0" class="pull-right glyphicon glyphicon-chevron-right"></span> <span ng-if="parentServiceCatalog==null&&serviceCatalog.children_count>0" class="folder1"></span> <span ng-if="parentServiceCatalog!=null&&serviceCatalog.children_count>0" class="folder2"></span> <span ng-if="serviceCatalog.children_count==null||serviceCatalog.children_count==0" class="folder3"></span> <span bo-bind="serviceCatalog.name" class="ellipsis" title="{{serviceCatalog.name}}" style="width:80%;vertical-align:top"></span></li></div><ul ng-if="searchKey" class="list-unstyled"><li ng-click="selectSearchCatalog(item)" class="list-group-item cursorhand" ng-repeat="item in searchCatalogList track by item.id" ng-bind-html="item.listName | sanitize | trusted"></li></ul></ul></div>');e.put("source/scripts/directives/service-desk-mutil-select/service-desk-mutil-select.html",'<tags-input ng-model="tags" display-property="name" on-tag-adding="validateTag($tag);" on-tag-added="tagAdded($tag)" on-tag-removed="tagRemoved($tag)" add-on-space="true" replace-spaces-with-dashes="false" min-length="1" add-on-blur="false" placeholder="输入客服组名称"><auto-complete source="loadTags($query)" max-results-to-show="40" min-length="1" debounce-delay="300" load-on-focus="true" load-on-empty="true"></auto-complete></tags-input>');e.put("source/scripts/directives/service-desk-select/service-desk-select.html",'<div class="btn-group" style="width:100%" is-open="isOpen" uib-dropdown><input id="button-template-url" ng-focus="focus()" ng-blur="blur()" type="text" placeholder="请输入客服组名称" class="form-control dropdown-toggle" uib-dropdown-toggle ng-model="selectedServiceDeskName" style="padding-right:30px"> <span ng-if="selectedservicedesk" title="清除" ng-click="selectServiceDesk(null)" style="position:absolute;right:10px;top:6px;z-index:5;cursor:pointer"><i class="iconfont">&#xe711;</i></span><ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="button-template-url" style="max-height:300px;width:100%;overflow-y:auto"><li class="list-group-item cursorhand" ng-repeat="item in serviceDesks" ng-click="selectServiceDesk(item)"><span class="persons"></span> <span ng-bind="item.name"></span></li></ul></div>');e.put("source/scripts/directives/serviceCountdown/serviceCountdown.html",'<div><div style="background:#f7bf58;width:250px;position:absolute;right:43px;top:60px;z-index:9;border-radius:5px" ng-if="showCond"><div style="position:relative;padding-left:50px"><i class="iconfont" style="color:red;position:absolute;top:-9px;left:10px;font-size:30px">&#xe678;</i><p style="margin:10px auto;padding-right:10px;line-height:20px;width:100%;color:#FFF">您的授权将在{{remindDay}}天后到期</p></div></div><div style="background:#f7bf58;width:260px;position:absolute;right:43px;top:60px;z-index:9;border-radius:5px;padding:2px 5px" ng-show="capacityCond"><p style="margin:10px auto;width:100%;text-align:left;color:#FFF">你的容量即将超限，为防止容量超限导致服务暂停，请及时扩容</p><div style="width:60px;text-align:center;color:#39F;margin-bottom:5px;float:right;cursor:pointer" ng-click="toPay();">去扩容</div></div><div style="background:#f7bf58;width:260px;position:absolute;right:43px;top:60px;z-index:9;border-radius:5px;padding:2px 5px" ng-show="showThreeDaysTipCond"><p style="margin:10px auto;width:100%;text-align:left;color:#FFF">你的授权即将到期，为防止到期服务暂停，请及时联系客服续费</p><div style="width:60px;text-align:center;color:#39F;float:right;cursor:pointer;margin-bottom:5px" ng-click="linkEngineer();">联系客服</div></div><div style="background:#f7bf58;width:230px;position:absolute;right:43px;top:60px;z-index:9;border-radius:5px" ng-show="deductionCond"><p style="margin:10px auto;width:100%;text-align:center;color:#FFF">您的账户余额不足，请及时续费。</p><div style="width:60px;text-align:center;color:#FFF;border:1px solid #FFF;border-radius:5px;margin:10px auto;cursor:pointer" ng-click="linkEngineer();">联系客服</div></div></div>');e.put("source/scripts/directives/servicedesk-via-show/servicedesk-via-show.html",'<span style="margin-right:20px;margin-top:5px;display:inline-block" ng-repeat="via in viaList track by $index"><span ng-bind="via.name"></span> </span>');e.put("source/scripts/directives/sla-bar/sla-bar.html",'<span class="inline_block" ng-if="vm.showSla"><div class="inline_block">响应耗时： <span ng-bind-html="::vm.slaData.planResponseTime|trusted"></span> VS <span class="" ng-bind-html="vm.slaData.actualResponseTime|trusted"></span></div><div class="inline_block">处理耗时： <span ng-bind-html="::vm.slaData.planProcessingTime|trusted"></span> VS <span class="" ng-bind-html="vm.slaData.actualProcessingTime|trusted"></span></div></span>');e.put("source/scripts/directives/table/ewei-ticket-plan-table.html",'<div class="ewei-table" ng-class="{\'no-pager\': tableParams.total()==0}"><div class="data-area"><div ng-if="isLoad == false" style="text-align:center;margin:20px;font-size:20px">{{tableParamsTitle}}</div><table ng-table="tableParams" id="tableParams" ewei-table-auto-rows="setRows" has-group="view.groupBy && view.groupBy.length>0" group-info="$groups" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr class=""><th class="column-checkbox" ng-if="showCheckboxes"><input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value=""></th><th ng-repeat="column in columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ewei-custom-column-width="column" column-type="\'ticketPlan\'" custom-field-column-width-info="customFieldsLength" field-column-width-info="fieldsLength" ng-class="{\n                    \'sort-asc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'asc\'),\n                    \'sort-desc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="column.sortable&&sorting(column)"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="tableParams.total()>0" ng-repeat="group in $groups track by $index"><tr class="ng-table-group" ng-if="group.value!=null" ewei-group-auto-width><td colspan="{{columns.length+(showCheckboxes?1:0)}}"><a ng-click="group.$hideRows = !group.$hideRows"><span class="glyphicon" ng-class="{ \'glyphicon-chevron-right\': group.$hideRows, \'glyphicon-chevron-down\': !group.$hideRows }"></span> <strong ng-bind="group.value | nullStringFilter"></strong></a></td></tr><tr ng-hide="group.$hideRows" ng-repeat="item in group.data track by $index" class=""><td ng-if="showCheckboxes" class="column-checkbox"><input type="checkbox" ng-if="item.user.status!=1&&item.user.status!=0" ng-model="checkboxes.items[item.id]"></td><td ng-repeat="column in columns track by $index" ng-if="column.visible" ng-switch="column.field" ewei-custom-column-width="column" column-type="\'ticketPlan\'" custom-field-column-width-info="customFieldsLength" field-column-width-info="fieldsLength"><span ng-switch-when="subject"><a ng-if="!item.enabled" ui-sref="tickets_new.plan_edit({ id: newTicketId, planuid:item.uid })" title="{{item.subject}}" class="custom-link-color">{{ item.subject }}</a> <span ng-if="item.enabled" title="{{item.subject}}">{{ item.subject }}</span> </span><span ng-switch-when="participations" ng-bind="item.participations | ticketPlanParticipations:handler" title="{{item.participations | ticketPlanParticipations:handler}}"></span> <span ng-switch-when="schedule" ng-bind="item.schedule | ticketPlanSchedle : item.isPeriod" title="{{item.schedule | ticketPlanSchedle : item.isPeriod}}"></span> <span ng-switch-when="user.name" ng-bind="item.user.name || item.user.nickname" title="{{item.user.name || item.user.nickname}}"></span> <span ng-switch-when="createdAt" ng-bind="item.createdAt | dateFilter_style1" title="{{item.createdAt | dateFilter_style1}}"></span> <span ng-switch-when="operations"><a ng-click="setEnabled(item, !item.enabled)" class="custom-link-color">{{!item.enabled?\'启用\':\'停用\'}}</a> <a ui-sref="tickets_new.plan_edit({ id:newTicketId, planuid: item.uid, clone: true})" style="margin-left:20px" class="custom-link-color">克隆</a> <a ng-if="!item.enabled" ng-click="deletePlan(item.uid)" class="custom-link-color" style="margin-left:20px">删除</a></span></td></tr></tbody><tbody ng-if="serverDataLoaded && tableParams.total()==0" class="no-data" ng-cloak><tr><td style="background-color:#fff" colspan="{{columns.length+(showCheckboxes?1:0)}}"><h5>暂无数据</h5></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div>');e.put("source/scripts/directives/table/ewei_engineers_table.html",'<div class="ewei-table" ng-class="{\'no-pager\': tableParams.total()==0}"><div style="padding:0 10px" class="data-area"><div ng-if="isLoad == false" style="text-align:center;margin:20px;font-size:20px">{{tableParamsTitle}}</div><table ng-table="tableParams" id="tableParams" ewei-table-auto-rows="setRows" has-group="$groups.length>1" group-info="$groups" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th class="column-checkbox" ng-if="showCheckboxes"><input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value=""></th><th bindonce ng-repeat="column in columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ewei-custom-column-width="column" column-type="\'engineer\'" custom-field-column-width-info="customFieldsLength" field-column-width-info="fieldsLength" ng-class="{\n                    \'sort-asc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'asc\'),\n                    \'sort-desc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="column.sortable&&sorting(column)"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="serverDataLoad && tableParams.total() == 0" class="no-data"><tr><td style="background-color:#fff" colspan="{{columns.length}}"><h5>暂时没有数据</h5></td></tr></tbody><tbody ng-if="tableParams.total() > 0" ng-repeat="group in $groups track by $index"><tr class="ng-table-group" ng-if="group.value!=null"><td colspan="{{columns.length+1}}"><a ng-click="group.$hideRows = !group.$hideRows"><span class="glyphicon" ng-class="{ \'glyphicon-chevron-right\': group.$hideRows, \'glyphicon-chevron-down\': !group.$hideRows }"></span> <strong ng-bind="group.value | nullStringFilter" title="{{group.value | nullStringFilter}}"></strong></a></td></tr><tr ng-hide="group.$hideRows" ng-repeat="item in group.data track by item.id"><td class="column-checkbox" ng-if="showCheckboxes"><input ng-if="item.canModify" type="checkbox" ng-model="checkboxes.items[item.id]"></td><td ng-repeat="column in columns track by $index" ng-if="column.visible" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="\'engineer\'" custom-field-column-width-info="customFieldsLength" field-column-width-info="fieldsLength"><span ng-switch-when="2" ng-switch="column.field"><span ng-switch-when="serviceCatalog.id"><service-catalog-name-show servicecatalogid="{{item.serviceCatalog.id}}" servicecatalogs="servicecatalogs"></service-catalog-name-show></span><span ng-switch-when="user.tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span ng-switch-when="user.name"><a class="c75 custom-main-font-color" ui-sref="system_setting.engineer_detail({id:item.id,uri:isStop})" ng-bind="item.user.name | nullStringFilter" title="{{item.user.name | nullStringFilter}}" ng-click="engineerDetailBuried()"></a></span> <span ng-switch-when="role.name" ng-bind="item.role.name | translate" title="{{item.role.name | translate}}"></span> <span ng-switch-when="serviceDesk.name" ng-bind="item.serviceDesk.name | translate" title="{{item.serviceDesk.name | translate}}"></span> <span ng-switch-when="defaultServiceDesk.name" ng-bind="item.defaultServiceDesk.name | translate" title="{{item.defaultServiceDesk.name | translate}}"></span> <span ng-switch-when="evaluate.score" ng-bind="item.evaluate.score | evaluateScoreFilter" title="{{item.evaluate.score | evaluateScoreFilter}}"></span> <span ng-switch-when="evaluate.solved" ng-bind="item.evaluate.solved | booleanFilter" title="{{item.evaluate.solved | booleanFilter}}"></span> <span ng-switch-when="user.status" ng-bind="item[column.field0][column.field1] | customerStatus" title="{{item[column.field0][column.field1] | customerStatus}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1] | nullStringFilter" title="{{item[column.field0][column.field1] | nullStringFilter}}"></span> <span ng-switch-when="ticketMetric.pausedAt" ng-bind="item.ticketMetric.pausedAt | dateFilter_style1" title="{{item.ticketMetric.pausedAt | dateFilter_style1}}"></span> <span ng-switch-when="ticketMetric.solvedAt" ng-bind=\'item.ticketMetric.solvedAt | dateFilter_style1:"solvedAt":item.status\'></span> <span ng-switch-when="ticketMetric.responseAt" ng-bind="item.ticketMetric.responseAt | dateFilter_style1" title="{{item.ticketMetric.responseAt | dateFilter_style1}}"></span> <span ng-switch-when="ticketMetric.responseMinutes" ng-bind=\'item.ticketMetric.responseMinutes | minute_format_filter:"responseMinutes":item.status\'></span> <span ng-switch-when="ticketMetric.solveMinutes" ng-bind=\'item.ticketMetric.solveMinutes | minute_format_filter:"solveMinutes":item.status\'></span></span> <span ng-switch-when="3" ng-switch="column.field"><span ng-switch-when="user.role.name" ng-bind="item.user.role.name | translate" title="{{item.user.role.name | translate}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span></span> <span ng-switch-default ng-switch="column.field"><span ng-switch-when="subject"><span><ewei-ticket-status-img ticketstatuscolors="ticketStatusColors" ticketid="{{item.id}}" status="item.status" format="short" deleted="item.deleted"></ewei-ticket-status-img></span><a class="c75" ui-sref="tickets_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> </span><span ng-switch-when="subscription"><i class="fa fa-star-o" style="position:relative;top:3px;font-size:1.3em;cursor:pointer" ng-class="{\'fa-star-o\':!item.isTarget,\'fa-star\':item.isTarget,\'color_yellow\':item.isTarget}" ng-click="star_target(item)"><ewei-start-show ticketsubscriptions="ticketsubscriptions" item="item"></ewei-start-show></i></span><span ng-switch-when="createdAt" ng-bind="item.createdAt | dateFilter_style1" title="{{item.createdAt | dateFilter_style1}}"></span> <span ng-switch-when="updatedAt" ng-bind="item.updatedAt  | dateFilter_human" title="{{item.updatedAt  | dateFilter_human}}"></span> <span ng-switch-when="deletedAt" ng-bind="item.deletedAt | dateFilter_style1" title="{{item.deletedAt | dateFilter_style1}}"></span> <span ng-switch-when="lastLoginAt" ng-bind="item.lastLoginAt | dateFilter_style1" title="{{item.lastLoginAt | dateFilter_style1}}"></span> <span ng-switch-when="shared" ng-bind="item.shared | booleanFilter" title="{{item.shared | booleanFilter}}"></span> <span ng-switch-when="status" ng-bind="item.status| ticketStatusFilter" title="{{item.status| ticketStatusFilter}}"></span> <span ng-switch-when="tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span ng-switch-when="deleteReason"><span ng-if="item.deleteType==\'merger\'" translate="MERGER_TICKET_TO"></span><span ng-bind="item.deleteReason | nullStringFilter" title="{{item.deleteReason | nullStringFilter}}"></span></span> <span ng-switch-when="name"><a class="c75" ng-click="customerDetailBuried()" ng-if="view.type==\'user\'" ui-sref="customers_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a><a class="c75" ng-if="view.type==\'userGroup\'" ng-click="userGroupsBuried()" ui-sref="user_groups_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a></span> <span ng-switch-when="recommendIndex"><span style="cursor:pointer" ng-hide="recommendIndexShow[item[\'id\']]" ng-click="showUpdate(item)" ng-bind="item[column.field]" title="{{item[column.field]}}"></span> <input ng-show="recommendIndexShow[item[\'id\']]" ng-blur="updateRecommendIndex(item)" ng-model="item[column.field]" ng-focus="recommendIndexShow[item[\'id\']]"> </span><a ng-switch-when="title" class="c75" target="_blank" ng-if="item.topic.type != \'questions\' && item.topic.type != \'deletes\'" ng-href="/article_{{item.id}}" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <a ng-switch-when="title" class="c75" target="_blank" ng-if="item.topic.type == \'questions\' || item.topic.type == \'deletes\'" ng-href="/question_{{item.id}}" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <span ng-switch-when="priority"><ticket-priority-show priority="{{item.priority}}"></ticket-priority-show></span><span ng-switch-when="engineerStatus"><engineer-status engineer="item.engineerStatus" chat-count="item.engineerStatus.countChat" chat-max="item.engineerStatus.concurrentChatNumber"></engineer-status></span><span ng-switch-when="customFields" ng-switch="column.field"><ewei-custom-fields-show customfields="customFieldList" ticketid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-show></span><span ng-switch-when="customFieldsUser" ng-switch="column.field"><ewei-custom-fields-user customfields="customFieldList" userid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-user></span><span ng-switch-when="customFieldsUserGroup" ng-switch="column.field"><ewei-custom-fields-user customfields="customFieldList" userid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-user></span><span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div>');e.put("source/scripts/directives/table/ewei_ticket_table.html",'<div class="ewei-table" ng-class="{\'no-pager\': tableParams.total()==0}"><div class="data-area" ewei-table-scroll-to-max-right><div ng-if="isLoad == false" style="text-align:center;margin:20px;font-size:20px">{{tableParamsTitle}}</div><table ng-table="tableParams" id="tableParams" ewei-table-auto-rows="setRows" has-group="view.groupBy && view.groupBy.length>0" group-info="$groups" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr class=""><th class="column-checkbox" ng-if="showCheckboxes"><input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value=""></th><th ng-repeat="column in columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ewei-custom-column-width="column" column-type="\'ticket\'" custom-field-column-width-info="customFieldsLength" field-column-width-info="fieldsLength" ng-class="{\n                    \'sort-asc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'asc\'),\n                    \'sort-desc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="column.sortable&&sorting(column)"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="tableParams.total()>0" ng-repeat="group in $groups track by $index"><tr class="ng-table-group" ng-if="group.value!=null" ewei-group-auto-width><td colspan="{{columns.length+(showCheckboxes?1:0)}}"><a ng-click="group.$hideRows = !group.$hideRows"><span class="glyphicon" ng-class="{ \'glyphicon-chevron-right\': group.$hideRows, \'glyphicon-chevron-down\': !group.$hideRows }"></span> <strong ng-bind="group.value | nullStringFilter"></strong></a></td></tr><tr ng-hide="group.$hideRows" ng-repeat="item in group.data track by $index" class=""><td ng-if="showCheckboxes" class="column-checkbox"><input type="checkbox" ng-if="item.user.status!=1&&item.user.status!=0" ng-model="checkboxes.items[item.id]"></td><td ng-repeat="column in columns track by $index" ng-if="column.visible" ng-switch="column.field" ewei-custom-column-width="column" column-type="\'ticket\'" custom-field-column-width-info="customFieldsLength" field-column-width-info="fieldsLength"><span ng-switch-when="subject"><a ticket-subject ng-click="ticketDetailBuried()" ui-sref="tickets_detail({id:item.id,viewId:view.id,page:tableParams.page()})" subject="item[column.field]" ticket-status-colors="ticketStatusColors" ticketid="{{item.id}}" sla-status="item.status" sla-format="short" deleted="item.deleted"></a> </span><span ng-switch-when="subscription"><i class="fa" style="position:relative;top:3px;font-size:1.3em;cursor:pointer" ng-class="{\'fa-star-o\':!item.isTarget,\'fa-star\':item.isTarget,\'color_yellow\':item.isTarget}" ng-click="setSubscription(item)"></i> </span><span ng-switch-default><ewei-ticket-field-show field="column.field" ticket="item"></ewei-ticket-field-show></span></td></tr></tbody><tbody ng-if="serverDataLoaded && !tableParams.isTicketLoading && tableParams.total()==0" class="no-data" ng-cloak><tr><td style="background-color:#fff" colspan="{{columns.length+(showCheckboxes?1:0)}}"><h5>暂时没有数据</h5></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div>');e.put("source/scripts/directives/table/pager.html",'<div ng-if="params.total() > 0" class="ng-cloak ng-table-pager clearfix" ng-if="params.data.length"><ul class="pagination ng-table-pagination"><li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"><a ng-switch-when="prev" ng-click="params.page(page.number)" href="" class="prev"><i class="iconfont">&#xe63a;</i></a> <a ng-switch-when="first" ng-click="params.page(page.number)" href="" class="first"><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" class="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href="" class="last"><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="" class="next"><i class="iconfont">&#xe63e;</i></a></li><li><span class="text">共计{{params.total()}}条</span></li></ul><div ng-if="params.settings().counts.length" class="ng-table-counts btn-group"><button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count() == count}" ng-click="params.count(count)" class="btn btn-default btn-sm"><span ng-bind="count"></span></button></div></div>');e.put("source/scripts/directives/table/pager_search.html","");e.put("source/scripts/directives/table/table.html",'<table ng-table="tableParams" class="table table-hover" template-pagination="ng-table/custom-pager.html"><thead><tr class="padding15px"><th class="w30 text-left" ng-if="showCheckboxes"><input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value=""></th><th bindonce ng-repeat="column in columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ng-class="{\n                    \'sort-asc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'asc\'),\n                    \'sort-desc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="column.sortable?tableParams.sorting(column.field==\'ticketSlas\'?\'updatedAt\':column.field, tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\') ? \'asc\' : \'desc\'):\'\'"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-repeat="group in $groups track by $index"><tr class="ng-table-group" ng-if="group.value!=null"><td colspan="{{columns.length+(showCheckboxes?1:0)}}"><a ng-click="group.$hideRows = !group.$hideRows"><span class="glyphicon" ng-class="{ \'glyphicon-chevron-right\': group.$hideRows, \'glyphicon-chevron-down\': !group.$hideRows }"></span> <strong ng-bind="group.value | nullStringFilter" title="{{group.value | nullStringFilter}}"></strong></a></td></tr><tr bindonce ng-hide="group.$hideRows" ng-repeat="item in group.data track by item.id" class="padding15px"><td ng-if="showCheckboxes"><input type="checkbox" ng-if="item.user.status!=1&&item.user.status!=0" ng-model="checkboxes.items[item.id]"></td><td bindonce ng-repeat="column in columns track by $index" ng-if="column.visible" bo-switch="column.fieldCount"><span bo-switch-when="2" bo-switch="column.field"><span bo-switch-when="serviceCatalog.name" service-catalog-show servicecatalog="item.serviceCatalog"></span> <span bo-switch-when="user.tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span bo-switch-when="user.name"><a class="c75 custom-main-font-color" ui-sref="system_setting.engineer_detail({id:item.id})" ng-bind="item.user.name | nullStringFilter" title="{{item.user.name | nullStringFilter}}"></a></span> <span bo-switch-when="role.name" ng-bind="item.role.name | translate" title="{{item.role.name | translate}}"></span> <span bo-switch-when="serviceDesk.name" ng-bind="item.serviceDesk.name | translate" title="{{item.serviceDesk.name | translate}}"></span> <span bo-switch-when="defaultServiceDesk.name" ng-bind="item.defaultServiceDesk.name | translate" title="{{item.defaultServiceDesk.name | translate}}"></span> <span bo-switch-when="evaluate.score">{{item.evaluate.score}}</span> <span bo-switch-when="evaluate.solved"><ticket-evaluate-solved-show value="{{item.evaluate.solved}}" solveds="evaluate.solveds"></ticket-evaluate-solved-show></span><span bo-switch-default ng-bind="item[column.field0][column.field1] | nullStringFilter" title="{{item[column.field0][column.field1] | nullStringFilter}}"></span></span> <span bo-switch-when="3" bo-switch="column.field"><span bo-switch-when="user.role.name" ng-bind="item.user.role.name | translate" title="{{item.user.role.name | translate}}"></span> <span bo-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span></span> <span bo-switch-default bo-switch="column.field"><span style="display:block;position:relative" bo-switch-when="subject"><span style="display:block;position:absolute"><ewei-ticket-status-img ticketstatuscolors="ticketStatusColors" ticketid="{{item.id}}" status="item.status" format="short" deleted="item.deleted"></ewei-ticket-status-img></span><span style="display:block;padding-right:1px;margin-left:24px;word-break:break-all"><a class="c75" ui-sref="tickets_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a></span> </span><span bo-switch-when="createdAt" ng-bind="item.createdAt | dateFilter_style1" title="{{item.createdAt | dateFilter_style1}}"></span> <span bo-switch-when="updatedAt" ng-bind="item.updatedAt  | dateFilter_human" title="{{item.updatedAt  | dateFilter_human}}"></span> <span bo-switch-when="deletedAt" ng-bind="item.deletedAt | dateFilter_style1" title="{{item.deletedAt | dateFilter_style1}}"></span> <span bo-switch-when="lastLoginAt" ng-bind="item.lastLoginAt | dateFilter_style1" title="{{item.lastLoginAt | dateFilter_style1}}"></span> <span bo-switch-when="shared" ng-bind="item.shared | booleanFilter" title="{{item.shared | booleanFilter}}"></span> <span bo-switch-when="status" ng-bind="item.deleted?\'deleted\':item.status | ticketStatusFilter" title="{{item.deleted?\'deleted\':item.status| ticketStatusFilter}}"></span> <span bo-switch-when="tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span bo-switch-when="deleteReason"><span bo-if="item.deleteType==\'merger\'" translate="MERGER_TICKET_TO"></span><span ng-bind="item.deleteReason | nullStringFilter" title="{{item.deleteReason | nullStringFilter}}"></span></span> <span bo-switch-when="name"><a class="c75 custom-main-font-color" bo-if="view.type==\'user\'" ui-sref="customers_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a><a class="c75 custom-main-font-color" bo-if="view.type==\'userGroup\'" ui-sref="user_groups_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a></span><span bo-switch-when="ticketMetric.pausedAt" ng-bind="item.ticketMetric.pausedAt | dateFilter_style1" title="{{item.ticketMetric.pausedAt | dateFilter_style1}}"></span> <span bo-switch-when="ticketMetric.solvedAt" ng-bind="item.ticketMetric.solvedAt | dateFilter_style1" title="{{item.ticketMetric.solvedAt | dateFilter_style1}}"></span> <span bo-switch-when="recommendIndex"><span style="cursor:pointer" ng-hide="recommendIndexShow[item[\'id\']]" ng-click="showUpdate(item)" ng-bind="item[column.field]" title="{{item[column.field]}}"></span><input ng-show="recommendIndexShow[item[\'id\']]" ng-blur="updateRecommendIndex(item)" ng-model="item[column.field]" ng-focus="recommendIndexShow[item[\'id\']]"></span><a bo-switch-when="title" class="c75 custom-main-font-color" target="_blank" ng-if="item.topic.type != \'questions\'" ng-href="/article_{{item.id}}" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <a bo-switch-when="title" class="c75 custom-main-font-color" target="_blank" ng-if="item.topic.type == \'questions\'" ng-href="/question_{{item.id}}" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <span bo-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td></tr></tbody></table>');e.put("source/scripts/directives/table/table11.html",'<table ng-table="tableParams" template-pagination="ng-table/custom-pager.html"><thead><tr><th></th></tr></thead></table>');e.put("source/scripts/directives/table/table2.html",'<div class="ewei-table" ng-class="{\'no-pager\': tableParams.total()==0}"><h4 ng-if="tableParams.total() == 0" style="margin:10px;padding-top:20px;text-align:center">没有相关数据</h4><div class="data-area" ng-hide="tableParams.total() == 0"><table ng-table="tableParams" id="tableParams" ewei-table-auto-rows="setRows" has-group="view.groupBy && view.groupBy.length>0" group-info="$groups" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th class="column-checkbox" ng-if="showCheckboxes"><input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value=""></th><th ng-repeat="column in columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ewei-custom-column-width="column" column-type="columnType" custom-field-column-width-info="customFieldsLength" field-column-width-info="fieldsLength" ng-class="{\n                    \'sort-asc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'asc\'),\n                    \'sort-desc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="sorting(column)"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-repeat="group in $groups track by $index" style="border-top:0"><tr class="ng-table-group" ng-if="group.value!=null"><td colspan="{{columns.length+1}}"><a ng-click="group.$hideRows = !group.$hideRows"><span class="glyphicon" ng-class="{ \'glyphicon-chevron-right\': group.$hideRows, \'glyphicon-chevron-down\': !group.$hideRows }"></span> <strong ng-bind="group.value | nullStringFilter" title="{{group.value | nullStringFilter}}"></strong></a></td></tr><tr ng-hide="group.$hideRows" ng-repeat="item in group.data track by item.id"><td class="column-checkbox" ng-if="showCheckboxes"><input ng-if="!item.isCreator" type="checkbox" ng-model="checkboxes.items[item.id]"></td><td ng-repeat="column in columns track by $index" ng-if="column.visible" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="columnType" custom-field-column-width-info="customFieldsLength" field-column-width-info="fieldsLength"><span ng-switch-when="2" ng-switch="column.field"><span ng-switch-when="serviceCatalog.id"><service-catalog-name-show servicecatalogid="{{item.serviceCatalog.id}}" servicecatalogs="servicecatalogs"></service-catalog-name-show></span><span ng-switch-when="user.tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span ng-switch-when="user.name"><a class="c75 custom-main-font-color" ui-sref="system_setting.engineer_detail({id:item.id,uri:isStop})" ng-bind="item.user.name | nullStringFilter" title="{{item.user.name | nullStringFilter}}" ng-click="engineerDetailBuried()"></a> </span><span ng-switch-when="role.name" ng-bind="item.role.name | translate" title="{{item.role.name | translate}}"></span> <span ng-switch-when="serviceDesk.name" ng-bind="item.serviceDesk.name | translate" title="{{item.serviceDesk.name | translate}}"></span> <span ng-switch-when="defaultServiceDesk.name" ng-bind="item.defaultServiceDesk.name | translate" title="{{item.defaultServiceDesk.name | translate}}"></span> <span ng-switch-when="evaluate.score">{{item.evaluate.score}}</span> <span ng-switch-when="evaluate.solved"><ticket-evaluate-solved-show value="{{item.evaluate.solved}}" solveds="evaluate.solveds"></ticket-evaluate-solved-show></span><span ng-switch-when="user.status" ng-bind="item[column.field0][column.field1] | customerStatus" title="{{item[column.field0][column.field1] | customerStatus}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1] | nullStringFilter" title="{{item[column.field0][column.field1] | nullStringFilter}}"></span> <span ng-switch-when="ticketMetric.pausedAt" ng-bind="item.ticketMetric.pausedAt | dateFilter_style1" title="{{item.ticketMetric.pausedAt | dateFilter_style1}}"></span> <span ng-switch-when="ticketMetric.solvedAt" ng-bind=\'item.ticketMetric.solvedAt | dateFilter_style1:"solvedAt":item.status\'></span> <span ng-switch-when="ticketMetric.responseAt" ng-bind="item.ticketMetric.responseAt | dateFilter_style1" title="{{item.ticketMetric.responseAt | dateFilter_style1}}"></span> <span ng-switch-when="ticketMetric.responseMinutes" ng-bind=\'item.ticketMetric.responseMinutes | minute_format_filter:"responseMinutes":item.status\'></span> <span ng-switch-when="ticketMetric.solveMinutes" ng-bind=\'item.ticketMetric.solveMinutes | minute_format_filter:"solveMinutes":item.status\'></span> </span><span ng-switch-when="3" ng-switch="column.field"><span ng-switch-when="user.role.name" ng-bind="item.user.role.name | translate" title="{{item.user.role.name | translate}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span> </span><span ng-switch-default ng-switch="column.field"><span ng-switch-when="subject"><a ticket-subject ng-click="ticketDetailBuried()" ui-sref="tickets_detail({id:item.id})" subject="item[column.field]" ticket-status-colors="ticketStatusColors" ticketid="{{item.id}}" sla-status="item.status" sla-format="short"></a> </span><span ng-switch-when="subscription"><i class="fa fa-star-o" style="position:relative;top:3px;font-size:1.3em;cursor:pointer" ng-class="{\'fa-star-o\':!item.isTarget,\'fa-star\':item.isTarget,\'color_yellow\':item.isTarget}" ng-click="star_target(item)"><ewei-start-show ticketsubscriptions="ticketsubscriptions" item="item"></ewei-start-show></i></span><span ng-switch-when="createdAt" ng-bind="item.createdAt | dateFilter_style1" title="{{item.createdAt | dateFilter_style1}}"></span> <span ng-switch-when="updatedAt" ng-bind="item.updatedAt  | dateFilter_human" title="{{item.updatedAt  | dateFilter_human}}"></span> <span ng-switch-when="deletedAt" ng-bind="item.deletedAt | dateFilter_style1" title="{{item.deletedAt | dateFilter_style1}}"></span> <span ng-switch-when="lastLoginAt" ng-bind="item.lastLoginAt | dateFilter_style1" title="{{item.lastLoginAt | dateFilter_style1}}"></span> <span ng-switch-when="shared" ng-bind="item.shared | booleanFilter" title="{{item.shared | booleanFilter}}"></span> <span ng-switch-when="status" ng-bind="item.status| ticketStatusFilter" title="{{item.status| ticketStatusFilter}}"></span> <span ng-switch-when="tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span ng-switch-when="deleteReason"><span ng-if="item.deleteType==\'merger\'" translate="MERGER_TICKET_TO"></span> <span ng-bind="item.deleteReason | nullStringFilter" title="{{item.deleteReason | nullStringFilter}}"></span> </span><span ng-switch-when="name"><a class="c75 custom-main-font-color" ng-click="customerDetailBuried()" ng-if="view.type==\'user\'" ui-sref="customers_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <a class="c75 custom-main-font-color" ng-if="view.type==\'userGroup\'" ng-click="userGroupsBuried()" ui-sref="user_groups_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}({{item.countUser}})"></a> <span class="c75 custom-main-font-color" ng-if="view.type==\'userGroup\'"><a style="color:#666">({{item.countUser}})</a></span> </span><span ng-switch-when="copyTo"><ewei-cc-show relatedcopytos="relatedCopyTos" relatedid="{{item.id}}"></ewei-cc-show></span><span ng-switch-when="recommendIndex"><span style="cursor:pointer" ng-hide="recommendIndexShow[item[\'id\']]" ng-click="showUpdate(item)" ng-bind="item[column.field]" title="{{item[column.field]}}"></span> <input ng-show="recommendIndexShow[item[\'id\']]" ng-blur="updateRecommendIndex(item)" ng-model="item[column.field]" ng-focus="recommendIndexShow[item[\'id\']]"> </span><a ng-switch-when="title" class="c75 custom-main-font-color" target="_blank" ng-if="item.topic.type != \'questions\' && item.topic.type != \'deletes\' && item.topic.type != \'default\'" ng-href="/#/article/detail/{{item.id}}" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <a ng-switch-when="title" class="c75 custom-main-font-color" target="_blank" ng-if="item.topic.type == \'questions\' || item.topic.type == \'deletes\' || item.topic.type == \'default\'" ng-href="/#/forum/detail/{{item.id}}" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <span ng-switch-when="priority"><ticket-priority-show priority="{{item.priority}}"></ticket-priority-show></span><span ng-switch-default><span ng-if="column.type === \'checkbox\'" ng-bind="item[column.field] | checkboxFilter" title="{{item[column.field] | checkboxFilter}}"></span> <span ng-if="column.type !== \'checkbox\'" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span> </span></span><span ng-switch-when="customFields" ng-switch="column.field"><ewei-custom-fields-show customfields="customFieldList" ticketid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-show></span><span ng-switch-when="customFieldsUser" ng-switch="column.field"><ewei-custom-fields-user customfields="customFieldList" userid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-user></span><span ng-switch-when="customFieldsUserGroup" ng-switch="column.field"><ewei-custom-fields-user customfields="customFieldList" userid="{{item.id}}" customfieldid="{{column.field}}"></ewei-custom-fields-user></span></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div>');e.put("source/scripts/directives/table/table3.html",'<div class="ewei-table" ng-class="{\'no-pager\': tableParams.total()==0}"><div class="title-box padding10px"><div class="search-box"><button type="button" class="btn btn-default" data-placement="bottom" data-animation="am-flip-x" style="background-color:#eee;height:34px"><span class="caret"></span></button><div class="input-group"><input type="text" class="form-control txt" placeholder="{{placeholder}}" ng-model="searchKey" ng-enter="search(searchKey)"> <span class="input-group-addon" style="cursor:pointer" ng-click="search(searchKey)" ng-style="(searchKey!=null&&searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span></div><input type="button" value="清除搜索条件" ng-show="searchKey!=null&&searchKey!=\'\'" ng-click="clearSearch();" class="tip"></div></div><h4 ng-if="tableParams.total()==0" style="margin:10px;padding-top:20px;text-align:center" ng-bind="noDataTip" title="{{noDataTip}}"></h4><div class="data-area" style="padding:0 10px;top:54px" ng-hide="tableParams.total()==0"><table ng-table="tableParams" class="table table-hover table-striped margin10px" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr class="padding15px"><th class="w30 text-left" ng-if="showCheckboxes"><input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value=""></th><th bindonce ng-repeat="column in columns track by $index" ng-if="column.visible" class="text-left {{column.widthClass}}" ng-class="{\n                    \'sort-asc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'asc\'),\n                    \'sort-desc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="column.sortable?tableParams.sorting(column.field==\'ticketSlas\'?\'updatedAt\':column.field, tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\') ? \'asc\' : \'desc\'):\'\'"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-repeat="group in $groups track by $index"><tr class="ng-table-group" ng-if="group.value!=null"><td colspan="{{columns.length+(showCheckboxes?1:0)}}"><a ng-click="group.$hideRows = !group.$hideRows"><span class="glyphicon" ng-class="{ \'glyphicon-chevron-right\': group.$hideRows, \'glyphicon-chevron-down\': !group.$hideRows }"></span> <strong ng-bind="group.value | nullStringFilter" title="{{group.value | nullStringFilter}}"></strong></a></td></tr><tr bindonce ng-hide="group.$hideRows" ng-repeat="item in group.data track by item.id" class="padding15px"><td ng-if="showCheckboxes"><input type="checkbox" ng-if="item.user.status!=1&&item.user.status!=0" ng-model="checkboxes.items[item.id]"></td><td bindonce ng-repeat="column in columns track by $index" ng-if="column.visible" bo-switch="column.fieldCount"><span bo-switch-when="2" bo-switch="column.field"><span bo-switch-when="serviceCatalog.name" service-catalog-show servicecatalog="item.serviceCatalog"></span> <span bo-switch-when="user.tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span bo-switch-when="user.name"><a class="c75 custom-main-font-color" ui-sref="customers_detail({id:item.user.id})" ng-bind="item.user.name | nullStringFilter" title="{{item.user.name | nullStringFilter}}"></a></span> <span bo-switch-when="role.name" ng-bind="item.role.name | translate" title="{{item.role.name | translate}}"></span> <span bo-switch-when="serviceDesk.name" ng-bind="item.serviceDesk.name | translate" title="{{item.serviceDesk.name | translate}}"></span> <span bo-switch-when="defaultServiceDesk.name" ng-bind="item.defaultServiceDesk.name | translate" title="{{item.defaultServiceDesk.name | translate}}"></span><span bo-switch-when="evaluate.score">{{item.evaluate.score}}</span> <span bo-switch-when="evaluate.solved" ng-bind="item.evaluate.solved | booleanFilter" title="{{item.evaluate.solved | booleanFilter}}"></span> <span bo-switch-default ng-bind="item[column.field0][column.field1] | nullStringFilter" title="{{item[column.field0][column.field1] | nullStringFilter}}"></span></span> <span bo-switch-when="3" bo-switch="column.field"><span bo-switch-when="user.role.name" ng-bind="item.user.role.name | translate" title="{{item.user.role.name | translate}}"></span> <span bo-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span></span> <span bo-switch-default bo-switch="column.field"><span style="display:block;position:relative;overflow:hidden" bo-switch-when="subject"><span style="display:block;position:absolute" ng-bind-html="item.status | ticketStatusToImgFilter | trusted"></span> <span style="display:block;padding-right:1px;margin-left:24px;word-break:break-all"><a class="c75" ui-sref="tickets_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a></span> </span><span bo-switch-when="createdAt" ng-bind="item.createdAt | dateFilter" title="{{item.createdAt | dateFilter}}"></span> <span bo-switch-when="responseAt" ng-bind="item.responseAt | dateFilter" title="{{item.responseAt | dateFilter}}"></span> <span bo-switch-when="updatedAt" ng-bind="item.updatedAt  | dateFilter_human" title="{{item.updatedAt  | dateFilter_human}}"></span> <span bo-switch-when="deletedAt" ng-bind="item.deletedAt | dateFilter_style1" title="{{item.deletedAt | dateFilter_style1}}"></span> <span bo-switch-when="lastLoginAt" ng-bind="item.lastLoginAt | dateFilter_style1" title="{{item.lastLoginAt | dateFilter_style1}}"></span> <span bo-switch-when="shared" ng-bind="item.shared | booleanFilter" title="{{item.shared | booleanFilter}}"></span> <span bo-switch-when="status" ng-bind="item.status| ticketStatusFilter" title="{{item.status| ticketStatusFilter}}"></span> <span bo-switch-when="tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span ng-if="item.isMyselfHandle && item.isMyselfHandle==\'false\'" bo-switch-when="w_firstMessage" class="btn-group dropup" uib-dropdown><a class="c75 custom-main-font-color dropdown-toggle" uib-dropdown-toggle ng-bind="item.w_firstMessage | nullStringFilter" title="{{item.w_firstMessage | nullStringFilter}}"></a><ul class="dropdown-menu dropdown-menu-left" role="menu" uib-dropdown-menu><li><a ng-click="myselfHandleWaitingSession(item.id)">自己处理</a></li><li><a ng-click="selectEngineerHandleWaitingSession(item.id)">分派给其他客服</a></li></ul></span><span ng-if="item.isMyselfHandle && item.isMyselfHandle==\'true\'" bo-switch-when="w_firstMessage"><a class="c75 custom-main-font-color" ng-click="myselfHandleWaitingSession(item.id)" ng-bind="item.w_firstMessage | nullStringFilter" title="{{item.w_firstMessage | nullStringFilter}}"></a></span> <span bo-switch-when="c_firstMessage"><a class="c75 custom-main-font-color" ng-click="_gotoChatCenter(item.id,item.engineer,item)" ng-bind="item.c_firstMessage | nullStringFilter" title="{{item.c_firstMessage | nullStringFilter}}"></a></span> <span bo-switch-when="deleteReason"><span bo-if="item.deleteType==\'merger\'" translate="MERGER_TICKET_TO"></span><span ng-bind="item.deleteReason | nullStringFilter" title="{{item.deleteReason | nullStringFilter}}"></span></span> <span bo-switch-when="name"><a class="c75 custom-main-font-color" bo-if="view.type==\'user\'" ui-sref="customers_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a><a class="c75 custom-main-font-color" bo-if="view.type==\'userGroup\'" ui-sref="user_groups_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a></span> <span bo-switch-when="ticketMetric.pausedAt" ng-bind="item.ticketMetric.pausedAt | dateFilter_style1" title="{{item.ticketMetric.pausedAt | dateFilter_style1}}"></span> <span bo-switch-when="ticketMetric.solvedAt" ng-bind="item.ticketMetric.solvedAt | dateFilter_style1" title="{{item.ticketMetric.solvedAt | dateFilter_style1}}"></span> <span bo-switch-when="recommendIndex"><span style="cursor:pointer" ng-hide="recommendIndexShow[item[\'id\']]" ng-click="showUpdate(item)" ng-bind="item[column.field]" title="{{item[column.field]}}"></span> <input ng-show="recommendIndexShow[item[\'id\']]" ng-blur="updateRecommendIndex(item)" ng-model="item[column.field]" ng-focus="recommendIndexShow[item[\'id\']]"> </span><a bo-switch-when="title" class="c75 custom-main-font-color" target="_blank" ng-if="item.topic.type != \'questions\' && item.topic.type != \'deletes\'" ng-href="/article_{{item.id}}" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <a bo-switch-when="title" class="c75 custom-main-font-color" target="_blank" ng-if="item.topic.type == \'questions\' || item.topic.type == \'deletes\'" ng-href="/question_{{item.id}}" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <span bo-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div>');e.put("source/scripts/directives/tabs/tab.html",'<div class="tab web" ng-class="{active: active,\'shake-static\':shake}"><div class="tab_text" ng-click="selectTab(id)" tabheadingtransclude><i class="iconfont tab-icon">{{ico}}</i>{{heading}}</div><div class="close" ng-click="removeTab(id,active,$event)"><i class="iconfont"></i></div></div>');e.put("source/scripts/directives/tabs/tabset.html",'<div id="tabs" ng-transclude></div>');e.put("source/scripts/directives/ticket-advanced-query/ticket-advanced-query.html",'<div class="modal fade" id="queryModal" role="dialog" aria-labelledby="queryModalLabel" aria-hidden="true"><div class="query-content" ng-if="templateState"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="queryModalLabel">高级查询</h4></div><div class="media-body advanced-query-box"><form name="query" method="post"><table class="queryTable"><tr class="lineHeight"><td class="firstCell">创建于</td><td><div class="input-group input-size-middle date-input"><input type="text" name="startFrom" class="form-control" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" ng-model="advancedQueryCondition.createdAtFrom" is-open="datepickers.startFrom" max-date="advancedQueryCondition.createdAtTo" ng-click="open($event,\'startFrom\')"> <span class="input-group-btn"><button type="button" class="btn btn-default dateBtn" ng-click="open($event,\'startFrom\')"><i class="glyphicon glyphicon-calendar"></i></button></span></div></td><td class="thirdCell">至</td><td><div class="input-group input-size-middle date-input"><input type="text" name="startTo" class="form-control" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" ng-model="advancedQueryCondition.createdAtTo" is-open="datepickers.startTo" min-date="advancedQueryCondition.createdAtFrom" ng-click="open($event,\'startTo\')"> <span class="input-group-btn"><button type="button" class="btn btn-default dateBtn" ng-click="open($event,\'startTo\')"><i class="glyphicon glyphicon-calendar"></i></button></span></div></td></tr><tr class="lineHeight"><td class="firstCell">更新于</td><td><div class="input-group input-size-middle date-input"><input type="text" name="updateFrom" class="form-control" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" ng-model="advancedQueryCondition.updatedAtFrom" is-open="datepickers.updateFrom" max-date="advancedQueryCondition.updatedAtTo" ng-click="open($event,\'updateFrom\')"> <span class="input-group-btn"><button type="button" class="btn btn-default dateBtn" ng-click="open($event,\'updateFrom\')"><i class="glyphicon glyphicon-calendar"></i></button></span></div></td><td class="thirdCell">至</td><td><div class="input-group input-size-middle date-input"><input type="text" name="updateTo" class="form-control" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" ng-model="advancedQueryCondition.updatedAtTo" is-open="datepickers.updateTo" min-date="advancedQueryCondition.updatedAtFrom" ng-click="open($event,\'updateTo\')"> <span class="input-group-btn"><button type="button" class="btn btn-default dateBtn" ng-click="open($event,\'updateTo\')"><i class="glyphicon glyphicon-calendar"></i></button></span></div></td></tr><tr class="lineHeight"><td class="firstCell">状态</td><td colspan="3"><select ng-model="advancedQueryCondition.status" class="form-control input-size-long"><option value="" ng-selected="advancedQueryCondition.status==null||advancedQueryCondition.status==\'\'">-</option><option value="new">未分派</option><option value="assigned">已分派</option><option value="open">处理中</option><option value="solved">处理完毕</option><option value="pending">暂停</option><option value="closed">关闭</option><option value="suspended">隔离</option></select></td></tr><tr class="lineHeight"><td class="firstCell">创建人</td><td colspan="3"><user-select user-placeholder="\'输入关键字搜索客户/客服\'" unable-add-user="true" selecteduser="advancedQueryCondition.user" can-clear="true" usertype="\'all\'"></user-select></td></tr><tr class="lineHeight"><td class="firstCell">客户</td><td colspan="3" style="max-width:300px"><user-select user-placeholder="\'输入关键字搜索客户/客服\'" unable-add-user="true" selecteduser="advancedQueryCondition.requester" can-clear="true"></user-select></td></tr><tr class="lineHeight"><td class="firstCell">客户组</td><td colspan="3" style="max-width:300px"><user-group-select unable-add-usergroup="true" without-access-scope="true" selectedusergroup="advancedQueryCondition.userGroup" can-clear="true" useredit="false"></user-group-select></td></tr><tr class="lineHeight"><td class="firstCell">处理人</td><td colspan="3" style="max-width:300px"><engineer-select selectedservicedesk="advancedQueryCondition.serviceDesk" selectedengineer="advancedQueryCondition.engineer" selectableservicedesk="true" class="input-size-long select-box"></engineer-select></td></tr><tr class="lineHeight" ng-if="advancedQueryCondition.engineer!=null||advancedQueryCondition.serviceDesk!=null"><td class="firstCell"></td><td colspan="3"><input type="checkbox" id="findToHistory" ng-model="advancedQueryCondition.historyEngineer">&nbsp;历史处理人</td></tr><tr class="lineHeight"><td class="firstCell">抄送给</td><td colspan="3"><ticket-cc-input class="copy-to" ccs="advancedQueryCondition.ccs" width="w300" excludeusergroup="true" who="ticket" assignable="true" hidetomy="true"></ticket-cc-input></td></tr><tr class="lineHeight"><td class="firstCell">{{systemFieldServiceCatalog.title}}</td><td colspan="3"><service-catalog-select selectedservicecatalog="advancedQueryCondition.serviceCatalog" class="input-size-long select-box"></service-catalog-select></td></tr><tr class="lineHeight"><td class="firstCell">渠道</td><td colspan="3"><via-select selectedtype="advancedQueryCondition.viaType" selectedvia="advancedQueryCondition.via" selectedchannel="" class="input-size-long select-box"></via-select></td></tr><tr class="lineHeight"><td class="firstCell">标签</td><td colspan="3"><div style="width:300px"><ewei-tags-input not-allow-add="true" edit-able="true" tags="advancedQueryCondition.tags" who="ticket" notes="输入关键字搜索标签" hide-help="true"></ewei-tags-input></div></td></tr><tr class="lineHeight"><td class="firstCell">{{systemFieldTicketType.title}}</td><td><ticket-type-select selectedtickettype="advancedQueryCondition.ticketType" class="form-control input-size-middle"></ticket-type-select></td><td class="thirdCell">{{systemFieldPriority.title}}</td><td><ticket-priority-select selectedpriority="advancedQueryCondition.priority" class="form-control input-size-middle"></ticket-priority-select></td></tr><tr class="lineHeight" ng-show="advancedQueryCondition.status==\'closed\'"><td class="firstCell">解决</td><td><select ng-model="advancedQueryCondition.solved" class="form-control input-size-middle"><option value="">-</option><option value="true">{{evaluate.solveds[0].name}}</option><option value="false">{{evaluate.solveds[1].name}}</option></select></td><td class="thirdCell">满意度</td><td><select ng-model="advancedQueryCondition.score" ng-options="item.value as item.name for item in evaluate.scores" class="form-control input-size-middle"><option value="" selected="selected">-</option></select></td></tr><tr class="lineHeight" ng-show="advancedQueryCondition.status==\'deleted\'"><td class="firstCell">删除理由</td><td colspan="3"><select ng-model="advancedQueryCondition.deleteReason" class="form-control input-size-long"><option value="" selected="selected">-</option><option value="无效信息">无效信息</option><option value="重复信息">重复信息</option><option value="恶意骚扰">恶意骚扰</option><option value="合并工单">合并工单</option><option value="其他">其他</option></select></td></tr></table><div class="modal-footer"><button type="button" class="btn btn-confirm" ng-click="advancedQuery();"><span>更新</span></button> <span class="wroMsg">{{advancedQueryError}}</span></div></form></div></div></div>');e.put("source/scripts/directives/ticket-attachments/ticket-attachments.html",'<style type="text/css">.ticket-attachments{color:#999}.ticket-attachments ul{padding:40px 30px}.ticket-attachments li{list-style:none;float:left;width:300px;height:100px;background:#fff;border-radius:5px;margin:10px;padding:5px}.ticket-attachments img{float:left;width:40px!important;height:40px!important;margin-right:10px}.ticket-attachments .title-box{float:left;width:220px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ticket-attachments .title-box h3{margin:0;font-weight:400;font-size:14px;color:#333;margin-bottom:8px}.ticket-attachments .tool-box{padding:10px}.ticket-attachments .tool-button{float:right}.ticket-attachments .tool-button a{margin-right:10px}.ticket-attachments .title-attachment:hover{cursor:pointer}.download-frame{width:1px;height:1px;position:fixed;left:-9999px}</style><div class="ticket-attachments" ticket-attachments-image><ul class="clearfix"><div style="text-align:center;color:#9ea7b7" ng-if="!vm.ticketAttachments.length">没有附件</div><li ng-repeat="item in vm.ticketAttachments"><div style="padding:10px;border-bottom:1px solid #F2F2F2" class="clearfix"><image-file-type ng-if="!item.isShowImg" file="{{item}}"></image-file-type><img index="{{item.id}}" class="title-attachment" ng-if="item.isShowImg" ng-src="/ewei_attachment?contentUrl={{item.contentUrl}}"><div class="title-box"><h3><span index="{{item.id}}" class="title-attachment">{{item.fileName}}</span></h3><p>{{item.userName}} 上传于 {{item.createdAt}}</p></div></div><p class="tool-box clearfix"><span>{{item.size | fileSize}}</span> <span class="tool-button" style=""><a class="custom-main-font-color" ng-href="{{item.url}}" ng-click="download($event, item.url)">下载</a> <a class="custom-main-font-color" ng-click="deleteAttachment($event,item)" href="javascript:">删除</a></span></p></li></ul><iframe class="download-frame" frameborder="0"></iframe></div>');e.put("source/scripts/directives/ticket-cc-input/ticket-cc-input.html",'<a class="custom-link-color pull-right" ng-if="assignable==\'true\'&&(hidetomy==null||!hidetomy)" ng-click="ccMe(isContainMe)"><span ng-show="!isContainMe">抄送给我</span><span ng-show="isContainMe">移除我</span></a><tags-input ng-disabled="assignable!==\'true\'" ng-class="{\'w300\':width == \'w300\',\'w230\':width == \'w230\',\'height34\':isHidden}" ng-focus="focus()" ng-blur="blur()" ng-keyup="keyup()" text="inputText" ng-class="" ng-model="ccs" display-property="name" on-tag-adding="validateTag($tag);" on-tag-added="tagAdded($tag)" on-tag-removed="tagRemoved($tag)" replace-spaces-with-dashes="false" min-length="1" max-length="128" max-tags="20" placeholder="输入Email或名字" key-property="id" id="tagsInput"><auto-complete source="loadUsers($query)" min-length="1" debounce-delay="300" ng-focus="focus()"></auto-complete><div class="dropdown" ng-show="dropdown.isShowDropdown"><ul class="list-group dropdown-menu padding0 of_y1" style="display:block;max-height:300px;width:100%"><li class="list-group-item" ng-show="dropdown.isShowBack"><button class="btn btn-default btn-xs" ng-click="changeCurrentDropdown(\'back\')"><span class="glyphicon glyphicon-chevron-left"></span> 返回</button></li><li class="list-group-item" ng-show="dropdown.type == \'foreign\'"><input type="text" class="form-control foreign-input" id="tagsInput2" placeholder="输入外援的邮箱" ng-keyup="inputForeign()" ng-model="dropdown.foreignEmail"> <input type="button" class="btn btn-default foreign-btn custom-main-bgcolor" value="确定" ng-click="addForeign()"></li><li class="list-group-item cursorhand" ng-show="dropdown.type != \'foreign\' && (item.show || dropdown.currentDropdown != 1)" ng-repeat="item in dropdownList track by $index" ng-click="selectItem(item,$event)"><span class="persons" ng-show="dropdown.isShowGroupIcon"></span> <span ng-if="dropdown.type != \'engineer\' || dropdown.currentDropdown != 3 || item.type === \'serviceDesk\'"><span ng-bind="item.name? item.name : item.nickname | translate"></span> <span ng-show="item.email">(<span ng-bind="item.email"></span>) </span></span><span ng-if="dropdown.type == \'engineer\' && dropdown.currentDropdown == 3 && item.type !== \'serviceDesk\'"><span ng-bind="item.user.nickname? item.user.nickname : item.user.name"></span> <span ng-show="item.user.email">(<span ng-bind="item.user.email"></span>) </span></span><span ng-show="dropdown.isShowNextIcon" class="pull-right glyphicon glyphicon-chevron-right ng-scope"></span></li></ul></div></tags-input>');e.put("source/scripts/directives/ticket-comment-detail/ticket-comment-detail.html",'<span class="text" ng-class="{\'not-public\':!vm.ticketComment.open,\'not-engineer\':vm.ticketUser.type!==\'engineer\',\'single\':(vm.ticketComment.attachments.length===1&&!vm.ticketComment.content)||vm.ticketComment.questionId || vm.ticketComment.type==5}"><p ng-if="!vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7" ng-bind-html="::vm.ticketComment.content|linkSetMark|wechatEmoji|sanitize|trusted"></p><div ng-if="vm.ticketComment.richTextContent.richText" set-iframe-content="{{vm.ticketComment.richTextContent.richText}}"><iframe style="display:none;min-width:772px" ng-src="source/views/help_center/ui_setting_html/empty.frame.html"></iframe></div><div ng-if="::vm.ticketComment.questionId"><span attachment-detail-item question-id="{{vm.ticketComment.questionId}}"></span></div><div ng-if="vm.ticketComment.type!=5 && vm.ticketComment.type!=7 && vm.ticketComment.type!=8" ng-repeat="attachment in ::vm.ticketComment.attachments | orderBy:\'+id\'" keep-scroll ng-class="{\'chat-media-item\':vm.ticketComment.attachments.length>1||vm.new_ticket_content}"><span attachment-detail-item attachment="attachment" attachmentid="{{attachment.id}}" send-status="{{vm.ticketComment.sendStatus}}"></span></div><div ng-if="vm.ticketComment.type==5" ng-repeat="attachment in ::vm.ticketComment.attachments | orderBy:\'-id\'" keep-scroll><div attachment-detail-item attachment="attachment" attachmentid="{{attachment.id}}" maptype="{{vm.ticketComment.type}}" mapcontent="{{vm.new_ticket_content}}"></div></div><div ng-if="vm.ticketComment.type==8"><a ng-click="vm.openAsset(vm.ticketComment.extra.url)" class="log-asset-card"><div class="title"><i class="iconfont asset-icon">&#xe67e;</i>{{vm.ticketComment.extra.title}}</div><div class="sub-title">{{vm.ticketComment.extra.subTitle}}</div></a></div><div class="res-link" ng-if="vm.ticketComment.type==7" keep-scroll><div style="min-width:300px" class="clearfix"><p ng-if="vm.ticketComment.linkTitle" class="link-title">{{vm.ticketComment.linkTitle}}</p><img alt="" class="link-image pull-left" src="/source/images/reslink.png"><div class="link-content pull-left" style=""><span>{{vm.ticketComment.linkAddress}}</span> <a ng-href="{{vm.ticketComment.linkAddress}}" target="_blank" class="open-text">在新页面打开 <i class="iconfont" style="font-size:13px">&#xe727;</i></a></div></div></div><img ng-if="vm.ticketComment.isSolution" style="position:absolute;right:-1px;top:0;width:35px;height:35px" src="source/images/solution-edge.png"> </span><span class="open-toggle" ng-if="vm.ticketUser.type === \'engineer\'&&vm.ticketComment.id" ng-click="vm.toggleTicketLogOpen(vm.ticketComment)" title="{{vm.ticketComment.open?\'改为私密回复\':\'改为公开回复\'}}" style="vertical-align:baseline"><i class="iconfont" style="font-size:14px" ng-if="vm.ticketComment.open">&#xe6da;</i> <i class="iconfont" style="font-size:14px" ng-if="!vm.ticketComment.open">&#xe6d9;</i> </span><span has-module="super_board" class="open-toggle" ng-if="vm.ticketComment.id" title="添加到收藏夹" style="vertical-align:baseline" add-to-favorite="vm.ticketComment"><i class="iconfont" style="font-size:21px">&#xe6d5;</i> </span><span ng-if="vm.ticketComment.sendStatus==\'send\'" style="margin-left:10px"><img src="source/images/help_center/new/sending.gif"> </span><span ng-if="vm.ticketComment.sendStatus==\'error\'" ng-click="vm.reSendTicket(vm.ticketComment)" ng-mouseover="vm.ticketComment.showSend=true;" ng-mouseout="vm.ticketComment.showSend=false;" style="color:#e82020;margin-left:10px;cursor:pointer"><i class="icon iconfont">&#xe63b;</i> <span ng-if="vm.ticketComment.sendStatus==\'error\' && vm.ticketComment.showSend" style="color:gray;z-index:55">点击重新发送 </span></span>');e.put("source/scripts/directives/ticket-comment-select/ticket-comment-select.html",'<div class="form-group" style="padding:5px 0;width:496px"><div class="row"><div class="col-sm-6"><select class="form-control" ng-change="logs(ticketcomment)" ng-model="ticketcomment.open" ng-options="openOption.value as openOption.option for openOption in openOptions"></select></div><div class="col-sm-6"><select class="form-control" ng-change="logs(ticketcomment)" ng-model="ticketcomment.type" ng-options="commentType.type as commentType.option for commentType in commentTypes"></select></div></div><div class="row" style="margin-top:15px"><div class="col-sm-6"><no-group-engineer-select-search selectedsearch="ticketcomment.engineer"></no-group-engineer-select-search></div></div><div class="row"><div class="col-sm-12" style="margin-top:15px"><textarea class="form-control" ng-change="logs(ticketcomment)" ng-if="ticketcomment.type==\'text\'" ng-model="ticketcomment.value" class="size13 form-control" style="height:120px;resize:none" maxlength="10000" placeholder="回复文本内容"></textarea><input class="form-control" ng-if="ticketcomment.type==\'article\'" ng-model="ticketcomment.value" class="size13 form-control" placeholder="回复知识库"></div></div></div>');e.put("source/scripts/directives/ticket-countdown/ticket-countdown.html",'<div class="ticket-countdown"><span ng-class="slaColor" ng-if="currentTimeLeft!=0 && ticket.status != \'closed\' && ticket.status !=\'solved\' && ticket.status != \'pending\'"><i class="fa fa-clock-o"></i> {{currentTimeLeft >= 0?\'剩余\':\'超时\'}} <span ng-bind-html="currentTimeLeft | ticketCountdown | trusted"></span> </span><span ng-if="(ticket.status == \'closed\' || ticket.status ==\'solved\') && responseTime && solveTime">响应时长 <span ng-class="responseColor" ng-bind-html="responseTime | ticketCountdown | trusted"></span> &nbsp;&nbsp; 处理时长 <span ng-class="solveColor" ng-bind-html="solveTime | ticketCountdown | trusted"></span> </span><span ng-if="ticket.status == \'pending\' && ticket.ticketMetric.planSolvedAt" class="text-muted"><i class="fa fa-clock-o"></i> 工单被暂停，剩余时间待定 </span><span class="sla-standard" ng-if="hasSla && slaInfo"><span class="title">SLA指标</span> <span class="value">响应耗时：{{slaInfo.planResponseMinutes | slatime}} ，处理耗时：{{slaInfo.planSolvedMinutes | slatime}}</span></span></div>');e.put("source/scripts/directives/ticket-custom-field/ticket-custom-field.html",'<fieldset ng-repeat="ticketCustomField in ticket.ticketCustomFields track by $index" ng-disabled="!ticketCustomField.customField.sysCustomForm && (ticket.status == \'solved\' || ticket.status==\'closed\') && ticketCustomField.value" ng-if="ticketCustomField.customField.sysCustomForm || (!ticketCustomField.customField.sysCustomForm && (ticket.status == \'solved\' || ticket.status==\'closed\') && ticketCustomField.value) && !isInCustomForm(ticketCustomField)" class="form-group"><label ng-if="ticketCustomField.customField.type!=\'checkbox\'">{{ticketCustomField.customField.title}} <span class="required" ng-if="ticketCustomField.customField.required">*</span> <span ng-if="ticketCustomField.customField.type!=\'checkbox\' &&ticketCustomField.customField.type!=\'text\'&&ticketCustomField.customField.type!=\'textarea\' &&userCustomField.customField.type!=\'decimal\' && userCustomField.customField.type !=\'url\' && userCustomField.customField.type !=\'ip\' && ticketCustomField.customField.type !=\'mobile_phone\' && ticketCustomField.customField.type !=\'phone\' && ticketCustomField.customField.type !=\'currency\' && ticketCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{ticketCustomField.customField.notes}})</span></label><div class="form-group" ng-if="ticketCustomField.customField.type==\'text\' || ticketCustomField.customField.type==\'mobile_phone\' || ticketCustomField.customField.type==\'phone\' || ticketCustomField.customField.type==\'currency\'"><div ng-class="{\'input-group\': ticketCustomField.valueUrl}"><input type="text" ng-model="ticketCustomField.value" class="form-control" maxlength="255" ng-disabled="ticketCustomField.customField.edit_able==0" placeholder="{{ticketCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"> <a ng-if="ticketCustomField.valueUrl" ng-href="{{(ticketCustomField.valueUrl||\'\')+(ticketCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1"><span class="btn btn-default" style="padding:6px;height:32px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:18px;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="ticketCustomField.customField.type==\'textarea\'"><textarea type="textarea" class="form-control" rows="4" ng-model="ticketCustomField.value" maxlength="1000" ng-disabled="ticketCustomField.customField.edit_able==0" textarea-auto-height="140" style="overflow:hidden" placeholder="{{ticketCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"></textarea></div><div class="form-group" ng-if="ticketCustomField.customField.type==\'email\'"><div ng-class="{\'input-group\': ticketCustomField.valueUrl}"><input type="text" ng-model="ticketCustomField.value" class="form-control" ng-disabled="ticketCustomField.customField.edit_able==0" placeholder="{{ticketCustomField.customField.notes}}" maxlength="255" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"> <a ng-if="ticketCustomField.valueUrl" ng-href="{{(ticketCustomField.valueUrl||\'\')+(ticketCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1"><span class="btn btn-default" style="padding:6px;height:32px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:18px;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="ticketCustomField.customField.type==\'regexp\'"><input ng-model="ticketCustomField.value" class="form-control" placeholder="{{ticketCustomField.customField.notes}}" ng-disabled="ticketCustomField.customField.edit_able==0" maxlength="255" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"></div><div class="input-group" ng-if="ticketCustomField.customField.type==\'date_time\'"><input type="text" readonly="readonly" datetime-picker="yyyy/MM/dd HH:mm:ss" button-bar="datetimepickerConfig.buttonBar" datepicker-options="datetimepickerConfig.datepickerOptions" timepicker-options="datetimepickerConfig.timepickerOptions" is-open="ticketCustomField.customField.startForm" ng-model="ticketCustomField.value" ng-click="open($event,ticketCustomField.customField)" ng-change="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value.toString(\'yyyy/MM/dd HH:mm:ss\'));" class="form-control" ng-disabled="ticketCustomField.customField.edit_able==0" when-closed="updateValue($index);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,ticketCustomField.customField)" type="button" ng-disabled="ticketCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="form-group" ng-if="ticketCustomField.customField.type==\'number\'"><div ng-class="{\'input-group\': ticketCustomField.valueUrl}"><input type="text" ng-model="ticketCustomField.value" class="form-control" maxlength="255" ng-disabled="ticketCustomField.customField.edit_able==0" placeholder="{{ticketCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"> <a ng-if="ticketCustomField.valueUrl" ng-href="{{(ticketCustomField.valueUrl||\'\')+(ticketCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1"><span class="btn btn-default" style="padding:6px;height:32px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:18px;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="ticketCustomField.customField.type==\'decimal\' || ticketCustomField.customField.type==\'ip\' || ticketCustomField.customField.type==\'url\'"><input type="text" ng-model="ticketCustomField.value" class="form-control" maxlength="255" ng-disabled="ticketCustomField.customField.edit_able==0" placeholder="{{ticketCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"></div><div class="input-group input-size-middle date-input" ng-if="ticketCustomField.customField.type==\'date\'"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" readonly="readonly" ng-disabled="ticketCustomField.customField.edit_able==0" ng-click="open($event,ticketCustomField.customField)" ng-change="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ticketCustomField.customField.startForm" ng-model="ticketCustomField.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" datepicker-options="datetimepickerConfig.datepickerOptions" ng-blur="updateValue($index)"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,ticketCustomField.customField)" type="button" ng-disabled="ticketCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="form-group clearfix" ng-if="ticketCustomField.customField.type==\'checkbox\'"><input type="checkbox" ng-disabled="ticketCustomField.customField.edit_able==0" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" ng-model="ticketCustomField.value" ng-true-value="true" ng-false-value="false"><label ng-if="ticketCustomField.customField.type==\'checkbox\'">{{ticketCustomField.customField.title}}</label><span ng-if="ticketCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{ticketCustomField.customField.notes}})</span></div><radio-options ng-if="ticketCustomField.customField.type==\'options\'" ticket-id="ticket.id" ticket-field="ticketCustomField" none-default-value="{{ticket.id}}"></radio-options><cascade-options ng-if="ticketCustomField.customField.type==\'cascade_options\'" ticket-id="ticket.id" ticket-field="ticketCustomField"></cascade-options><multi-options ng-if="ticketCustomField.customField.type==\'multi_options\'" ticket-id="ticket.id" ticket-field="ticketCustomField"></multi-options><div class="row" style="margin:0" ng-if="ticketCustomField.customField.type==\'date_to_date\'"><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" readonly="readonly" ng-disabled="ticketCustomField.customField.edit_able==0" ng-click="timeFrameOpen($event,ticketCustomField.customField,\'startTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ticketCustomField.customField.startTimeForm" ng-model="ticketCustomField.customField.startTime" uib-datepicker-popup="yyyy/MM/dd" datepicker-options="datetimepickerConfig.datepickerOptions" current-text="今天" clear-text="清除" close-text="关闭" max-date="ticketCustomField.customField.endTime" ng-blur="updateValue($index);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,ticketCustomField.customField,\'startTimeForm\')" type="button" ng-disabled="ticketCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="text-center"><p style="padding:5px 0">至</p></div><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" readonly="readonly" ng-disabled="ticketCustomField.customField.edit_able==0" ng-click="timeFrameOpen($event,ticketCustomField.customField,\'endTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ticketCustomField.customField.endTimeForm" ng-model="ticketCustomField.customField.endTime" uib-datepicker-popup="yyyy/MM/dd" datepicker-options="datetimepickerConfig.datepickerOptions" current-text="今天" clear-text="清除" close-text="关闭" min-date="ticketCustomField.customField.startTime" ng-blur="updateValue($index);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,ticketCustomField.customField,\'endTimeForm\')" type="button" ng-disabled="ticketCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></fieldset>');e.put("source/scripts/directives/ticket-custom-form/ticket-custom-form.html",'<fieldset class="ticket-form" ng-disabled="ticket.status==\'closed\'||ticket.deleted||ticket.status==\'deleted\'||ticket.status==\'suspended\'||!editableTicket"><div ng-repeat="ticketCustomField in customFormFields track by $index" class="form-group"><label ng-if="ticketCustomField.customField.type!=\'checkbox\'">{{ticketCustomField.customField.title}} <span class="required" ng-if="ticketCustomField.customField.required">*</span></label><span ng-if="ticketCustomField.customField.type!=\'checkbox\' &&ticketCustomField.customField.type!=\'text\'&&ticketCustomField.customField.type!=\'textarea\' &&userCustomField.customField.type!=\'decimal\' && userCustomField.customField.type !=\'url\' && userCustomField.customField.type !=\'ip\' && ticketCustomField.customField.type !=\'mobile_phone\' && ticketCustomField.customField.type !=\'phone\' && ticketCustomField.customField.type !=\'currency\' && ticketCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{ticketCustomField.customField.notes}})</span><div class="form-group" ng-if="ticketCustomField.customField.type==\'text\' || ticketCustomField.customField.type==\'mobile_phone\' || ticketCustomField.customField.type==\'phone\' || ticketCustomField.customField.type==\'currency\'"><div ng-class="{\'input-group\': ticketCustomField.valueUrl}"><input type="text" ng-model="ticketCustomField.value" class="form-control" maxlength="255" ng-disabled="ticketCustomField.customField.edit_able==0" placeholder="{{ticketCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"> <a ng-if="ticketCustomField.valueUrl" ng-href="{{(ticketCustomField.valueUrl||\'\')+(ticketCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1"><span class="btn btn-default" style="padding:6px;height:32px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:18px;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="ticketCustomField.customField.type==\'textarea\'"><textarea type="textarea" class="form-control" rows="4" ng-model="ticketCustomField.value" maxlength="1000" ng-disabled="ticketCustomField.customField.edit_able==0" textarea-auto-height="140" style="overflow:hidden" placeholder="{{ticketCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"></textarea></div><div class="form-group" ng-if="ticketCustomField.customField.type==\'email\'"><div ng-class="{\'input-group\': ticketCustomField.valueUrl}"><input type="text" ng-model="ticketCustomField.value" class="form-control" ng-disabled="ticketCustomField.customField.edit_able==0" placeholder="{{ticketCustomField.customField.notes}}" maxlength="255" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"> <a ng-if="ticketCustomField.valueUrl" ng-href="{{(ticketCustomField.valueUrl||\'\')+(ticketCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1"><span class="btn btn-default" style="padding:6px;height:32px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:18px;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="ticketCustomField.customField.type==\'regexp\'"><input ng-model="ticketCustomField.value" class="form-control" placeholder="{{ticketCustomField.customField.notes}}" ng-disabled="ticketCustomField.customField.edit_able==0" maxlength="255" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"></div><div class="input-group" ng-if="ticketCustomField.customField.type==\'date_time\'"><input type="text" readonly="readonly" datetime-picker="yyyy/MM/dd HH:mm:ss" button-bar="datetimepickerConfig.buttonBar" datepicker-options="datetimepickerConfig.datepickerOptions" timepicker-options="datetimepickerConfig.timepickerOptions" is-open="ticketCustomField.customField.startForm" ng-model="ticketCustomField.value" ng-click="open($event,ticketCustomField.customField)" ng-change="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value.toString(\'yyyy/MM/dd HH:mm:ss\'));" class="form-control" ng-disabled="ticketCustomField.customField.edit_able==0" when-closed="updateValue($index);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,ticketCustomField.customField)" type="button" ng-disabled="ticketCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="form-group" ng-if="ticketCustomField.customField.type==\'number\'"><div ng-class="{\'input-group\': ticketCustomField.valueUrl}"><input type="text" ng-model="ticketCustomField.value" class="form-control" maxlength="255" ng-disabled="ticketCustomField.customField.edit_able==0" placeholder="{{ticketCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"> <a ng-if="ticketCustomField.valueUrl" ng-href="{{(ticketCustomField.valueUrl||\'\')+(ticketCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1"><span class="btn btn-default" style="padding:6px;height:32px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:18px;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="ticketCustomField.customField.type==\'decimal\' || ticketCustomField.customField.type==\'ip\' || ticketCustomField.customField.type==\'url\'"><input type="text" ng-model="ticketCustomField.value" class="form-control" maxlength="255" ng-disabled="ticketCustomField.customField.edit_able==0" placeholder="{{ticketCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-keyup="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);"></div><div class="input-group input-size-middle date-input" ng-if="ticketCustomField.customField.type==\'date\'"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" readonly="readonly" ng-disabled="ticketCustomField.customField.edit_able==0" ng-click="open($event,ticketCustomField.customField)" ng-change="filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ticketCustomField.customField.startForm" ng-model="ticketCustomField.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" datepicker-options="datetimepickerConfig.datepickerOptions" ng-blur="updateValue($index)"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,ticketCustomField.customField)" type="button" ng-disabled="ticketCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="form-group clearfix" ng-if="ticketCustomField.customField.type==\'checkbox\'"><input type="checkbox" ng-disabled="ticketCustomField.customField.edit_able==0" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" ng-model="ticketCustomField.value" ng-true-value="true" ng-false-value="false"><label ng-if="ticketCustomField.customField.type==\'checkbox\'">{{ticketCustomField.customField.title}}</label><span ng-if="ticketCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{ticketCustomField.customField.notes}})</span></div><radio-options ng-if="ticketCustomField.customField.type==\'options\'" ticket-id="ticket.id" ticket-field="ticketCustomField" none-default-value="{{ticket.id}}"></radio-options><cascade-options ng-if="ticketCustomField.customField.type==\'cascade_options\'" ticket-id="ticket.id" ticket-field="ticketCustomField"></cascade-options><multi-options ng-if="ticketCustomField.customField.type==\'multi_options\'" ticket-id="ticket.id" ticket-field="ticketCustomField"></multi-options><div class="row" style="margin:0" ng-if="ticketCustomField.customField.type==\'date_to_date\'"><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" readonly="readonly" ng-disabled="ticketCustomField.customField.edit_able==0" ng-click="timeFrameOpen($event,ticketCustomField.customField,\'startTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ticketCustomField.customField.startTimeForm" ng-model="ticketCustomField.customField.startTime" uib-datepicker-popup="yyyy/MM/dd" datepicker-options="datetimepickerConfig.datepickerOptions" current-text="今天" clear-text="清除" close-text="关闭" max-date="ticketCustomField.customField.endTime" ng-blur="updateValue($index);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,ticketCustomField.customField,\'startTimeForm\')" type="button" ng-disabled="ticketCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="text-center"><p style="padding:5px 0">至</p></div><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" readonly="readonly" ng-disabled="ticketCustomField.customField.edit_able==0" ng-click="timeFrameOpen($event,ticketCustomField.customField,\'endTimeForm\')" ng-change="change($index);filedValueChange($index,ticketCustomField.customField.url,ticketCustomField.value);" is-open="ticketCustomField.customField.endTimeForm" ng-model="ticketCustomField.customField.endTime" uib-datepicker-popup="yyyy/MM/dd" datepicker-options="datetimepickerConfig.datepickerOptions" current-text="今天" clear-text="清除" close-text="关闭" min-date="ticketCustomField.customField.startTime" ng-blur="updateValue($index);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,ticketCustomField.customField,\'endTimeForm\')" type="button" ng-disabled="ticketCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div></fieldset>');e.put("source/scripts/directives/ticket-detail-operation-button/ticket-detail-operation-button.html",'<div class="btn-group"><button type="button" class="btn btn-default" ng-click="doAction(mainButton.action)">{{mainButton.title}}</button> <button ng-disabled="webchat!=null" ng-if="validButtons.length > 0" type="button" class="btn btn-default dropdown-toggle" style="height:30px;border-radius:0 4px 4px 0" data-toggle="dropdown"><span class="caret"></span> <span class="sr-only">切换下拉</span></button><ul class="dropdown-menu dropdown-menu-right" role="menu" ng-if="validButtons.length > 0"><li ng-repeat="button in validButtons"><a ng-click="doAction(button.action)">{{button.title}}</a></li></ul></div>');e.put("source/scripts/directives/ticket-form/ticket-form.html",'<div class="ticket-form"><fieldset ng-disabled="ticket.status==\'closed\'||ticket.deleted||ticket.status==\'deleted\'||ticket.status==\'suspended\'||!editableTicket"><div ng-class="ticket_bottom"><div class="form-group" ng-if="!hideRequester"><label>客户 <span class="required">*</span></label><a class="pull-right custom-link-color" ng-if="currentUser.id != ticket.requester.id && requesterToMeShow &&!ticket.id" ng-click="updateRequesterToMe()">以我的名义</a><fieldset><user-select selecteduser="ticket.requester" ticketid="ticket.id" usertype="\'all\'" by-access-scope="false"></user-select></fieldset></div><div class="form-group ticket-detail-form" ng-if="!hideHandle"><fieldset ng-disabled="ticket.status==\'solved\' || (ticket.status && !ticket_force_handle && ticket.workflowTemplate)"><engineer-or-workflow-select class="ticket-handler" showinticketdetail="true" selectedservicedesk="ticket.serviceDesk" selectedengineer="ticket.engineer" selectedworkflow="ticket.workflowTemplate" ticketid="ticket.id" assignable="{{(ticket.status!=\'closed\' && ticket.status!=\'deleted\' && ticket.status!=\'solved\' && !ticket.deleted) && ((editableTicket && !ticket.workflowTemplate)||ticket_force_handle)}}" activiti-workflow-node-uid="ticket.activitiWorkflowNodeUid" show-more-info-bar="true"></engineer-or-workflow-select></fieldset></div><div class="form-group ticket-detail-form"><label>抄送给</label><ticket-cc-input class="copy-to" iscopytome="isCopyToMe" isticketdetail="true" ccs="ticket.ccs" usergroup="ticket.requester.userGroup" user="ticket.requester" who="ticket" whoid="{{ticket.id}}" assignable="{{ticket.status==\'closed\'||ticket.status==\'deleted\' || ticket.status==\'solved\'||!editableTicket?false:true}}"></ticket-cc-input></div><div class="form-group"><label>{{typeFiled.title}} <span ng-if="typeFiled.required" class="required">*</span></label><ticket-type-select disabled="typeFiled.edit_able" selectedtickettype="ticket.ticketType" ticketprojecttype="ticketprojecttype"></ticket-type-select></div><div class="form-group"><label>{{catalogFiled.title}} <span ng-if="catalogFiled.required" class="required">*</span> <span style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{catalogFiled.notes}})</span></label><fieldset><service-catalog-select disabled="catalogFiled.edit_able" selectedservicecatalog="ticket.serviceCatalog"></service-catalog-select></fieldset></div><div class="form-group"><label>{{priorityFiled.title}} <span ng-if="priorityFiled.required" class="required">*</span></label><fieldset><ticket-priority-select disabled="priorityFiled.edit_able" selectedpriority="ticket.priority"></ticket-priority-select></fieldset></div><div class="form-group"><label>{{planSolvedAtField.title}} <span ng-if="planSolvedAtField.required" class="required">*</span></label><fieldset ng-disabled="ticket.status==\'solved\' || !!ticket.ticketMetric.sla"><ticket-plan-solved-at disabled="!!ticket.sla" selected-plan-solved-at="ticket.ticketMetric.planSolvedAt"></ticket-plan-solved-at></fieldset></div><div class="form-group"><label>{{tagsField.title}} <span ng-if="tagsField.required" class="required">*</span></label><ewei-tags-input edit-able="tagsField.edit_able && !(ticket.status==\'closed\'||ticket.deleted||ticket.status==\'deleted\'||ticket.status==\'suspended\'||!editableTicket)" tags="ticket.tags" who="ticket" whoid="{{ticket.id}}" notes="{{tagsField.notes}}"></ewei-tags-input></div><div><ticket-custome-field ticket="ticket" new-ticket-form="newTicketForm" external-url-authorize="externalUrlAuthorize" custom-form-fields="customFormFields"></ticket-custome-field></div></div></fieldset></div>');e.put("source/scripts/directives/ticket-image-view/view-image-template.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><style type="text/css">.modal.center .modal-ticket-image-dialog{top:50%;max-height:100%;height:100%;max-width:100%;width:100%;overflow:hidden;margin:0}.carousel-inner>.item{overflow:auto}.modal.center .modal-ticket-image-dialog img{-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none;-webkit-user-drag:none;-moz-user-drag:none;user-drag:none}</style><div class="modal-dialog modal-ticket-image-dialog" ng-bind="content"></div><div ng-click="$hide()" title="关闭" style="position:absolute;right:5px;top:5px" class="ticket-image-view-btn"><i style="font-size:50px;color:#fff" class="iconfont aaa">&#xe600;</i></div></div>');e.put("source/scripts/directives/ticket-image-view/view-image.html",'<style type="text/css">.detail-img-show-box{width:100%;height:100%;margin:0 auto;overflow:hidden;position:relative}.detail-img-show-box ul{margin:0;padding:0;list-style:none;height:100%;position:absolute;left:0;top:0}.detail-img-show-box li{float:left;height:100%;position:relative;overflow:hidden;display:flex;justify-content:center;align-items:center}.detail-img-show-box li img{cursor:move}</style><div style="height:100%" detail-imgs-show-box><div class="detail-img-show-box"><ul class="clearfix"><li set-detail-li-width data-context-menu="/source/scripts/directives/attachment-detail/image-context-menu.html" ng-repeat="item in vm.slideImages"><img set-detail-img-bl ng-src="{{item.src}}"></li></ul></div><div ng-show="vm.slideImages.length > 1"><a href="javascript:" style="position:absolute;top:50%;left:50px;margin-top:-36px;cursor:pointer"><i style="font-size:50px;color:#fff" ; class="iconfont">&#xe63a;</i> </a><a href="javascript:" style="position:absolute;top:50%;right:50px;margin-top:-36px;cursor:pointer"><i style="font-size:50px;color:#fff" class="iconfont">&#xe63e;</i></a></div><a href="javascript:" title="向右旋转" style="position:absolute;right:65px;top:5px" class="ticket-image-view-btn"><i style="font-size:50px;color:#fff;position:relative;left:-1px;top:-3px" class="iconfont">&#xe77d;</i></a></div>');e.put("source/scripts/directives/ticket-log/ticket-log.html",'<div infinite-scroll="ticketLog.loadMoreTicketContext();" class="ticket-log-wrapper"><div class="text-center absolute nav-ticket-log" style="z-index:1;left:45%;margin-top:-3px"><div class="btn-group btn-group-xs"><a class="btn btn-default" ng-class="{\'active\':ticketLog.filterType===\'all\'}" ng-click="ticketLog.loadTicketContext(\'all\');">全部</a> <a class="btn btn-default" ng-class="{\'active\':ticketLog.filterType===\'comments\'}" ng-click="ticketLog.loadTicketContext(\'comments\');">仅回复</a> <a class="btn btn-default" ng-class="{\'active\':ticketLog.filterType===\'attachments\'}" ng-click="ticketLog.loadTicketTimeline(\'attachments\');">附件</a> <a class="btn btn-default" ng-class="{\'active\':ticketLog.filterType===\'timeline\'}" ng-click="ticketLog.loadTicketTimeline(\'timeline\');">时间轴</a></div></div><div id="ticketLog" class="ticket-replay" ng-if="ticketLog.filterType === \'all\' || ticketLog.filterType === \'comments\'"><ul class="list-unstyled margin20px" ticket-image-view><li ng-repeat="log in ticketLog.ticketLogs" class="chat-item"><div ng-if="log.operations" class="chat-log-box"><ticket-log-show log="::log"></ticket-log-show></div><div ng-if="!log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!=\'\')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!=\'\'))"><div class="media" style="overflow:visible"><div class="media-left media-top" style="padding-right:4px"><image-show imageurl="{{log.user.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w40 h40 img-circle" editable="false"></image-show></div><div class="media-body media-top" style="overflow:visible"><div class="media-user-info" style="color:#9ea7b7"><span ng-if="!log.ticketComment.chat.id" class="padding_right10px" ng-bind="::log.user.name" style="color:#333c3e;font-size:13px"></span> <span ng-if="log.ticketComment.chat.id" class="padding_right10px" style="color:#333c3e;font-size:13px">会话#{{::log.ticketComment.chat.id}}</span> <span ng-bind="log.createdAt | dateFilter_style1" class="padding_right10px"></span> <span ng-if="log.ticketComment.equipment" class="padding_right10px"><i ng-if="log.ticketComment.isMobile" class="iconfont" style="font-size:12px">&#xe633;</i> <i ng-if="!log.ticketComment.isMobile" class="iconfont" style="font-size:12px">&#xe658;</i> {{::log.ticketComment.equipment }} </span><span ng-if="log.ticketComment.address" class="padding_right10px"><i class="iconfont" style="font-size:12px">&#xe631;</i> {{::log.ticketComment.address }}</span></div><div class="ticket-log-content"><ticket-comment-detail user="::log.user" comment="log.ticketComment" ng-class="::log.user.type"></ticket-comment-detail></div></div></div></div><chat-log-in-ticket-log ng-if="::log.ticketComment!=null&&log.ticketComment.chat.id" ticket-comment="::log.ticketComment"></chat-log-in-ticket-log></li></ul><p ng-click="ticketLog.loadMoreTicketContext();" class="text-center" ng-if="ticketLog.showNextPageButton&&!ticketLog.isLoadingTicketContext" style="background:#fff;padding:4px"><a style="cursor:pointer">查看更多消息</a></p><p class="text-center" ng-if="ticketLog.isLoadingTicketContext"><span><i class="fa fa-refresh spinning"></i></span></p></div><ticket-attachments ng-if="ticketLog.filterType === \'attachments\'" ticketid="{{::ticketLog.ticketid}}"></ticket-attachments><ticket-time-line ng-if="ticketLog.filterType === \'timeline\'" ticketid="{{::ticketLog.ticketid}}"></ticket-time-line></div>');e.put("source/scripts/directives/ticket-log-show/ticket-log-show.html",'<span class="info" bindonce="log"><span bo-bind="log.createdAt | dateFilter_style1"></span> <span ng-if="log.user!=null" bo-bind="log.user.name"></span> <span ng-if="log.user==null">系统</span> <span bindonce ng-repeat="operation in log.operations"><span ng-if="operation.type!=\'TYPE_CHAT_TO_TICKET\'" bo-bind="operation.type|translate"></span> <span ng-if="operation.type==\'TYPE_CHAT_TO_TICKET\'">{{\'statistics_chat\'|translate}}#{{log.chatId}} {{operation.type|translate}}</span> <span ng-if="(operation.from&&operation.from!=\'\')||(operation.to&&operation.to!=\'\')">:</span> <span bo-if="operation.from!=\'\'" class="ticket-log-box"><s bo-bind="operation.from" class="ticket-log-text" title="{{operation.from}}"></s></span> <span bo-if="operation.to!=\'\'" class="ticket-log-box"><span bo-bind="operation.to" class="ticket-log-text" title="{{operation.to}}"></span></span> </span></span>');e.put("source/scripts/directives/ticket-merger/ticket-merger-dialog.html",'<form name="mergerTicketForm" class="css-form" novalidate autocomplete="off"><div class="modal-inner-content"><p style="padding-bottom:10px">工单合并到：</p><div class="form-group"><div class="btn-group relative" style="width:100%"><div style="position:relative"><input type="text" name="name" ng-model="mergerUnit.curText" ng-change="mergerUnit.change()" ng-focus="mergerUnit.focus();" class="form-control" placeholder="搜索工单编号或主题" style="padding-right:50px"> <span class="close" ng-if="mergerUnit.showSearch===false" ng-click="mergerUnit.clear();" style="position:absolute;right:10px;top:5px">×</span> <i ng-if="mergerUnit.showSearch===true" ng-click="mergerUnit.search();" class="fa fa-search" style="position:absolute;right:10px;top:10px;cursor:pointer"></i></div><ul ng-if="mergerUnit.list.length>0" class="dropdown-menu" style="width:100%" ng-style="{\'display\':mergerUnit.openMenu?\'block\':\'none\'}"><li ng-repeat="item in mergerUnit.list track by $index" ng-click="mergerUnit.select(item)"><a ng-click="javascript(0);" style="display:flex;width:100%"><span>#</span> <span style="display:block;width:150px">{{item.no}}</span> <span style="display:block;flex:1;overflow:hidden;text-overflow:ellipsis">{{item.subject}}</span></a></li></ul></div></div><p>工单合并后，原工单内容将被删除，撤销删除时不可恢复。</p></div><div class="modal-footer btn-group-common" style="border:none;margin-top:15px"><button type="button" class="btn btn-confirm" ng-click="$ok(mergerUnit.selectedTicket)" ng-disabled="!mergerUnit.selectedTicket"><span>确认</span></button> <button type="button" class="btn btn-cancel" ng-click="$hide()"><span>取消</span></button></div></form>');e.put("source/scripts/directives/ticket-plan-form/ticket-plan-form.html",'<fieldset class="ticket-plan-form"><div class="form-group"><label>计划排期 <span class="required">*</span> <span class="desc">（按预置时间自动开始创建工单）</span></label><label class="radio-inline"><input type="radio" name="isPeriod" ng-model="plan.isPeriod" ng-value="false" ng-click="changePlanType(\'point\')"> 预置开始时间和日期</label><label class="radio-inline"><input type="radio" name="isPeriod" ng-model="plan.isPeriod" ng-value="true" ng-click="changePlanType(\'period\')"> 周期性重复执行</label></div><div class="form-group clearfix" ng-if="plan.isPeriod"><div class="col-md-6" style="padding:0"><label>时间</label><select class="form-control" ng-model="plan.schedule.time"><option ng-repeat="t in timeList" ng-value="t">{{t}}</option></select></div><div class="col-md-offset-1 col-md-5" style="padding:0"><label>间隔</label><select class="form-control" ng-model="plan.schedule.type"><option value="day">每天</option><option value="week">每周</option><option value="month">每月</option><option value="custom">自定义</option></select></div></div><div class="form-group clearfix" ng-if="plan.isPeriod && plan.schedule.type === \'week\'"><div class="col-md-6" style="padding:0"><label>日期</label><select class="form-control" ng-model="plan.schedule.weekDay"><option ng-repeat="item in weekData" ng-value="item.key">{{ item.value }}</option></select></div></div><div class="form-group clearfix" ng-if="plan.isPeriod && plan.schedule.type === \'month\'"><div class="col-md-6" style="padding:0"><label>日期</label><select class="form-control" ng-model="plan.schedule.intervalTime"><option ng-repeat="item in monthData" ng-value="item">{{ item + \'日\' }}</option></select></div></div><div class="form-group form-group-startdate clearfix" ng-if="plan.isPeriod && plan.schedule.type === \'custom\'"><div class="col-md-6" style="padding:0"><label>起始日期</label><div class="input-group input-size-middle"><input class="form-control" type="text" readonly="readonly" ng-click="toggleDatePicker($event, \'periodDateStartOpened\')" is-open="datePickerState.periodDateStartOpened" ng-model="plan.schedule.date" uib-datepicker-popup="yyyy-MM-dd" datepicker-append-to-body="true" current-text="今天" clear-text="清除" close-text="关闭" datepicker-options="datePickerOptions"> <span class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="toggleDatePicker($event, \'periodDateStartOpened\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div></div><div class="form-group-interval col-md-offset-1 col-md-5"><div class="input-group"><input type="number" min="0" max="999" class="form-control" ng-model="plan.schedule.intervalTime"> <span class="input-group-addon">天</span></div></div></div><div class="form-group" ng-if="!plan.isPeriod"><div class="preset_times form-group clearfix" ng-repeat="item in plan.schedule.presetTimes"><div class="col-md-4" style="padding:0 10px 0 0"><label>时间</label><select class="form-control" ng-model="item.time"><option ng-repeat="t in timeList" ng-value="t">{{t}}</option></select></div><div class="col-md-7" style="padding:0 10px 0 0"><label>日期</label><div class="input-group input-size-middle"><input class="form-control" type="text" readonly="readonly" ng-click="toggleDatePicker($event, \'preset_time\', $index)" is-open="presetTimeDatePickerOpened[$index]" ng-model="item.date" uib-datepicker-popup="yyyy-MM-dd" datepicker-append-to-body="true" current-text="今天" clear-text="清除" close-text="关闭" datepicker-options="datePickerOptions"> <span class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="toggleDatePicker($event, \'preset_time\', $index)" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div></div><div class="col-md-1" style="padding:0"><span class="minus" ng-if="$index !== 0" ng-click="removePresetTime($index)"><i class="iconfont">&#xe755;</i></span></div></div><div class="form-group" ng-if="!plan.isPeriod && plan.schedule.presetTimes.length <24"><span class="plus" ng-click="addPresetTime()"><i class="iconfont">&#xe754;</i></span></div></div><div class="divider"></div><div class="form-group participations" ng-repeat="p in plan.participations"><span ng-if="$index !== 0" class="btn-remove" title="移除本组处理人和客户" ng-click="removeParticipator($index)"><i class="iconfont">&#xe711;</i></span><div class="form-group"><engineer-or-workflow-select class="ticket-handler" showinticketdetail="true" selectedservicedesk="p.serviceDesk" selectedengineer="p.engineer" selectedworkflow="p.workflowTemplate" assignable="false" activiti-workflow-node-uid="" hideworkflow="true"></engineer-or-workflow-select></div><div class="form-group"><label>客户 <span class="required">*</span> <span class="desc">（添加多个客户，给处理人创建多张工单）</span></label><customer-and-cutstomer-group-select time-out="500" placeholder="输入关键字搜索客户/客户组" component-id="{{$index}}"></customer-and-cutstomer-group-select><ul class="customer-list"><li ng-repeat="item in p.requesters"><div class="badge"><div class="content ellipsis"><span ng-if="item.type" title="{{item.name}}"><span class="username">{{item.name}}</span> <span class="usergroup" ng-if="item.userGroup">/{{item.userGroup.name}}</span> </span><span ng-if="!item.type" class="username" title="{{item.userGroup.name}}({{item.userGroup.countUser}})"><i class="iconfont" style="padding-right:5px">&#xe665;</i>{{item.userGroup.name}}({{item.userGroup.countUser}})</span></div><span class="btn-remove" title="移除此客户/客户组" ng-click="removeRequester(p.requesters, $index)"><i class="iconfont">&#xe711;</i></span></div></li></ul></div></div><div class="form-group form-group-button"><a class="custom-link-color" ng-click="addParticipator()">+ 添加多组处理人和客户</a></div></fieldset>');e.put("source/scripts/directives/ticket-plan-solved-at/ticket-plan-solved-at.html",'<div class="input-group input-size-middle date-input"><input type="text" datetime-picker="yyyy/MM/dd HH:mm:ss" button-bar="datetimepickerConfig.buttonBar" datepicker-options="datetimepickerConfig.datepickerOptions" timepicker-options="datetimepickerConfig.timepickerOptions" datepicker-append-to-body="true" is-open="isOpen" ng-model="selectedDate" ng-click="open($event)" class="form-control" ng-disabled="disabled" when-closed="updateValue();"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event)" type="button" ng-disabled="disabled"><i class="glyphicon glyphicon-calendar"></i></button></label></div>');e.put("source/scripts/directives/ticket-priority-select/ticket-priority-select.html",'<select class="form-control" ng-disabled="disabled==0" ng-model="selectedpriority" ng-options="priority.value as priority.name for priority in priorities" ng-change="change();"><option value="">-</option></select>');e.put("source/scripts/directives/ticket-reply-box-template/ticket-newcreate-box-template.html",'<div class="ticket_reply_box_template" ng-class="{\'private_true\':!private_reply.isopenreply}"><div ng-if="!systemFieldTicketdescription.required&&systemFieldTicketdescription.edit_able==0" style="width:100%;height:100%;background-color:#eee;position:absolute;opacity:.5;z-index:100"></div><div class="ticket_reply_box_bar"><label for="private" class="menu_list"><input id="private" name="private" type="checkbox" ng-checked="!private_reply.isopenreply" ng-click="setOpenNew()"> 私密回复</label><a href="javascript:void(0);" class="menu_list"><span ng-click="showWechatEmoji($event);"><i class="iconfont">&#xe60b;</i> 表情</span></a><wechat-emoji edit-element-id="textarea_area" wechat-emoji-panel-open="wechatEmojiPanelOpen" ng-show="wechatEmojiPanelOpen" class="ticket_emoji_area new_ticket" id="ticket_emoji_area"></wechat-emoji><a has-module="remote_help" href="javascript:void(0);" class="menu_list" ng-click="requestScreenshot();"><i class="iconfont">&#xe602;</i> <span>截屏</span> </a><a has-module="remote_help" href="javascript:void(0);" class="menu_list" ng-click="requestVideo();"><i class="iconfont">&#xe60a;</i> <span>录屏</span></a><div id="container" class="menu_list" role="group"><input type="hidden" id="qiniuDomain" value="${(qiniuBucketDomain)!}"> <a data-toggle="dropdown"><i class="iconfont pull-left" style="font-size:14px;padding-right:4px">&#xe601;</i> <span>上传附件</span></a><ul class="dropdown-menu dropdown-menu-left" role="menu"><li><a id="pickfiles-new-create-box" ewei-uploader files-added="filesAdded(up,files);" upload-progress="uploadProgress(up,file);" file-uploaded="fileUploaded(up,file,info);" upload-error="uploadError(up, err, errTip);" upload-complete="uploadComplete();">上传本地文件</a></li><li><a ng-click="pickResource();">调用社区资源</a></li></ul></div></div><div class="ticket_reply_box_textarea" ng-class="{\'private_reply\':!private_reply.isopenreply}"><pre placeholder="{{systemFieldTicketdescription.notes}}" id="textarea_area" class="textarea_area textarea_minh120" ng-model="newTicket.ticketComment.content" contenteditable data-ph="{{systemFieldTicketdescription.notes}}"></pre></div></div><div class="pull-right"><ul class="ticket_attachment_progressinfo new_ticket" ng-if="cacheFiles.length > 0"><li ng-repeat="file in cacheFiles"><span><icon-file-type></icon-file-type></span>&nbsp;&nbsp; <span title="{{file.name}}">{{file.name | cutStr : 12}}</span><div class="progress_info_area"><p ng-if="file.uploading"><span class="info" ng-if="file.progress == 0">等待上传，请稍后...</span> <span class="info" ng-if="file.progress > 0 && file.progress < 100">上传中{{file.progress}}%</span> <span class="info" ng-if="file.progress == 100">附件处理中，请稍后...</span></p><span ng-if="!file.uploading && file.size">{{file.size | fileSize}}</span> <a href="javascript:void(0);" ng-click="deleteAttachment(file,$index)" class="iconfont delete_atta">&#xe63c;</a></div></li></ul></div>');e.put("source/scripts/directives/ticket-reply-box-template/ticket-reply-box-template.html",'<form name="replyTicketForm" class="css-form" novalidate><div class="ticket_reply_box_template" ng-class="{\'private_true\':!private_reply.isopenreply}"><div class="ticket_reply_box_bar"><label for="private" class="menu_list"><input id="private" name="private" type="checkbox" ng-click="setOpenNew()"> 私密回复</label><a href="javascript:void(0);" class="menu_list"><span ng-click="showWechatEmoji($event);"><i class="iconfont">&#xe60b;</i> 表情</span></a><wechat-emoji edit-element-id="textarea_area" wechat-emoji-panel-open="wechatEmojiPanelOpen" ng-show="wechatEmojiPanelOpen" class="ticket_emoji_area" id="ticket_emoji_area"></wechat-emoji><a has-module="remote_help" href="javascript:void(0);" class="menu_list" ng-click="requestScreenshot();"><i class="iconfont">&#xe602;</i> <span>截屏</span> </a><a has-module="remote_help" href="javascript:void(0);" class="menu_list" ng-click="requestVideo(\'video\');"><i class="iconfont">&#xe60a;</i> <span>录屏</span></a><div id="container" class="menu_list" role="group"><input type="hidden" id="qiniuDomain" value="{{qiniuBucketDomain}}"> <a data-toggle="dropdown" ng-click="uploadAttachmentBuried()"><i class="iconfont pull-left" style="font-size:14px;padding-right:4px">&#xe601;</i> <span>上传附件</span></a><ul class="dropdown-menu dropdown-menu-left" role="menu" style="width:300px"><li><a id="pickfiles-reply-box" ewei-uploader files-added="filesAdded(up,files);" upload-progress="uploadProgress(up,file);" file-uploaded="fileUploaded(up,file,info);" upload-error="uploadError(up, err, errTip);" upload-complete="uploadComplete();" ng-click="uploadLocationBuried()">上传本地文件</a></li><li><a ng-click="pickResource();">调用社区资源</a></li><li role="separator" class="divider"></li><li style="padding:3px 20px"><label style="font-size:12px;color:#999;font-weight:400">附加链接</label><input type="text" class="form-control" maxlength="255" ng-model="resLink" style="padding:3px 6px;height:28px"></li><li style="padding:3px 20px"><label style="font-size:12px;color:#999;font-weight:400">链接名称（非必填）</label><input type="text" class="form-control" maxlength="255" ng-model="resName" style="padding:3px 6px;height:28px"></li><li class="text-right" style="padding:3px 20px"><button class="btn btn-confirm" style="min-height:30px" ng-disabled="!resLink || resLinkAdding || !validLink()" ng-click="addLink()">附加</button> <button class="btn btn-cancel" ng-click="cancelResLink()">取消</button></li></ul></div><a ng-if="webchat==null" has-module="remote_help" class="menu_list" ng-click="goAssist(ticket,$event);"><i class="iconfont">&#xe685;</i> <span>远程协助</span></a></div><div class="ticket_reply_box_textarea" ng-class="{\'private_reply\':!private_reply.isopenreply}" ng-click="wechatEmojiPanelOpen = false;"><pre contenteditable id="textarea_area" class="textarea_area" ng-model="newComment.content" data-ph="请在此输入消息(“/”搜索快捷回复，“//”搜索知识库文章或问题)。{{replyBoxDefaultMessage}}" placeholder="请在此输入消息，“/”搜索快捷回复，“//”搜索知识库文章或问题"></pre></div></div><quick-knowledge-tip text-message="newComment.content" focus-area-id="textarea" text-question-id="newComment.textQuestionId" reply="reply(_status,text,questionId)" style="display:block;margin-top:6px"></quick-knowledge-tip><div class="clearfix" style="margin-top:10px"><div class="pull-left"><ticket-reply-button ng-if="ticket.status === \'new\' || ticket.status === \'assigned\' || ticket.status === \'pending\' || ticket.status === \'open\'" ticket="ticket" comment="newComment" open="newComment.open" reply="reply(_status,null,null,onlyComment)" disabled="replying" uploading="uploading" attachments="newComment.attachments" is-saving="isSavingComment"></ticket-reply-button></div><div class="pull-right"><ul class="ticket_attachment_progressinfo reply_ticket"><li ng-repeat="file in cacheFiles"><span><icon-file-type></icon-file-type></span>&nbsp;&nbsp; <span title="{{file.name}}">{{file.name | cutStr : 12}}</span><div class="progress_info_area"><p ng-if="file.uploading"><span class="info" ng-if="file.progress == 0">等待上传，请稍后...</span> <span class="info" ng-if="file.progress > 0 && file.progress < 100">上传中{{file.progress}}%</span> <span class="info" ng-if="file.progress == 100">附件处理中，请稍后...</span></p><span ng-if="!file.uploading && file.size">{{file.size | fileSize}}</span> <a href="javascript:void(0);" ng-click="removeCacheFile(file)" class="iconfont delete_atta">&#xe63c;</a></div></li></ul></div></div></form>');e.put("source/scripts/directives/ticket-reply-button/ticket-reply-button.html",'<div class="ticket-reply-button btn-group dropup" uib-dropdown is-open="status.isopen" title="{{buttonTitle}}" ng-mouseenter="setTitle(disabled)"><button ng-if="isLoding" type="button" class="btn btn-confirm gray-btn" style="min-width:125px;border-bottom-right-radius:0;border-top-right-radius:0"><img src="/source/images/loading.gif"></button> <button ng-if="buttonStatus.showReply && !isLoding" type="button" class="btn btn-confirm gray-btn" ng-disabled="checkShouldDisabled()" ng-click="submit(\'\',true)" style="min-width:125px;border-bottom-right-radius:0;border-top-right-radius:0"><span ng-if="isSaving"><i class="fa fa-refresh"></i></span> <span ng-if="!isSaving">回复</span></button> <button ng-if="buttonStatus.showRobTicket && !isLoding" type="button" class="btn btn-confirm gray-btn" ng-disabled="checkShouldDisabled()" ng-click="submit(\'rob\')" style="min-width:125px;border-bottom-right-radius:0;border-top-right-radius:0"><span ng-if="isSaving"><i class="fa fa-refresh"></i></span> <span ng-if="!isSaving">抢单</span></button> <button ng-if="buttonStatus.showGetTicket && !isLoding" type="button" class="btn btn-confirm gray-btn" ng-disabled="checkShouldDisabled()" ng-click="submit(\'get\')" style="min-width:125px;border-bottom-right-radius:0;border-top-right-radius:0"><span ng-if="isSaving"><i class="fa fa-refresh"></i></span> <span ng-if="!isSaving">接单</span></button> <button ng-if="buttonStatus.showCancelPendingTicket && !isLoding" type="button" class="btn btn-confirm gray-btn" ng-disabled="checkShouldDisabled()" ng-click="submit(\'cancelPending\')" style="min-width:125px;border-bottom-right-radius:0;border-top-right-radius:0"><span ng-if="isSaving"><i class="fa fa-refresh"></i></span> <span ng-if="!isSaving">取消暂停</span></button> <button type="button" class="btn btn-confirm gray-btn dropdown-toggle" style="min-width:34px;border-left:1px solid rgba(0,0,0,.15);border-bottom-left-radius:0;border-top-left-radius:0;margin-left:0" uib-dropdown-toggle ng-disabled="checkShouldDisabled()"><span class="caret" style="left:12px"></span> <span class="sr-only">Split button!</span></button><ul class="dropdown-menu targetul" role="menu" uib-dropdown-menu ng-show="buttonStatus.showGetSlovedTicket || buttonStatus.showBackPrevious || buttonStatus.showNextPoint || buttonStatus.showSlovedTicket || buttonStatus.showPendingTicket || buttonStatus.showGetPendingTicket || buttonStatus.showRobSlovedTicket || buttonStatus.showRobPendingTicket || buttonStatus.showOnlyReply"><li class="li" ng-if="buttonStatus.showReplyAsSolution"><a ng-click="submit(\'asSolution\')">回复为解决方案</a></li><li class="li" ng-if="buttonStatus.showSlovedTicket"><a ng-click="submit(\'solved\')">处理完毕</a></li><li class="li" ng-if="buttonStatus.showPendingTicket"><a ng-click="submit(\'pending\')">暂停处理</a></li><li class="li" ng-if="buttonStatus.showBackPrevious"><a ng-click="submit(\'WorkflowsPre\')">退回上个节点</a></li><li class="li" ng-if="buttonStatus.showNextPoint"><a ng-click="submit(\'WorkflowsNext\')">转交下个节点</a></li><li class="li" ng-if="buttonStatus.showGetSlovedTicket"><a ng-click="submit(\'getSolved\')">接单并处理完毕</a></li><li class="li" ng-if="buttonStatus.showGetPendingTicket"><a ng-click="submit(\'getPending\')">接单并置为暂停</a></li><li class="li" ng-if="buttonStatus.showRobSlovedTicket"><a ng-click="submit(\'robSolved\')">抢单并处理完毕</a></li><li class="li" ng-if="buttonStatus.showRobPendingTicket"><a ng-click="submit(\'robPending\')">抢单并置为暂停</a></li><li class="li" ng-if="buttonStatus.showOnlyReply"><a ng-click="submit(\'\',true)">仅回复</a></li></ul></div>');e.put("source/scripts/directives/ticket-reply-template/ticket-reply-template.html",'<form name="replyTicketForm" class="css-form" novalidate><div class="ticket-repay-box" ng-class="{\'private-reply-style\': isPrivateReply}"><div class="title-bar clearfix"><div class="reply pull-left clearfix"><div class="publickReply pull-left" ng-click="setOpen(true)"><label for="publickReply"><input type="radio" class="reply-item" name="reply" ng-checked="!isPrivateReply">公开回复</label></div><div class="privateReply pull-left" ng-click="setOpen(false)"><label for="privateReply"><input type="radio" class="reply-item" name="reply" ng-checked="isPrivateReply">私密回复（仅客服可见）</label></div></div><div class="tools pull-left"><a has-module="remote_help" href="javascript:void(0);" class="item" ng-click="requestScreenshot();"><i class="iconfont" style="font-size:15px">&#xe602;</i> <span>屏幕截图</span> </a><a has-module="remote_help" href="javascript:void(0);" class="item" ng-click="requestVideo(\'video\');"><i class="iconfont">&#xe60a;</i> <span>屏幕录像</span></a><div id="container" class="btn-group btn-group-sm item" role="group"><input type="hidden" id="qiniuDomain" value="{{qiniuBucketDomain}}"> <button type="button" class="upload-btn" data-toggle="dropdown" ng-click="uploadAttachmentBuried()"><i class="iconfont pull-left" style="font-size:14px;padding-right:4px">&#xe601;</i> <span>上传附件</span></button><ul class="dropdown-menu dropdown-menu-left" role="menu"><li><a id="pickfiles" ewei-uploader files-added="filesAdded(up,files);" upload-progress="uploadProgress(up,file);" file-uploaded="fileUploaded(up,file,info);" upload-error="uploadError(up, err, errTip);" upload-complete="uploadComplete();" ng-click="uploadLocationBuried()">上传本地文件</a></li><li><a ng-click="pickResource();">调用社区资源</a></li></ul></div></div></div><div class="textarea-wrap"><textarea class="textarea-inp" maxlength="10000" ng-model="newComment.content" ng-class="{\'private-reply-textarea\': isPrivateReply}" required placeholder="请在此输入消息，“/”搜索快捷回复，“//”搜索知识库文章或问题">\n    </textarea></div></div><quick-knowledge-tip text-message="newComment.content" focus-area-id="textarea" text-question-id="newComment.textQuestionId" reply="reply(_status,text,questionId)" style="display:block;margin-top:6px"></quick-knowledge-tip><div class="clearfix" style="margin-top:10px"><div class="pull-right"><ul class="ticket-repay-upload-list list-unstyled"><li ng-repeat="file in cacheFiles"><span class="file">{{file.name}}</span> <span ng-if="file.uploading"><span ng-if="file.progress > 0 && file.progress < 100">{{file.progress}}%</span> <span ng-if="file.progress == 100">附件处理中，请稍后...</span> <span ng-if="file.progress == 0">等待上传，请稍后...</span> </span><a href="javascript:void(0);" ng-click="removeCacheFile(file)" class="iconfont close" style="float:initial;padding-left:10px">&#xe600;</a></li></ul></div><div class="pull-left"><ticket-reply-button ticket="ticket" show-reply-ticket-solved="showReplyTicketSolved" comment="newComment" open="newComment.open" reply="reply(_status,null,null,onlyComment)" disabled="replying" uploading="uploading" attachments="newComment.attachments" is-saving="isSavingComment"></ticket-reply-button></div><div class="margin_left15px pull-left" ng-if="ticket.status==\'solved\'"><ticket-review-button></ticket-review-button></div></div></form>');e.put("source/scripts/directives/ticket-subject/ticket-subject.html",'<span class="{{slaClass}} ticket-sla" ng-class="{\'deleted\': deleted}" style="cursor:pointer">{{deleted?\'D\':slaText}}</span> <a class="custom-main-font-color c75"><span ng-bind="subject | nullStringFilter | cutStr:128"></span> </a>');e.put("source/scripts/directives/ticket-subject-autocomplete/ticket-subject-autocomplete.html",'<div><style>.input-autocomplete{border:1px solid #ddd;height:auto;max-height:300px;right:0;left:0;overflow-y:auto;position:absolute;z-index:10;background:#fff}.input-autocomplete ul{list-style:none;padding:0}.input-autocomplete li{padding:5px}.input-autocomplete li.selected{background:#eee}.input-autocomplete li.no-selected{background:#fff}</style><div style="display:block;width:100%;position:relative"><input autocomplete="off" placeholder="{{placeholder}}" type="text" ng-model="subject" required maxlength="128" class="form-control" ng-change="search()"><div class="input-autocomplete" ng-show="list.length>0 && isShowAutoComplete"><ul><li style="cursor:pointer" ng-repeat="item in list track by $index" ng-click="itemClick(item)" ng-mouseenter="itemMouseUp(item)" ng-class="{true:\'selected\',false:\'no-selected\'}[$index == selectedIndex]">{{item.subject}}</li></ul></div></div></div>');e.put("source/scripts/directives/ticket-submit-button/ticket-submit-button.html",'<div class="btn-group dropup" uib-dropdown is-open="status.isopen"><button style="border-bottom-right-radius:0;border-top-right-radius:0;min-width:125px" type="button" class="btn btn-confirm gray-btn" ng-click="submit()" ladda="disabled||uploading"><span>提交</span></button> <button type="button" style="min-width:34px;border-left:1px solid rgba(0,0,0,.15);border-bottom-left-radius:0;border-top-left-radius:0" class="btn btn-confirm gray-btn dropdown-toggle" uib-dropdown-toggle ng-disabled="disabled?true:uploading"><span class="caret" style="left:12px"></span> <span class="sr-only">Split button!</span></button><ul class="dropdown-menu" role="menu" uib-dropdown-menu ng-if="ticket.engineer && ticket.createType !== \'batch-engineer\'"><li><a ng-click="submit(\'solved\')">提交并处理完毕</a></li><li><a ng-click="submit(\'pending\')">提交并暂停工单</a></li></ul></div>');e.put("source/scripts/directives/ticket-template-select/ticket-template-select.html",'<div><button class="btn btn-default dropdown-toggle btn-user-template" type="button" data-toggle="dropdown" style="width:304px"><span ng-if="!selectedTicketTemplate">使用工单模板</span> <span ng-if="!!selectedTicketTemplate" class="ellipsis" style="max-width:95%;vertical-align:middle">{{selectedTicketTemplate.name}}</span> <span class="caret"></span></button><ul class="dropdown-menu" style="width:304px;max-height:450px;overflow-y:auto;top:52px;left:18px"><li ng-repeat="ticketTemplate in ticketTemplates" ng-click="changeTicketTemplate(ticketTemplate)"><a href="javascript:void(0)">{{ticketTemplate.name}}</a></li></ul></div>');e.put("source/scripts/directives/ticket-time-line/ticket-time-line.html",'<section><ul class="timeline"><li ng-repeat="line in timeline.lineDatas track by $index"><div class="tl-square-wrap"><div class="tl-square" ng-class="line.slaColor" ng-bind="::line.letter|uppercase"></div></div><div class="timeline-panel"><p><span ng-bind="::line.fromNow"></span> <span ng-if="::line.workMinutes">(<span class="work-minutes">{{::line.workMinutes}}</span>)<span></span></span></p></div><div class="timeline-panel panel-right"><p><span style="float:left" ng-bind="::line.operator.name" ng-class="::line.handerClass" ng-if="::line.operator"></span> <span ng-if="::line.operator.type === \'customer\'">(客户)</span> <span ng-bind="::line.ection"></span> <span ng-if="::line.targetUser" ng-class="::line.targetClass">{{::line.targetUser.name}}</span> <span ng-if="line.targetUser && line.targetSericeDesk">/</span> <span ng-if="::line.targetSericeDesk">{{::line.targetSericeDesk.name|translate}}</span> <span ng-if="::line.slaResponseDuration">，工单被响应</span></p><p class="custom-main-font-color" ng-if="::line.responseDuration"><span><span>{{::line.performanceUser.name}}</span> <span>响应速度：</span> <span>{{::line.responseDuration}}分钟</span></span></p><p class="custom-main-font-color" ng-if="::line.processDuration"><span><span>{{::line.performanceUser.name}}</span> <span>处理工时：</span> <span>{{::line.processDuration}}分钟</span></span></p><p class="custom-main-font-color" ng-if="::line.slaResponseDuration"><span>工单响应耗时：<span>{{::line.slaResponseDuration}}分钟</span></span></p><p class="custom-main-font-color" ng-if="::line.slaProcessDuration && line.hasSolved"><span>工单处理耗时：<span>{{::line.slaProcessDuration}}分钟</span></span></p></div></li></ul></section>');e.put("source/scripts/directives/ticket-tool-bar/ticket-tool-bar.html",'<div class="cursorhand btn-group pull-right" style="margin-right:60px"><div id="container" class="btn-group btn-group-sm" role="group"><input type="hidden" id="qiniuDomain" value="${(qiniuBucketDomain)!}"> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" ng-click="uploadAttachmentBuried()"><i class="fa fa-pencil-square-o"></i>上传附件</button><ul class="dropdown-menu dropdown-menu-left" role="menu"><li><a id="pickfiles" ng-click="uploadLocationBuried()">上传本地文件</a></li><li><a ng-click="pickResource();">调用社区资源</a></li></ul></div><button has-module="remote_help" type="button" class="btn btn-default btn-sm" ng-click="requestScreenshot();"><i class="fa fa-desktop"></i>屏幕截图</button> <button has-module="remote_help" type="button" class="btn btn-default btn-sm" ng-click="requestVideo();"><i class="fa fa-video-camera"></i>屏幕录像</button></div><ul ng-if="cacheFiles.length > 0" class="w400" style="margin-top:40px"><li ng-repeat="f in cacheFiles track by $index" style="margin:5px"><span>{{f.name}} {{f.size | fileSize}}</span><button type="button" class="close" ng-if="!f.uploading" style="margin-right:50px" ng-click="deleteAttachment(f.result,$index)"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> <span ng-if="f.uploading" style="float:right"><span ng-if="f.progress > 0 && f.progress < 100">{{f.progress}}%</span> <span ng-if="f.progress == 100">附件处理中，请稍后...</span> <span ng-if="f.progress == 0">等待上传，请稍后...</span></span></li></ul>');e.put("source/scripts/directives/ticket-type-select/ticket-type-select.html",'<select class="form-control" ng-disabled="disabled==0" ng-model="tickettype" ng-options="ticketType.name for ticketType in ticketTypes" ng-change="change(tickettype);"><option value="">-</option></select>');e.put("source/scripts/directives/ticket_label_autocomplete/ticket-label-autocomplete.html",'<div><style>.input-autocomplete{border:1px solid #ddd;height:auto;max-height:300px;right:0;left:0;overflow-y:auto;position:absolute;z-index:10;background:#fff}.input-autocomplete ul{list-style:none;padding:0}.input-autocomplete li{padding:5px}.input-autocomplete li.selected{background:#eee}.input-autocomplete li.no-selected{background:#fff}</style><div style="display:block;width:100%;position:relative"><input autocomplete="off" placeholder="{{placeholder}}" type="text" ng-model="subject" required maxlength="128" class="form-control" ng-change="search()" ng-disabled="disabled == 0 ? true : false"><div class="input-autocomplete" ng-show="list.length>0 && isShowAutoComplete"><ul><li style="cursor:pointer" ng-repeat="item in list track by $index" ng-click="itemClick(item)" ng-mouseenter="itemMouseUp(item)" ng-class="{true:\'selected\',false:\'no-selected\'}[$index == selectedIndex]">{{item.name}}</li></ul></div></div></div>');e.put("source/scripts/directives/transfer-select/transfer-select.html",'<span><style>.panel-transfer-select{width:720px}.panel-transfer-select ul{list-style:none;padding:0;overflow-y:auto}.panel-transfer-select>.header{padding-bottom:10px;font-size:14px;color:#333}.panel-transfer-select>.content{background-color:#F8F8F8;display:flex;border:1px solid #ddd;border-radius:4px}.panel-transfer-select .content>.source{border-right:1px solid #ddd}.panel-transfer-select .source>.footer{text-align:center;cursor:pointer;padding-bottom:5px}.panel-transfer-select .content>.dest,.panel-transfer-select .content>.source{flex:1}.panel-transfer-select .content>.dest>.title,.panel-transfer-select .content>.source>.title{height:40px;line-height:40px;background-color:#F2F2F2;border-bottom:none;color:#4f5c69;font-size:14px;font-weight:700;padding-left:10px}.panel-transfer-select .source>.sub-title{padding:10px;display:flex}.panel-transfer-select .sub-title>.search{display:inline;position:relative}.panel-transfer-select .sub-title>.search input{width:250px;height:30px;padding-right:30px}.panel-transfer-select .sub-title>.search i{position:absolute;right:10px;top:5px;font-size:14px}.panel-transfer-select .sub-title>.search i:hover{color:#000;cursor:pointer}.panel-transfer-select .sub-title .search>.clear{right:30px}.panel-transfer-select .dest>.tag-list,.panel-transfer-select .source>.row-list{padding:10px}.panel-transfer-select .row-list>.row-item{padding:5px;color:#666;word-break:break-all}.panel-transfer-select .row-list .row-item.active{background-color:#eee}.panel-transfer-select .row-list>.row-item:hover{background-color:#eee;cursor:pointer}.panel-transfer-select .source>.row-list{max-height:500px}.panel-transfer-select .dest>.tag-list{display:flex;flex-wrap:wrap;max-height:570px}.panel-transfer-select .tag-list>.tag-item{background-color:#1e8cce;border-radius:4px;color:#fff;margin:5px;padding:5px 10px;position:relative;padding-right:20px;word-break:break-all}.panel-transfer-select .tag-list>.tag-item:hover{background-color:#666;cursor:default}.panel-transfer-select .tag-item>.remove-btn{position:absolute;right:5px;top:5px;color:#eee;font:700 16px Arial,sans-serif}.panel-transfer-select .tag-item>.remove-btn:hover{cursor:pointer;color:#fff}</style><div class="panel-transfer-select"><div class="header"><label class="radio-inline"><input type="radio" ng-model="type" ng-value="0" ng-click="onChangeType()">所有{{name}}</label><label class="radio-inline"><input type="radio" ng-model="type" ng-value="1" ng-click="onChangeType()">指定{{name}}</label></div><div ng-show="type===1" class="content"><div class="source"><div class="title">请选择{{name}}</div><div class="sub-title"><div class="search"><input type="text" class="form-control" placeholder="{{placeholder}}" ng-keyup="onKeyUp($event)" ng-model="key"> <i class="icon iconfont" ng-click="onSearch({key: key})">&#xe624;</i> <i ng-show="key.length>0" class="clear icon iconfont" ng-click="onClear()">&#xe63c;</i></div><div style="width:20px"></div><button type="button" class="btn btn-default btn-sm" ng-click="onSelectAll()">本页全选</button></div><ul class="row-list"><li ng-show="list.length===0">暂无数据</li><li ng-repeat="item in list track by  $index" class="row-item" ng-class="{\'active\': activeSource.id===item.id}" ng-click="onSelect(item)"><span>{{item.name}}</span></li></ul><div ng-show="hasMore" class="footer"><a class="custom-link-color" ng-click="onLoadMore()">加载更多</a></div></div><div class="dest"><div class="title">已选择{{name}}：{{value?value.length:0}}/{{total}}</div><ul class="tag-list"><li ng-show="value.length===0">未选择{{name}}，请从左侧点击选择</li><li ng-repeat="item in value track by  $index" class="tag-item"><span>{{item.name}}</span> <a class="remove-btn" ng-click="onRemove(item)">×</a></li></ul></div></div></div></span>');e.put("source/scripts/directives/user-advanced-query/user-advanced-query.html",'<div class="modal fade" id="queryModal" tabindex="-1" role="dialog" aria-labelledby="queryModalLabel" aria-hidden="true"><div class="query-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="queryModalLabel">高级查询</h4></div><div class="media-body advanced-query-box"><form name="query" method="post"><table class="queryTable"><tr class="lineHeight"><td class="firstCell">创建于</td><td><div class="input-group input-size-middle date-input"><input type="text" name="startFrom" class="form-control" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" ng-model="advancedQueryCondition.createdAtFrom" is-open="datepickers.startFrom" max-date="advancedQueryCondition.createdAtTo" ng-click="open($event,\'startFrom\')"> <span class="input-group-btn"><button type="button" class="btn btn-default dateBtn" ng-click="open($event,\'startFrom\')"><i class="glyphicon glyphicon-calendar"></i></button></span></div></td><td class="thirdCell">至</td><td><div class="input-group input-size-middle date-input"><input type="text" name="startTo" class="form-control" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" ng-model="advancedQueryCondition.createdAtTo" is-open="datepickers.startTo" min-date="advancedQueryCondition.createdAtFrom" ng-click="open($event,\'startTo\')"> <span class="input-group-btn"><button type="button" class="btn btn-default dateBtn" ng-click="open($event,\'startTo\')"><i class="glyphicon glyphicon-calendar"></i></button></span></div></td></tr><tr class="lineHeight"><td class="firstCell">更新于</td><td><div class="input-group input-size-middle date-input"><input type="text" name="updateFrom" class="form-control" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" ng-model="advancedQueryCondition.updatedAtFrom" is-open="datepickers.updateFrom" max-date="advancedQueryCondition.updatedAtTo" ng-click="open($event,\'updateFrom\')"> <span class="input-group-btn"><button type="button" class="btn btn-default dateBtn" ng-click="open($event,\'updateFrom\')"><i class="glyphicon glyphicon-calendar"></i></button></span></div></td><td class="thirdCell">至</td><td><div class="input-group input-size-middle date-input"><input type="text" name="updateTo" class="form-control" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" ng-model="advancedQueryCondition.updatedAtTo" is-open="datepickers.updateTo" min-date="advancedQueryCondition.updatedAtFrom" ng-click="open($event,\'updateTo\')"> <span class="input-group-btn"><button type="button" class="btn btn-default dateBtn" ng-click="open($event,\'updateTo\')"><i class="glyphicon glyphicon-calendar"></i></button></span></div></td></tr><tr class="lineHeight"><td class="firstCell">最近登录</td><td><div class="input-group input-size-middle date-input"><input type="text" name="loginFrom" class="form-control" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" ng-model="advancedQueryCondition.lastLoginAtFrom" is-open="datepickers.loginFrom" max-date="advancedQueryCondition.lastLoginAtTo" ng-click="open($event,\'loginFrom\')"> <span class="input-group-btn"><button type="button" class="btn btn-default dateBtn" ng-click="open($event,\'loginFrom\')"><i class="glyphicon glyphicon-calendar"></i></button></span></div></td><td class="thirdCell">至</td><td><div class="input-group input-size-middle date-input"><input type="text" name="loginTo" class="form-control" uib-datepicker-popup="yyyy-MM-dd" current-text="今天" clear-text="清除" close-text="关闭" ng-model="advancedQueryCondition.lastLoginAtTo" is-open="datepickers.loginTo" min-date="advancedQueryCondition.lastLoginAtFrom" ng-click="open($event,\'loginTo\')"> <span class="input-group-btn"><button type="button" class="btn btn-default dateBtn" ng-click="open($event,\'loginTo\')"><i class="glyphicon glyphicon-calendar"></i></button></span></div></td></tr><tr class="lineHeight"><td class="firstCell">姓名</td><td colspan="3"><input type="text" name="name" id="name" ng-model="advancedQueryCondition.name" required maxlength="32" class="form-control" style="border-radius:6px"></td></tr><tr class="lineHeight"><td class="firstCell">昵称</td><td colspan="3"><input type="text" name="nickname" id="name" ng-model="advancedQueryCondition.nickname" required maxlength="32" class="form-control" style="border-radius:6px"></td></tr><tr class="lineHeight"><td class="firstCell">是否分组</td><td colspan="3"><select ng-model="advancedQueryCondition.haveUserGroup" class="form-control input-size-long"><option value="" ng-selected="advancedQueryCondition.haveUserGroup==null||advancedQueryCondition.haveUserGroup==\'\'">-</option><option value="false">未分组</option><option value="true">已分组</option></select></td></tr><tr class="lineHeight" ng-if="advancedQueryCondition.haveUserGroup == \'true\'"><td class="firstCell">分组</td><td colspan="3"><input type="text" name="userGroup" id="name" ng-model="advancedQueryCondition.userGroup" required maxlength="32" class="form-control" style="border-radius:6px"></td></tr><tr class="lineHeight"><td class="firstCell">email</td><td colspan="3"><input type="text" name="email" id="name" ng-model="advancedQueryCondition.email" required maxlength="32" class="form-control" style="border-radius:6px"></td></tr><tr class="lineHeight"><td class="firstCell">手机</td><td colspan="3"><input type="text" name="mobilePhone" id="name" ng-model="advancedQueryCondition.mobilePhone" required maxlength="32" class="form-control" style="border-radius:6px"></td></tr><tr class="lineHeight"><td class="firstCell">电话</td><td colspan="3"><input type="text" name="phone" id="name" ng-model="advancedQueryCondition.phone" required maxlength="32" class="form-control" style="border-radius:6px"></td></tr></table><div class="modal-footer"><button type="button" class="btn btn-confirm" ng-click="advancedQuery();"><span>更新</span></button> <span class="wroMsg">{{advancedQueryError}}</span></div></form></div></div></div>');e.put("source/scripts/directives/user-custom-field/user-custom-field.html",'<fieldset ng-disabled="!edit"><div bindonce ng-repeat="userCustomField in userCustomFields " class="form-group"><label ng-if="userCustomField.customField.type!=\'checkbox\'"><span ng-if="userCustomField.customField.required">*</span> {{userCustomField.customField.title}}</label><div class="form-group" ng-if="userCustomField.customField.type==\'text\'"><div ng-class="{\'input-group\': userCustomField.valueUrl}"><input type="text" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value);" ng-model="userCustomField.value" class="form-control" ng-if="userCustomField.customField.type==\'text\'" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-disabled="userCustomField.customField.edit_able==0"> <a ng-if="userCustomField.valueUrl" href="{{userCustomField.valueUrl+(userCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1"><span class="btn btn-default" style="padding:6px;height:34px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:18px;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="userCustomField.customField.type==\'phone\'"><div ng-class="{\'input-group\': userCustomField.valueUrl}"><input type="text" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value);" ng-model="userCustomField.value" class="form-control" ng-if="userCustomField.customField.type==\'phone\'" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-disabled="userCustomField.customField.edit_able==0"> <a ng-if="userCustomField.valueUrl" href="{{userCustomField.valueUrl+(userCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1"><span class="btn btn-default" style="padding:6px;height:34px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:18px;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="userCustomField.customField.type==\'textarea\'"><textarea ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" type="textarea" class="form-control" rows="4" ng-model="userCustomField.value" ng-if="userCustomField.customField.type==\'textarea\'" maxlength="1000" textarea-auto-height="140" style="overflow:hidden" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-disabled="userCustomField.customField.edit_able==0">\n      </textarea></div><div class="form-group" ng-if="userCustomField.customField.type==\'email\'"><div ng-class="{\'input-group\': userCustomField.valueUrl}"><input type="text" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" ng-model="userCustomField.value" class="form-control" placeholder="{{userCustomField.customField.notes}}" maxlength="255" ng-blur="updateValue($index);" ng-disabled="userCustomField.customField.edit_able==0"> <a ng-if="userCustomField.valueUrl" href="{{userCustomField.valueUrl+(userCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1" title="{{userCustomField.customField.title}}"><span class="btn btn-default" style="padding:6px;height:34px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:18px;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="userCustomField.customField.type==\'regexp\'"><div ng-class="{\'input-group\': userCustomField.valueUrl}"><input ng-model="userCustomField.value" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" class="form-control" placeholder="{{userCustomField.customField.notes}}" maxlength="255" ng-blur="updateValue($index);" ng-disabled="userCustomField.customField.edit_able==0"> <a ng-if="userCustomField.valueUrl" href="{{userCustomField.valueUrl+(userCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1" title="{{userCustomField.customField.title}}"><span class="btn btn-default" style="padding:6px;height:34px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:18px;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="userCustomField.customField.type==\'number\'"><div ng-class="{\'input-group\': userCustomField.valueUrl}"><input type="text" ng-model="userCustomField.value" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" class="form-control" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-disabled="userCustomField.customField.edit_able==0"> <a ng-if="userCustomField.valueUrl" href="{{userCustomField.valueUrl+(userCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1" title="{{userCustomField.customField.title}}"><span class="btn btn-default" style="padding:6px;height:34px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:18px;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="userCustomField.customField.type==\'decimal\' || userCustomField.customField.type==\'url\' || userCustomField.customField.type==\'ip\'"><input type="text" ng-model="userCustomField.value" ng-keyup="filedValueChange($index,userCustomField.customField.url,userCustomField.value)" class="form-control" maxlength="255" placeholder="{{userCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-disabled="userCustomField.customField.edit_able==0"></div><div class="input-group" ng-if="userCustomField.customField.type==\'date_time\' "><input type="text" datetime-picker="yyyy/MM/dd HH:mm:ss" button-bar="datetimepickerConfig.buttonBar" datepicker-options="datetimepickerConfig.datepickerOptions" timepicker-options="datetimepickerConfig.timepickerOptions" is-open="userCustomField.customField.startForm" ng-model="userCustomField.value" ng-click="open($event,userCustomField.customField)" ng-change="filedValueChange($index,userCustomField.customField.url,userCustomField.value.toString(\'yyyy/MM/dd HH:mm:ss\'));" class="form-control" ng-disabled="userCustomField.customField.edit_able==0" when-closed="updateValue($index);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,userCustomField.customField)" type="button" ng-disabled="userCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div><span ng-if="userCustomField.customField.type==\'date\' && userCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userCustomField.customField.notes}})</span><div class="input-group input-size-middle date-input" ng-if="userCustomField.customField.type==\'date\'"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,userCustomField.customField)" ng-change="change($index);filedValueChange($index,userCustomField.customField.url,userCustomField.value);" max-date="chartSelectedDate.end" is-open="userCustomField.customField.startForm" ng-model="userCustomField.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" name="startFrom" ng-disabled="userCustomField.customField.edit_able==0" datepicker-options="datetimepickerConfig.datepickerOptions"> <span class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,userCustomField.customField)" type="button" ng-disabled="userCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></span></div><div class="form-group clearfix" ng-if="userCustomField.customField.type==\'checkbox\'"><input type="checkbox" ng-change="change($index);filedValueChange($index,userCustomField.customField.url,userCustomField.value);" ng-model="userCustomField.value" ng-true-value="true" ng-false-value="false" ng-disabled="userCustomField.customField.edit_able==0"><label ng-if="userCustomField.customField.type==\'checkbox\'">{{userCustomField.customField.title}}</label><span ng-if="userCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userCustomField.customField.notes}})</span></div><span ng-if="userCustomField.customField.type==\'options\' && userCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userCustomField.customField.notes}})</span><radio-options ng-if="userCustomField.customField.type==\'options\'" ticket-id="userId" ticket-field="userCustomField" category="userCustomField"></radio-options><label ng-if="userCustomField.customField.type==\'cascade_options\'"><span ng-if="userCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userCustomField.customField.notes}})</span></label><cascade-options ng-if="userCustomField.customField.type==\'cascade_options\'" ticket-id="userId" ticket-field="userCustomField" category="userCustomField"></cascade-options><span ng-if="userCustomField.customField.type==\'multi_options\' && userCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userCustomField.customField.notes}})</span><multi-options ng-if="userCustomField.customField.type==\'multi_options\'" ticket-id="userId" ticket-field="userCustomField" category="userCustomField"></multi-options><span ng-if="userCustomField.customField.type==\'date_to_date\' && userCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userCustomField.customField.notes}})</span><div class="row" style="margin:0 0 15px 0" ng-if="userCustomField.customField.type==\'date_to_date\'"><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-disabled="userCustomField.customField.edit_able==0" ng-click="timeFrameOpen($event,userCustomField.customField,\'startTimeForm\')" ng-change="change($index);filedValueChange($index,userCustomField.customField.url,userCustomField.value);" is-open="userCustomField.customField.startTimeForm" ng-model="userCustomField.customField.startTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" max-date="userCustomField.customField.endTime" datepicker-options="datetimepickerConfig.datepickerOptions" ng-blur="updateValue($index);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,userCustomField.customField,\'startTimeForm\')" type="button" ng-disabled="userCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="text-center"><p style="padding:5px 0">至</p></div><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-disabled="userCustomField.customField.edit_able==0" ng-click="timeFrameOpen($event,userCustomField.customField,\'endTimeForm\')" ng-change="change($index);filedValueChange($index,userCustomField.customField.url,userCustomField.value);" is-open="userCustomField.customField.endTimeForm" ng-model="userCustomField.customField.endTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" min-date="userCustomField.customField.startTime" datepicker-options="datetimepickerConfig.datepickerOptions" ng-blur="updateValue($index);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,userCustomField.customField,\'endTimeForm\')" type="button" ng-disabled="userCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div></fieldset>');e.put("source/scripts/directives/user-group-custom-field/user-group-custom-field.html",'<fieldset><div bindonce ng-repeat="userGroupCustomField in userGroupCustomFields " class="form-group"><label ng-if="userGroupCustomField.customField.type!=\'checkbox\'"><span ng-if="userGroupCustomField.customField.required">*</span> {{userGroupCustomField.customField.title}}</label><div class="form-group" ng-if="userGroupCustomField.customField.type==\'text\'"><div ng-class="{\'input-group\': userGroupCustomField.valueUrl}"><input type="text" ng-keyup="filedValueChange($index,userGroupCustomField.customField.url,userGroupCustomField.value);" ng-model="userGroupCustomField.value" class="form-control" ng-if="userGroupCustomField.customField.type==\'text\'" maxlength="255" placeholder="{{userGroupCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-disabled="userGroupCustomField.customField.edit_able==0"> <a ng-if="userGroupCustomField.valueUrl" href="{{(userGroupCustomField.valueUrl+userGroupCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1"><span class="btn btn-default" style="padding:6px;height:34px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:1.5em;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="userGroupCustomField.customField.type==\'phone\'"><div ng-class="{\'input-group\': userGroupCustomField.valueUrl}"><input type="text" ng-keyup="filedValueChange($index,userGroupCustomField.customField.url,userGroupCustomField.value);" ng-model="userGroupCustomField.value" class="form-control" ng-if="userGroupCustomField.customField.type==\'phone\'" maxlength="255" placeholder="{{userGroupCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-disabled="userGroupCustomField.customField.edit_able==0"> <a ng-if="userGroupCustomField.valueUrl" href="{{(userGroupCustomField.valueUrl+userGroupCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1"><span class="btn btn-default" style="padding:6px;height:34px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:1.5em;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="userGroupCustomField.customField.type==\'textarea\'"><textarea ng-keyup="filedValueChange($index,userGroupCustomField.customField.url,userGroupCustomField.value)" type="textarea" class="form-control" rows="4" ng-model="userGroupCustomField.value" ng-if="userGroupCustomField.customField.type==\'textarea\'" maxlength="1000" textarea-auto-height="140" style="overflow:hidden" placeholder="{{userGroupCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-disabled="userGroupCustomField.customField.edit_able==0">\n      </textarea></div><div class="form-group" ng-if="userGroupCustomField.customField.type==\'email\'"><div ng-class="{\'input-group\': userGroupCustomField.valueUrl}"><input type="text" ng-keyup="filedValueChange($index,userGroupCustomField.customField.url,userGroupCustomField.value)" ng-model="userGroupCustomField.value" class="form-control" placeholder="{{userGroupCustomField.customField.notes}}" maxlength="255" ng-blur="updateValue($index);" ng-disabled="userGroupCustomField.customField.edit_able==0"> <a ng-if="userGroupCustomField.valueUrl" href="{{(userGroupCustomField.valueUrl+userGroupCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1" title="{{userGroupCustomField.customField.title}}"><span class="btn btn-default" style="padding:6px;height:34px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:1.5em;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="userGroupCustomField.customField.type==\'regexp\'"><div ng-class="{\'input-group\': userGroupCustomField.valueUrl}"><input ng-model="userGroupCustomField.value" ng-keyup="filedValueChange($index,userGroupCustomField.customField.url,userGroupCustomField.value)" class="form-control" placeholder="{{userGroupCustomField.customField.notes}}" maxlength="255" ng-blur="updateValue($index);" ng-disabled="userGroupCustomField.customField.edit_able==0"> <a ng-if="userGroupCustomField.valueUrl" href="{{(userGroupCustomField.valueUrl+userGroupCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1" title="{{userGroupCustomField.customField.title}}"><span class="btn btn-default" style="padding:6px;height:34px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:1.5em;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="userGroupCustomField.customField.type==\'number\'"><div ng-class="{\'input-group\': userGroupCustomField.valueUrl}"><input type="text" ng-model="userGroupCustomField.value" ng-keyup="filedValueChange($index,userGroupCustomField.customField.url,userGroupCustomField.value)" class="form-control" maxlength="255" placeholder="{{userGroupCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-disabled="userGroupCustomField.customField.edit_able==0"> <a ng-if="userGroupCustomField.valueUrl" href="{{(userGroupCustomField.valueUrl+userGroupCustomField.fromParams||\'\')+\'_timestamp=\'+externalUrlAuthorize._timestamp+\'&_sign=\'+externalUrlAuthorize._sign}}" target="_blank" class="input-group-btn" style="top:0;color:#4169E1" title="{{userGroupCustomField.customField.title}}"><span class="btn btn-default" style="padding:6px;height:34px;color:#4169E1;border-left:none"><i class="fa fa-external-link" style="font-size:1.5em;vertical-align:middle"></i></span></a></div></div><div class="form-group" ng-if="userGroupCustomField.customField.type==\'decimal\' || userGroupCustomField.customField.type==\'url\' || userGroupCustomField.customField.type==\'ip\'"><input type="text" ng-model="userGroupCustomField.value" ng-keyup="filedValueChange($index,userGroupCustomField.customField.url,userGroupCustomField.value)" class="form-control" maxlength="255" placeholder="{{userGroupCustomField.customField.notes}}" ng-blur="updateValue($index);" ng-disabled="userGroupCustomField.customField.edit_able==0"></div><div class="input-group" ng-if="userGroupCustomField.customField.type==\'date_time\' "><input type="text" datetime-picker="yyyy/MM/dd HH:mm:ss" button-bar="datetimepickerConfig.buttonBar" datepicker-options="datetimepickerConfig.datepickerOptions" timepicker-options="datetimepickerConfig.timepickerOptions" is-open="userGroupCustomField.customField.startForm" ng-model="userGroupCustomField.value" ng-click="open($event,userGroupCustomField.customField)" ng-change="filedValueChange($index,userGroupCustomField.customField.url,userGroupCustomField.value.toString(\'yyyy/MM/dd HH:mm:ss\'));" class="form-control" ng-disabled="userGroupCustomField.customField.edit_able==0" when-closed="updateValue($index);"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,userGroupCustomField.customField)" type="button" ng-disabled="userGroupCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div><span ng-if="userGroupCustomField.customField.type==\'date\' && userGroupCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userGroupCustomField.customField.notes}})</span><div class="input-group input-size-middle date-input" ng-if="userGroupCustomField.customField.type==\'date\'"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,userGroupCustomField.customField)" ng-change="change($index);filedValueChange($index,userGroupCustomField.customField.url,userGroupCustomField.value);" max-date="chartSelectedDate.end" is-open="userGroupCustomField.customField.startForm" ng-model="userGroupCustomField.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" name="startFrom" datepicker-options="datetimepickerConfig.datepickerOptions" ng-disabled="userGroupCustomField.customField.edit_able==0"> <span class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="open($event,userGroupCustomField.customField)" type="button" ng-disabled="userGroupCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></span></div><div class="form-group clearfix" ng-if="userGroupCustomField.customField.type==\'checkbox\'"><input type="checkbox" ng-change="change($index);filedValueChange($index,userGroupCustomField.customField.url,userGroupCustomField.value);" ng-model="userGroupCustomField.value" ng-true-value="true" ng-false-value="false" ng-disabled="userGroupCustomField.customField.edit_able==0"><label ng-if="userGroupCustomField.customField.type==\'checkbox\'">{{userGroupCustomField.customField.title}} <span ng-if="userGroupCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userGroupCustomField.customField.notes}})</span></label></div><span ng-if="userGroupCustomField.customField.type==\'options\' && userGroupCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userGroupCustomField.customField.notes}})</span><radio-options ng-if="userGroupCustomField.customField.type==\'options\'" ticket-id="userGroupId" ticket-field="userGroupCustomField" category="userGroupCustomField"></radio-options><label ng-if="userGroupCustomField.customField.type==\'cascade_options\'"><span ng-if="userGroupCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userGroupCustomField.customField.notes}})</span></label><cascade-options ng-if="userGroupCustomField.customField.type==\'cascade_options\'" ticket-id="userGroupId" ticket-field="userGroupCustomField" category="userGroupCustomField"></cascade-options><span ng-if="userGroupCustomField.customField.type==\'multi_options\' && userGroupCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userGroupCustomField.customField.notes}})</span><multi-options ng-if="userGroupCustomField.customField.type==\'multi_options\'" ticket-id="userGroupId" ticket-field="userGroupCustomField" category="userGroupCustomField"></multi-options><span ng-if="userGroupCustomField.customField.type==\'date_to_date\' && userGroupCustomField.customField.notes" style="max-width:200px;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;position:relative;top:4px;color:#999">({{userGroupCustomField.customField.notes}})</span><div class="row" style="margin:0 0 15px 0" ng-if="userGroupCustomField.customField.type==\'date_to_date\'"><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-disabled="userGroupCustomField.customField.edit_able==0" ng-click="timeFrameOpen($event,userGroupCustomField.customField,\'startTimeForm\')" ng-change="change($index);filedValueChange($index,userGroupCustomField.customField.url,userGroupCustomField.value);" is-open="userGroupCustomField.customField.startTimeForm" ng-model="userGroupCustomField.customField.startTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" datepicker-options="datetimepickerConfig.datepickerOptions" max-date="userGroupCustomField.customField.endTime"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,userGroupCustomField.customField,\'startTimeForm\')" type="button" ng-disabled="userGroupCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="text-center"><p style="padding:5px 0">至</p></div><div class="input-group input-size-middle date-input"><input class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="timeFrameOpen($event,userGroupCustomField.customField,\'endTimeForm\')" ng-disabled="userGroupCustomField.customField.edit_able==0" ng-change="change($index);filedValueChange($index,userGroupCustomField.customField.url,userGroupCustomField.value);" is-open="userGroupCustomField.customField.endTimeForm" ng-model="userGroupCustomField.customField.endTime" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭" datepicker-options="datetimepickerConfig.datepickerOptions" min-date="userGroupCustomField.customField.startTime"><label class="input-group-btn"><button class="btn btn-default dateBtn" ng-click="timeFrameOpen($event,userGroupCustomField.customField,\'endTimeForm\')" type="button" ng-disabled="userGroupCustomField.customField.edit_able==0"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div></div><p style="color:#36C4ED;font-size:14px;cursor:pointer" ng-click="showMoreField();" ng-if="!isShowMoreField&&unRequiredField.length">更多字段</p></fieldset>');e.put("source/scripts/directives/user-group-mutil-select/user-group-mutil-select.html",'<style type="text/css">user-group-mutil-select tags-input .tags .tag-item span{max-width:280px;display:inline-block;float:left}user-group-mutil-select tags-input .tags .tag-item{height:auto}</style><tags-input ng-model="tags" on-tag-adding="validateTag($tag);" display-property="name" on-tag-added="tagAdded($tag)" on-tag-removed="tagRemoved($tag)" add-on-space="true" replace-spaces-with-dashes="false" min-length="1" add-on-blur="false" placeholder="输入客户组名称"><auto-complete source="loadTags($query)" max-results-to-show="40" min-length="1" debounce-delay="300" load-on-focus="true" load-on-empty="true"></auto-complete></tags-input>');e.put("source/scripts/directives/user-group-select/user-group-confirm.html",'<div class="modal-inner-content"><h4 ng-if="selectedusergroup!=null">确认将客户<mark>{{customer.name}}</mark>移出<mark>{{selectedusergroup.name}}</mark>？</h4><br><br><p ng-if="targetusergroup!=null">确认后，客户将属于<mark style="max-width:590px" class="ellipsis">{{targetusergroup.name}}</mark> 分组，并继承该分组的“共享工单”属性。</p></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide();cancel();">取消</button> <button type="button" class="btn btn-primary" ng-click="$ok()">确认</button></div>');e.put("source/scripts/directives/user-group-select/user-group-select.html",'<span id="user-select"><style type="text/css">#user-select ul{width:100%;max-height:400px;overflow:auto}#user-select>.input-group{width:100%}#user-select .input-group-addon:hover{cursor:pointer;background-color:#999}</style><span ng-class="{\'input-group\': canClear && selectedusergroup}"><input type="text" ng-focus="onFocus();" ng-blur="onBlur();" class="form-control" ng-model="userGroupName" placeholder="输入关键字搜索客户分组" uib-typeahead="userGroup.name for userGroup in loadUserGroups($viewValue)" typeahead-on-select="onSelect($item, $model, $label, $event)" typeahead-editable="false" typeahead-focus-on-select="false" typeahead-show-hint="true" typeahead-scroll-load="loadMore()" scroll-load-distance="20" typeahead-min-length="0" typeahead-wait-ms="500"> <span ng-if="canClear && selectedusergroup" class="input-group-btn" ng-click="clear()"><button class="btn btn-default" type="button">X</button> </span></span></span>');e.put("source/scripts/directives/user-related-group-input/user-related-group-input.html",'<tags-input ng-class="{\'w300\':width == \'w300\',\'w230\':width == \'w230\',\'height34\':isHidden}" ng-focus="focus()" ng-blur="blur()" ng-class="" ng-model="relatedUserGroups" display-property="name" on-tag-adding="validateUserGroup($tag)" on-tag-added="addRelatedUserGroup($tag)" on-tag-removing="removeRelatedUserGroup($tag)" on-tag-removed="onTagRemoved($tag)" on-invalid-tag="onInvalidTag($tag)" on-tag-clicked="onTagClicked($tag)" replace-spaces-with-dashes="false" min-length="1" max-length="128" max-tags="20" placeholder="输入关键字搜索客户分组" key-property="name" add-from-autocomplete-only="true"><auto-complete source="loadUserGroups($query)" min-length="1" max-results-to-show="99" debounce-delay="300" ng-focus="focus()"></auto-complete></tags-input>');e.put("source/scripts/directives/user-select/match-template.html",'<div class="user-select-wrap" tabindex="-1"><p><span ng-bind-html="match.label | uibTypeaheadHighlight:query" ng-attr-title="{{match.label}}"></span><span style="color:#999" ng-if="match.model.groupName"> / {{match.model.groupName}}</span></p><p class="more" style="color:#999" ng-if="match.model.mobilePhone"><span>{{match.model.mobilePhone}}</span><span ng-if="match.model.email">[{{match.model.email}}]</span></p><p class="more" style="color:#999" ng-if="!match.model.mobilePhone && match.model.email"><span>{{match.model.email}}</span></p></div>');e.put("source/scripts/directives/user-select/user-select-search.html",'<input type="text" ng-focus="onFocus();" ng-blur="onBlur();" class="form-control" ng-model="username" placeholder="输入关键字搜索处理人" uib-typeahead="user for user in loadUsers($viewValue)" typeahead-min-length="1" typeahead-wait-ms="500" typeahead-template-url="typeahead/customTemplate.user.html">');e.put("source/scripts/directives/user-select/user-select.html",'<style>#user-select ul{min-width:230px;max-height:466px;overflow:auto;padding:0}.user-select-wrap{min-height:26px;border-bottom:1px solid #efefef;padding:2px 1em;cursor:default}.active>.user-select-wrap,.user-select-wrap:hover{background-color:#efefef}.user-select-wrap>p{height:20px;line-height:20px;white-space:nowrap}#user-select.with-create ul li:first-child .user-select-wrap{height:26px;color:#fff;background-color:#009dd9;padding:2px 1em;cursor:pointer}#user-select>.input-group{width:100%}#user-select .input-group-addon:hover{cursor:pointer;background-color:#999}</style><span id="user-select" ng-class="{\'with-create\': withCreate}"><span ng-class="{\'input-group\': canClear && selecteduser}"><input type="text" ng-disabled="chatisclose || chatbtngroupstatus == \'chat_transfer\'" ng-focus="onFocus();" ng-blur="onBlur();" class="form-control" ng-model="username" placeholder="{{placeholder}}" uib-typeahead="user.name for user in loadUsers($viewValue)" typeahead-scroll-load="loadMore()" typeahead-on-select="onSelect($item, $model, $label, $event)" typeahead-editable="true" typeahead-focus-on-select="false" scroll-load-distance="20" typeahead-min-length="0" typeahead-wait-ms="500" typeahead-template-url="/source/scripts/directives/user-select/match-template.html" typeahead-show-hint="true"> <span ng-if="canClear && selecteduser" class="input-group-btn" ng-click="clear()"><button class="btn btn-default" type="button">X</button> </span></span></span>');e.put("source/scripts/directives/via-select/via-select.html",'<div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" uib-dropdown-toggle ng-disabled="disabled" ng-click="click()"><span style="float:left" ng-if="!selectedtype && selectedvia.name==null">-</span> <span style="float:left;width:95%;text-align:left" class="ellipsis" ng-if="selectedtype || (selectedvia && selectedvia.name!=null)"><i class="iconfont channel-setting-icon {{selectedtype}}" ng-bind-html="selectedtype | channelIcon | trusted"></i> {{selectedtype | channelType}}{{selectedvia.name?(\'/\'+selectedvia.name):\'\'}} </span><span class="caret" style="position:absolute;right:8px;top:14px" ng-if="!catSelected"></span></button> <button type="button" class="close" ng-if="catSelected" ng-click="clear()" style="position:absolute;right:8px;top:4px"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><ul class="list-group dropdown-menu" style="height:auto;max-height:400px;overflow:auto;width:100%;padding:0;border:0" role="menu" uib-dropdown-menu><li ng-if="showViaTypeList && ((via.via_type !== \'sdk\' && via.via_type !== \'api\') || ((via.via_type === \'sdk\' || via.via_type === \'api\') && (license.type()==\'blend\'\r\n            ||license.type()==\'public\'\r\n            ||license.type()==\'trial\'\r\n            ||license.type()==\'enterprise\'\r\n            ||license.type()==\'enterprise_trial\'\r\n            ||license.type()==\'enterprise_plus\'\r\n            ||license.type()==\'oem\'\r\n            ||license.hasModule(\'api_sdk\'))))" class="list-group-item cursorhand" bindonce ng-repeat="via in viass track by $index" ng-click="selectParentVia(via,$event)"><span><i class="iconfont channel-setting-icon {{via.via_type}}" ng-bind-html="via.via_type | channelIcon | trusted"></i> </span><span bo-bind="via.via_type | channelType"></span><span class="pull-right glyphicon glyphicon-chevron-right"></span></li><li class="list-group-item" ng-if="!showViaTypeList"><button class="btn btn-default btn-xs" ng-click="back($event)"><span class="glyphicon glyphicon-chevron-left"></span> 返回</button></li><li class="list-group-item cursorhand" ng-if="!showViaTypeList && parentVia" ng-click="selectViaType($event)"><span><i class="iconfont channel-setting-icon {{parentVia.via_type}}" ng-bind-html="parentVia.via_type | channelIcon | trusted"></i> </span><span ng-bind="parentVia.via_type | channelType"></span></li><li class="list-group-item cursorhand" ng-if="!showViaTypeList" bindonce ng-repeat="via in vias track by $index" ng-click="selectVia(via)"><span ng-bind="via.name"></span></li></ul></div>');e.put("source/scripts/directives/wechat-emoji/wechat-emoji.html",'<div ng-if="vm.wechatEmojiPanelOpen" class="expression"><ul class="exp_hd list-unstyled"><li class="exp_hd_item active" ng-class="{\'active\': vm.index == 1}" ng-click="vm.index = 1;"><a href="javascript:;">QQ表情</a></li><li class="exp_hd_item" ng-class="{\'active\': vm.index == 2}" ng-click="vm.index = 2;"><a href="javascript:;">符号表情</a></li></ul><div class="exp_bd" style="position:relative"><div class="exp_cont active" ng-class="{\'active\': vm.index == 1}"><div class="qq_face"><input ng-click="vm.closeEmojiBox()" type="button" ng-repeat="qqEmoji in ::vm.emojiData.QQFaceList" title="{{qqEmoji}}" data-type="qq" class="face"></div></div><div class="exp_cont" ng-class="{\'active\': vm.index == 2}"><div class="emoji_face"><input ng-click="vm.closeEmojiBox()" type="button" ng-repeat="emoji in ::vm.emojiData.EmojiList" title="{{emoji}}" data-type="emoji" class="face"></div></div></div></div>');e.put("source/scripts/directives/workflow-timeline/workflow-timeline.html",'<div style="width:auto;height:60px"><style>.cd-horizontal-timeline{-webkit-transition:opacity .2s;-moz-transition:opacity .2s;transition:opacity .2s;height:100%}.cd-horizontal-timeline a{color:#7b9d6f;text-decoration:none;pointer-events:none}.cd-horizontal-timeline.loaded{opacity:1}.cd-horizontal-timeline .timeline-workflow{float:left;position:relative;height:100%;width:100%;max-width:400px;margin:0 auto}.cd-horizontal-timeline .events-wrapper{position:relative;height:100%;overflow:hidden}.cd-horizontal-timeline .events-wrapper::before{left:0;background-image:-webkit-linear-gradient(left ,#f8f8f8,rgba(248,248,248,0));background-image:linear-gradient(to right,#f8f8f8,rgba(248,248,248,0))}.cd-horizontal-timeline .events-wrapper::after{right:0;background-image:-webkit-linear-gradient(right ,#f8f8f8,rgba(248,248,248,0));background-image:linear-gradient(to left,#f8f8f8,rgba(248,248,248,0))}.cd-horizontal-timeline .events{position:absolute;z-index:1;width:100%;left:0;top:15px;height:2px;background:#F1EBEB;-webkit-transition:-webkit-transform .4s;-moz-transition:-moz-transform .4s;transition:transform .4s}.cd-horizontal-timeline .filling-line{position:absolute;z-index:1;left:0;top:0;height:100%;width:100%;background-color:#777;-webkit-transform:scaleX(0);-moz-transform:scaleX(0);-ms-transform:scaleX(0);-o-transform:scaleX(0);transform:scaleX(0);-webkit-transform-origin:left center;-moz-transform-origin:left center;-ms-transform-origin:left center;-o-transform-origin:left center;transform-origin:left center;-webkit-transition:-webkit-transform .3s;-moz-transition:-moz-transform .3s;transition:transform .3s}.cd-horizontal-timeline .events a{overflow:hidden;text-overflow:ellipsis;position:absolute;display:inline-block;min-width:10px;padding:3px 3px;font-size:12px;line-height:1;color:#000;text-align:center;white-space:nowrap;vertical-align:middle;background-color:#fff;border-radius:10px;border:1px solid #909090}.cd-horizontal-timeline .events a>span{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cd-horizontal-timeline .events a.selected{pointer-events:none;background-color:#3BB6EE;border-color:#3BB6EE;color:#fff}.cd-horizontal-timeline .events a.selected::after{background-color:red;border-color:red}.cd-horizontal-timeline .events a.older-event{color:#D7D7D7;border-color:#d3d3d3}.cd-horizontal-timeline ol{list-style-type:none;-webkit-padding-start:0}.cd-horizontal-timeline ol>li{display:inline;width:auto}</style><div style="float:left;margin-top:8px">工作流({{completed}})</div><section class="cd-horizontal-timeline"><div class="timeline-workflow"><div class="popover fade bottom in" role="tooltip" ng-if="currentPosition<workflows.length" ng-style="tipStyle" style="width:330px;text-align:center;max-width:100%;border-radius:3px;margin-top:35px;z-index:0;-webkit-box-shadow:0 0 0 rgba(0,0,0,.2);box-shadow:0 0 0 rgba(0,0,0,.2);display:block"><div class="arrow" style="border-width:6px;top:-13px"></div><div class="popover-content" style="padding:9px 3px;line-height:.5px;color:#3BB6EE">"回复为处理完毕"即可{{tip}}</div></div><div class="events-wrapper"><div class="events"><ol><li ng-repeat="workflow in workflows track by $index"><a href="#0" ng-style="workflow.userStyle" style="top:-10px" ng-class="{\'selected\': $index==currentPosition,\'older-event\':workflow.completed&&$index<currentPosition}"><span>{{workflow.engineer.user.name}}</span></a></li></ol></div></div></div></section></div>');e.put("source/scripts/directives/workflow-tree/workflow-tree-add-node.html",'<style>.modal.center .modal-dialog{max-width:950px;width:100%}</style><div class="modal-inner-content" style="overflow-y:auto;min-height:184px;margin-left:20px"><div class="w320"><p style="line-height:15px"><input ng-disabled="modal.opType===\'modify\' && modal.node.type!=\'handler\' || (modal.opType===\'create\' && modal.opSubType===\'getway\')" ng-click="modal.node.type=\'handler\';" name="dtType" type="radio" ng-checked="modal.node.type===\'handler\'"> <span ng-style="{\'color\': (modal.opType===\'modify\' && modal.node.type!=\'handler\' || (modal.opType===\'create\' && modal.opSubType===\'getway\'))?\'#aaaaaa\':\'#000000\'}">处理人节点</span></p><fieldset ng-disabled="modal.node.type===\'getway\'"><engineer-select selectedengineer="modal.node.engineer" selectedservicedesk="modal.node.serviceDesk" selectableservicedesk="true" single-line="true" class="margin_top10px margin_bottom20px"></engineer-select></fieldset></div><div><p style="line-height:15px" class="margin_bottom10px"><input ng-disabled="modal.opType===\'modify\' && modal.node.type!=\'getway\' || (modal.opType===\'create\' && modal.opSubType===\'getway\')" ng-click="modal.node.type=\'getway\';" name="dtType" type="radio" ng-checked="modal.node.type===\'getway\'"> <span ng-style="{\'color\': modal.opType===\'modify\' && modal.node.type!=\'getway\' || (modal.opType===\'create\' && modal.opSubType===\'getway\')?\'#aaaaaa\':\'#000000\'}">条件节点</span></p><fieldset ng-disabled="modal.node.type===\'handler\'"><div class="tryu" style="width:870px;min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left40px padding_top13px size14"><strong>符合下列 所有 条件：</strong></p></td></tr><tr ng-repeat="andCondition in andConditions track by $index"><td class="padding_left40px padding_right30px w300"><select ng-change="conditionChange(andCondition)" class="size13 form-control w230" ng-options="andOption.value as andOption.option for andOption in andConditionOptions" ng-model="andCondition.attribute"></select></td><td class="padding_right30px w190"><select ng-disabled="andCondition.edit_able===0" ng-show="andCondition.attribute!=\'0\' && andCondition.attribute!=\'-1\'" class="size13 form-control w160" ng-options="compare.value as compare.option for compare in andCondition.compareOptions" ng-model="andCondition.compare"></select></td><td class="w320"><select ng-disabled="andCondition.edit_able===0" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'select\'&& andCondition.attribute !=\'priority\'" class="size13 form-control w320" ng-options="valueOption.value as valueOption.option for valueOption in andCondition.valueOptions" ng-model="andCondition.value"></select><ticket-priority-select disabled="andCondition.edit_able" width="w300" ng-if="andCondition.attribute!=\'0\' && andCondition.attribute==\'priority\'" selectedpriority="andCondition.value"></ticket-priority-select><via-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'via\'" selectedchannel="andCondition.value.channel" selectedtype="andCondition.value.viaType" selectedvia="andCondition.value.via" style="position:relative;top:-2px;margin:3px 0"></via-select><service-catalog-select disabled="andCondition.edit_able" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'serviceCatalog\'" selectedservicecatalog="andCondition.value" style="margin:3px 0" single-line="true"></service-catalog-select><engineer-select hascurrentengineer="true" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'engineer\'" selectedengineer="andCondition.engineer" selectedservicedesk="andCondition.serviceDesk" style="margin:3px 0" single-line="true"></engineer-select><service-desk-select hascurrentengineer="true" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'serviceDesk\'" selectedservicedesk="andCondition.value"></service-desk-select><user-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'requester\'" unable-add-user="true" selecteduser="andCondition.value"></user-select><user-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'user\'" unable-add-user="true" usertype="\'all\'" selecteduser="andCondition.value"></user-select><user-group-mutil-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'userGroup\'" usergroups="andCondition.value"></user-group-mutil-select><input ng-disabled="andCondition.edit_able===0" type="text" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'text\'" class="size13 form-control w320" ng-model="andCondition.value"> <input ng-disabled="andCondition.edit_able===0" type="number" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'number\'" class="size13 form-control w320" ng-model="andCondition.value" style="text-align:center"><ticket-cc-input ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType===\'copyTo\'" ccs="andCondition.value" excludeusergroup="true" who="ticket" assignable="true" hidetomy="true" class="w320" style="display:inline-block;vertical-align:middle"></ticket-cc-input><input lay-date id="{{\'layDate-and-\'+ $index}}" ng-disabled="andCondition.edit_able===0" type="text" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'date_time\'" class="size13 form-control w320" ng-model="andCondition.value"><div class="input-group w320 datepicker-wrap" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'date\'"><input ng-disabled="andCondition.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'andCondition\')" is-open="andCondition.start" ng-model="andCondition.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="andCondition.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'andCondition\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><cascade-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'cascade_options\'" category="auto" ticket-field="andCondition.valueOptions" single-line="true"></cascade-options><multi-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'multi_options\'" category="auto" ticket-field="andCondition.valueOptions"></multi-options><radio-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'options\'" category="auto" ticket-field="andCondition.valueOptions" single-line="true"></radio-options></td><td ng-if="modal.node.type===\'getway\'" class="padding_left15px"><span style="color:#e04006;cursor:pointer" class="size30" ng-click="delCondition(\'and\',$index);">-</span></td></tr><tr ng-if="modal.node.type===\'getway\'"><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addCondition(\'and\');"><strong>+</strong></span></td></tr></tbody></table></div><div class="tryu" style="width:870px;min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left40px padding_top13px size14"><strong>符合下列 任何 条件：</strong></p></td></tr><tr ng-repeat="orCondition in orConditions track by $index"><td class="padding_left40px padding_right30px w300"><select class="size13 form-control w230" ng-change="conditionChange(orCondition)" ng-options="orOption.value as orOption.option for orOption in orConditionOptions" ng-model="orCondition.attribute"></select></td><td class="padding_right30px w190"><select ng-show="orCondition.attribute!=\'0\' && orCondition.attribute!=\'-1\'" ng-disabled="orCondition.edit_able===0" class="size13 form-control w160" ng-options="compare.value as compare.option for compare in orCondition.compareOptions" ng-model="orCondition.compare"></select></td><td class="w320"><select ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'select\' && orCondition.attribute!=\'priority\'" class="size13 form-control w320" ng-options="valueOption.value as valueOption.option for valueOption in orCondition.valueOptions" ng-model="orCondition.value"></select><ticket-priority-select disabled="orCondition.edit_able" width="w300" ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'select\' &&  orCondition.attribute==\'priority\'" selectedpriority="orCondition.value"></ticket-priority-select><via-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'via\'" selectedchannel="orCondition.value.channel" selectedtype="orCondition.value.viaType" selectedvia="orCondition.value.via" style="position:relative;top:-2px;margin:3px 0"></via-select><service-catalog-select disabled="orCondition.edit_able" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'serviceCatalog\'" selectedservicecatalog="orCondition.value" style="margin:3px 0"></service-catalog-select><engineer-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'engineer\'" selectedengineer="orCondition.engineer" selectedservicedesk="orCondition.serviceDesk" style="margin:3px 0"></engineer-select><service-desk-select type="automation" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'serviceDesk\'" selectedservicedesk="orCondition.value"></service-desk-select><user-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'requester\'" selecteduser="orCondition.value"></user-select><user-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'user\'" usertype="\'all\'" selecteduser="orCondition.value"></user-select><user-group-mutil-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'userGroup\'" usergroups="orCondition.value"></user-group-mutil-select><input type="text" ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'text\'" class="size13 form-control w320" ng-model="orCondition.value"> <input ng-disabled="orCondition.edit_able===0" type="number" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'number\'" class="size13 form-control w320" ng-model="orCondition.value" style="text-align:center"><ticket-cc-input ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType===\'copyTo\'" ccs="orCondition.value" excludeusergroup="true" who="ticket" assignable="true" hidetomy="true" class="w320" style="display:inline-block;vertical-align:middle"></ticket-cc-input><input lay-date id="{{\'layDate-or-\'+ $index}}" type="text" ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'date_time\'" class="size13 form-control w320" ng-model="orCondition.value"><div class="input-group w320 datepicker-wrap" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'date\'"><input ng-disabled="orCondition.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'orCondition\')" is-open="orCondition.start" ng-model="orCondition.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="orCondition.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'orCondition\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><cascade-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'cascade_options\'" category="auto" ticket-field="orCondition.valueOptions"></cascade-options><multi-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'multi_options\'" category="auto" ticket-field="orCondition.valueOptions"></multi-options><radio-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'options\'" category="auto" ticket-field="orCondition.valueOptions"></radio-options></td><td ng-if="modal.node.type===\'getway\'" class="padding_left15px"><span style="color:#e04006;cursor:pointer" class="size30" ng-click="delCondition(\'or\',$index);">-</span></td></tr><tr ng-if="modal.node.type===\'getway\'"><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addCondition(\'or\');"><strong>+</strong></span></td></tr></tbody></table></div></fieldset></div><div class="modal-footer btn-group-common"><button type="button" id="saveButton" class="btn btn-confirm custom-background-color" ng-click="saveNode();">确定</button> <button type="button" class="btn btn-cancel" ng-click="$hide()">取消</button></div></div>');e.put("source/scripts/directives/workflow-tree/workflow-tree.html",'<div style="min-height:400px"><table ng-if="showOnly===\'true\'"><tr><td><div style="width:20px;height:10px;background-color:#6cf"></div></td><td style="padding-left:5px">处理完毕节点</td></tr><tr><td><div style="width:20px;height:10px;background-color:#3c0"></div></td><td style="padding-left:5px">当前处理节点</td></tr></table><div style="position:relative"><div class="tree" ng-include="\'treeView.html\'" ng-init="tree=tree"></div></div><script type="text/ng-template" id="treeView.html"><ul class="tree-ul" ng-style="(showOnly===\'true\'?{\'max-width\': \'800px\',\'max-height\':\'500px\'}:\'\')">\n      <li class="tree-li">\n        <div ng-if="tree.type===\'start\'" ng-include="\'start.html\'" ng-init="item=tree"></div>\n        <div ng-if="tree.type===\'handler\'" ng-include="\'person.html\'" ng-init="item=tree"></div>\n        <div ng-if="tree.type===\'getway\'" ng-include="\'condition.html\'" ng-init="item=tree"></div>\n        <ul class="tree-ul" ng-if="tree.children.length" ng-include="\'treeItem.html\'" ng-init="tree=tree"></ul>\n      </li>\n    </ul><\/script><script type="text/ng-template" id="treeItem.html"><li class="tree-li" ng-repeat="item in tree.children">\n      <div ng-if="item.type===\'handler\'" ng-include="\'person.html\'" ng-init="item=item"></div>\n      <div ng-if="item.type===\'getway\'" ng-include="\'condition.html\'" ng-init="item=item"></div>\n      <ul class="tree-ul" ng-if="item.children.length" ng-include="\'treeItem.html\'" ng-init="tree=item"></ul>\n    </li><\/script><script type="text/ng-template" id="start.html"><div class="node-start" ng-class="{\'node-doing\':item.doing,\'node-completed\': item.completed}">\n      <div ng-if="showOnly===\'true\'">\n        <a ng-click="javascript(0);" ><span ng-bind="item.display"></span></a>\n      </div>\n      <div ng-if="showOnly===\'false\'">\n        <div ng-click="createNode(item)">\n          <a><span ng-bind="item.display"></span></a>\n        </div>\n      </div>\n    </div><\/script><script type="text/ng-template" id="person.html"><div class="node-people" ng-class="{\'node-doing\':item.doing,\'node-completed\': item.completed}">\n      <div ng-if="showOnly===\'true\'">\n        <a ng-click="javascript(0);" ><i class="iconfont">&#xe766;</i></a>\n      </div>\n      <div ng-if="showOnly===\'false\'" dropdown-append-to-body uib-dropdown>\n        <div uib-dropdown-toggle>\n          <a ng-click="javascript(0);" ><i class="iconfont">&#xe766;</i></a>\n        </div>\n        <ul class="dropdown-menu" uib-dropdown-menu >\n          <li>\n            <a ng-click="modifyNode(item)"><i class="iconfont padding10px">&#xe74e;</i>编辑节点</a>\n          </li>\n          <li>\n            <a ng-click="createNode(item)"><i class="iconfont padding10px">&#xed8c;</i>添加节点</a>\n          </li>\n          <li>\n            <a ng-click="removeNode(item)"><i class="iconfont padding10px">&#xe767;</i>删除节点</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <p>\n      <i ng-if="item.valid===false" class="iconfont node-invalid">&#xe63b;</i>\n      <span ng-bind="item.display"></span>\n    </p>\n    \x3c!--<p>uid:{{item.uId}}</p>--\x3e\n    \x3c!--<p>parent:{{item.parentUId}}</p>--\x3e\n    \x3c!--<p>true:{{item.trueUId}}</p>--\x3e\n    \x3c!--<p>false:{{item.falseUId}}</p>--\x3e<\/script><script type="text/ng-template" id="condition.html"><div class="node-condition" ng-class="{\'node-completed\': item.completed}">\n      <div ng-if="showOnly===\'true\'" class="transform-normal">\n        <a ng-click="javascript(0);" ><i class="iconfont ">&#xe74e;</i></a>\n      </div>\n      <div ng-if="showOnly===\'false\'"  dropdown-append-to-body uib-dropdown>\n        <div uib-dropdown-toggle class="transform-normal">\n          <a ng-click="javascript(0);" ><i class="iconfont">&#xe74e;</i></a>\n        </div>\n        <ul class="dropdown-menu" uib-dropdown-menu>\n          <li>\n            <a ng-click="modifyNode(item)"><i class="iconfont padding10px">&#xe74e;</i>编辑节点</a>\n          </li>\n          <li>\n            <a ng-click="createNode(item)"><i class="iconfont padding10px">&#xed8c;</i>添加节点</a>\n          </li>\n          <li>\n            <a ng-click="removeNode(item)"><i class="iconfont padding10px">&#xe767;</i>删除节点</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <p>\n      <i ng-if="item.valid===false" class="iconfont node-invalid">&#xe63b;</i>\n      <span ng-bind="item.display"></span>\n    </p>\n    \x3c!--<p>uid:{{item.uId}}</p>--\x3e\n    \x3c!--<p>parent:{{item.parentUId}}</p>--\x3e\n    \x3c!--<p>true:{{item.trueUId}}</p>--\x3e\n    \x3c!--<p>false:{{item.falseUId}}</p>--\x3e<\/script></div>');e.put("source/statistics/directive/chart-multi-header-table/chart-multi-header-table.html",'<div class="ewei-table" ng-class="{\'no-pager\': tableParams.total()==0}"><table id="export-table" ng-table="tableParams" id="tableParams" class="table table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th rowspan="{{column.rowspan}}" colspan="{{column.colspan}}" ng-repeat="column in columns track by $index" ng-if="column.visible" ng-class="{\n        \'sort-asc\': isSortBy(column, \'asc\'),\n        \'sort-desc\': isSortBy(column, \'desc\'),\n        \'sortable\': column.sortable\n      }" ng-click="sorting(column)" class="{{column.class||\'text-center\'}}" style="border:1px solid #eee"><span ng-style="column.rowspan===2?{\'padding-top\': \'30px\'}:\'{}\'">{{column.title}}<span class="sort-indicator"></span></span></th></tr><tr><th ng-repeat="subColumn in subColumns track by $index" ng-if="subColumn.visible" ng-class="{\n        \'sort-asc\': isSortBy(subColumn, \'asc\'),\n        \'sort-desc\': isSortBy(subColumn, \'desc\'),\n        \'sortable\': subColumn.sortable\n      }" ng-click="sorting(subColumn)" class="{{subColumn.class||\'text-center\'}}" style="border:1px solid #eee"><span>{{subColumn.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="totalData && data.length>0"><tr style="background-color:transparent"><td ng-repeat="col in mergeColumns track by $index" ng-class="col.class||\'text-center\'"><a ng-if="col.totalFunction" class="custom-link-color" ng-click="col.totalFunction(col)" title="{{totalData | translateFieldValue: col.field :col.filter}}">{{totalData | translateFieldValue: col.field :col.filter }}</a> <span ng-if="!col.totalFunction && !col.icon" title="{{totalData | translateFieldValue: col.field :col.filter}}">{{totalData | translateFieldValue: col.field :col.filter }} </span><span ng-if="col.icon" ng-bind-html="totalData | translateFieldValue: col.field :col.filter | trusted"></span></td></tr></tbody><tbody ng-if="data && data.length>0" ng-repeat="group in $groups track by $index" style="border-top:0"><tr ng-repeat="item in group.data track by $index"><td ng-repeat="col in mergeColumns track by $index" ng-class="col.class||\'text-center\'"><a ng-if="col.callbackFunction && !col.icon" class="custom-link-color" ng-click="col.callbackFunction(item)" title="{{item | translateFieldValue: col.field :col.filter}}">{{item | translateFieldValue: col.field :col.filter | nullStringFilter}}</a> <span ng-if="!col.callbackFunction && !col.icon" title="{{item | translateFieldValue: col.field :col.filter}}">{{item | translateFieldValue: col.field :col.filter | nullStringFilter }} </span><span ng-if="!col.callbackFunction && col.icon" ng-bind-html="item | translateFieldValue: col.field :col.filter | trusted"></span> <a ng-if="col.callbackFunction && col.icon" class="custom-link-color" ng-click="col.callbackFunction(item)" ng-bind-html="item | translateFieldValue: col.field :col.filter | trusted"></a></td></tr></tbody><tbody ng-if="data && data.length<1" class="no-data" ng-cloak><tr><td style="background-color:#fff" colspan="{{columns.length}}"><h5>暂时没有数据</h5></td></tr></tbody></table><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div>');e.put("source/statistics/directive/chart-table/chart-table.html",'<div class="ewei-table" ng-class="{\'no-pager\': tableParams.total()==0}"><table id="export-table" ng-table="tableParams" id="tableParams" class="table table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr><th ng-repeat="column in columns track by $index" ng-if="column.visible" ng-class="{\n        \'sort-asc\': isSortBy(column, \'asc\'),\n        \'sort-desc\': isSortBy(column, \'desc\'),\n        \'sortable\': column.sortable\n      }" ng-click="sorting(column)" class="{{column.class||\'text-center\'}}"><span uib-tooltip="{{column.title}}" tooltip-append-to-body="true">{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="totalData && data.length>0"><tr style="background-color:transparent"><td ng-repeat="col in columns track by $index" ng-class="col.class||\'text-center\'"><a ng-if="col.totalFunction" class="custom-link-color" ng-click="col.totalFunction(col)" title="{{totalData | translateFieldValue: col.field :col.filter}}">{{totalData | translateFieldValue: col.field :col.filter }}</a> <span ng-if="!col.totalFunction && !col.icon" title="{{totalData | translateFieldValue: col.field :col.filter}}">{{totalData | translateFieldValue: col.field :col.filter }} </span><span ng-if="col.icon" ng-bind-html="totalData | translateFieldValue: col.field :col.filter | trusted"></span></td></tr></tbody><tbody ng-if="data && data.length>0" ng-repeat="group in $groups track by $index" style="border-top:0"><tr ng-repeat="item in group.data track by $index"><td ng-repeat="col in columns track by $index" ng-class="col.class||\'text-center\'"><a ng-if="col.callbackFunction && !col.icon && (!col.hideLink || (col.hideLink && !col.hideLink(item)))" class="custom-link-color" ng-click="col.callbackFunction(item)" title="{{item | translateFieldValue: col.field :col.filter}}">{{item | translateFieldValue: col.field :col.filter | nullStringFilter}}</a> <span ng-if="(!col.callbackFunction && !col.icon) || (col.callbackFunction && !col.icon && col.hideLink && col.hideLink(item))" title="{{item | translateFieldValue: col.field :col.filter}}">{{item | translateFieldValue: col.field :col.filter | nullStringFilter }} </span><span ng-if="(!col.callbackFunction && col.icon) || (col.callbackFunction && col.icon && col.hideLink && col.hideLink(item))" ng-bind-html="item | translateFieldValue: col.field :col.filter | trusted"></span> <a ng-if="col.callbackFunction && col.icon && (!col.hideLink || (col.hideLink && !col.hideLink(item)))" class="custom-link-color" ng-click="col.callbackFunction(item)" ng-bind-html="item | translateFieldValue: col.field :col.filter | trusted"></a></td></tr></tbody><tbody ng-if="data && data.length<1" class="no-data" ng-cloak><tr><td style="background-color:#fff" colspan="{{columns.length}}"><h5>暂时没有数据</h5></td></tr></tbody></table><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div>');e.put("source/statistics/directive/chart-ticket-table/chart-ticket-table.html",'<div class="chart-ticket-table"><div class="panel-heading">明细数据 <span class="additional-tip" ng-if="additionalTip">({{ additionalTip }})</span><div class="toolbox pull-right"><export-report export-data="exportData" export-type="ticket" style="padding-right:10px"></export-report><a class="btn custom-link-color" ng-click="toggleColumnSelectPanel()"><i class="iconfont">&#xe636;</i> 列表项</a></div></div><div class="panel-body"><div class="ewei-table" ng-class="{\'no-pager\': tableParams.total()==0}"><div class="data-area"><div ng-if="isLoad == false" style="text-align:center;margin:20px;font-size:20px">{{tableParamsTitle}}</div><table ng-table="tableParams" id="tableParams" ewei-table-auto-rows="setRows" has-group="view.groupBy && view.groupBy.length>0" group-info="$groups" row-height="42" class="table table-custom-width table-hover table-striped" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr class=""><th class="column-checkbox" ng-if="showCheckboxes"><input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value=""></th><th ng-repeat="column in columns track by $index" a-ng-if="column.visible" class="text-left {{column.widthClass}}" ewei-custom-column-width="column" column-type="\'ticket\'" custom-field-column-width-info="customFieldColumnWidthInfo" field-column-width-info="fieldColumnWidthInfo" ng-class="{\n                    \'sort-asc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'asc\'),\n                    \'sort-desc\': tableParams.isSortBy(column.field==\'ticketSlas\'?\'updatedAt\':column.field, \'desc\'),\n                    \'sortable\': column.sortable\n                  }" ng-click="sorting(column)"><span>{{column.title}}<span class="sort-indicator"></span></span></th></tr></thead><tbody ng-if="tableParams.total()>0"><tr ng-repeat="item in $data track by $index" class=""><td ng-if="showCheckboxes" class="column-checkbox"><input type="checkbox" ng-if="item.user.status!=1&&item.user.status!=0" ng-model="checkboxes.items[item.id]"></td><td ng-repeat="column in columns track by $index" aa-ng-if="column.visible" ng-switch="column.fieldCount" ewei-custom-column-width="column" column-type="\'ticket\'" custom-field-column-width-info="customFieldColumnWidthInfo" field-column-width-info="fieldColumnWidthInfo"><span ng-switch-when="2" ng-switch="column.field"><span ng-switch-when="user.tags"><ewei-tags-show relatedtags="relatedtags" relatedid="{{item.id}}"></ewei-tags-show></span><span ng-switch-when="serviceCatalog.id" title="{{item.serviceCatalogNames}}">{{item.serviceCatalogNames}}</span> <span ng-switch-when="ticketType.name" ng-bind="item.ticketType.name" title="{{item.ticketType.name | translate}}"></span> <span ng-switch-when="role.name" ng-bind="item.role.name | translate" title="{{item.role.name | translate}}"></span> <span ng-switch-when="serviceDesk.name" ng-bind="item.serviceDesk.name | translate" title="{{item.serviceDesk.name | translate}}"></span> <span ng-switch-when="defaultServiceDesk.name" ng-bind="item.defaultServiceDesk.name | translate" title="{{item.defaultServiceDesk.name | translate}}"></span> <span ng-switch-when="evaluate.score" title="{{item.evaluate.score}}">{{item.evaluate.score}}</span> <span ng-switch-when="evaluate.solved" title="{{item.evaluate.solvedName}}">{{item.evaluate.solvedName}}</span> <span ng-switch-when="evaluate.system" title="{{item.evaluate.system | trueFalseFilter1 }}">{{item.evaluate.system |trueFalseFilter1}}</span> <span ng-switch-default ng-bind="item[column.field0][column.field1] | nullStringFilter" title="{{item[column.field0][column.field1] | nullStringFilter}}"></span> <span ng-switch-when="ticketMetric.pausedAt" ng-bind="item.ticketMetric.pausedAt | dateFilter_style1" title="{{item.ticketMetric.pausedAt | dateFilter_style1}}"></span> <span ng-switch-when="ticketMetric.solvedAt" ng-bind="item.ticketMetric.solvedAt | dateFilter_style1:\'solvedAt\':item.status" title="{{item.ticketMetric.solvedAt | dateFilter_style1:\'solvedAt\':item.status}}"></span> <span ng-switch-when="ticketMetric.responseAt" ng-bind="item.ticketMetric.responseAt | dateFilter_style1" title="{{item.ticketMetric.responseAt | dateFilter_style1}}"></span> <span ng-switch-when="ticketMetric.responseMinutes" ng-bind="item.ticketMetric.responseMinutes | minute_format_filter:\'responseMinutes\':item.status" title="{{item.ticketMetric.responseMinutes | minute_format_filter:\'responseMinutes\':item.status}}"></span> <span ng-switch-when="ticketMetric.solveMinutes" ng-bind="item.ticketMetric.solveMinutes | minute_format_filter:\'solveMinutes\':item.status"></span> </span><span ng-switch-when="3" ng-switch="column.field"><span ng-switch-when="user.role.name" ng-bind="item.user.role.name | translate" title="{{item.user.role.name | translate}}"></span> <span ng-switch-default ng-bind="item[column.field0][column.field1][column.field2] | nullStringFilter" title="{{item[column.field0][column.field1][column.field2] | nullStringFilter}}"></span> </span><span ng-switch-default ng-switch="column.field"><span ng-switch-when="subject"><a class="custom-link-color" ng-click="addTicketTab(item)" ng-bind="item.subject | nullStringFilter"></a> </span><span ng-switch-when="subscription"><i class="fa" style="position:relative;top:3px;font-size:1.3em;cursor:pointer" ng-class="{\'fa-star-o\':!item.isTarget,\'fa-star\':item.isTarget,\'color_yellow\':item.isTarget}" ng-click="setSubscription(item)"></i> </span><span ng-switch-when="createdAt" ng-bind="item.createdAt | dateFilter_style1" title="{{item.createdAt | dateFilter_style1}}"></span> <span ng-switch-when="updatedAt" ng-bind="item.updatedAt  | dateFilter_human" title="{{item.updatedAt  | dateFilter_human}}"></span> <span ng-switch-when="deletedAt" ng-bind="item.deletedAt | dateFilter_style1" title="{{item.deletedAt | dateFilter_style1}}"></span> <span ng-switch-when="lastLoginAt" ng-bind="item.lastLoginAt | dateFilter_style1" title="{{item.lastLoginAt | dateFilter_style1}}"></span> <span ng-switch-when="shared" ng-bind="item.shared | booleanFilter" title="{{item.shared | booleanFilter}}"></span> <span ng-switch-when="status" ng-bind="item.deleted?\'deleted\':item.status | ticketStatusFilter" title="{{item.deleted?\'deleted\':item.status | ticketStatusFilter}}"></span> <span ng-switch-when="tags"><tags data="item.tags"></tags></span><span ng-switch-when="copyTo" title="{{item.copyto}}">{{item.copyto}}</span> <span ng-switch-when="deleteReason"><span ng-if="item.deleteType==\'merger\'" translate="MERGER_TICKET_TO"></span> <span ng-bind="item.deleteReason | nullStringFilter" title="{{item.deleteReason | nullStringFilter}}"></span> </span><span ng-switch-when="name"><a class="c75 custom-main-font-color" ng-if="view.type==\'user\'" ui-sref="customers_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> <a class="c75 custom-main-font-color" ng-if="view.type==\'userGroup\'" ui-sref="user_groups_detail({id:item.id})" ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></a> </span><span ng-switch-when="priority"><ticket-priority-show priority="{{item.priority}}"></ticket-priority-show></span><span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span> </span><span ng-switch-when="customFields" ng-switch="column.type"><span ng-switch-when="checkbox" ng-bind="item[column.field] | checkboxFilter" title="{{item[column.field] | checkboxFilter}}"></span> <span ng-switch-default ng-bind="item[column.field] | nullStringFilter" title="{{item[column.field] | nullStringFilter}}"></span></span></td></tr></tbody><tbody ng-if="serverDataLoaded && !tableParams.isTicketLoading && tableParams.total()==0" class="no-data" ng-cloak><tr><td style="background-color:#fff" colspan="{{columns.length+(showCheckboxes?1:0)}}"><h5>暂时没有数据</h5></td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div></div></div><div class="column-select-panel set-wrp" ng-if="columnSelectPanelVisiable"><p class="title">选择展示的列</p><ul class="list clearfix"><li class="item" ng-repeat="customField in allFieldsCopy track by $index" ng-class="{\'selected\':customField.selected, \'even\':$index%2==1}" ng-click="toggleCustomField(customField);" title="{{customField.title}}">{{customField.title}}</li></ul><a ng-click="updateShowFields()" class="btn btn-confirm"><span>更新</span></a> <a ng-click="hideColumnSelectPanel()" class="btn btn-cancel">取消</a></div></div>');e.put("source/statistics/directive/echart-nodata/echart-nodata.html",'<div class="statistics-nodata"><p>没有相关数据</p></div>');e.put("source/statistics/directive/search-box/search-box-add-condition.html",'<style>.modal.center .modal-dialog{max-width:950px;width:100%}</style><div class="modal-inner-content" style="overflow-y:auto;max-height:500px"><div class="tryu margin_left20px margin_top20px" style="width:870px;min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>符合下列 所有 条件：</strong></p></td></tr><tr ng-repeat="andCondition in andConditions track by $index"><td class="padding_left40px padding_right30px w300"><select ng-change="conditionChange(andCondition)" class="size13 form-control w230" ng-options="andOption.value as andOption.option for andOption in andConditionOptions" ng-model="andCondition.attribute"></select></td><td class="padding_right30px w190"><select ng-disabled="andCondition.edit_able===0" ng-show="andCondition.attribute!=\'0\' && andCondition.attribute!=\'-1\'" class="size13 form-control w160" ng-options="compare.value as compare.option for compare in andCondition.compareOptions" ng-model="andCondition.compare"></select></td><td class="w320"><select ng-disabled="andCondition.edit_able===0" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'select\'&& andCondition.attribute !=\'priority\'" class="size13 form-control w320" ng-options="valueOption.value as valueOption.option for valueOption in andCondition.valueOptions" ng-model="andCondition.value"></select><ticket-priority-select disabled="andCondition.edit_able" width="w300" ng-if="andCondition.attribute!=\'0\' && andCondition.attribute==\'priority\'" selectedpriority="andCondition.value"></ticket-priority-select><via-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'via\'" selectedtype="andCondition.value.viaType" selectedvia="andCondition.value.via" selectedchannel="andCondition.value.channel" style="position:relative;top:-2px;margin:3px 0"></via-select><service-catalog-select disabled="andCondition.edit_able" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'serviceCatalog\'" selectedservicecatalog="andCondition.value" style="margin:3px 0" single-line="true"></service-catalog-select><engineer-select hascurrentengineer="true" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'engineer\'" selectedengineer="andCondition.engineer" selectedservicedesk="andCondition.engineerDesk" style="margin:3px 0" single-line="true"></engineer-select><service-desk-select hascurrentengineer="true" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'serviceDesk\'" selectedservicedesk="andCondition.value"></service-desk-select><user-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'requester\'" unable-add-user="true" selecteduser="andCondition.value"></user-select><user-select ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'user\'" unable-add-user="true" usertype="\'all\'" selecteduser="andCondition.value"></user-select><user-group-mutil-select has-name="true" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'userGroup\'" usergroups="andCondition.value"></user-group-mutil-select><input ng-disabled="andCondition.edit_able===0" type="text" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'text\'" class="size13 form-control w320" ng-model="andCondition.value"> <input ng-disabled="andCondition.edit_able===0" type="number" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'number\'" class="size13 form-control w320" ng-model="andCondition.value" style="text-align:center"><ticket-cc-input ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType===\'copyTo\'" ccs="andCondition.value" excludeusergroup="true" who="ticket" assignable="true" hidetomy="true" class="w320" style="display:inline-block;vertical-align:middle"></ticket-cc-input><input lay-date id="{{\'layDate-and-\'+ $index}}" ng-disabled="andCondition.edit_able===0" type="text" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'date_time\'" class="size13 form-control w320" ng-model="andCondition.value"><div class="input-group w320 datepicker-wrap" ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'date\'"><input ng-disabled="andCondition.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'andCondition\')" is-open="andCondition.start" ng-model="andCondition.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="andCondition.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'andCondition\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><cascade-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'cascade_options\'" category="auto" ticket-field="andCondition.valueOptions" single-line="true"></cascade-options><multi-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'multi_options\'" category="auto" ticket-field="andCondition.valueOptions"></multi-options><radio-options ng-if="andCondition.attribute!=\'0\'&&andCondition.valueType==\'options\'" category="auto" ticket-field="andCondition.valueOptions" single-line="true"></radio-options></td><td class="padding_left15px"><span style="color:#e04006;cursor:pointer" class="size30" ng-click="delCondition(\'and\',$index);">-</span></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addCondition(\'and\');"><strong>+</strong></span></td></tr></tbody></table></div><div class="tryu margin_left20px margin_top20px" style="width:870px;min-height:184px"><table class="setting-auto"><tbody><tr><td colspan="3"><p class="padding_left20px padding_top13px size14"><strong>符合下列 任何 条件：</strong></p></td></tr><tr ng-repeat="orCondition in orConditions track by $index"><td class="padding_left40px padding_right30px w300"><select class="size13 form-control w230" ng-change="conditionChange(orCondition)" ng-options="orOption.value as orOption.option for orOption in orConditionOptions" ng-model="orCondition.attribute"></select></td><td class="padding_right30px w190"><select ng-show="orCondition.attribute!=\'0\' && orCondition.attribute!=\'-1\'" ng-disabled="orCondition.edit_able===0" class="size13 form-control w160" ng-options="compare.value as compare.option for compare in orCondition.compareOptions" ng-model="orCondition.compare"></select></td><td class="w320"><select ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'select\' && orCondition.attribute!=\'priority\'" class="size13 form-control w320" ng-options="valueOption.value as valueOption.option for valueOption in orCondition.valueOptions" ng-model="orCondition.value"></select><ticket-priority-select disabled="orCondition.edit_able" width="w300" ng-if="orCondition.attribute!=\'0\' && orCondition.valueType==\'select\' &&  orCondition.attribute==\'priority\'" selectedpriority="orCondition.value"></ticket-priority-select><via-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'via\'" selectedtype="orCondition.value.viaType" selectedvia="orCondition.value.via" selectedchannel="orCondition.value.channel" style="position:relative;top:-2px;margin:3px 0"></via-select><service-catalog-select disabled="orCondition.edit_able" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'serviceCatalog\'" selectedservicecatalog="orCondition.value" style="margin:3px 0"></service-catalog-select><engineer-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'engineer\'" selectedengineer="orCondition.engineer" selectedservicedesk="orCondition.engineerDesk" style="margin:3px 0"></engineer-select><service-desk-select type="automation" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'serviceDesk\'" selectedservicedesk="orCondition.value"></service-desk-select><user-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'requester\'" selecteduser="orCondition.value"></user-select><user-select ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'user\'" usertype="\'all\'" selecteduser="orCondition.value"></user-select><user-group-mutil-select has-name="true" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'userGroup\'" usergroups="orCondition.value"></user-group-mutil-select><input type="text" ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'text\'" class="size13 form-control w320" ng-model="orCondition.value"> <input ng-disabled="orCondition.edit_able===0" type="number" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'number\'" class="size13 form-control w320" ng-model="orCondition.value" style="text-align:center"><ticket-cc-input ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType===\'copyTo\'" ccs="orCondition.value" excludeusergroup="true" who="ticket" assignable="true" hidetomy="true" class="w320" style="display:inline-block;vertical-align:middle"></ticket-cc-input><input lay-date id="{{\'layDate-or-\'+ $index}}" type="text" ng-disabled="orCondition.edit_able===0" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'date_time\'" class="size13 form-control w320" ng-model="orCondition.value"><div class="input-group w320 datepicker-wrap" ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'date\'"><input ng-disabled="orCondition.edit_able===0" class="form-control ng-pristine ng-valid ng-isolate-scope ng-valid-date ng-touched" type="text" ng-click="open($event,this,\'orCondition\')" is-open="orCondition.start" ng-model="orCondition.value" uib-datepicker-popup="yyyy/MM/dd" current-text="今天" clear-text="清除" close-text="关闭"> <span class="input-group-btn"><button ng-disabled="orCondition.edit_able===0" class="btn btn-default dateBtn" ng-click="open($event,this,\'orCondition\')" type="button"><i class="glyphicon glyphicon-calendar"></i></button></span></div><cascade-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'cascade_options\'" category="auto" ticket-field="orCondition.valueOptions"></cascade-options><multi-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'multi_options\'" category="auto" ticket-field="orCondition.valueOptions"></multi-options><radio-options ng-if="orCondition.attribute!=\'0\'&&orCondition.valueType==\'options\'" category="auto" ticket-field="orCondition.valueOptions"></radio-options></td><td class="padding_left15px"><span style="color:#e04006;cursor:pointer" class="size30" ng-click="delCondition(\'or\',$index);">-</span></td></tr><tr><td class="padding_left40px"><span style="color:#7bbf6a;cursor:pointer" class="size20" ng-click="addCondition(\'or\');"><strong>+</strong></span></td></tr></tbody></table></div></div><div class="modal-footer btn-group-common"><button type="button" id="saveButton" class="btn btn-confirm custom-background-color" ng-click="saveCondition()">确定</button> <button type="button" class="btn btn-cancel" ng-click="$hide()">取消</button></div>');e.put("source/statistics/directive/search-box/search-box.html",'<div class="statistics-search-box"><div class="search-header"><search-header header-type="headerType" open-type="openType" title="view.title"></search-header></div><div class="search-body"><search-view views="views" has-add-search="hasAddSearch" ng-if="showView"></search-view><search-detail view="view" open-type="openType" report-type="reportType" show-data-source="showDataSource" ng-if="showDetail"></search-detail></div></div>');e.put("source/statistics/directive/search-box/search-detail.html",'<div class="search-detail"><div class="content"><div ng-if="openType===\'add\'|| openType===\'edit\'" class="caption"><span class="">名称</span><input class="form-control" maxlength="10" type="text" ng-model="view.title"></div><div class="data-source"><p class="title">数据源</p><ul><li ng-repeat="item in dataSource track by $index"><input type="checkbox" ng-model="item.active" ng-true-value="true" ng-false-value="false" ng-change="selectDataSource(item)"><span>{{item.text}}</span></li></ul></div><div class="condition"><p class="title"><span>数据筛选</span> <i class="icon iconfont operate custom-main-font-color" ng-click="editCondition()" title="编辑条件">&#xe74f;</i></p><p class="sub-title">属于下列所有条件</p><ul><li ng-repeat="item in andConditions track by $index"><div class="list"><div ng-if="item.attribute===\'-1\'"><span class="gray">暂无条件</span></div><div ng-if="item.attribute!==\'-1\'"><span class="gray"><span ng-bind="item.display.option"></span> <span class="custom-main-font-color bold" ng-bind="item.display.compare"></span> <span ng-if="item.valueType!==\'checkbox\' && item.valueType !==\'via\'" ng-bind="item.display.value"></span> <span ng-if="item.valueType==\'via\' && item.display.value && !item.display.value.viaType && item.display.value.viaType!==\'\'">{{item.display.value}} </span><span ng-if="item.valueType==\'via\' && item.display.value.viaType">{{item.display.value.viaType | channelType}}{{item.display.value.via.name?(\'/\'+item.display.value.via.name):\'\'}}</span></span></div></div></li></ul><p class="sub-title margin_top30px">属于下列任意条件</p><ul><li ng-repeat="item in orConditions track by $index"><div class="list"><div ng-if="item.attribute===\'-1\'"><span class="gray">暂无条件</span></div><div ng-if="item.attribute!==\'-1\'"><span class="gray"><span ng-bind="item.display.option"></span> <span class="custom-main-font-color bold" ng-bind="item.display.compare"></span> <span ng-if="item.valueType!==\'checkbox\' && item.valueType !==\'via\'" ng-bind="item.display.value"></span> <span ng-if="item.valueType==\'via\' && item.display.value && !item.display.value.viaType && item.display.value.viaType!==\'\'">{{item.display.value}} </span><span ng-if="item.valueType==\'via\' && item.display.value.viaType">{{item.display.value.viaType | channelType}}{{item.display.value.via.name?(\'/\'+item.display.value.via.name):\'\'}}</span></span></div></div></li></ul></div></div><div class="footer"><button ng-if="openType===\'add\'||openType===\'edit\'" class="btn btn-primary" type="button" ng-click="saveSearch()">保存</button> <button ng-if="openType===\'search\'" class="btn btn-primary" type="button" ng-click="confirmSearch()">确定</button> <span class="btn-cancel" ng-click="cancelSearch()">取消</span></div></div>');e.put("source/statistics/directive/search-box/search-header.html",'<div ng-if="headerType===\'view\'"><span class="left">筛选方法</span> <span class="right custom-main-font-color search" ng-click="reSearch()" title=""><i class="iconfont">&#xe74d;</i> 重新筛选</span></div><div ng-if="headerType===\'detail\'"><span ng-if="openType===\'add\'" class="left custom-main-font-color" title="">添加筛选方法</span> <span ng-if="openType===\'edit\'" class="left custom-main-font-color" title="">编辑筛选方法</span> <span ng-if="openType===\'search\'" class="left custom-main-font-color"><span class="btn-back" ng-click="goBack()" title="">筛选方法</span> 》 <span ng-bind="title"></span></span></div>');e.put("source/statistics/directive/search-box/search-view.html",'<div class="search-view"><div class="content"><ul><li ng-repeat="item in views track by $index"><span class="header"><i ng-if="item.active" class="icon iconfont">&#xe710;</i> </span><span class="content pointer" ng-click="select(item)">{{item.title}}</span> <span class="operate"><i ng-if="!item.isDefault" class="icon iconfont pointer custom-main-font-color" ng-click="edit(item)" title="编辑">&#xe74f;</i> <i ng-if="!item.isDefault" class="icon iconfont pointer custom-main-font-color" ng-click="del(item)" title="删除">&#xe759;</i></span></li></ul></div><div ng-if="hasAddSearch" class="footer" has-permission="custom_statistics_report"><span class="custom-main-font-color btn-add-search" ng-click="add()"><i class="icon iconfont">&#xe75a;</i>添加筛选方法</span></div></div>');e.put("source/statistics/directive/service-catalog-breadcrumb/service-catalog-breadcrumb.html",'<ul class="breadcrumb service-catalog-breadcrumb"><li ng-repeat="breadcrumb in breadcrumbs" ng-class="{active: breadcrumbs.length-1 == $index}"><a class="custom-link-color" ng-click="switchCatalog(breadcrumb, $index)">{{breadcrumb.name}}</a></li><li uib-dropdown dropdown-append-to="body"><a class="custom-link-color" href="javascript:void(0)" uib-dropdown-toggle>全部目录 <i class="iconfont">&#xe60c;</i></a><ul class="dropdown-menu menu" uib-dropdown-menu aria-labelledby="选择服务目录"><li><a href="javascript:void(0)" ng-click="selectServiceCatalog()">全部目录</a></li><li ng-repeat="menu in menus"><a href="javascript:void(0)" ng-click="selectServiceCatalog(menu)">{{menu.name}}</a></li></ul></li></ul>');e.put("source/statistics/directive/tool-tip/tooltip.html",'<style>.tooltip.customClass ul{margin:0;padding:10px}.tooltip.customClass .tooltip-inner{max-width:400px;padding:3px 8px;color:#fff;text-align:left;background-color:#000;border-radius:4px;opacity:{{opacity}}}.tooltip.customClass .tooltip-arrow{opacity:{{opacity}}}</style><span tooltip-placement="{{placement}}" tooltip-trigger="{{trigger}}" uib-tooltip-html="htmlTip" tooltip-class="customClass" tooltip-is-open="{{isOpen}}"><i class="iconfont custom-main-font-color" style="cursor:pointer;padding-left:10px">&#xe6ee;</i> </span>');e.put("source/statistics/engineer/ticket/engineer.evaluate.view.html",'<div class="statistics-wrap statistics-ticket-sla"><div class="data-area"><div class="panel data-panel"><div style="margin-top:20px" class="panel-heading"><span>统计数据</span><div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip" placement="left"></tool-tip></div></div><div class="panel-body" style="position:relative"><chart-table columns="columns" count="20" data="allData" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/engineer/ticket/engineer.qualityEngineer.detail.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'response\')" ng-class="{\'custom-main-font-color\': !showWhichOne.response}">响应时长</span> | <span ng-click="checked(\'solved\')" ng-class="{\'custom-main-font-color\': !showWhichOne.solved}">处理时长</span> | <span ng-click="checked(\'evaluate\')" ng-class="{\'custom-main-font-color\': !showWhichOne.evaluate}">满意度</span></div><div class="panel-body"><div ng-if="engineer.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="engineer.length>0"><div ng-if="showWhichOne.response" lines-chart option="responseOption" style="height:400px"></div><div ng-if="showWhichOne.solved" lines-chart option="solvedOption" style="height:400px"></div><div ng-if="showWhichOne.evaluate" lines-chart option="evaluateOption" style="height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="engineer" total-data="totalData"></chart-table></div></div></div></div>');e.put("source/statistics/engineer/ticket/engineer.qualityEngineer.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'response\')" ng-class="{\'custom-main-font-color\': !showWhichOne.response}">响应时长</span> | <span ng-click="checked(\'solved\')" ng-class="{\'custom-main-font-color\': !showWhichOne.solved}">处理时长</span> | <span ng-click="checked(\'evaluate\')" ng-class="{\'custom-main-font-color\': !showWhichOne.evaluate}">满意度</span></div><div class="panel-body"><div ng-if="engineer.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="engineer.length>0"><div ng-if="showWhichOne.response" lines-chart option="responseOption" style="height:400px"></div><div ng-if="showWhichOne.solved" lines-chart option="solvedOption" style="height:400px"></div><div ng-if="showWhichOne.evaluate" lines-chart option="evaluateOption" style="height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="engineer" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/engineer/ticket/engineer.qualityServiceDesk.detail.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span ng-click="checked(\'average\')" ng-class="{\'custom-main-font-color\': !showWhichOne.average}">响应时长</span> | <span ng-click="checked(\'response\')" ng-class="{\'custom-main-font-color\': !showWhichOne.response}">响应时长分布</span></div><div class="panel-body"><div ng-if="showWhichOne.average" lines-chart option="averageOption" style="height:400px"></div><div ng-if="showWhichOne.response" bar-chart option="responseOption" style="height:400px"></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="serviceDesk" total-data="totalData"></chart-table></div></div></div></div>');e.put("source/statistics/engineer/ticket/engineer.qualityServiceDesk.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span>趋势图</span></div><div class="panel-body"><div ng-if="serviceDesk.length === 0 && loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="serviceDesk.length" lines-chart option="option" style="height:400px"></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="serviceDesk" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/engineer/ticket/engineer.quantityEngineer.detail.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span>趋势图</span></div><div class="panel-body"><div ng-if="engineer.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="engineer.length>0"><div lines-chart option="option" style="height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="engineer" total-data="totalData"></chart-table></div></div></div></div>');e.put("source/statistics/engineer/ticket/engineer.quantityEngineer.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span>趋势图</span></div><div class="panel-body"><div ng-if="engineer.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="engineer.length>0"><div lines-chart option="option" style="height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="engineer" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/statistics/engineer/ticket/engineer.quantityServiceDesk.detail.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span>趋势图</span></div><div class="panel-body"><div lines-chart option="option" style="width:100%;height:400px"></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="serviceDesk" total-data="totalData"></chart-table></div></div></div></div>');e.put("source/statistics/engineer/ticket/engineer.quantityServiceDesk.view.html",'<div class="statistics-wrap statistics-panel"><div class="data-area"><div class="chart-panel panel"><div class="panel-heading"><span>趋势图</span></div><div class="panel-body"><div ng-if="serviceDesk.length===0&&loadComplete"><echart-no-data></echart-no-data></div><div class="statistics-loading" ng-if="!loadComplete"><img src="/source/images/ajax-loader.gif"></div><div ng-if="serviceDesk.length>0"><div lines-chart option="option" style="width:100%;height:400px"></div></div></div></div><div class="panel data-panel"><div class="panel-heading">统计数据<div class="toolbox pull-right"><export-report export-data="exportData" export-type="local"></export-report><tool-tip tip="questionTip"></tool-tip></div></div><div class="panel-body"><chart-table columns="columns" count="20" data="serviceDesk" total-data="totalData"></chart-table></div></div></div><div class="panel filter-panel"><search-box search-data="searchData"></search-box></div></div>');e.put("source/system-setting/assignment/templates/assignment-detail.html",'<div class="setting-head-common setting-web-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'assignment\',settingType:\'ticket\'})">智能分派</a> 》{{assignRule.name}}</div><oem-learn-more type="web-channel" description="通过预设不同的条件，将不同来源属性的请求智能分派到客服组或客服，减少人工判断以及操作。<br>\n    产生请求时将按照从上到下的顺序依次判断是否要被触发，满足则执行该条规则。 " learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1165" class="know-more"></oem-learn-more><div class="assign-detail"><div class="detail-wrapper"><div class="detail-item"><div class="item-title">规则名称*</div><div class="item-content"><input type="text" style="width:500px" class="form-control" maxlength="40" placeholder="请为该规则设置一个名称" ng-model="assignRule.name"></div></div><div class="detail-item"><div class="item-title"><span>匹配条件*</span></div><div class="item-content"><p ng-if="assignRule.isDefault" style="color:red">默认规则不支持设置条件</p><select-condition type="showType" is-default="assignRule.isDefault" ng-if="assignRule.andConditions && assignRule.orConditions" and-conditions="assignRule.andConditions" or-conditions="assignRule.orConditions" condition-options="conditions"></select-condition></div></div><div class="detail-item"><div class="item-title"><span>分派规则</span></div><div class="item-content"><div class="assign-item"><div class="request"><div class="rule rule-color" ng-click="toggleAssignRuleList()" ng-if="showType === \'chat\'"><div class="img"><i class="iconfont">{{currentAssignRule.type === \'person\'?\'&#xe78d;\' : currentAssignRule.type === \'robot_first\'?\'&#xe791;\': currentAssignRule.type === \'person_first\'? \'&#xe7bc;\':\'&#xe790;\'}}</i></div><div class="rule-content"><p class="rule-name" ng-bind="currentAssignRule.name"></p><p ng-bind="currentAssignRule.content"></p></div><p class="current">当前方案</p><div><a href="javascript:;" class="iconfont">&#xe64d;</a></div></div><div class="rule-list" ng-show="showType === \'chat\' && isShowAssignRuleList"><div class="rule" ng-click="selectAssignRule(item)" ng-repeat="item in assignRuleList"><div class="img"><i class="iconfont">{{item.type === \'person\'?\'&#xe78d;\' : item.type === \'robot_first\'?\'&#xe791;\' : item.type === \'person_first\'? \'&#xe7bc;\': \'&#xe790;\'}}</i></div><div class="rule-content"><p class="rule-name" ng-bind="::item.name"></p><p ng-bind="::item.content"></p></div></div></div><div class="rule-form" ng-show="!isShowAssignRuleList"><div class="engineer" ng-show="showType === \'chat\' && currentAssignRule.type === \'person_first\'"><p class="txt">人工客服</p><div class="select-engineer-wrap"><div class="detail" ng-repeat="hander in assignRule.assignRuleHandlers track by $index"><engineer-select selectableservicedesk="true" selectedengineer="hander.engineer" selectedservicedesk="hander.serviceDesk" class="slect-engineer"></engineer-select><a style="color:#e04006" ng-click="deleteAssignRuleHandlers($index);" class="size20">-</a></div><a class="add" href="javascript:;" ng-if="assignRule.assignRuleHandlers.length < 2" ng-click="addAssignRuleHandlers();"><strong>+</strong></a></div></div><div class="engineer" ng-show="showType === \'chat\' && currentAssignRule.type !== \'person\'"><p class="txt">机器人客服</p><select class="form-control select-robot" ng-model="assignRule.automatonId" ng-options="item.id as item.name for item in robotList" ng-change="selectRobot()"></select></div><div class="engineer" ng-show="showType === \'chat\' && currentAssignRule.type !== \'robot\' && currentAssignRule.type !== \'person_first\'"><p class="txt">人工客服</p><div class="select-engineer-wrap"><div class="detail" ng-repeat="hander in assignRule.assignRuleHandlers track by $index"><engineer-select selectableservicedesk="true" selectedengineer="hander.engineer" selectedservicedesk="hander.serviceDesk" class="slect-engineer"></engineer-select><a style="color:#e04006" ng-click="deleteAssignRuleHandlers($index);" class="size20">-</a></div><a class="add" href="javascript:;" ng-if="assignRule.assignRuleHandlers.length < 2" ng-click="addAssignRuleHandlers();"><strong>+</strong></a></div></div><div class="engineer" ng-if="showType === \'ticket\'"><div class="detail" ng-repeat="hander in assignRule.assignRuleHandlers track by $index"><engineer-or-workflow-select showinticketdetail="false" selectedservicedesk="hander.serviceDesk" selectedengineer="hander.engineer" selectedworkflow="hander.workflow" ticketid="" class="engineer-or-workflow-select"></engineer-or-workflow-select></div></div></div></div></div></div></div><div class="detail-item" ng-show="showType === \'chat\' && currentAssignRule.type !== \'robot\'"><div class="item-title"><span>人工分派规则</span></div><div class="item-content"><div class="assign-item"><div class="assign-mode" ng-repeat="item in assignModeList"><div class="promet"><p class="txt" ng-bind="item.name"></p><p ng-bind="item.content"></p></div><p class="current" ng-show="assignRule.assignMode === item.type">当前方案</p><p ng-click="selectAssignMode(item.type)" ng-show="assignRule.assignMode !== item.type" class="select">选择</p></div></div><div class="assign-item"><div class="assign-mode"><div style="width:540px"><b class="txt">回头客分派</b><p>优先把回头客分配给上一次和他对话的客服，前提要满足该客服在本次的投递范围内</p></div><switch class="small-switch" ng-model="assignRule.isRepeatCustomers"></switch></div></div></div></div><div class="detail-item" ng-show="showType === \'chat\' && currentAssignRule.type !== \'robot\'"><div class="item-title"><span>应答模版</span></div><div class="item-content"><div class="receive-item" style="margin-top:0"><div class="title-wrap first-title-wrap"><div class="title-header"><b>是否需要开启服务目录导航</b><switch name="enabled" class="small-switch" ng-model="assignRule.assignAutomaticReply.isMenu" ng-change="switchServiceCatalogs()"></switch></div><div class="title-footer"><p>让顾客选择遇到的问题或需要服务的类型，可根据顾客的选择分配到客服组或客服</p></div></div><online-customer-navigation rule-id="assignId" arr="serviceCatalogs" ng-if="assignRule.assignAutomaticReply.isMenu"></online-customer-navigation><div style="padding-left:10px" ng-if="assignRule.assignAutomaticReply.isMenu"><input type="checkbox" ng-model="assignRule.assignAutomaticReply.isCustomerService"> 启用“999 呼叫客服”选项</div></div><div class="receive-item" ng-show="settings.hasWelcome"><div class="title-wrap"><div class="title-header"><p class="txt">{{assignRule.assignAutomaticReply.isMenu?\'带有服务目录导航的欢迎语\':\'欢迎语\'}}</p></div><div class="title-footer"><p>每段对话开启时，系统将自动为客户展示一段欢迎语</p></div></div><div class="receive-detail"><mini-editor ng-show="!assignRule.assignAutomaticReply.isMenu" width="400px" mark="{tag: \'save_ticket\', title: \'提交工单\', icon: \'&#xe7bd;\'}" value="assignRule.assignAutomaticReply.onlineWelcome"></mini-editor><mini-editor ng-show="assignRule.assignAutomaticReply.isMenu" width="400px" mark="{tag: \'save_ticket\', title: \'提交工单\', icon: \'&#xe7bd;\'}" value="assignRule.assignAutomaticReply.onlineGuideWelcome"></mini-editor><a ng-click="recover(assignRule.assignAutomaticReply.isMenu ? \'onlineGuideWelcome\' : \'onlineWelcome\')" class="recover color999">恢复默认设置</a></div></div><div class="receive-item" ng-show="settings.hasWxWelcome" style="margin-top:-15px"><div class="title-wrap"><div class="title-header"><p class="txt"><span class="color_red">微信渠道</span><span class="color999">不支持链接点击动作，需单独设置应答模版</span></p></div></div><div class="receive-detail"><mini-editor width="400px" mark="{tag: \'save_ticket\', title: \'提交工单\', icon: \'&#xe7bd;\'}" value="assignRule.assignAutomaticReply.onlineGuideWelcomeWeixin"></mini-editor><a ng-click="recover(\'onlineGuideWelcomeWeixin\')" class="recover color999">恢复默认设置</a></div></div><div class="receive-item" ng-show="settings.hasAutoReply"><div class="title-wrap"><div class="title-header"><p class="txt">自动回复</p></div><div class="title-footer"><p>顾客的回复如果未命中导航，系统将自动向客户发送的回复</p></div></div><div class="receive-detail"><mini-editor width="400px" mark="{tag: \'save_ticket\', title: \'提交工单\', icon: \'&#xe7bd;\'}" value="assignRule.assignAutomaticReply.onlineGuideReply"></mini-editor><a ng-click="recover(\'onlineGuideReply\')" class="recover color999">恢复默认设置</a></div></div><div class="receive-item" ng-show="settings.hasAutoReply" style="margin-top:-15px"><div class="title-wrap"><div class="title-header"><p class="txt"><span class="color_red">微信渠道</span><span class="color999">不支持链接点击动作，需单独设置应答模版</span></p></div></div><div class="receive-detail"><mini-editor width="400px" mark="{tag: \'save_ticket\', title: \'提交工单\', icon: \'&#xe7bd;\'}" value="assignRule.assignAutomaticReply.onlineGuideReplyWeixin"></mini-editor><a ng-click="recover(\'onlineGuideReplyWeixin\')" class="recover color999">恢复默认设置</a></div></div><div ng-show="settings.hasOfflineWelcome" class="receive-item"><div class="title-wrap"><div class="title-header"><p class="txt">离线欢迎语</p></div><div class="title-footer"><p>客户在非营业时间开启对话时，系统将自动为客户展示一段离线欢迎语</p></div></div><div class="receive-detail"><mini-editor width="400px" mark="{tag: \'save_ticket\', title: \'提交工单\', icon: \'&#xe7bd;\'}" value="assignRule.assignAutomaticReply.offlineWelcome"></mini-editor><a ng-click="recover(\'offlineWelcome\')" class="recover color999">恢复默认设置</a></div></div><div class="receive-item" ng-show="settings.hasOfflineAutoReply"><div class="title-wrap"><div class="title-header"><p class="txt">离线自动回复</p></div><div class="title-footer"><p>客户在非营业时间或目标客服组无人在线时发送消息或从机器人转人工，系统将自动向客户发送离线自动回复</p></div></div><div class="receive-detail"><mini-editor width="400px" mark="{tag: \'save_ticket\', title: \'提交工单\', icon: \'&#xe7bd;\'}" value="assignRule.assignAutomaticReply.offlineAutomaticReply"></mini-editor><a ng-click="recover(\'offlineAutomaticReply\')" class="recover color999">恢复默认设置</a></div></div></div></div></div><div class="w100p" style="padding-left:100px"><a class="btn btn-primary w100 sub" ng-click="saveRule()">更新</a></div></div></div>');e.put("source/system-setting/assignment/templates/assignment.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>智能分派</strong></p></div><oem-learn-more style="width:564px" type="assignment" description="通过预设不同的条件，将不同来源属性的请求智能分派到客服组或客服，减少人工判断以及操作。\n                  产生请求时将按照从上到下的顺序依次判断是否要被触发，满足则执行该条规则。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1160" class="know-more"></oem-learn-more><div class="system-setting-search"><div class="input-group"><input type="text" class="form-control search-input" placeholder="搜索" ng-model="searchKey" ng-enter="searchRule()"> <span class="input-group-addon" style="cursor:pointer;color:#ccc" ng-click="searchRule()" ng-style="(searchKey!=null&amp;&amp;searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span> <i class="iconfont delete-search-icon" ng-show="searchKey && oldSearchKey" ng-click="cancelSearch()">&#xe711;</i></div><a class="btn btn-default" href="javascript:void(0)" ng-click="editRule(\'add\', \'0\')">添加规则</a></div><ul class="nav-list clearfix"><li ng-click="switching(\'chat\')" ng-class="{true: \'active\',false: \'\'}[displayChat]">会话</li><li ng-click="switching(\'ticket\')" ng-class="{true: \'active\',false: \'\'}[displayTicket]">工单</li></ul><div class="assignment"><div class="w900 margin_top10px"><div class="table-responsive"><table class="table new-table"><thead><tr><th class="sort">执行顺序</th><th class="name">名称</th><th class="requester">请求</th><th class="assign">分派</th><th class="state">状态</th><th class="text-right do">操作</th></tr></thead><tbody ng-sortable="sortableOptions"><tr ng-class="{\'sortable\': rule.num < isDefaultPosition}" ng-repeat="rule in ruleList track by $index" ng-style="{borderBottom:\'1px solid #DDDDDD\'}"><td ng-bind="rule.num"></td><td><a ng-click="editRule(\'edit\', rule)" class="custom-main-font-color text-break" ng-bind="rule.name"></a></td><td><p ng-if="rule.andConditions.length === 0 && rule.orConditions.length === 0">无</p><div ng-if="rule.andConditions.length > 0"><p>满足以下所有条件</p><div class="text-break" ng-repeat="item in rule.andConditions"><span ng-bind="::item.name"></span> <span ng-bind="::item.compare"></span> <span ng-bind="::item.value"></span></div></div><div ng-if="rule.orConditions.length > 0" class="text-break"><p>满足以下任意条件</p><div ng-repeat="item in rule.orConditions"><span ng-bind="::item.name"></span> <span ng-bind="::item.compare"></span> <span ng-bind="::item.value"></span></div></div></td><td><p ng-if="rule.type === \'ticket\' || (!hander.robot && (rule.assignRuleInfo === \'person_first\' || rule.assignRuleInfo === \'person\'))" class="text-break" ng-repeat="hander in rule.assignRuleHandlers">{{hander.activitiWorkflowTemplate && hander.activitiWorkflowTemplate.name?hander.activitiWorkflowTemplate.name:hander.engineer?hander.engineer.userName||hander.engineer.nickname:hander.serviceDesk.name | translate}}</p><p ng-if="rule.assignRuleInfo === \'person_first\' || rule.assignRuleInfo === \'robot_first\' || rule.assignRuleInfo === \'robot\'">机器人</p><p ng-if="!hander.robot && (rule.assignRuleInfo === \'robot_first\')" class="text-break" ng-repeat="hander in rule.assignRuleHandlers">{{hander.activitiWorkflowTemplate && hander.activitiWorkflowTemplate.name?hander.activitiWorkflowTemplate.name:hander.engineer?hander.engineer.userName||hander.engineer.nickname:hander.serviceDesk.name | translate}}</p></td><td ng-bind="rule.active?\'启用\':\'停用\'"></td><td class="text-right"><a ng-click="editRule(\'copy\', rule)" ng-if="rule.active">克隆</a><span ng-if="rule.active">&emsp;|&emsp;</span><a ng-click="editRule(\'edit\', rule)" ng-if="rule.active">编辑</a><span ng-if="rule.active && !rule.isDefault">&emsp;|&emsp;</span> <a ng-click="deleteRule(rule)" ng-if="!rule.isDefault && !rule.active">删除</a><span ng-if="!rule.isDefault && !rule.active">&emsp;|&emsp;</span> <a ng-click="updateFormState(rule)" ng-if="!rule.isDefault" ng-bind="rule.active?\'停用\':\'启用\'"></a></td></tr></tbody></table></div></div></div></div>');e.put("source/system-setting/assignment/templates/online-customer-navigation.html",'<div class="serviceCatalogBox clearfix"><div class="serviceCatalogContent"><p><span ng-repeat="nav in navList track by $index"><span ng-if="$index != 0">》</span> <span ng-click="goServiceCatalog(nav,$index)" ng-class="{true:\'navClass\'}[$index != navList.length-1]">{{nav.name}}</span></span></p><ul><li ng-click="setIndex(item)" ng-class="{true:\'weixinActive\'}[item.isChecked]" ng-repeat="item in serviceCatalogs track by $index"><div class="serviceCatalogListNo">{{item.no}}</div><div class="serviceCatalogListCon"><span ng-click="getNextServiceCatalog(item,$event)" ng-show="!item.isShowInput" style="float:left">{{item.name}}</span> <input id="{{item.uId}}" ng-blur="ngBlur(item)" ng-focus="ngFocus()" ng-show="item.isShowInput" ng-click="inputStopPropagation($event)" style="height:20px" type="text" ng-model="item.name"></div><div class="serviceCatalogListEdit"><label for="{{item.uId}}" ng-show="(!item.isShowInput) && item.isChecked " ng-click="editServiceCatalog(item,$event)" style="cursor:pointer"><i class="fa fa-pencil"></i></label></div></li></ul><p ng-if="(navList.length>1)" style="position:absolute;top:40px;right:40px">选中可编辑</p></div></div>');e.put("source/system-setting/business-rule/robot-setting/robot-setting.html",'<div class="setting-head-common robot-setting-box"><div class="nav-title"><p class="channel"><strong>机器人设置</strong></p></div><oem-learn-more type="setting-business-rule-robot" description="机器人可以减少人工客服的压力，引导客户自行解决问题。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1155" class="know-more"></oem-learn-more><div class="one-box"><p class="robot-title"><strong>机器人名片</strong><span>用户在网站和SDK等对话窗口看到的客服信息</span></p><div class="card clearfix"><form class="form-horizontal"><div class="form-group"><label class="col-sm-2 control-label">名称</label><div class="col-sm-10"><input type="text" class="form-control w300" ng-model="robotConfig.name" maxlength="16"></div></div><div class="form-group"><label class="col-sm-2 control-label">签名</label><div class="col-sm-10"><textarea class="form-control w300" ng-model="robotConfig.signature" maxlength="64"></textarea></div></div></form><div class="update-icon"><img width="60" height="60" ng-src="{{imgUrl}}"><div style="display:inline-block;position:relative;vertical-align:bottom"><div file-single-size-limit="0.02" ewei-webuploader upload-success="uploadSuccess(file, response)" error="error(handler)" file-type="image" class="pickWx"><a class="custom-main-font-color">上传新头像</a></div><p style="color:#999;margin-top:5px">60x60图片，文件不要超过20KB</p></div></div></div></div><div class="one-box"><p class="robot-title"><strong>机器人自动回复</strong></p><div class="auto-reply"><ul><li><h3>机器人欢迎语</h3><p>当优先机器人或仅机器人接待时，系统发出的欢迎语</p><div class="reply_box_body"><div paste-for-text="true" contenteditable="true" ng-model="robotConfig.welcomeReply" class="form-control w400 content"></div></div></li><li><h3>知识库命中回复</h3><p>机器人将根据用户的会话内容到已有的知识库内进行搜索，如果发现相关的内容将会按照以下的格式向客户回复</p><div class="reply_box_body"><div paste-for-text="true" contenteditable="true" ng-model="robotConfig.knowledgeReply" class="form-control w400 content"></div></div></li><li><h3>知识库未命中回复</h3><p>机器人将根据用户的会话内容到已有的知识库内进行搜索，如果没有发现相关的内容将会按照以下的格式向客户回复</p><div class="reply_box_body"><div paste-for-text="true" contenteditable="true" ng-model="robotConfig.missKnowledgeReply" class="form-control w400 content"></div></div></li><li><h3>转人工引导</h3><p>会话过程中允许客户转人工时，机器人的欢迎语中都会带上以下提醒</p><div class="reply_box_body"><div paste-for-text="true" contenteditable="true" ng-model="robotConfig.turnReply" class="form-control w400 content"></div></div><p class="tip">*接通指令999不支持更换</p></li></ul></div></div><div class="auto_reply_footer"><button type="button" class="btn btn-primary w100" ng-click="update();">更新</button></div></div>');e.put("source/system-setting/channel-settings/api-channel/api.html",'<div class="setting-head-common api-channel-setting-box"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">渠道管理 </a>》<span ng-if="!apiSettingModel.id">添加渠道</span><span ng-if="apiSettingModel.id">{{apiSettingTempModel.name}}</span></div><oem-learn-more type="setting-mulit-channel-api" description="您可以使用易维 API 访问易维功能，例如创建、编辑和查询工单。可以将 易维 功能整合到您自己的应用程序中，或建立 app 在您的 易维中添加功能。 " learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1114" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li class="active">基本信息</li></ul><div class="api"><h3><strong>渠道名称</strong><span class="color-set">取一个简短的名称，在工单和报告中显示为工单的来源名称。</span></h3><div class="name-box"><input type="text" class="form-control w400" ng-model="apiSettingModel.name" maxlength="40"></div><form><div ng-if="apiSettingModel.id" class="form-group"><label>APPKEY</label><input ng-model="apiSettingModel.appKey" type="text" class="form-control w400" disabled="disabled"></div><div ng-if="apiSettingModel.id" class="form-group"><label>APPSECTET</label><input ng-model="apiSettingModel.appSecret" type="text" class="form-control w400" disabled="disabled"></div><p ng-if="apiSettingModel.id" class="color-set">请妥善保管appkey和appsecret，不要泄露给第三方</p><div class="form-group updateBox"><button ng-click="updateAccessConfigSetting()" type="button" class="btn btn-primary w100" ng-disabled="isDisable"><span ng-if="!apiSettingModel.id">添加</span> <span ng-if="apiSettingModel.id">更新</span></button> <a class="margin_left45px v_middle" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">取消</a></div></form></div></div>');e.put("source/system-setting/channel-settings/cti-channel/access-config.html",'<div class="setting-common-body access-config"><p ng-if="!ctiConfigModel.verified && ctiConfigModel.id" class="tip-info">此渠道尚未验证成功，请尝试拨通电话完成验证。</p><ul><li><div class="title-bar"><span>渠道名称 <span class="xing">*</span></span></div><div class="form-content"><input type="text" ng-model="ctiConfigModel.name" class="form-control w400" maxlength="25"><p class="tip">取一个简短的名称，在工单和报告中显示为工单渠道来源。</p></div></li><li><div class="title-bar"><span>话机种类 <span class="xing">*</span></span></div><div class="form-content"><select class="form-control w400" ng-model="ctiConfigModel.config.type"><option value="phone_box">电话盒子（普通电话分机或外线）</option><option value="sip">语音网关或交换机（SIP协议）</option><option value="cloud_callcenter">SaaS云呼叫中心</option><option value="callcenter">独立部署呼叫中心</option></select><p class="tip">电话盒子（普通电话分机或外线），是通过USB电话盒子（另购）与电脑终端相连接，支持来去电弹屏和通话录音。 语音网关或交换机（SIP协议），是通过连接企业的IP语音网关，使用耳麦接打电话，支持来去电弹屏和通话录音。 SaaS云/独立部署呼叫中心，实现了IVR语音导航、智能路由分派、来电弹屏、话务控制、通话转工单、坐席监控、通话明细等功能。 并与工单系统、客户数据互通，以提高坐席接待和企业管理效率。如有需要，请联系客服开通，获取以下参数。</p></div></li><li ng-if="ctiConfigModel.config.type == \'sip\'"><div class="title-bar"><span>SIP线路地址 <span class="xing">*</span></span></div><div class="form-content long-box"><div class="pull-left"><input type="text" ng-model="ctiConfigModel.config.sipAddress" class="form-control w400"><p class="tip">SIP语音网关的IP地址或域名。</p></div><div class="pull-left margin_left30px"><div class="inline_block"><label>端口 <span class="xing">*</span></label></div><div class="margin_left10px inline_block"><input type="text" ng-model="ctiConfigModel.config.sipPort" class="form-control w200" maxlength="5"></div><p class="tip margin_left50px">默认端口号通常是5060，如果不是请修改。</p></div></div></li><li ng-if="ctiConfigModel.config.type == \'sip\'"><div class="title-bar"><span>外呼代理IP</span></div><div class="form-content long-box"><div class="pull-left"><input type="text" ng-model="ctiConfigModel.config.proxyAddress" class="form-control w400"><p class="tip">SIP语音网关进行外呼时的代理IP，默认一般跟SIP线路地址一致</p></div><div class="pull-left margin_left30px"><div class="inline_block"><label>端口</label></div><div class="margin_left20px inline_block"><input type="text" ng-model="ctiConfigModel.config.proxyPort" class="form-control w200" maxlength="5"></div><p class="tip margin_left50px">默认端口号通常是5060，如果不是请修改。</p></div></div></li><li ng-if="ctiConfigModel.config.type == \'sip\' || ctiConfigModel.config.type == \'phone_box\'"><div class="title-bar"><span>电话录音</span></div><div class="form-content"><select class="form-control w400" ng-model="ctiConfigModel.config.saveRecord"><option value="true">保存电话录音</option><option value="false">不保存电话录音</option></select></div></li><li ng-if="ctiConfigModel.config.type == \'callcenter\'"><div class="title-bar"><span>外线号码 <span class="xing">*</span></span></div><div class="form-content long-box"><div class="pull-left"><input type="text" class="form-control w400" ng-model="ctiConfigModel.config.pstnNo"><p class="tip">搭建呼叫中心时的企业对外号码。</p></div></div></li><li ng-if="ctiConfigModel.config.type == \'callcenter\'"><div class="title-bar"><span>服务器URL <span class="xing">*</span></span></div><div class="form-content long-box"><div class="pull-left"><input type="text" class="form-control w400" placeholder="例如 cc.yuneasy.cn/hostepcc/websocket" ng-model="ctiConfigModel.config.url"><p class="tip">用于易维系统和呼叫中心系统建立通讯协议的地址。</p></div></div></li><li ng-if="ctiConfigModel.config.type == \'callcenter\'"><div class="title-bar"><span>内置电话URL</span></div><div class="form-content long-box"><div class="pull-left"><input type="text" class="form-control w400" placeholder="例如  cloud.yuneasy.cn:7071" ng-model="ctiConfigModel.config.internalUrl"><p class="tip">如果您需要部署内置话机，则需要填写此项。</p></div></div></li><li ng-if="ctiConfigModel.config.type == \'cloud_callcenter\'"><div class="title-bar"><span>企业ID<span class="xing">*</span></span></div><div class="form-content long-box"><div class="pull-left"><input type="text" class="form-control w400" ng-model="ctiConfigModel.config.companyId"><p class="tip">企业的唯一身份标识，请联系客服开通索取。</p></div></div></li><li ng-if="ctiConfigModel.config.type == \'cloud_callcenter\'"><div class="title-bar"><span>企业编号<span class="xing">*</span></span></div><div class="form-content long-box"><div class="pull-left"><input type="text" class="form-control w400" ng-model="ctiConfigModel.config.companyNo"><p class="tip">搭建呼叫中心时，为企业生成的一串序列号，请联系客服开通索取。</p></div></div></li><li ng-if="ctiConfigModel.config.type == \'cloud_callcenter\'"><div class="title-bar"><span>外线号码 <span class="xing">*</span></span></div><div class="form-content long-box"><div class="pull-left"><input type="text" class="form-control w400" ng-model="ctiConfigModel.config.pstnNo"><p class="tip">搭建呼叫中心时的企业对外号码。</p></div></div></li><li><div class="title-bar"></div><div class="form-content"><button type="button" class="btn btn-primary w100" ng-click="updateAccessConfigSetting()" ng-disabled="isDisable"><span ng-if="!ctiConfigModel.id">添加</span> <span ng-if="ctiConfigModel.id">更新</span></button> <a class="margin_left45px v_middle" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">取消</a></div></li></ul></div>');e.put("source/system-setting/channel-settings/cti-channel/cti.html",'<div class="setting-head-common cti-channel-setting-box"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">渠道管理 </a>》<span ng-if="!ctiSettingModel.id">电话接入</span><span ng-if="ctiSettingModel.id">{{ctiSettingModel.name}}</span></div><oem-learn-more type="setting-mulit-channel-cti" description="通过CTI电脑电话接口，将电话语音接入客服系统。来电/去电弹屏，自动关联客户，创建或插入工单，并保存通话录音。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1169" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ui-sref="system_setting.ctiChannel.accessConfig" ui-sref-active="active">接入配置</li></ul><div ui-view></div></div>');e.put("source/system-setting/channel-settings/dingding-channel/access-config.html",'<div class="setting-common-body access-config"><ul ng-if="dingdingConfigModel.config.iconUrl"><li><div class="title-bar"><span>填写基本信息</span></div><div class="form-content" style="padding-top:10px"><div class="form-group"><label>应用Logo <span ng-if="!dingdingConfigModel.id">*</span></label><div class="imgBox"><img ng-show="dingdingConfigModel.config.iconUrl" width="60" ng-src="/no_auth_ewei_attachment?contentUrl={{dingdingConfigModel.config.iconUrl}}"><div ng-if="dingdingConfigModel.id == 0"><div ng-hide="dingdingConfigModel.config.iconUrl" style="width:60px;height:60px;display:inline-block;border:1px dashed #E4E4E4"></div><div class="upImg"><input ng-file-select ng-model="files" ng-file-change="uploadFile(files)" accept="image/*" readonly="readonly"></div></div></div></div><div class="form-group"><label>渠道名称 <span ng-if="!dingdingConfigModel.id">*</span></label><input type="text" class="form-control w400" maxlength="10" ng-model="dingdingConfigModel.name" ng-disabled="dingdingConfigModel.id>0" placeholder="10个字以内"><p class="tip">此将同时作为您在钉钉中的应用名称</p></div><div class="form-group"><label>功能介绍 <span ng-if="!dingdingConfigModel.id">*</span></label><input type="text" class="form-control w400" maxlength="20" ng-model="dingdingConfigModel.config.appDesc" ng-disabled="dingdingConfigModel.id>0" placeholder="20个字以内"><p class="tip">此将作为钉钉中的应用功能介绍</p></div></div></li><li><div class="title-bar"><span>企业开发信息</span></div><div class="form-content"><div class="form-group"><label>CorpId <span ng-if="!dingdingConfigModel.id">*</span></label><input type="text" class="form-control w400" maxlength="255" ng-model="dingdingConfigModel.config.appId" ng-disabled="dingdingConfigModel.id>0" placeholder="请填写钉钉的企业CorpId"><p class="tip">请登录 钉钉开放平台 >> 应用开发 >> 开发信息 >> 开发账号管理 查看<br>钉钉开放平台：<a href="https://open-dev.dingtalk.com" target="_blank">https://open-dev.dingtalk.com</a></p></div></div></li><li><div class="title-bar"><span>新增授权</span></div><div class="form-content"><div class="form-group"><p class="tip">请登录 钉钉开放平台 >> 应用开发 >> 开发信息 >> 开发账号管理<br>点击“新增授权”授权给本企业开发者，并勾选“允许通讯录授权”、“微信应用管理”权限<br>新增成功后，即可在 CorpSecret 管理列表 中看到当前授权的 CorpSecret</p></div><div class="form-group"><label>CorpSecret <span ng-if="!dingdingConfigModel.id">*</span></label></div><input type="text" class="form-control w400" maxlength="255" ng-model="dingdingConfigModel.config.appSecret" ng-disabled="dingdingConfigModel.id>0" placeholder="请填写钉钉的企业CorpSecret"></div></li><li ng-hide="dingdingConfigModel.id>0"><div class="title-bar"></div><div class="form-content"><button class="btn btn-primary w100" ng-click="updateAccessConfigSetting()" ng-disabled="isDisable">添加</button></div></li></ul><p ng-if="!dingdingConfigModel.config.iconUrl" class="tip-message tip-message-new-service"><span>应企业钉钉官方应用开发规范调整要求，暂不支持非独立部署服务商接入钉钉微应用。</span></p><ul ng-if="!dingdingConfigModel.config.iconUrl"><li><div class="title-bar"><span>填写基本信息</span></div><div class="form-content" style="padding-top:10px"><div class="form-group"><label>渠道名称 <span ng-if="!dingdingConfigModel.id">*</span></label><input type="text" class="form-control w400" maxlength="10" ng-model="dingdingConfigModel.name" ng-disabled="dingdingConfigModel.id>0" placeholder="请填写渠道名称"></div></div></li><li><div class="title-bar"><span>获取钉钉CorpId</span></div><div class="form-content"><div class="form-group"><p class="tip">请登录钉钉开放平台 <a href="https://open-dev.dingtalk.com" target="_blank">https://open-dev.dingtalk.com</a> &gt;&gt; 首页<br>获取CorpId，填入下面“CorpId”中</p></div><div class="form-group"><label>CorpId <span ng-if="!dingdingConfigModel.id">*</span></label><input type="text" class="form-control w400" maxlength="255" ng-model="dingdingConfigModel.config.corpId" ng-disabled="dingdingConfigModel.id>0" placeholder="请填写钉钉开放平台的CorpId"></div></div></li><li><div class="title-bar"><span>创建微应用</span></div><div class="form-content"><div class="form-group"><p class="tip">请登录钉钉管理后台>>工作台>>自建应用<br>创建您的微应用，将下面的URL地址填入“应用首页链接”和“PC端首页地址；<br>将下面的IP地址填入“服务器出口IP”</p></div><div class="form-group clearfix"><label>应用首页地址</label></div><div class="form-group clearfix"><div class="col-md-10" style="padding:0;width:400px"><input id="dingdingHomePageUrl" type="text" class="form-control" style="width:400px" readonly="readonly" ng-model="dingdingConfigModel.config.homePageUrl"></div><div class="col-md-2" style="padding:0"><a class="btn custom-link-color" copy-some-thing="dingdingHomePageUrl">点击复制</a></div></div><div class="form-group clearfix"><label>服务器出口IP</label></div><div class="form-group clearfix"><div class="col-md-10" style="padding:0;width:400px"><input id="dingdingServerIps" type="text" class="form-control" style="width:400px" readonly="readonly" ng-model="serverIps"></div><div class="col-md-2" style="padding:0"><a class="btn custom-link-color" copy-some-thing="dingdingServerIps">点击复制</a></div></div><p style="color:red">温馨提示：为保证能正常同步钉钉通讯录可使用范围建议选择“全部员工”</p></div></li><li><div class="title-bar"><span>填写应用信息</span></div><div class="form-content"><div class="form-group"><p class="tip">微应用创建成功后，请将在微应用详情找到Agent ID、 App Key及 APP Secret</p></div><div class="form-group"><label>Agent ID *</label><input type="text" class="form-control w400" maxlength="64" ng-model="dingdingConfigModel.config.agentId" placeholder="请填写钉钉微应用AgentId"></div><div class="form-group"><label>APP Key *</label><input type="text" class="form-control w400" maxlength="64" ng-model="dingdingConfigModel.config.appId" placeholder="请填写钉钉微应用AppKey"></div><div class="form-group"><label>APP Secret *</label><input type="text" class="form-control w400" maxlength="64" ng-model="dingdingConfigModel.config.appSecret" placeholder="请填写钉钉微应用AppSecret"></div></div></li><li><div class="title-bar"><span>设置钉钉权限管理</span></div><div class="form-content"><div class="form-group"><p class="tip"><span style="color:#aeaeae">微应用创建成功后，请在微应用详情页中找到权限管理，必须进行如下设置：</span><br></p><p class="tip" style="color:#666">1.申请开通【通讯录只读权限】、【手机号码信息】、【邮箱等个人信息】。</p><p class="tip" style="color:#666">2.设置【选择授权范围】点击【通讯录】选择勾选企业顶级目录。</p><p class="tip" style="color:red;margin-top:20px">温馨提示：若仍不知如何设置，请点此参照<a href="http://help.ewei.com/new/#/article/detail/1167" target="_blank">《钉钉渠道接入说明》</a></p></div></div></li><li ng-hide="dingdingConfigModel.id>0"><div class="title-bar"></div><div class="form-content"><button class="btn btn-primary w100" ng-click="updateAccessConfigSetting()" ng-disabled="isDisable">添加</button></div></li></ul></div>');e.put("source/system-setting/channel-settings/dingding-channel/advanced-setting.html",'<div class="advanced-setting"><div><table class="table table-bordered text-center"><thead><tr><th class="text-center">菜单类型</th><th class="text-center">自定义菜单名称 <span style="color:red">*</span></th><th class="text-center">开启此功能</th><th class="text-center">作为首页</th></tr></thead><tbody><tr ng-repeat="(index,web) in dingdingAdvancedModel.config.modules"><td>{{web.func}}</td><td><input type="text" class="form-control" ng-model="web.funcName" maxlength="20"></td><td><input type="checkbox" ng-model="web.opened"></td><td><input type="radio" ng-model="config.homeChecked" ng-value="index"></td></tr></tbody></table></div><h3><strong>提交工单</strong></h3><div class="name-box"><p>用户在在线交谈离线时提交工单需要填写的表单内容。您也可以自行定义个性化的表单，<a ui-sref="system_setting.form_detail({showType: \'ticket\', id: 0, doType: \'add\'})" class="custom-main-font-color">立即配置</a></p><select class="form-control w400" ng-options="option.name for option in ticketFormList" ng-model="ticketForm"></select></div><div class="name-box"><p class="flex align-items-center"><span class="margin_right15px">辅助搜索功能</span><switch name="enabled" class="small-switch" ng-model="dingdingAdvancedModel.autoSearch"></switch></p><p class="color999 padding_top5px size12">启用后，在提交工单之前将先呈现搜索窗口，引导用户通过搜索自行解决问题。</p></div><div class="name-box margin_top30px" style="display:none"><div class="check-box"><p><span class="title_visite">访问控制</span><switch class="small-switch" name="enabled" ng-model="providerInfObj.isOpenSmsNotify" ng-change="openSmsNotify()"></switch><span>启用后，该渠道的访问控制权限将生效{{providerInfObj.isOpenSmsNotify}}</span></p></div></div><div class="updateBox"><button ng-click="updateAdvancedSetting()" type="button" class="btn btn-primary w100">更新</button> <a class="margin_left45px v_middle" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">取消</a></div></div>');e.put("source/system-setting/channel-settings/dingding-channel/dingding-channel.html",'<div class="setting-head-common dingding-channel-setting-box"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">钉钉客户端 </a>》<span ng-if="!dingdingSettingModel.id">添加渠道</span><span ng-if="dingdingSettingModel.id">{{dingdingSettingModel.name}}</span></div><oem-learn-more type="setting-mulit-channel-dingding" description="通过接口，将帮助中心接入钉钉企业号。客户可在钉钉内发起服务请求，接受在线客服、工单支持和FAQ自助等全方位的服务。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1167" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ui-sref="system_setting.dingdingChannel.accessConfig" ui-sref-active="active">接入配置</li><li ng-if="dingdingSettingModel.id" ui-sref="system_setting.dingdingChannel.advancedSetting" ui-sref-active="active">高级设置</li></ul><div ui-view></div></div>');e.put("source/system-setting/channel-settings/dingding-channel/menu-setting.html",'<div class="wx-set-wrap"><form class="form-horizontal ng-valid ng-dirty ng-valid-parse" style="margin-top:20px"><div style="width:900px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">钉钉菜单</label><div class="col-sm-10"><div style="width:304px;height:426px;margin-bottom:25px;background-color:#F2F2F2"><div style="width:100%;height:42px;background-color:#393A3F;color:#fff;font-size:16px;line-height:42px;padding:0 10px">{{dingdingMenuSettingModel.name}} <i class="iconfont pull-right">&#xe624;</i></div><div class="main" style="position:relative;height:300px;top:88px"><div style="background:#fff;position:absolute;bottom:0;left:0;width:101px" class="floatLeft"><div ng-show="visible1" style="text-align:center;cursor:default" class="h35 wx-menu-add-btn"><a ng-click="addNav(0)" class="block" href="#"><i class="fa fa-plus wx-menu-add"></i></a></div><ul id="list1" ui-sortable="sortableOptions" class="apps-container" ng-model="wxListData[0]"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in wxListData[0]" class="app h35 border05" ng-class="{\'not-sortable\': $index == list1.length-1}" ng-click="editNavList($index,0)"><i class="fa fa-reorder wx-menu-icon" ng-if="$index == wxListData[0].length-1"></i> <span class="text-overflow wx-menu-name" title="{{item.name}}">{{item.name}}</span> <i style="position:absolute;right:4px;top:10px;font-size:16px" class="fa fa-trash-o" ng-click="delNavList($event,$index,0);"></i></li></ul></div><div style="background:#fff;position:absolute;bottom:0;left:101px;width:101px" class="floatLeft"><div ng-show="visible2" style="text-align:center" class="h35 wx-menu-add-btn"><a ng-click="addNav(1)" class="block" href="#"><i class="fa fa-plus wx-menu-add"></i></a></div><ul id="list2" ui-sortable="sortableOptions" class="apps-container" ng-model="wxListData[1]"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in wxListData[1]" class="app h35 border05" ng-class="{\'not-sortable\': $index == list2.length-1}" ng-click="editNavList($index,1)"><i class="fa fa-reorder wx-menu-icon" ng-if="$index == wxListData[1].length-1"></i> <span class="text-overflow wx-menu-name" title="{{item.name}}">{{item.name}}</span> <i style="position:absolute;right:4px;top:10px;font-size:16px" class="fa fa-trash-o" ng-click="delNavList($event,$index,1);"></i></li></ul></div><div style="background:#fff;position:absolute;bottom:0;left:202px;width:101px" class="floatLeft"><div ng-show="visible3" style="text-align:center" class="h35 wx-menu-add-btn"><a ng-click="addNav(2)" class="block" href="#"><i class="fa fa-plus wx-menu-add"></i></a></div><ul id="list3" ui-sortable="sortableOptions" class="apps-container" ng-model="wxListData[2]"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in wxListData[2]" class="app h35 border05" ng-class="{\'not-sortable\': $index == list3.length-1}" ng-click="editNavList($index,2)"><i class="fa fa-reorder wx-menu-icon" ng-if="$index == wxListData[2].length-1"></i> <span class="text-overflow wx-menu-name" title="{{item.name}}">{{item.name}}</span> <i style="position:absolute;right:4px;top:10px;font-size:16px" class="fa fa-trash-o" ng-click="delNavList($event,$index,2);"></i></li></ul></div></div></div><div class="wx-set-pro-txt"><p>客服系统提供下列菜单类型供选择：</p><p>1，提交工单。打开网页填写表单提交工单。</p><p>2，帮助文档。打开帮助中心（{{providerDomain}}）的文章列表</p><p>3，服务记录。历史的会话与工单记录列表。</p><p>4，打开网页。打开网页，访问自定义的网址。</p></div></div></div><div class="form-group w100p"><div class="col-sm-12"><div class="wx-set-btn-group"><div style="margin-bottom:15px"><button ng-click="update()" type="button" ladda="disableValue" ng-disabled="disableValue" class="btn btn-primary w100">更新</button> <a class="wx-menu-default" href="javascript:void(0)" ng-click="defaultMenu();">恢复系统默认值</a></div><p class="wx-set-pro-txt">点击更新，将更新菜单到钉钉企业号的应用内。</p></div></div></div></form></div>');e.put("source/system-setting/channel-settings/email-channel/access-config.html",'<div class="access-config"><p ng-if="!emailConfigModel.verified && emailConfigModel.id" class="tip">收件箱尚未通过验证，可能无法收取工单，请设置自动转发。 <a href="http://help.ewei.com/new/#/article/detail/717" target="_blank">如何验证？</a></p><form class="form-horizontal"><div class="form-group one-box"><label class="col-sm-2 control-label">渠道名称</label><div class="col-sm-10"><input type="text" class="form-control w400" ng-model="emailConfigModel.name" maxlength="128"><p>取一个简短的名称，在工单和报告中显示为工单渠道来源。</p></div></div><div class="form-group one-box"><label class="col-sm-2 control-label">收件箱地址</label><div class="col-sm-10"><input type="text" class="form-control w400" ng-model="emailConfigModel.config.email"><p>请在你的邮件系统设置自动转发，以便将客户的邮件自动转发给客服系统，生成工单。<br>转发地址为support@{{emailConfigModel.host}}</p></div></div><div class="form-group updateBox"><div class="col-sm-10 col-sm-offset-2"><button type="button" class="btn btn-primary w100" ng-click="updateAccessConfigSetting()" ng-disabled="isDisable"><span ng-if="!emailConfigModel.id">添加</span> <span ng-if="emailConfigModel.id">更新</span></button><p>点击更新，然后向收件箱发一封邮件，客服系统会验证自动转发是否设置成功。</p></div></div></form></div>');e.put("source/system-setting/channel-settings/email-channel/advanced-setting.html",'<div class="advanced-setting"><form class="form-horizontal"><div class="form-group one-box"><label class="col-sm-2 control-label">邮件过滤</label><div class="col-sm-10"><div class="radio"><label><input type="radio" name="blacklistOrWhitelist" ng-model="emailAdvancedModel.config.blackOpen" ng-value="true"><strong>黑名单</strong></label></div><textarea ng-disabled="!emailAdvancedModel.config.blackOpen" placeholder="邮件地址或邮件域名，多个地址以空格分隔" class="form-control w400" ng-model="emailAdvancedModel.config.blackList"></textarea><p>接收来自黑名单地址之外的所有邮件。</p><div class="radio second-radio"><label><input type="radio" name="blacklistOrWhitelist" ng-model="emailAdvancedModel.config.blackOpen" ng-value="false"><strong>白名单</strong></label></div><textarea ng-disabled="emailAdvancedModel.config.blackOpen" placeholder="邮件地址或邮件域名，多个地址以空格分隔" class="form-control w400" ng-model="emailAdvancedModel.config.whiteList"></textarea><p>只接收来自白名单地址的邮件，和系统内已有客户的邮件。</p></div></div><div class="form-group one-box"><label class="col-sm-2 control-label">邮件审查</label><div class="col-sm-10"><div class="checkbox"><label><input type="checkbox" ng-model="emailAdvancedModel.config.verifyEmail"> 发件地址与系统内现存客户的邮箱不匹配，工单暂停于隔离区，待客服人员审查</label></div></div></div><div class="form-group one-box"><label class="col-sm-2 control-label">同步抄送人</label><div class="col-sm-10"><div class="checkbox"><label><input type="checkbox" ng-model="emailAdvancedModel.config.copyMailCc"> 通过该渠道创建工单时，自动将邮件内的收件人以及抄送人同步为工单的抄送人。<br>当抄送邮箱在系统内还不存在时，系统将自动根据邮箱地址生成客户。</label></div></div></div><div class="form-group updateBox"><div class="col-sm-10 col-sm-offset-2"><button ng-click="updateAdvancedSetting()" type="button" class="btn btn-primary w100">更新</button> <a class="margin_left45px v_middle" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">取消</a></div></div></form></div>');e.put("source/system-setting/channel-settings/email-channel/email-channel.html",'<div class="setting-head-common email-channel-setting-box"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">渠道管理 </a>》<span ng-if="!emailSettingModel.id">邮件转工单</span><span ng-if="emailSettingModel.id">{{emailSettingModel.name}}</span></div><oem-learn-more type="setting-mulit-channel-email" description="配置邮件收件箱，公布给客户，接收客户发送的邮件，自动转为工单。工单的回复自动发送给客户，客户通过邮件回复工单。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1168" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ui-sref="system_setting.emailChannel.accessConfig" ui-sref-active="active">接入配置</li><li ng-if="emailSettingModel.id" ui-sref="system_setting.emailChannel.advancedSetting" ui-sref-active="active">高级设置</li></ul><div ui-view></div></div>');e.put("source/system-setting/channel-settings/modal/message.html",'<div class="flex padding_bottom30px padding_top22px"><div><i ng-if="type == \'success\'" class="iconfont" style="font-size:22px;color:#29bd8b;margin-right:10px">&#xe63d;</i> <i ng-if="type == \'danger\'" class="iconfont" style="font-size:22px;color:#e82020;margin-right:10px">&#xe63c;</i> <i ng-if="type == \'warning\'" class="iconfont" style="font-size:22px;color:#fed22f;margin-right:10px">&#xe63b;</i></div><p class="margin_left15px color666">{{message}}</p></div><div class="text-right"><button type="button" class="btn btn-confirm custom-background-color" ng-disabled="saveDisabled" ng-click="$ok()">确定</button> <a class="margin_left15px padding_left15px padding_right20px" ng-click="$hide()">取消</a></div>');e.put("source/system-setting/channel-settings/modal/modal-tpl.html",'<div class="modal select-channel-modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" role="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button><h1 class="modal-title" ng-bind="title"></h1></div><div class="modal-body" ng-bind="content"></div></div></div></div>');e.put("source/system-setting/channel-settings/modal/no-license-modal.html",'<style>.no-license-modal{height:139px;padding-top:30px}.no-license-modal .content{height:50px;font-size:13px}</style><div class="modal-inner-content no-license-modal"><div class="content">抱歉，试用版无法创建渠道，请点击 联系客服 或致电 <a class="service-phone">400-812-3602</a></div><div class="modal-footer btn-group-common"><button type="button" class="btn btn-confirm custom-background-color" ng-click="$ok()">联系客服</button> <a class="margin_left15px padding_left15px padding_right20px" ng-click="$hide()">取消</a></div></div>');e.put("source/system-setting/channel-settings/modal/select-chennel-modal.html","<div class=\"list-row\"><div ng-if=\"(channelType.name !== 'App-SDK'&&channelType.name !== 'API') || ((channelType.name === 'App-SDK' ||channelType.name === 'API') && (license.type()=='blend'\n            ||license.type()=='public'\n            ||license.type()=='trial'\n            ||license.type()=='enterprise'\n            ||license.type()=='enterprise_trial'\n            ||license.type()=='enterprise_plus'\n            ||license.type()=='oem'\n            ||license.hasModule('api_sdk')))\" ng-click=\"goDetail(channelType)\" class=\"channel-item\" ng-repeat=\"channelType in channelTypeList\" ui-sref-active=\"active\"><div><i class=\"iconfont channel-setting-icon\" ng-class=\"channelType.iconclass\" ng-bind-html=\"channelType.iconclass | channelIcon | trusted\"></i></div><div><p class=\"channelType-name\">{{channelType.name}}</p><div class=\"channelType-description\">{{channelType.description}}</div></div></div><div class=\"clear-both\"></div></div>");e.put("source/system-setting/channel-settings/modal/select-weixin-type.html",'<div class="weixin-channel-checked-type-box"><div class="channel-modal"><label><input type="radio" name="weixin" value="service" ng-model="channel.name"> 微信服务号</label><p>将企业的微信服务号接入客服系统，面向企业的客户提供服务。</p><label><input type="radio" name="weixin" value="qiye" ng-model="channel.name"> 微信企业号</label><p>在企业的微信企业号上添加客服系统入口，面向企业员工提供服务。</p><a class="btn btn-primary" ng-click="addChannel()">创建微信客服渠道</a></div></div>');e.put("source/system-setting/channel-settings/sdk-channel/access-config.html",'<div class="access-config"><h3><strong>渠道名称</strong><span class="color-set">取一个简短的名称，在工单和报告中显示为工单的来源名称。</span></h3><div class="name-box"><input type="text" class="form-control w400" ng-model="sdkConfigModel.name" maxlength="16"></div><h3 class="sec-title"><strong>应用程序描述</strong></h3><div class="name-box"><textarea class="form-control w400" ng-model="sdkConfigModel.config.description" maxlength="60"></textarea></div><form><div class="form-group"><label>APPKEY</label><input ng-model="sdkConfigModel.config.appKey" type="text" class="form-control w400" disabled="disabled"></div><div class="form-group"><label>APPSECTET</label><input ng-model="sdkConfigModel.config.appSecret" type="text" class="form-control w400" disabled="disabled"></div><p class="color-set">请妥善保管appkey和appsecret，不要泄露给第三方</p><div class="form-group updateBox"><button ng-click="updateAccessConfigSetting()" type="button" class="btn btn-primary w100" ng-disabled="isDisable"><span ng-if="!sdkConfigModel.id">添加</span> <span ng-if="sdkConfigModel.id">更新</span></button></div></form><div class="margin_top20px margin_bottom20px"><strong>下载SDK资源包</strong></div><ul class="dowmLoad-sdk clearfix"><li><a href="//open.ewei.com/ios.html" class="btn btn-primary" target="_blank">{{providerEweiProductName|replace_ewei_productname}} SDK for iOS</a></li><li><a href="//open.ewei.com/android.html" class="btn btn-primary" target="_blank">{{providerEweiProductName|replace_ewei_productname}} SDK for Android</a></li><li><a class="btn btn-primary">{{providerEweiProductName|replace_ewei_productname}} SDK for Windows</a></li><li><a href="//open.ewei.com" class="btn btn-danger" target="_blank">开发者指南</a></li></ul></div>');e.put("source/system-setting/channel-settings/sdk-channel/advanced-setting.html",'<div class="advanced-setting"><h3 class="sec-title"><strong>提交工单</strong></h3><div class="name-box"><p class="color-set">用户在提交工单时需要填写的表单内容。您也可以自行定义个性化的表单，<a ui-sref="system_setting.form_detail({showType: \'ticket\', id: 0, doType: \'add\'})" class="custom-main-font-color">立即配置</a></p><select class="form-control w400 margin_top10px" ng-options="option.name for option in ticketFormList" ng-model="ticketForm"></select></div><div class="updateBox"><button ng-click="updateAdvancedSetting()" type="button" class="btn btn-primary w100">更新</button> <a class="margin_left45px v_middle" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">取消</a></div></div>');e.put("source/system-setting/channel-settings/sdk-channel/sdk.html",'<div class="setting-head-common sdk-channel-setting-box"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">渠道管理 </a>》<span ng-if="!sdkSettingModel.id">添加渠道</span><span ng-if="sdkSettingModel.id">{{sdkSettingModel.name}}</span></div><oem-learn-more type="setting-mulit-channel-sdk" description="按照开发者文档步骤集成我们的SDK到你的app或windows程序中。你还可以定义界面的外观。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1170" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ui-sref="system_setting.sdkChannel.accessConfig" ui-sref-active="active">接入配置</li><li ng-if="sdkSettingModel.id" ui-sref="system_setting.sdkChannel.advancedSetting" ui-sref-active="active">高级设置</li></ul><div ui-view></div></div>');e.put("source/system-setting/channel-settings/weixin-channel/access-config-port.html",'<div ng-if="!checkedModel.authorityPageUrl" class="setting-common-body access-config"><div ng-if="checkedModel.type === \'service\' && !checkedModel.verified" class="tip-message clearfix"><p class="float_left"><span>更换授权方式，让公众号可授权给多个第三方应用</span> <span>温馨提示：为保证所有功能正常，授权时请保持默认选择。</span></p><button ng-click="goAuthorityPage();" type="button" class="btn btn-primary"><i class="iconfont">&#xe644;</i> 立即重新授权</button></div><p ng-if="checkedModel.type === \'qiye\' && !checkedModel.verified" class="tip-message"><span class="qiye-tip">与微信服务器之间的接口尚未连接成功，请检查双方的参数设置，确保ID、URL、Token等参数准确无误。然后点击更新再次尝试互联。</span></p><ul><li><div class="title-bar"><span>填写基本信息</span></div><div class="form-content"><div class="form-group" style="padding-top:10px"><label>渠道名称 <span ng-if="!checkedModel.id">*</span></label><input type="text" class="form-control w400" ng-model="weixinPort.name" placeholder="请填写渠道名称"></div><div class="form-group"><label>企业ID <span ng-if="!checkedModel.id">*</span></label><input type="text" class="form-control w400" ng-model="weixinPort.config.appId" placeholder="20个字以内"><p ng-if="checkedModel.type === \'qiye\'" class="tip">请登录 企业微信后台 >> 我的企业 >> 企业信息 查看</p></div></div></li><li><div class="title-bar"><span>创建应用</span></div><div class="form-content"><div class="form-group"><p class="tip">请登录 企业微信后台 >> 应用与小程序 >> 应用 >> 自建<br>创建应用，并在应用详情页找到 AgentId 和 Secret</p></div><div class="form-group"><label>应用AgentId <span ng-if="!checkedModel.id">*</span></label><input type="text" class="form-control w400" placeholder="请填写应用AgentId" ng-model="weixinPort.config.agentId" ng-disabled-aaa="checkedModel.id && checkedModel.verified"></div><div class="form-group"><label>应用Secret <span ng-if="!checkedModel.id">*</span></label><input type="text" class="form-control w400 margin_top15px" placeholder="请填写应用Secret" ng-model="weixinPort.config.appSecret"></div></div></li><li><div class="title-bar"><span>消息接收配置</span></div><div class="form-content"><div class="form-group"><p class="tip">进入应用详情，找到 接收消息 >> 设置API接收，将下列配置填写好并保存</p></div><ul class="list-unstyled server_config_list clearfix"><li><label>URL（服务器地址）</label><div class="form-group" style="float:none"><div class="col-md-10" style="padding:0;width:400px"><input id="wx-qiye-service-url" type="text" class="form-control" style="width:400px" readonly="readonly" ng-model="serviceUrl"></div><div class="col-md-2" style="padding:0"><a class="btn custom-link-color" copy-some-thing="wx-qiye-service-url">点击复制</a></div></div></li><li><label>Token（令牌）</label><div class="form-group" style="float:none"><div class="col-md-10" style="padding:0;width:400px"><input id="wx-qiye-api-token" type="text" class="form-control" style="width:400px" readonly="readonly" ng-model="weixinPort.config.apiToken"></div><div class="col-md-2" style="padding:0"><a class="btn custom-link-color" copy-some-thing="wx-qiye-api-token">点击复制</a></div></div></li><li><label>EncodingAESKey（密钥）</label><div class="form-group" style="float:none"><div class="col-md-10" style="padding:0;width:400px"><input id="wx-qiye-api-encoding-key" type="text" class="form-control" style="width:400px" readonly="readonly" ng-model="weixinPort.config.encodingAesKey"></div><div class="col-md-2" style="padding:0"><a class="btn custom-link-color" copy-some-thing="wx-qiye-api-encoding-key">点击复制</a></div></div></li></ul></div></li><li><div class="title-bar"><span>可信域名</span></div><div class="form-content"><p class="tip">设置可信域名后，自定义菜单才可以直接跳转<br>进入应用详情，找到 网页授权及JS-SDK，点击“申请域名校验”，填入 <span style="color:red">{{ testDomain }}</span></p></div></li><li><div class="title-bar"><span>通讯录同步</span></div><div class="form-content"><p class="tip">如果您需要将企业微信通讯录资料自动同步到客户管理，您需要开启通讯录同步<br>请登录 企业微信后台 >> 管理工具 >> 通讯录同步，点击“开启API接口同步”</p></div></li><li><div class="title-bar"></div><div class="form-content updateBox"><button type="button" class="btn btn-primary w100" ng-click="updateAccessConfigSetting()" ng-disabled="isDisable"><span ng-if="!checkedModel.id">添加</span> <span ng-if="checkedModel.id">更新</span></button></div></li></ul></div><iframe class="authority-iframe" ng-if="checkedModel.authorityPageUrl" ng-src="{{checkedModel.authorityPageUrl}}" scrolling="no"></iframe>');e.put("source/system-setting/channel-settings/weixin-channel/access-config.html",'<div ng-if="!checkedModel.authorityPageUrl" class="setting-common-body access-config"><p ng-if="!checkedModel.verified && checkedModel.id" class="tip-message tip-message-new-service"><span>温馨提示：欠缺部分必要的权限，需要重新授权才能正式使用微信渠道！</span> <button ng-click="goAuthorityPage();" type="button" class="btn btn-primary"><i class="iconfont">&#xe644;</i> 立即重新授权</button></p><ul><li><div class="title-bar"><span>渠道名称</span></div><div class="form-content"><input type="text" class="form-control w400" maxlength="10" ng-model="weixinConfig.name"><p class="tip">取一个简短的名称，在工单和报告中显示为工单渠道来源。</p></div></li><li><div class="title-bar"><span>权限明细</span></div><div class="form-content"><table class="table table-bordered w400"><thead><th class="text-center">权限</th><th class="text-center">授权结果</th></thead><tbody><tr ng-if="!weixinConfig.authorityList.length"><td colspan="2">没有权限列表</td></tr><tr ng-repeat="item in weixinConfig.authorityList"><td class="text-center" ng-bind="item.name"></td><td class="text-center"><span class="not-authority" ng-if="!item.isAuthority">未授权</span> <span class="authority" ng-if="item.isAuthority">已授权</span></td></tr></tbody></table><p class="des-text">温馨提示：为保证所有功能正常，授权时请保持默认选择。</p></div></li><li><div class="title-bar"></div><div class="form-content updateBox"><button type="button" class="btn btn-primary" ng-click="updateAccessConfigSetting()" ng-disabled="isDisable"><span ng-if="!checkedModel.id"><i class="iconfont">&#xe644;</i>立即授权，添加渠道</span> <span ng-if="checkedModel.id">更新</span></button></div></li></ul></div><iframe class="authority-iframe" ng-if="checkedModel.authorityPageUrl" ng-src="{{checkedModel.authorityPageUrl}}" scrolling="no"></iframe>');e.put("source/system-setting/channel-settings/weixin-channel/advanced-setting.html",'<div class="advanced-setting"><h3><strong>在线交谈</strong></h3><div class="name-box"><p class="color-set">用户在关注微信公众号时，系统自动回复文案</p><textarea ng-model="weixinAdvancedConfig.attentionWelcomes" class="form-control" maxlength="600"></textarea></div><h3 class="sec-title"><strong>提交工单</strong></h3><div class="name-box"><p class="color-set">客户在非营业时间或者投递的客服组无人在线时，引导用户填写的留言表单。<br>您也可以自行定义个性化的表单，<a ui-sref="system_setting.form_detail({showType: \'ticket\', id: 0, doType: \'add\'})" class="custom-main-font-color">立即配置</a></p><select class="form-control w400" ng-options="option.name for option in ticketFormList" ng-model="ticketForm"></select></div><div class="name-box margin_top30px" style="display:none"><div class="check-box"><p><span class="title_visite">访问控制</span><switch class="small-switch" name="enabled" ng-model="providerInfObj.isOpenSmsNotify" ng-change="openSmsNotify()"></switch><span>启用后，该渠道的访问控制权限将生效</span></p></div></div><div class="updateBox"><button ng-click="updateAdvancedSetting()" type="button" class="btn btn-primary w100">更新</button></div></div>');e.put("source/system-setting/channel-settings/weixin-channel/menu-setting.html",'<div class="wx-set-wrap"><div class="wx-set-vertify" ng-if="!verified">由于与微信服务器的接口尚未连接成功，你所配置的微信菜单将只保存在客服系统端，待接口连通后才会自动更新到微信端，在你的微信公众号呈现。</div><form class="form-horizontal ng-valid ng-dirty ng-valid-parse" style="margin-top:20px"><div style="width:900px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">微信菜单</label><div class="col-sm-10"><div style="width:304px;height:426px;margin-bottom:25px;background:url(source/images/pic_weixin.jpg) no-repeat center;background-size:100% 100%"><h2 style="text-align:center;color:#fff;line-height:38px;margin-top:0" class="size16">{{providerEweiProductName|replace_ewei_productname}}</h2><p>&nbsp;-&nbsp; 子菜单可拖动排序</p><p>&nbsp;-&nbsp; 同一个导航之上的子菜单不能超过5个</p><p>&nbsp;-&nbsp; 微信规则，菜单变更后24小时后才生效</p><p>&nbsp;-&nbsp; 菜单编辑之后，将会覆盖原有设置，请谨慎操作</p><div class="main" style="position:relative;height:300px;margin-top:23px"><div ng-repeat="menu in buttonMenus" style="background:#fff;position:absolute;bottom:0;width:101px" ng-style="{left: ($index*101+\'px\')}" class="floatLeft"><div ng-if="!menu.sub_button || menu.sub_button.length<6" style="text-align:center;cursor:default" class="h35 wx-menu-add-btn"><a ng-click="addNav(menu,buttonMenus)" class="block"><i class="fa fa-plus wx-menu-add"></i></a></div><ul id="{{\'list\'+($index+1)}}" ui-sortable="sortableOptions" class="apps-container" ng-model="menu.sub_button"><li style="cursor:pointer;line-height:35px;text-align:center;background:#fff;position:relative" ng-repeat="item in menu.sub_button" class="app h35 border05" ng-class="{\'not-sortable\': $index == item.length-1}" ng-click="editNavList(item,menu.sub_button,$index)"><i ng-if="$index == menu.sub_button.length-1" class="fa fa-reorder wx-menu-icon"></i> <span class="text-overflow wx-menu-name" title="{{item.name}}">{{item.name}}</span> <i style="position:absolute;right:4px;top:10px;font-size:16px" class="fa fa-trash-o" ng-click="delNavList($event,item,menu.sub_button,\'sub_btn\');"></i></li></ul></div></div></div><div class="wx-set-pro-txt">客服系统提供下列菜单类型供选择：<p>1. 请求在线客服：向服务台发起会话请求。</p><p>2. 提交工单：打开网页，填写表单，提交工单。</p><p>3. 查询工单：打开网页，查询当前用户的工单列表。</p><p>4. 下载资源：打开网页，查看下载资源列表。</p><p>5. 访问帮助中心网页：打开网页，访问帮助中心（zyxx.ewei.com）。</p><p>6. 打开自定义网页：打开网页，访问自定义的网址。</p><p>7. 回复文字消息：回复文本消息，文本消息自定义，可插入文字链。</p><p>8. 回复图文消息：回复图文消息，图文消息自定义。</p><p>9. 绑定账号：供客户绑定已有的帮助中心账号。</p><p ng-if="type===\'service\'">10. 跳转小程序【帮助台】：打开易维帮助台小程序。</p><p ng-if="type===\'service\'">11. 跳转自定义小程序：打开自定义小程序。</p></div></div></div><div class="form-group w100p"><div class="col-sm-12"><div class="wx-set-btn-group"><div style="margin-bottom:15px"><button ng-click="update()" type="button" class="btn btn-primary w100">更新</button></div><p class="wx-set-pro-txt">点击更新，将菜单项同步到微信端。如果希望立即看到更新后的效果，可取消关注再关注。</p></div></div></div></form></div>');e.put("source/system-setting/channel-settings/weixin-channel/weixin-channel.html",'<div class="setting-head-common weixin-channel-setting-box"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">微信公众号接入 </a>》<span ng-if="!weixinSettingModel.id">添加渠道</span><span ng-if="weixinSettingModel.id">{{weixinSettingModel.name}}</span></div><oem-learn-more type="setting-mulit-channel-weixin" description="通过接口，将微信公众号接入客服系统。客户在微信内发起服务请求，接受在线客服、工单支持和FAQ自助等全方位的服务。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1166" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-repeat="nav in weixinSettingModel.navList" ui-sref="{{::nav.self}}" ui-sref-active="active">{{::nav.title}}</li></ul><div ui-view></div></div>');e.put("source/system-setting/channel-settings/yunzhijia-channel/access-config.html",'<div class="setting-common-body access-config"><ul><li><div class="title-bar"><span>填写基本信息</span></div><div class="form-content"><div class="form-group" style="padding-top:10px"><label>渠道名称 *</label><input type="text" class="form-control w400" maxlength="10" ng-model="yunzhijiaConfigModel.name" placeholder="请填写渠道名称"></div><div class="form-group"><label>通讯录秘钥 *</label><input type="text" class="form-control w400" maxlength="64" ng-model="yunzhijiaConfigModel.config.resGroupSecret" placeholder="请填写云之家通讯录秘钥"><p class="tip">请登录 云之家 >> 管理中心 >> 系统设置 >> 系统集成 >> 通讯录同步<br>添加只读秘钥</p></div></div></li><li><div class="title-bar"><span>创建轻应用</span></div><div class="form-content copy-box"><div class="form-group"><p class="tip">请登录 云之家 >> 工作台 >> 新建应用<br>创建您的轻应用，将此 URL 地址填入“移动端访问地址”</p></div><div class="form-group" style="float:none"><label>轻应用访问地址</label></div><div class="form-group" style="float:none"><div class="col-md-10" style="padding:0;width:400px"><input id="yunzhijia" type="text" class="form-control" style="width:400px" readonly="readonly" ng-model="yunzhijiaConfigModel.config.mobileHomePageUrl"></div><div class="col-md-2" style="padding:0"><a class="btn custom-link-color" copy-some-thing="yunzhijia">点击复制</a></div></div></div></li><li><div class="title-bar"><span>填写应用信息</span></div><div class="form-content"><div class="form-group"><p class="tip">轻应用创建成功后，您将在轻应用详情找到 APP ID 及 APP Secret</p></div><div class="form-group"><label>APP ID *</label><input type="text" class="form-control w400" maxlength="64" ng-model="yunzhijiaConfigModel.config.appId" placeholder="请填写云之家轻应用 APP ID"></div><div class="form-group"><label>APP Secret *</label><input type="text" class="form-control w400" maxlength="64" ng-model="yunzhijiaConfigModel.config.appSecret" placeholder="请填写云之家轻应用 APP Secret"></div></div></li><li><div class="title-bar"></div><div class="form-content"><button class="btn btn-primary w100" ng-click="updateAccessConfigSetting()" ng-disabled="isDisable"><span ng-if="!yunzhijiaConfigModel.id">添加</span> <span ng-if="yunzhijiaConfigModel.id">更新</span></button></div></li></ul></div>');e.put("source/system-setting/channel-settings/yunzhijia-channel/advanced-setting.html",'<div class="advanced-setting"><div><table class="table table-bordered text-center"><thead><tr><th class="text-center">菜单类型</th><th class="text-center">自定义菜单名称 <span style="color:red">*</span></th><th class="text-center">开启此功能</th><th class="text-center">作为首页</th></tr></thead><tbody><tr ng-repeat="(index,web) in yunzhijiaAdvancedModel.config.modules"><td>{{web.func}}</td><td><input type="text" class="form-control" ng-model="web.funcName" maxlength="20"></td><td><input type="checkbox" ng-model="web.opened"></td><td><input type="radio" ng-model="config.homeChecked" ng-value="index"></td></tr></tbody></table></div><h3><strong>提交工单</strong></h3><div class="name-box"><p>用户在在线交谈离线时提交工单需要填写的表单内容。您也可以自行定义个性化的表单，<a ui-sref="system_setting.form_detail({showType: \'ticket\', id: 0, doType: \'add\'})" class="custom-main-font-color">立即配置</a></p><select class="form-control w400" ng-options="option.name for option in ticketFormList" ng-model="ticketForm"></select></div><div class="name-box"><p class="flex align-items-center"><span class="margin_right15px">辅助搜索功能</span><switch name="enabled" class="small-switch" ng-model="yunzhijiaAdvancedModel.config.autoSearch"></switch></p><p class="color999 padding_top5px size12">启用后，在提交工单之前将先呈现搜索窗口，引导用户通过搜索自行解决问题。</p></div><div class="updateBox"><button ng-click="updateAdvancedSetting()" type="button" class="btn btn-primary w100">更新</button></div></div>');e.put("source/system-setting/channel-settings/yunzhijia-channel/yunzhijia-channel.html",'<div class="setting-head-common yunzhijia-channel-setting-box"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">云之家客户端 </a>》<span ng-if="!yunzhijiaSettingModel.id">添加渠道</span><span ng-if="yunzhijiaSettingModel.id">{{yunzhijiaSettingModel.name}}</span></div><oem-learn-more type="setting-mulit-channel-yunzhijia" description="通过接口，将帮助中心接入云之家轻应用。客户可在应用内内发起服务请求，接受在线客服、工单支持和FAQ自助等全方位的服务。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1213" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ui-sref="system_setting.yunzhijiaChannel.accessConfig" ui-sref-active="active">接入配置</li><li ng-if="yunzhijiaSettingModel.id" ui-sref="system_setting.yunzhijiaChannel.advancedSetting" ui-sref-active="active">高级设置</li></ul><div ui-view></div></div>');e.put("source/system-setting/chat-settings/template/chat-basic-setting.html",'<div class="setting-head-common chat-basic-setting"><div class="nav-title"><strong>会话基础设置</strong><p style="margin-top:15px;font-size:13px">设置会话自动转工单，开启排队安抚语，编辑会话接通欢迎语。</p></div><div class="setting-container"><div class="setting-box margin_bottom20px"><div class="box-header"><span class="name padding_right20px">会话自动转工单</span> <span class="switch-control"><switch name="enabled" class="small-switch" ng-model="config.autoCreateTicket" ng-change="update()"></switch></span></div><div class="tip"><p class="margin_bottom20px margin_top10px">开启后，会话结束时会自动生成一张工单</p><p>说明：</p><p>包括系统自动结束或手动结束会话</p><p>例外情况：如果当前会话已经关联了工单，此会话结束时会忽略此自动操作</p></div></div><div class="setting-box margin_bottom20px"><div class="box-header"><span class="name padding_right20px">排队安抚语</span> <span class="switch-control padding_right20px"><switch name="enabled" class="small-switch" ng-model="config.isQueueAppeaseWelcome" ng-change="update()"></switch></span><a ng-if="config.isQueueAppeaseWelcome" ng-click="setQueueAppeaseWelcome()">设置</a></div><div class="tip"><p ng-if="config.isQueueAppeaseWelcome" class="margin_bottom20px margin_top10px color666">若当前排队人数大于{{config.queueAppeaseNum}}，客户会收到以下安抚提示。</p><div style="display:flex"><pre class="virtual-input margin_bottom20px" ng-if="config.isQueueAppeaseWelcome" class="">{{config.queueAppeaseWelcome}}</pre><div style="flex:1"></div></div><p>当客户发起会话或从机器人转人工时，如果当前排队人数大于设定值，客户将在收到排队提示的同时，收到排队安抚语</p></div></div><div class="setting-box margin_bottom20px"><div class="box-header"><span class="name padding_right20px">接通欢迎语</span> <span class="switch-control padding_right20px"><switch name="enabled" class="small-switch" ng-model="config.isConnectWelcome" ng-change="update()"></switch></span><a ng-if="config.isConnectWelcome" ng-click="setConnectWelcome()">设置</a></div><div class="tip"><div style="display:flex"><pre ng-if="config.isConnectWelcome" class="virtual-input margin_top20px margin_bottom20px">{{config.connectWelcome}}</pre><div style="flex:1"></div></div><p>当会话请求被系统分发到客服时，客户将收到接通欢迎语</p><p ng-non-bindable>支持变量: 客服昵称{{engineer_nickname}}</p></div></div><div class="setting-box margin_bottom20px"><div class="box-header"><span class="name padding_right20px">危险会话告警</span> <span class="switch-control padding_right20px"><switch name="enabled" class="small-switch" ng-model="config.isTimeoutAlarm" ng-change="update()"></switch></span></div><div class="tip"><p class="margin_top10px">客服 5 分钟没有响应会话时，系统将向当前客服及客服组内的其他成员发送告警通知，客服人员可以点击通知接管该会话。</p></div></div></div></div>');e.put("source/system-setting/chat-settings/template/chat-quality-setting.html",'<div class="setting-head-common chat-quality-setting"><div class="nav-title"><strong>会话质检</strong><p>设置与企业相符合的可以量化的质检指标和用于标签显示的禁忌项</p></div><div class="setting-container"><h3>指标设置<span>指标名称限制在30个字符以内<span ng-if="chatQualitySettingModel.forTheFirstTime">，以下为推荐指标可以借鉴，保存后生效</span></span></h3><div class="setting-box"><ul><li ng-repeat="item in chatQualitySettingModel.kpiConfigs"><p>指标名称</p><input type="text" ng-model="item.name" maxlength="30" class="form-control"><p>满分值</p><input ng-change="scoreChange(item);" type="text" ng-model="item.maxScore" class="form-control"> <i ng-click="deleteConfig($index,item,\'kpi\');" ng-show="chatQualitySettingModel.kpiConfigs.length > 1" class="iconfont">&#xe755;</i></li></ul><p class="add"><span ng-click="addConfig(\'kpi\');" class="custom-main-font-color"><i class="iconfont">&#xe754;</i>新增指标</span></p><p>当前总分：<span>{{getAllScore()}}</span>分</p></div></div><div class="setting-container"><h3>禁忌项设置<span>每个禁忌项限制在30个字符以内，在质检中作为标签显示，不影响整体分数<span ng-if="chatQualitySettingModel.forTheFirstTime">，以下为推荐禁忌项可以借鉴，保存后生效</span></span></h3><div class="setting-box"><ul style="width:345px"><li ng-repeat="item in chatQualitySettingModel.tabooConfigs"><p>禁忌项</p><input type="text" ng-model="item.name" maxlength="30" class="form-control"> <i ng-click="deleteConfig($index,item);" class="iconfont">&#xe755;</i></li></ul><p class="add"><span ng-click="addConfig();" class="custom-main-font-color"><i class="iconfont">&#xe754;</i>新增禁忌项</span></p></div></div><div class="updateBox"><button ng-click="updateConfig();" type="button" class="btn btn-primary w100"><span ng-if="chatQualitySettingModel.forTheFirstTime">保存</span> <span ng-if="!chatQualitySettingModel.forTheFirstTime">更新</span></button></div></div>');e.put("source/system-setting/chat-settings/template/set-connect-welcome-modal.html",'<style>.modal-connect-welcome{font-size:13px;color:#666}.modal-connect-welcome>.title{font-size:16px;color:#000;padding-bottom:10px;border-bottom:1px solid #eee}.modal-connect-welcome>.content{padding-bottom:20px}.modal-connect-welcome>.content .tip{color:#999}.modal-connect-welcome>.footer{text-align:right}</style><div class="modal-connect-welcome"><p class="title margin_bottom20px">接通欢迎语</p><div class="content"><div class="margin_top20px margin_bottom20px"><p style="font-weight:700">欢迎语设置</p><textarea rows="3" ng-model="cloneConfig.connectWelcome" style="resize:none" class="form-control margin_top10px margin_bottom20px" maxlength="512"></textarea><div class="margin_top20px margin_bottom20px tip"><p>当会话请求被系统分发到客服时，客户将收到接通欢迎语</p><p ng-non-bindable>支持变量: 客服昵称{{engineer_nickname}}</p></div></div></div><div class="footer"><button type="button" class="btn btn-confirm" ng-click="$ok()">确定</button> <span type="button" class="btn btn-cancel" ng-click="$hide()">取消</span></div></div>');e.put("source/system-setting/chat-settings/template/set-queue-appease-welcome-modal.html",'<style>.modal-queue-appease-welcome{font-size:13px;color:#666}.modal-queue-appease-welcome>.title{font-size:16px;color:#000;padding-bottom:10px;border-bottom:1px solid #eee}.modal-queue-appease-welcome>.content{padding-bottom:20px}.modal-queue-appease-welcome>.content .tip{color:#999}.modal-queue-appease-welcome>.footer{text-align:right}</style><div class="modal-queue-appease-welcome"><p class="title margin_bottom20px">排队安抚语</p><div class="content"><div style="display:flex;line-height:30px" class="margin_top20px margin_bottom20px"><span class="padding_right10px">若当前排队人数大于</span> <input type="text" class="form-control w70 margin_right10px" ng-model="cloneConfig.queueAppeaseNum" maxlength="5"> <span>客户发起在线会话时会收到以下安抚提示。</span></div><div><p style="font-weight:700">安抚语设置</p><textarea rows="3" ng-model="cloneConfig.queueAppeaseWelcome" style="resize:none" class="form-control margin_top10px margin_bottom20px" maxlength="512"></textarea><div class="tip">当客户发起会话或从机器人转人工时，如果当前排队人数大于设定值，客户将在收到排队提示的同时，收到排队安抚语</div></div></div><div class="footer"><button type="button" class="btn btn-confirm" ng-click="$ok()">确定</button> <span type="button" class="btn btn-cancel" ng-click="$hide()">取消</span></div></div>');e.put("source/system-setting/company-setting/directive/color-percent-bar.html",'<div class="color-percent-bar"><div class="percent-list"><div class="percent-color"><div class="color-bar" ng-repeat="item in usageList" ng-style="{width: item.percent, \'background-color\': \titem.color, color: item.color}"></div></div><div>{{usagePercent}}</div></div><div class="percent-footer"><div class="tip-list"><div class="tip-item" ng-repeat="item in usageList" ng-if="item.id!==\'empty\'"><div class="color-bar" ng-style="{\'background-color\': item.color, color: item.color}"></div><span class="color-id">{{item.name}}</span> <span>{{item.usage | fileSizeA}}</span></div></div></div></div>');e.put("source/system-setting/company-setting/templates/account.html",'<style type="text/css">.companyBox{margin:10px;width:750px;margin-bottom:100px}.companyBox .oneBox{border:1px solid #ccc;padding:20px 20px 20px 0;border-radius:5px}.companyBox .oneBox label{font-weight:400}.companyBox .oneBox .form-group{margin-bottom:5px}.companyBox .oneBox .content{height:34px;line-height:34px;padding-left:12px}.companyBox h3{font-size:14px;font-weight:700;color:#666;display:flex;justify-content:space-between;align-items:center}.companyBox .showVersions{height:34px;padding-top:8px}.companyBox h3 .switch-div{display:flex;align-items:center}.companyBox h3 .switch-div .msg{margin-left:15px;font-size:12px;font-weight:500}.companyModelBox ul{padding:30px 30px 0 50px;min-height:150px;border-bottom:1px solid #D7D7D7}.companyModelBox li{display:inline-block;margin-bottom:20px;margin-left:20px;font-size:14px}</style><div class="companyBox"><form show-or-hide-input id="companyAccount" class="form-horizontal oneBox"><div class="form-group"><label class="col-sm-2 control-label">服务商编号:</label><div class="col-sm-10"><div class="content">{{provider.providerNumber}}</div></div></div><div class="form-group"><label class="col-sm-2 control-label">服务商域名:</label><div class="col-sm-10"><div class="content">{{provider.domain}}</div></div></div><div class="form-group"><label class="col-sm-2 control-label">企业名称:</label><div class="col-sm-10"><input type="text" ng-blur="updateProviderInf();" class="form-control hide_input" ng-model="provider.name"></div></div><div class="form-group"><label class="col-sm-2 control-label">创始人名字:</label><div class="col-sm-10"><div class="content">{{provider.user.name}}</div></div></div><div class="form-group"><label class="col-sm-2 control-label">创始人邮箱:</label><div class="col-sm-10"><div class="content">{{provider.user.email}}</div></div></div><div class="form-group"><label class="col-sm-2 control-label">创始人手机:</label><div class="col-sm-10"><div class="content">{{provider.user.mobilePhone}}</div></div></div></form><h3>授权信息</h3><form class="form-horizontal oneBox"><div class="form-group"><label class="col-sm-2 control-label">软件版本:</label><div ng-if="providerInfObj.licenseStatus === \'trial\' && providerInfObj.typeE === \'free\'" class="col-sm-10 showVersions">试用</div><div ng-if="providerInfObj.licenseStatus === \'trial\' && providerInfObj.typeE !== \'free\'" class="col-sm-10 showVersions">免费试用</div><div ng-if="providerInfObj.licenseStatus === \'paid\'" class="col-sm-10 showVersions">{{providerInfObj.type}}</div></div><div class="form-group"><label class="col-sm-2 control-label">选配功能:</label><div class="col-sm-10 showVersions"><div ng-if="providerInfObj.licenseStatus === \'trial\'">默认</div><div ng-if="providerInfObj.licenseStatus === \'paid\'" ng-click="showCheckedFunction();"><span style="margin-right:10px" ng-repeat="item in providerInfObj.canCheckedFunctionModule">{{item.serviceName}}</span></div></div></div><div class="form-group"><label class="col-sm-2 control-label">授权用户数:</label><div class="col-sm-10 showVersions"><div ng-if="providerInfObj.engineerCount === -1">无限制</div><div ng-if="providerInfObj.engineerCount !== -1">{{providerInfObj.engineerCount}}</div></div></div><div class="form-group"><label class="col-sm-2 control-label">用量限制:</label><div class="col-sm-10 showVersions"><div>{{storageUsageText}}</div></div></div><div ng-if="providerInfObj.days != null" class="form-group"><label class="col-sm-2 control-label">截止日期:</label><div class="col-sm-10 showVersions">{{providerInfObj.authorizeDeadline}} <span ng-if="providerInfObj.days > 0">（还可使用<span style="color:red">{{providerInfObj.days}}</span>天）</span> <span style="color:red" ng-if="providerInfObj.days <= 0">（授权已到期，请尽快续费）</span></div></div><div ng-if="providerInfObj.days == null" class="form-group"><label class="col-sm-2 control-label">账户余额:</label><div class="col-sm-10 showVersions">{{providerInfObj.accountBalance}}</div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><p>增购续购请致电 400 812 3602，了解最新价格请点击 <a href="http://helpdesk.ewei.com/price.html" target="_blank" class="custom-main-font-color">价格详情 </a></p></div></div></form><form id="expanded" method="post" target="_blank"><input type="hidden" name="providerId" value="{{provider.id}}"> <input type="hidden" name="providerNumber" value="{{provider.providerNumber}}"></form><div ng-if="providerInfObj.typeE ===\'enterprise_basic_19\'"><h3>空间用量</h3><div class="oneBox" style="padding-left:40px"><div class="padding_bottom10px">年新增数据量 <span style="color:#FFD28C"><span>{{providerLicense.allSizeEnterpriseBasic19 | fileSizeA}} / </span><span ng-if="providerLicense.yearAddDataCapacity>0">{{providerLicense.yearAddDataCapacity}}GB</span> <span ng-if="providerLicense.yearAddDataCapacity===-1">无限制</span></span></div><color-percent-bar usage-list="usageList" usage-percent="usagePercent"></color-percent-bar></div></div><div ng-if="providerInfObj.typeE !== \'enterprise_basic_19\' && providerInfObj.typeE !== \'online_service_basic\' &&\n  providerInfObj.typeE !== \'remote_assistance_basic\'"><h3>存储空间</h3><form class="form-horizontal oneBox"><div style="margin-left:40px;position:relative"><div style="height:16px;margin:15px 80px 20px 0;background:#E4E4E4;position:relative;border-radius:10px"><div style="background:{{providerInfObj.color}};width:{{100 - providerInfObj.residueRate}}%;position:absolute;left:0;top:0;height:16px;border-radius:10px;max-width:100%"><div style="position:absolute;top:-26px;white-space:nowrap;font-size:12px">存储空间总量 <span style="color:#FFD28C"><span>{{providerLicense.allSize | fileSizeA}} / </span><span ng-if="providerLicense.useDataCapacity>0">{{providerLicense.useDataCapacity}}GB</span> <span ng-if="providerLicense.useDataCapacity===-1">无限制</span></span></div></div></div><div style="position:absolute;right:10px;top:0"><span>{{((providerLicense.allSize/1024/1024/1024)/providerLicense.useDataCapacity*100).toFixed(2)}}%</span></div><button ng-if="providerInfObj.typeE !== \'enterprise_basic_19\' && providerInfObj.typeE !== \'enterprise_basic\'" ng-click="pay();" type="button" class="btn btn-default btn-confirm">增购空间</button></div></form></div><div ng-if="providerInfObj.smsInfo"><h3><span>短信使用情况</span><div class="switch-div"><div><switch name="enabled" ng-model="providerInfObj.isOpenSmsNotify" ng-change="openSmsNotify()"></switch></div><span class="msg">已{{providerInfObj.isOpenSmsNotify?\'启用\':\'停用\'}}短信通知</span></div></h3><form class="form-horizontal oneBox"><div style="margin-left:40px;position:relative"><div style="height:16px;margin:15px 80px 20px 0;background:#E4E4E4;position:relative;border-radius:10px"><div style="background:{{providerInfObj.color}};width:{{(1 - (providerInfObj.smsInfo.availableSmsCount>0?providerInfObj.smsInfo.availableSmsCount:0) /providerInfObj.smsInfo.totalSmsCount) *100}}%;position:absolute;left:0;top:0;height:16px;border-radius:10px;max-width:100%"><div ng-if="providerInfObj.smsInfo.availableSmsCount >= 10" style="position:absolute;top:-26px;white-space:nowrap;color:#F90;font-size:12px">剩余{{providerInfObj.smsInfo.availableSmsCount}}条</div><div ng-if="providerInfObj.smsInfo.availableSmsCount > 0 && providerInfObj.smsInfo.availableSmsCount < 10" style="position:absolute;top:-26px;white-space:nowrap;color:#F90;font-size:12px">剩余{{providerInfObj.smsInfo.availableSmsCount}}条，请及时增购，超出将自动停用短信通知功能。</div><div ng-if="providerInfObj.smsInfo.availableSmsCount <= 0" style="position:absolute;top:-26px;white-space:nowrap;color:#F90">剩余{{providerInfObj.smsInfo.availableSmsCount}}条，短信通知已停用，请及时增购。</div></div></div><div style="position:absolute;right:0;top:0">{{providerInfObj.smsInfo.totalSmsCount}}条</div><button ng-click="paySms();" type="button" class="btn btn-default btn-confirm">增购短信</button></div></form></div></div><script type="text/ng-template" id="checked-function.html"><div class="modal" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <button ng-click="$hide();" type="button" class="close" data-dismiss="modal" aria-label="Close">\n            <span aria-hidden="true">&times;</span>\n          </button>\n          <h4 class="modal-title" ng-bind="title"></h4>\n        </div>\n        <div class="modal-body" ng-bind="content"></div>\n      </div>\n    </div>\n  </div><\/script><script type="text/ng-template" id="checked-function-content.html"><div class="companyModelBox">\n    <ul>\n      <li ng-repeat="item in providerInfObj.canCheckedFunctionModule">{{item.serviceName}}</li>\n      <li ng-repeat="item in providerInfObj.canCheckedServiceModule">\n        <span ng-if="item.no > 0">{{item.no}}人日</span>\n        {{item.serviceName}}\n      </li>\n    </ul>\n    <div class="clearfix">\n      <button ng-click="$hide();" style="margin-top: 20px;float: right;margin: 15px 20px 10px 0;" type="button" class="btn btn-default btn-confirm">知道了</button>\n    </div>\n  </div><\/script>');e.put("source/system-setting/company-setting/templates/operation-log.html",'<div><div class="size12"><div class="size13 line_solid_02 of0 padding_bottom10px padding_top15px"><span style="display:inline-block;width:25%" class="floatLeft font_b">操作人</span> <span style="display:inline-block;width:20%" class="floatLeft font_b">操作时间</span> <span style="display:inline-block;width:10%" class="floatLeft font_b">操作方式</span> <span style="display:inline-block;width:30%" class="floatLeft font_b">操作对象</span> <span style="display:inline-block;width:15%" class="floatLeft font_b">操作IP</span></div><ul style="list-style:none;padding:0"><li id="list" class="padding_top10px padding_bottom10px line_solid_02 of0" ng-repeat="log in operationLogs"><span style="display:inline-block;width:25%" class="floatLeft">{{log.user.name}} ({{log.user.mobilePhone?log.user.mobilePhone:log.user.email}})</span> <span style="display:inline-block;width:20%" class="floatLeft">{{log.createdAt}}</span> <span style="display:inline-block;width:10%" class="floatLeft">{{log.action}}</span> <span style="display:inline-block;width:30%" class="floatLeft">{{log.target}}</span> <span style="display:inline-block;width:15%" class="floatLeft">{{log.ip}}</span></li></ul></div><div><span ng-if="isMore.show" ng-click="more()" style="cursor:pointer;color:#00F">more...</span><image ng-if="isMore.loading" src="/source/images/loading.gif"></div><div style="height:20px"></div></div><style type="text/css">#list:HOVER{background-color:#F3F3F3}</style>');e.put("source/system-setting/company-setting/templates/sms-log.html",'<div class="sms"><table class="table sms-table margin10px c00 size13" ng-table="tableParams" template-pagination="source/scripts/directives/table/pager_search.html"><thead><tr class="text-left"><th class="text-left">消费时间</th><th class="text-left">消费类型</th><th class="text-left">消费条数</th><th class="text-left">手机号</th></tr></thead><tbody><tr ng-repeat="item in datas track by $index"><td>{{item.createdAt}}</td><td>{{item.type | sms_type}}</td><td>-1条</td><td>{{item.mobilePhone}}</td></tr></tbody></table></div><div ng-table-pagination="tableParams" template-url="\'source/scripts/directives/table/pager.html\'"></div><style>.sms{min-height:500px}.sms-table td,.sms-table th{color:#666;border-color:#e4e4e4}.sms-table>thead>tr>th{border-bottom:1px solid #e4e4e4}.sms-table tbody tr{height:40px;line-height:40px}.sms-table>tbody>tr>td,.sms-table>thead>tr>th{padding:10px}.sms-table tbody tr:last-child{border-bottom:1px solid #e4e4e4}</style>');e.put("source/system-setting/form-manager/templates/form-manager-detail.html",'<div class="config_form form-manager-detail"><div class="setting-head-common"><div class="nav-title ng-binding"><a ui-sref="system_setting.detail({uri:\'form_manager\',settingType:\'multi_channel\'})">表单管理 </a><span>》 </span><span>{{doType === \'modify\'? form.name : \'增加表单\'}}</span></div><oem-learn-more type="form_{{formType}}" description="添加表单，引用在任意渠道上，收集客户资料及反馈" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1163" class="know-more"></oem-learn-more><div class="form_window"><ul class="list-unstyled clearfix"><li class="first"><ul class="list-unstyled name-list"><li><strong>表单名称</strong></li><li><strong>表单类型</strong></li><li><strong>附加说明</strong></li><li class="last"><strong>自定义表单</strong></li></ul></li><li class="second"><ul class="list-unstyled config_list"><li><input type="text" class="size14 form-control window_title" maxlength="40" ng-model="form.name" placeholder="网页表单实例"></li><li><select class="form-control" ng-disabled="doType === \'modify\' || doType === \'copy\'" ng-model="formType" ng-change="changeFormType()" ng-options="item.value as item.name for item in formTypeList"></select></li><li><label style="margin-bottom:10px">业务相关的附加公告</label><textarea ng-model="form.description" class="form-control" rows="3" maxlength="2000" noresi></textarea></li><li class="select_field"><label>请选择您需要的字段</label><div class="clearfix form-customField form-chat" ng-if="formType === \'chat\'"><ul class="list-unstyled pull-left"><li ng-class="{true: \'activeShow\'}[customField.activeShow]" ng-style="{marginRight:($index %2 == 0 ? \'35px\': \'\')}" ng-click="checkedMenu(customField)" ng-repeat="customField in userCustomFields track by $index">{{customField.name}} <i class="iconfont" ng-if="customField.tips" uib-tooltip="{{customField.tips}}" tooltip-append-to-body="true" tooltip-placement="right" style="font-size:12px">&#xe6ee;</i> <img ng-show="customField.activeShow" ng-src="source/images/checked.png"></li></ul></div><div class="clearfix form-customField form-ticket" ng-if="formType === \'ticket\'"><ul class="list-unstyled pull-left"><li ng-class="{true: \'activeShow\'}[customField.activeShow]" ng-click="checkedMenu(customField)" ng-repeat="customField in ticketCustomFields track by $index">{{customField.name}} <img ng-show="customField.activeShow" ng-src="source/images/checked.png"></li></ul><ul class="list-unstyled pull-right"><li ng-class="{true: \'activeShow\'}[customField.activeShow]" ng-click="checkedMenu(customField)" ng-repeat="customField in userCustomFields track by $index">{{customField.name}} <i class="iconfont" ng-if="customField.tips" uib-tooltip="{{customField.tips}}" tooltip-append-to-body="true" tooltip-placement="right" style="font-size:12px">&#xe6ee;</i> <img ng-show="customField.activeShow" ng-src="source/images/checked.png"></li></ul></div><p style="width:280px;text-align:center;margin-top:20px">你还可以自定义更多字段供选择</p></li></ul></li><li class="third"><div submit-custom-field-set class="feedback-form"><div ng-show="form.description" class="description"><i style="color:#F99B04;position:absolute;left:8px;top:5px" class="iconfont">&#xe63b;</i> <span style="color:#333;font-size:14px">{{form.description}}</span></div><div ng-show="remark" class="remark"><i class="iconfont">&#xe63b;</i> <span class="txt">{{description}}</span></div><ul class="select-fields"><li style="margin-bottom:10px" ng-if="userInfArr.length >= 2"><div style="overflow:hidden"><div style="float:left"><span style="font-weight:700">{{userInfArr.length === 2 ? userInfArr[0].name+\'或\'+userInfArr[1].name : userInfArr[0].name+\'或\'+userInfArr[1].name+\'或\'+userInfArr[2].name}}</span></div><div style="float:right;margin-right:3px"><input disabled="disabled" checked="checked" type="checkbox"><span style="position:relative;left:3px;top:-2px;color:#999">必填</span></div></div><input type="test" class="form-control" style="width:100%;margin-top:5px" placeholder="Email或手机或ExternalId"></li><div ui-sortable ng-model="selectedCustomField"><li style="margin-bottom:10px;position:relative" ng-repeat="demo in selectedCustomField track by $index"><div ng-if="(demo.fieldName == \'email\' || demo.fieldName == \'mobilePhone\' || demo.fieldName == \'externalId\') && userInfArr.length < 2" style="overflow:hidden"><div style="float:left"><input ng-if="demo.inputType==\'checkbox\'" type="checkbox"> <span style="position:absolute;left:-20px;top:3px;cursor:move;color:#999" class="fa fa-arrows"></span> <span ng-show="!demo.active" style="font-weight:700">{{demo.showName}}</span> <input ng-model="demo.showName" ng-blur="editMenuOver(demo)" ng-show="demo.active" type="text"> <i ng-click="editMenu(demo)" ng-show="!demo.active" style="color:#39f" class="fa fa-pencil-square-o"></i></div><div style="float:right;margin-right:3px"><input ng-model="demo.required" type="checkbox"><span style="position:relative;left:3px;top:-2px;color:#999">必填</span></div></div><div ng-if="demo.fieldName != \'email\' && demo.fieldName != \'mobilePhone\' && demo.fieldName != \'externalId\'" style="overflow:hidden"><div style="float:left"><input ng-if="demo.inputType==\'checkbox\'" type="checkbox"> <span style="position:absolute;left:-20px;top:3px;cursor:move;color:#999" class="fa fa-arrows"></span> <span ng-show="!demo.active" style="font-weight:700">{{demo.showName}}</span> <input ng-model="demo.showName" ng-blur="editMenuOver(demo)" ng-show="demo.active" type="text"> <i ng-click="editMenu(demo)" ng-show="!demo.active" style="color:#39f" class="fa fa-pencil-square-o"></i></div><div ng-if="demo.inputType != \'checkbox\' && demo.fieldName != \'verifyCode\'" style="float:right;margin-right:3px"><input ng-if="(demo.fieldName == \'subject\' || demo.fieldName == \'description\') && !isaa" disabled="disabled" checked="checked" type="checkbox"> <input ng-if="demo.fieldName != \'subject\' && demo.fieldName != \'description\'" ng-model="demo.required" type="checkbox"> <input ng-if="(demo.fieldName == \'subject\' || demo.fieldName == \'description\') && isaa" ng-model="demo.required" type="checkbox" ng-change="checkFun(demo)" ng-disabled="demo.disabled"> <span ng-if="demo.fieldName != \'serviceCatalog\' && demo.inputType!=\'cascade_options\'" style="position:relative;left:3px;top:-2px;color:#999">必填</span> <span ng-if="demo.fieldName == \'serviceCatalog\' || demo.inputType==\'cascade_options\'" style="position:relative;left:3px;top:-2px;color:#999">必须选到底层</span></div></div><input ng-if="demo.inputType ==\'text\' && (demo.fieldName == \'email\' || demo.fieldName == \'mobilePhone\' || demo.fieldName == \'externalId\') && userInfArr.length < 2" style="margin-top:5px;width:100%" type="text" class="form-control" ng-model="demo.tip" maxlength="255"> <input ng-if="demo.inputType ==\'text\' && demo.fieldName != \'verifyCode\' && demo.fieldName != \'email\' && demo.fieldName != \'mobilePhone\' && demo.fieldName != \'externalId\'" style="margin-top:5px;width:100%" type="text" class="form-control" ng-model="demo.tip" maxlength="255"><select ng-if="demo.inputType==\'select\'" style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select><input ng-if="demo.inputType==\'date\'" type="date" class="form-control" style="width:100%;margin-top:5px" placeholder="{{demo.tip}}"> <input ng-if="demo.inputType==\'date_time\'" type="datetime-local" class="form-control" style="width:100%;margin-top:5px" placeholder="{{demo.tip}}"><div class="row" ng-if="demo.inputType==\'date_to_date\'"><div class="col-md-6"><input type="date" class="form-control" style="margin-top:5px" placeholder="{{demo.tip}}"></div><div class="col-md-6" ng-if="demo.inputType==\'date_to_date\'"><input type="date" class="form-control" style="margin-top:5px" placeholder="{{demo.tip}}"></div></div><div ng-if="demo.inputType==\'cascade_options\'"><select style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select><select style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select></div><div ng-if="demo.inputType==\'multi_options\'"><div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" uib-dropdown-toggle ng-disabled="disabled" style="text-align:left;height:32px"><span style="float:left;word-break:break-all">{{demo.tip}}</span> <span class="caret" style="position:absolute;right:8px;top:14px"></span></button><ul style="padding:0;height:auto;max-height:330px;overflow:auto;width:100%" class="list-group dropdown-menu" role="menu" uib-dropdown-menu><li class="list-group-item" style="padding:5px 15px" ng-click="$event.stopPropagation()"><label style="width:100%;cursor:pointer"><input type="checkbox" style="margin-right:10px;position:relative;top:3px"><span>{{demo.tip}}</span></label></li></ul></div></div><textarea ng-if="demo.inputType==\'textarea\'" style="margin-top:5px;width:100%" class="form-control" ng-model="demo.tip" maxlength="255"></textarea><div ng-if="demo.fieldName == \'verifyCode\'" style="margin-top:10px;overflow:hidden"><input style="float:left;width:120px;height:34px" class="form-control" ng-model="demo.tip" maxlength="255"><div style="float:left;margin-left:10px;margin-top:5px"><img style="height:24px" src="source/images/daoru1.jpg"> <a style="font-size:12px">看不清，换一张</a></div></div></li></div></ul><div style="padding:0 30px 30px 30px;background:#F2F2F2"><button type="button" class="btn btn-primary btn-block">提交</button></div></div></li></ul></div><div class="form-submit"><a class="btn btn-primary w100" ng-click="subForm()">更新</a> <a class="cancel" ui-sref="system_setting.detail({uri:\'form_manager\',settingType:\'multi_channel\'})">取消</a></div></div></div>');e.put("source/system-setting/form-manager/templates/form-manager.html",'<div class="setting-head-common" style="margin-top:20px"><div class="nav-title"><p class="channel"><strong>表单管理</strong></p></div><oem-learn-more style="width:564px" type="form-manager" description="添加表单，引用在任意渠道上，收集客户资料及反馈。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1163" class="know-more"></oem-learn-more><div class="system-setting-search"><div class="input-group"><input type="text" class="form-control search-input" placeholder="搜索" ng-model="searchKey" ng-enter="searchForm()"> <span class="input-group-addon" style="cursor:pointer;color:#ccc" ng-click="searchForm()" ng-style="(searchKey!=null&amp;&amp;searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span> <i class="iconfont delete-search-icon" ng-show="searchKey && oldSearchKey" ng-click="cancelSearch()">&#xe711;</i></div><a class="btn btn-default" href="javascript:void(0)" ng-click="editForm(0,\'add\')">添加表单</a></div><ul class="nav-list clearfix"><li ng-click="switching(\'ticket\')" ng-class="{true: \'active\',false: \'\'}[displayTicketForm]">工单表单</li><li ng-click="switching(\'chat\')" ng-class="{true: \'active\',false: \'\'}[displayChatForm]">会话表单</li></ul><div class="form-manager"><div class="w900 margin_top20px"><div class="table-responsive"><table class="table new-table"><thead><tr><th class="form-name">表单名称</th><th class="state">状态</th><th class="update">更新于</th><th class="who">操作人</th><th class="text-right w250">操作</th></tr></thead><tbody><tr ng-repeat="item in listForm | orderBy:\'enabled\':true"><td><a class="channel-name" ng-bind="item.name" title="{{item.name}}" ng-click="editForm(item.id,\'modify\')"></a></td><td ng-bind="item.enabled?\'启用\':\'停用\'"></td><td ng-bind="item.updatedAt ? item.updatedAt : item.createdAt | dateFilter_human"></td><td ng-bind="item.updater"></td><td class="text-right"><a ng-click="editForm(item.id,\'copy\')" ng-if="item.enabled">克隆</a><span ng-if="item.enabled">&emsp;|&emsp;</span> <a ng-click="editForm(item.id,\'modify\')" ng-if="item.enabled">编辑</a><span ng-if="item.enabled && !item.isDefault">&emsp;|&emsp;</span> <a ng-click="deleteForm(item)" ng-if="!item.isDefault && !item.enabled">删除</a><span ng-if="!item.isDefault && !item.enabled">&emsp;|&emsp;</span> <a ng-click="updateFormState(item)" ng-if="!item.isDefault" ng-bind="item.enabled?\'停用\':\'启用\'"></a></td></tr></tbody></table><div class="text-center ng-table-pager" ng-if="allCount>page.pageSize"><ul class="pagination-sm center" uib-pagination total-items="allCount" ng-model="page.pageNumber" items-per-page="page.pageSize" max-size="7" boundary-link-numbers="true" rotate="true" ng-change="getListForm()" previous-text="&lt;" next-text="&gt;"></ul><span class="color999">共计{{allCount}}条</span></div></div></div></div></div>');e.put("source/system-setting/help-center/templates/add-ticket-setting.html",'<style type="text/css">.submitTicketNav{list-style:none;padding:0;margin-top:30px;padding-left:10px;border-bottom:1px solid #E4E4E4;margin-bottom:40px}.submitTicketNav li{border:1px solid #E4E4E4;width:120px;height:36px;float:left;line-height:36px;margin-right:10px;text-align:center;position:relative;top:1px;cursor:pointer;color:#69C;background:#F6F6F6}.submitTicketNav .activeNav{color:#747C7E;background:#fff;border-bottom:none}.submitTicketSet{width:300px;margin-top:20px;padding:0}.submitTicketSet ul{padding:0}.submitTicketSet li{width:130px;border:1px solid #ccc;height:35px;text-align:center;line-height:34px;border-radius:5px;margin-bottom:20px;cursor:pointer;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;list-style:none;position:relative}.submitTicketSet li img{position:absolute;right:0;top:0}.submitTicketSet li:hover{text-decoration:none;background:#f2f2f2;border:none}.submitTicketSet .activeShow{background:#f2f2f2;border:none}.ui-sortable-helper{cursor:move}#ticketCustomFieldsListBox{background:#F2F2F2;margin-top:20px;padding:15px 30px;list-style:none;font-size:14px;min-width:340px}#ticketCustomFieldsListBox i{cursor:pointer}</style><div style="width:900px;padding:20px;color:#666" class="size13"><div><div submit-ticket-set-form class="clear" style="overflow:hidden"><div style="font-size:14px" class="pull-left"><strong>表单字段</strong></div><div style="margin-left:50px;margin-right:100px" class="size13 pull-left"><div><strong>请选择您需要的字段</strong></div><div class="clearfix submitTicketSet"><ul class="pull-left"><li ng-class="{true: \'activeShow\'}[ticketCustomField.activeShow]" ng-click="checkedMenu(ticketCustomField)" ng-repeat="ticketCustomField in ticketCustomFields track by $index">{{ticketCustomField.name}} <img ng-show="ticketCustomField.activeShow" ng-src="source/images/checked.png"></li></ul><ul style="margin-left:35px" class="pull-left"><li ng-class="{true: \'activeShow\'}[userCustomField.activeShow]" ng-click="checkedMenu(userCustomField)" ng-repeat="userCustomField in userCustomFields track by $index">{{userCustomField.name}} <img ng-show="userCustomField.activeShow" ng-src="source/images/checked.png"></li></ul></div><p style="width:280px;text-align:center;margin-top:20px">你还可以自定义更多字段供选择</p></div><div style="float:left;max-width:430px"><div><strong style="font-size:14px">请自定义修改您的表单样式(可拖动排序)</strong></div><ul id="ticketCustomFieldsListBox"><li style="margin-bottom:10px"><span ng-show="!subject.active" style="font-size:16px;font-weight:700">{{subject.subjectInf}}</span> <input ng-model="subject.subjectInf" ng-blur="editMenuOver(subject)" ng-show="subject.active" type="text"> <i ng-click="editMenu(subject)" ng-show="!subject.active" style="color:#39f" class="fa fa-pencil-square-o"></i></li><li style="margin-bottom:10px" ng-if="userInfArr.length == 2"><div style="overflow:hidden"><div style="float:left"><span style="font-weight:700">Email或手机</span></div><div style="float:right;margin-right:3px"><input disabled="disabled" checked="checked" type="checkbox"><span style="position:relative;left:3px;top:-2px;color:#999">必填</span></div></div><input type="test" class="form-control" style="width:100%;margin-top:5px" placeholder="请输入Email或手机"></li><div ui-sortable ng-model="ticketCustomFieldShowDemo"><li style="margin-bottom:10px;position:relative" ng-repeat="demo in ticketCustomFieldShowDemo track by $index"><div ng-if="(demo.fieldName == \'email\' || demo.fieldName == \'mobilePhone\') && userInfArr.length < 2" style="overflow:hidden"><div style="float:left"><input ng-if="demo.inputType==\'checkbox\'" type="checkbox"> <span style="position:absolute;left:-20px;top:3px;cursor:move;color:#999" class="fa fa-arrows"></span> <span ng-show="!demo.active" style="font-weight:700">{{demo.showName}}</span> <input ng-model="demo.showName" maxlength="32" ng-blur="editMenuOver(demo)" ng-show="demo.active" type="text"> <i ng-click="editMenu(demo)" ng-show="!demo.active" style="color:#39f" class="fa fa-pencil-square-o"></i></div><div ng-if="demo.inputType != \'checkbox\' && demo.fieldName != \'verifyCode\'" style="float:right;margin-right:3px"><input ng-model="demo.required" type="checkbox"><span style="position:relative;left:3px;top:-2px;color:#999">必填</span></div></div><div ng-if="demo.fieldName != \'email\' && demo.fieldName != \'mobilePhone\'" style="overflow:hidden"><div style="float:left"><input ng-if="demo.inputType==\'checkbox\'" type="checkbox"> <span style="position:absolute;left:-20px;top:3px;cursor:move;color:#999" class="fa fa-arrows"></span> <span ng-show="!demo.active" style="font-weight:700">{{demo.showName}}</span> <input ng-model="demo.showName" maxlength="32" ng-blur="editMenuOver(demo)" ng-show="demo.active" type="text"> <i ng-click="editMenu(demo)" ng-show="!demo.active" style="color:#39f" class="fa fa-pencil-square-o"></i></div><div ng-if="demo.inputType != \'checkbox\' && demo.fieldName != \'verifyCode\'" style="float:right;margin-right:3px"><input ng-model="demo.required" type="checkbox"> <span ng-if="demo.fieldName != \'serviceCatalog\'" style="position:relative;left:3px;top:-2px;color:#999">必填</span> <span ng-if="demo.fieldName == \'serviceCatalog\'" style="position:relative;left:3px;top:-2px;color:#999">必须选到底层</span></div></div><input ng-if="demo.inputType ==\'text\' && (demo.fieldName == \'email\' || demo.fieldName == \'mobilePhone\') && userInfArr.length < 2" style="margin-top:5px;width:100%" type="text" class="form-control" ng-model="demo.tip" maxlength="255"> <input ng-if="demo.inputType ==\'text\' && demo.fieldName != \'verifyCode\' && demo.fieldName != \'email\' && demo.fieldName != \'mobilePhone\'" style="margin-top:5px;width:100%" type="text" class="form-control" ng-model="demo.tip" maxlength="255"><select ng-if="demo.inputType==\'select\'" style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select><input ng-if="demo.inputType==\'date\'" type="date" class="form-control" style="width:100%;margin-top:5px" placeholder="{{demo.tip}}"> <input ng-if="demo.inputType==\'date_time\'" type="datetime-local" class="form-control" style="width:100%;margin-top:5px" placeholder="{{demo.tip}}"><div class="row" style="width:310px" ng-if="demo.inputType==\'date_to_date\'"><div class="col-md-6"><input type="date" class="form-control" style="margin-top:5px" placeholder="{{demo.tip}}"></div><div class="col-md-6" ng-if="demo.inputType==\'date_to_date\'"><input type="date" class="form-control" style="margin-top:5px" placeholder="{{demo.tip}}"></div></div><div ng-if="demo.inputType==\'cascade_options\'"><select style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select><select style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select></div><div ng-if="demo.inputType==\'multi_options\'"><div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" uib-dropdown-toggle ng-disabled="disabled" style="text-align:left;height:32px"><span style="float:left;word-break:break-all">{{demo.tip}}</span> <span class="caret" style="position:absolute;right:8px;top:14px"></span></button><ul style="padding:0;height:auto;max-height:330px;overflow:auto;width:100%" class="list-group dropdown-menu" role="menu" uib-dropdown-menu><li class="list-group-item" style="padding:5px 15px" ng-click="$event.stopPropagation()"><label style="width:100%;cursor:pointer"><input type="checkbox" style="margin-right:10px;position:relative;top:3px"><span>{{demo.tip}}</span></label></li></ul></div></div><textarea ng-if="demo.inputType==\'textarea\'" style="margin-top:5px;width:100%" class="form-control" ng-model="demo.tip" maxlength="255"></textarea><div ng-if="demo.fieldName == \'verifyCode\'" style="margin-top:10px;overflow:hidden"><input style="float:left;width:120px;height:24px" class="form-control" ng-model="demo.tip" maxlength="255"><div style="float:left;margin-left:10px"><img style="height:24px" src="source/images/daoru1.jpg"> <a style="font-size:12px">看不清，换一张</a></div></div></li></div></ul></div></div></div><div style="margin-top:50px;border-top:1px solid #E4E4E4;padding-top:50px"><form style="width:700px" class="form-horizontal"><div style="margin-bottom:40px" class="form-group"><label style="text-align:left" class="col-sm-2 control-label">工单投递规则</label><div class="col-sm-10"><p style="margin:6px 0 12px 0"><strong>客服组</strong></p><select class="form-control" style="width:400px" ng-model="ticketSendRule.serviceDesk" ng-options="item.name for item in serviceDesks"></select><p style="color:#999;margin-top:10px">提交的工单首先分派到选定的客服组，任何组员都可以响应组的“待响应工单”。<br>或根据导航菜单（服务目录）动态地分派到相应的客服组。参见商业规则-服务目录关于<br>责任客服组的配置。</p></div></div><div style="margin-top:60px" class="form-group"><div class="col-sm-10 col-sm-offset-2"><button type="button" class="btn btn-primary w100" ng-click="updateTicketSubmitFields()">更新</button></div></div></form></div></div>');e.put("source/system-setting/help-center/templates/auto-reply.html",'<div class="auto_reply"><div class="row"><div class="check_nav" ng-show="wechat.isMenu && !hasNav">当前的导航菜单为空，会导致客户无菜单可用。请前往“在线客服导航”进行配置。</div></div><div class="row"><div ng-class="{true: \'margin_top35px\'}[!wechat.isMenu || hasNav]"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>欢迎语</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><span class="pull-right"><input type="checkbox" ng-model="wechat.isMenu" ng-click="navCheck()">导航模式</span></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.onlineWelcome"></div></div></div><p ng-show="!wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">展开会话窗口时自动回复上述欢迎语。客户一旦回复，立即呼叫客服，开始在线交谈。</p><p ng-show="wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">打开会话窗口自动回复以上欢迎语。用户点击选择导航菜单，呼叫客服，开始在线交谈。 请不要删除模板中的<span ng-non-bindable>{{guide_menu}}</span>，会导致无法显示导航菜单。</p></div></div></div><div ng-show="wechat.isMenu" class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>自动回复</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.onlineAutomaticReply"></div></div></div><p ng-show="wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">若用户未选择导航菜单，发送内容，自动回复如上。 请不要删除模板中的<span ng-non-bindable>{{guide_menu}}</span>，会导致无法显示导航菜单。</p></div></div><div class="row"><div class="customer_not_online"><label class="col-md-5" style="margin:8px 0 0 12px">非营业时段，或客服不在线时的自动回复</label></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>欢迎语</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'offlineWelcome\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.offlineWelcome"></div></div></div><p class="margin_top10px margin_bottom40px color-gray">非营业时段或者客服都不在线的时候，展开会话窗口自动回复上述欢迎语。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>自动回复</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'offlineAutomaticReply\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.offlineAutomaticReply"></div></div></div><p class="margin_top10px margin_bottom40px color-gray">如果用户不理会提示继续回复，则自动回复如上。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="markLink(\'offlineArticleList\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="wechat.offlineArticleList"></div></div></div><p class="margin_top10px color-gray">用户的回复如果命中知识库文章关键字（标签），自动回复如上。请前往帮助中心 <a href="/showAddArticle" class="add_article" target="_blank">添加文章</a> 和标签。请不要删除模板里的<span ng-non-bindable>{{article_list}}</span>，会导致无法显示文章。</p><div class="auto_reply_footer margin_bottom120px"><button type="button" class="btn btn-primary w100" ng-click="updateWelcomes();">更新</button></div></div></div></div>');e.put("source/system-setting/help-center/templates/client.html",'<div class="setting-common-body"><ul><li><div class="title-bar"><span>小程序客户端</span></div><div style="position:relative" class="form-content"><div style="width:138px;height:136px;display:inline-block;overflow:hidden"><img style="width:138px" ng-src="{{helpCenter.imgTwoSrc}}"></div><a class="custom-main-font-color" style="position:relative;top:-8px" href="{{helpCenter.imgTwoSrc}}" target="_blank">下载二维码</a><p class="tip">微信扫描二维码在微信中使用小程序帮助中心。</p></div></li><li><div class="title-bar"><span>桌面客户端</span></div><div class="form-content"><button type="button" class="btn btn-primary w100" ng-click="desktopHelpDownload();">立即下载</button><p style="margin-top:15px">点击下载桌面版帮助中心安装包</p></div></li><li><div class="title-bar"><span>WEB客户端地址</span></div><div class="form-content"><div style="position:relative"><input id="inputHtmlLink" ng-model="helpCenter.protocolHref" readonly="readonly" type="text" class="form-control" style="cursor:default;padding-right:50px"> <a copy-some-thing="inputHtmlLink" class="custom-main-font-color" style="position:absolute;right:0;top:0;width:50px;height:34px;line-height:34px;text-align:center" href="javascript:">复制</a></div></div></li></ul></div>');e.put("source/system-setting/help-center/templates/interface-appearance.html",'<style type="text/css">.web-chat-box{padding:15px;background-color:#FAFAFB;height:370px;border:1px solid #F1F1F1}.web-chat-box li{margin-top:10px}.web-chat-box .my-self-send{text-align:right}.web-chat-box div{border:1px solid #E4E4E4;display:inline-block;padding:6px 8px;margin-top:5px;border-radius:3px;position:relative}.web-chat-box .web-chat-arrow-right{color:#fff;background-color:#3BB6EE}.web-chat-box .web-chat-arrow-left:before{content:\'\';border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #E4E4E4;position:absolute;top:7px;left:-7px}.web-chat-box .web-chat-arrow-left:after{content:\'\';border-top:5px solid transparent;border-bottom:5px solid transparent;border-right:5px solid #fff;position:absolute;top:9px;left:-5px}.web-chat-box .web-chat-arrow-right:before{content:\'\';border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:5px solid #3BB6EE;position:absolute;top:9px;right:-5px}.web-chat-tools{padding:8px 0 0}.web-chat-tools .tool-item{text-decoration:none;color:#999;line-height:16px;display:inline-block;padding:2px 8px;border:1px solid transparent}.web-chat-tools .tool-item:hover{border-radius:4px;border-color:#e4e4e4}.webchat-tipbox{position:absolute;bottom:70px;width:180px;border:1px solid #D7DADB;display:block;padding:5px;border-radius:3px;font-size:13px;color:#666;word-break:break-all;z-index:9999;background:#fff}.webchat-tipbox-fillet{right:-40px}.webchat-tipbox-square-roundness{right:-116px}.webchat-tipbox:after,.webchat-tipbox:before{content:"";position:absolute;border-style:dashed dashed solid dashed;display:inline-block}.webchat-tipbox:before{left:11px;bottom:-20px;border-color:#fff transparent transparent;border-width:10px;z-index:1081}.webchat-tipbox:after{left:10px;bottom:-23px;border-color:#D7DADB transparent transparent;border-width:11px;z-index:1080}.webuploader{font-size:66px;cursor:pointer;line-height:1;color:#dadada}.removeImg{font-size:16px;cursor:pointer;line-height:1;margin-top:-8px;position:absolute;color:#dadada}.removeImg:hover{color:#999}.webuploader-pick-hover .webuploader{color:#999}.carousel-indicators li{margin-left:5px}.carousel-indicators .active{margin-bottom:0;margin-left:5px}.carousel-indicators{bottom:16px}</style><div style="margin-top:45px" class="config_form"><div ng-style="{width: (webFormStype.enabledAdvertisement?\'950px\':\'900px\')}" class="form_window"><ul class="list-unstyled clearfix"><li class="first"><strong class="form_window_title">会话窗口</strong></li><li class="second"><ul class="list-unstyled config_list"><li><label>窗口标题</label><input type="text" class="size14 form-control window_title" maxlength="16" ng-model="webFormOutward.windowTitle" placeholder="在线交谈"></li><li><label>字体颜色</label><spectrum-colorpicker ng-model="webFormOutward.windowfontColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></li><li><label>背景颜色</label><spectrum-colorpicker ng-model="webFormOutward.windowTitleColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></li></ul></li><li style="margin-left:0;float:right;position:relative" class="third clearfix"><i ng-show="!webFormStype.enabledAdvertisement" style="position:absolute;font-size:30px;top:220px;left:300px" class="iconfont">&#xe628;</i> <i ng-show="webFormStype.enabledAdvertisement" style="position:absolute;font-size:30px;top:220px;left:300px" class="iconfont">&#xe629;</i><p style="height:34px;line-height:34px;background:{{webFormOutward.windowTitleColor}};color:{{webFormOutward.windowfontColor}}" class="text-center">{{webFormOutward.windowTitle}} <i class="iconfont pull-right" style="margin-right:15px;font-size:12px">&#xe620;</i> <span class="pull-right" style="margin-right:15px;font-size:30px;margin-top:-2px;color:#fff">-</span></p><div style="height:530px;width:330px" class="feedback-form pull-left"><ul class="list-unstyled web-chat-box"><li><p style="color:#999;font-size:12px">广东网域科技有限公司 14：23</p><div class="web-chat-arrow-left">欢迎光临，请问有什么可以帮到你？</div></li><li class="my-self-send"><p style="color:#999;font-size:12px">我 14：23</p><div class="web-chat-arrow-right">我今天天气怎么样。</div></li><li style="font-size:12px;text-align:center;line-height:52px">您当前在队列的第1位</li><li><p style="color:#999;font-size:12px">客服小易 14：24</p><div class="web-chat-arrow-left">你好，客服小易为您服务。</div></li><li><p style="color:#999;font-size:12px">客服小易 14：24</p><div class="web-chat-arrow-left">多云转阴， 建议增添衣服！</div></li></ul><div style="height:120px;background-color:#F8F8F8"><div class="web-chat-tools"><a href="javascript:void(0)" title="表情" class="tool-item"><i class="iconfont">&#xe60b;</i> </a><a has-module="remote_help" href="javascript:void(0)" title="屏幕截图" class="tool-item"><i class="iconfont">&#xe602;</i> </a><a has-module="remote_help" href="javascript:void(0)" title="屏幕录像" class="tool-item"><i class="iconfont">&#xe604;</i> </a><a href="javascript:void(0)" title="传送文件" class="tool-item"><i class="iconfont">&#xe607;</i> </a><a href="javascript:void(0)" title="邮件" class="tool-item"><i class="iconfont">&#xe613;</i> </a><a href="javascript:void(0)" title="静音取消" class="tool-item"><i class="iconfont">&#xe61d;</i></a></div><textarea style="height:50px;border:none;outline:0;width:100%;background-color:#F8F8F8;padding:5px 10px;resize:none" placeholder="在这里输入消息"></textarea><div style="text-align:right;margin-right:10px"><div class="btn-group"><div style="border-radius:5px" class="dropdown-toggle" dropdown-toggle aria-haspopup="true" aria-expanded="false"><div style="background-color:#1E8CCE;padding:4px 10px 4px 20px;border:none;border-top-right-radius:0;border-bottom-right-radius:0" class="btn btn-default"><span style="color:#fff">回复</span></div><div class="btn" style="background-color:#1E8CCE;padding:2px 8px 2px 2px;margin-left:-4px;color:#fff;border-top-left-radius:0;border-bottom-left-radius:0"><i class="iconfont">| &#xe615;</i></div></div></div></div></div></div><div ng-show="webFormStype.enabledAdvertisement" class="pull-left" style="width:170px;height:530px"><div style="height:270px"><div ewei-carousel interval="myInterval" ng-if="!reloadCarousel"><div ewei-slide ng-repeat="slide in slides" active="slide.active"><img ng-src="{{slide.image}}" style="margin:auto;height:270px;width:100%"></div></div></div><ul class="list-unstyled" style="padding-left:10px;background-color:#F0F8FA;height:220px;overflow:hidden"><li style="margin-top:30px"><strong>推荐的文章和问题 ：</strong></li><li style="margin-top:10px"><a style="color:#399BD2" href="javascript:void(0)">提交工单需要登录吗?</a></li><li style="margin-top:10px"><a style="color:#399BD2" href="javascript:void(0)">提问和提交工单有什么...</a></li><li style="margin-top:10px"><a style="color:#399BD2" href="javascript:void(0)">用手机浏览器能打开帮...</a></li><li style="margin-top:10px"><a style="color:#399BD2" href="javascript:void(0)">不小心误删了一张工单...</a></li><li style="margin-top:10px"><a style="color:#399BD2" href="javascript:void(0)">{{$root.provider.name}}有APP吗？</a></li></ul></div></li></ul><ul class="list-unstyled clearfix"><li class="first"><strong class="form_window_title">企业信息服务</strong></li><li style="width:750px" class="second"><ul class="list-unstyled config_list"><li><label style="float:left" class="padding_top10px"><input name="ad" type="checkbox" id="autoSearchCheckboxAd" ng-model="webFormStype.enabledAdvertisement"></label><p style="margin-left:10px;line-height:40px"><label for="autoSearchCheckboxAd">启用企业信息服务设置</label></p><p style="color:#999">开启后，将展开右侧的企业信息栏。</p><div ng-if="webFormStype.enabledAdvertisement"><p style="margin-top:20px;color:#333">图片广告</p><p style="margin-top:10px;color:#999">图片宽度为175px，高度270px，支持jpg/png/bmp/gif格式</p><div ng-repeat="img in webFormStype.customWebFormAdvertisements track by $index" class="form-inline margin_top40px"><img ng-src="{{\'/no_auth_ewei_attachment?contentUrl=\' + img.image.contentUrl}}" height="60px" width="60px" style="border-radius:5px"> <i ng-if="(license ==\'oem\'||licenseService.hasModule(\'oem\'))" ng-click="deleteCustomWebFormAd(img)" class="iconfont removeImg">&#xe63c;</i><div class="form-group padding_left40px"><p class="margin_bottom10px" style="color:#333">图片超链接</p><input ng-disabled="((license ==\'oem\'||licenseService.hasModule(\'oem\'))?false:true)" ng-model="img.url" type="text" class="form-control" style="width:400px" placeholder="请输入图片超链接"></div></div><div ng-if="(license ==\'oem\'||licenseService.hasModule(\'oem\')) && webFormStype.customWebFormAdvertisements && webFormStype.customWebFormAdvertisements.length<3" class="form-inline margin_top40px" style="position:relative"><div class="form-group"><div ewei-webuploader logo-uploading file-queued="fileQueued(file);" upload-progress="uploadProgress(file,percentage)" upload-success="uploadSuccess(file, response)" error="error(handler)" file-type="image" class="pickWx" style="width:60px;height:60px"><i class="iconfont webuploader">&#xe6c6;</i> <span style="display:none;margin-left:4px"><img style="padding:19px;width:58px" src="source/images/loading_01.gif"></span></div></div><div class="form-group padding_left40px"><p class="margin_bottom10px" style="color:#333">图片超链接</p><input ng-model="objAd.url" type="text" class="form-control" style="width:400px" placeholder="请输入图片超链接"></div></div></div></li></ul></li></ul></div><div class="form_btn"><ul class="list-unstyled clearfix"><li class="first"><strong>悬浮按钮</strong></li><li class="second"><ul class="list-unstyled config_list"><li><label>按钮样式</label><select class="form-control" ng-change="changeButtonStyle(webFormOutward.style)" ng-model="webFormOutward.style"><option value="fillet">圆角按钮</option><option value="square">方形按钮</option><option value="roundness">圆形按钮</option></select></li><li><label>悬浮位置</label><select class="form-control" ng-model="webFormOutward.position" ng-options="positionItem.value as positionItem.option for positionItem in positionOptions"></select></li><li ng-if="webFormOutward.style != \'square\' && webFormOutward.style != \'roundness\'"><label>按钮标题</label><input type="text" class="form-control" maxlength="10" ng-model="webFormOutward.buttonTitle" placeholder="意见反馈"></li><li><label>按钮颜色</label><spectrum-colorpicker ng-model="webFormOutward.buttonBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></li><li><label><input type="checkbox" ng-model="webFormOutward.openCountMessage" style="float:left;margin-right:5px;line-height:20px"> 启用新消息通知</label></li></ul></li><li class="third"><div class="form_btn_view"><div class="form_btn_preview" ng-style="{\'width\':webFormOutward.style == \'square\' || webFormOutward.style == \'roundness\'?\'80px\':\'230px\'}"><div class="webchat-tipbox" ng-if="webFormOutward.openCountMessage" ng-style="{true: \'webchat-tipbox-fillet\', false: \'webchat-tipbox-square-roundness\'}[webFormOutward.style == \'fillet\']"><p style="font-size:12px;height:12px;color:#999;text-align:left"></p><div style="margin-bottom:12px;line-height:18px;text-align:left">新消息提醒</div><span style="position:absolute;top:5px;right:5px;width:20px;height:20px;text-align:center;line-height:20px">×</span></div><div style="margin:0 auto;height:32px;position:relative;max-width:250px"><div ng-if="webFormOutward.style == \'badge\' || webFormOutward.style == \'fillet\'" ng-style="{\'height\':webFormOutward.buttonLeftHeight,\'background-color\':webFormOutward.buttonBackgroundColor,\'width\':webFormOutward.buttonLeftWidth,\'height\':\'32px\',\'float\':webFormOutward.buttonLeftFloat,\n                \'border-top-left-radius\': webFormOutward.buttonLeftRadiusLeftTop,\'border-top-right-radius\': webFormOutward.buttonLeftRadiusRightTop,\'border-bottom-left-radius\': webFormOutward.buttonLeftRadiusLeftBottom,\'border-bottom-right-radius\': webFormOutward.buttonLeftRadiusRightBottom,\'padding-left\': webFormOutward.buttonLeftPaddingLeft,\n                \'text-align\': \'center\',\'position\':webFormOutward.buttonLeftPosition,\'top\':webFormOutward.buttonLeftPositionTop,\'left\':webFormOutward.buttonLeftPositionLeft}"><div ng-style="{\'font-size\':webFormOutward.buttonLeftFontSize}"><i style="color:#fff" class="fa fa-comment-o fa-3 padding5px"></i></div></div><div ng-if="webFormOutward.style == \'square\' || webFormOutward.style == \'roundness\'" ng-style="{\'height\':webFormOutward.buttonLeftHeight,\'line-height\': webFormOutward.buttonLeftLineHeight,\'background-color\':webFormOutward.buttonBackgroundColor,\'width\':webFormOutward.buttonLeftWidth,\'float\':webFormOutward.buttonLeftFloat,\n                \'border-top-left-radius\': webFormOutward.buttonLeftRadiusLeftTop,\'border-top-right-radius\': webFormOutward.buttonLeftRadiusRightTop,\'border-bottom-left-radius\': webFormOutward.buttonLeftRadiusLeftBottom,\'border-bottom-right-radius\': webFormOutward.buttonLeftRadiusRightBottom,\'padding-left\': webFormOutward.buttonLeftPaddingLeft,\n                \'text-align\': \'center\',\'position\':webFormOutward.buttonLeftPosition,\'top\':webFormOutward.buttonLeftPositionTop,\'left\':webFormOutward.buttonLeftPositionLeft}"><div ng-style="{\'font-size\':webFormOutward.buttonLeftFontSize}"><i style="color:#fff" class="fa fa-comment-o fa-3 padding5px"></i></div></div><div ng-if="webFormOutward.style != \'square\' && webFormOutward.style != \'roundness\'" style="max-width:170px;height:32px;line-height:32px;color:#fff;padding-left:5px" ng-style="{\'background-color\':webFormOutward.buttonBackgroundColor,\'border-top-left-radius\': webFormOutward.buttonRightRadiusLeftTop,\'border-top-right-radius\': webFormOutward.buttonRightRadiusRightTop,\'border-bottom-left-radius\': webFormOutward.buttonRightRadiusLeftBottom,\'border-bottom-right-radius\': webFormOutward.buttonRightRadiusRightBottom,\'padding-right\': webFormOutward.buttonRightPaddingRight,\'float\':webFormOutward.buttonLeftFloat,\n              \'text-align\': \'center\',\'height\':webFormOutward.buttonRightHeight,\'line-height\':webFormOutward.buttonRightLineHeight}">{{webFormOutward.buttonTitle}}</div></div></div></div></li></ul></div><div class="form_search"><ul class="list-unstyled clearfix"><li class="first"><strong>表单窗口</strong></li><li class="second"><ul class="list-unstyled config_list"><li><label style="float:left" class="padding_top10px"><input name="fruit" type="checkbox" id="autoSearchCheckbox" ng-model="webFormOutward.chatFormShow"></label><p style="margin-left:10px;line-height:40px"><label for="autoSearchCheckbox">启用网页表单</label></p><p>启用后，点击在线交谈按钮或页面载入时，将先呈现表单窗口。</p></li><li><label style="margin-bottom:10px">附加说明</label><textarea ng-model="webFormOutward.remark" class="form-control" rows="3" maxlength="50"></textarea></li></ul><ul class="list-unstyled form-customField"><label>选择字段</label><div class="clearfix"><ul class="list-unstyled"><li ng-style="{marginRight:($index %2 == 0 ? \'35px\': \'\')}" style="display:inline-block" ng-class="{true: \'activeShow\'}[userCustomField.activeShow]" ng-click="checkedMenu(userCustomField)" ng-repeat="userCustomField in userCustomFields track by $index">{{userCustomField.name}} <img ng-show="userCustomField.activeShow" ng-src="source/images/checked.png"></li></ul></div><p style="width:280px;text-align:center;margin-top:20px">你还可以自定义更多字段供选择</p></ul></li><li class="third"><div class="search-form"><div class="form-header"><p class="text-center" style="background:{{webFormOutward.windowTitleColor}};color:{{webFormOutward.windowfontColor}}">{{webFormOutward.windowTitle}} <span class="pull-right" style="margin-right:15px;font-size:30px;color:#fff">-</span></p></div><div ng-show="webFormOutward.remark" style="border:1px solid #E4E4E4;background:#F2F2F2;padding:6px 30px;word-break:break-all;position:relative"><i style="color:#F99B04;position:absolute;left:8px;top:5px" class="iconfont">&#xe63b;</i> <span style="color:#333;font-size:14px">{{webFormOutward.remark}}</span></div><div submit-custom-field-set class="feedback-form"><ul style="background:#F2F2F2;padding:15px 30px;list-style:none;font-size:14px"><li style="margin-bottom:10px" ng-if="userInfArr.length == 2"><div style="overflow:hidden"><div style="float:left"><span style="font-weight:700">Email或手机</span></div><div style="float:right;margin-right:3px"><input disabled="disabled" checked="checked" type="checkbox"><span style="position:relative;left:3px;top:-2px;color:#999">必填</span></div></div><input type="test" class="form-control" style="width:100%;margin-top:5px" placeholder="请输入Email或手机"></li><div ui-sortable ng-model="ticketCustomFieldShowDemo"><li style="margin-bottom:10px;position:relative" ng-repeat="demo in ticketCustomFieldShowDemo track by $index"><div ng-if="(demo.fieldName == \'email\' || demo.fieldName == \'mobilePhone\') && userInfArr.length < 2" style="overflow:hidden"><div style="float:left"><input ng-if="demo.inputType==\'checkbox\'" type="checkbox"> <span style="position:absolute;left:-20px;top:3px;cursor:move;color:#999" class="fa fa-arrows"></span> <span ng-show="!demo.active" style="font-weight:700">{{demo.showName}}</span> <input ng-model="demo.showName" ng-blur="editMenuOver(demo)" ng-show="demo.active" type="text"> <i ng-click="editMenu(demo)" ng-show="!demo.active" style="color:#39f" class="fa fa-pencil-square-o"></i></div><div style="float:right;margin-right:3px"><input ng-model="demo.required" type="checkbox"><span style="position:relative;left:3px;top:-2px;color:#999">必填</span></div></div><div ng-if="demo.fieldName != \'email\' && demo.fieldName != \'mobilePhone\'" style="overflow:hidden"><div style="float:left"><input ng-if="demo.inputType==\'checkbox\'" type="checkbox"> <span style="position:absolute;left:-20px;top:3px;cursor:move;color:#999" class="fa fa-arrows"></span> <span ng-show="!demo.active" style="font-weight:700">{{demo.showName}}</span> <input ng-model="demo.showName" ng-blur="editMenuOver(demo)" ng-show="demo.active" type="text"> <i ng-click="editMenu(demo)" ng-show="!demo.active" style="color:#39f" class="fa fa-pencil-square-o"></i></div><div ng-if="demo.inputType != \'checkbox\' && demo.fieldName != \'verifyCode\'" style="float:right;margin-right:3px"><input ng-model="demo.required" type="checkbox"> <span style="position:relative;left:3px;top:-2px;color:#999">必填</span></div></div><input ng-if="demo.inputType ==\'text\' && (demo.fieldName == \'email\' || demo.fieldName == \'mobilePhone\') && userInfArr.length < 2" style="margin-top:5px;width:100%" type="text" class="form-control" ng-model="demo.tip"> <input ng-if="demo.inputType ==\'text\' && demo.fieldName != \'verifyCode\' && demo.fieldName != \'email\' && demo.fieldName != \'mobilePhone\'" style="margin-top:5px;width:100%" type="text" class="form-control" ng-model="demo.tip"><select ng-if="demo.inputType==\'select\'" style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select><input ng-if="demo.inputType==\'date\'" type="date" class="form-control" style="width:100%;margin-top:5px" placeholder="{{demo.tip}}"> <input ng-if="demo.inputType==\'date_time\'" type="datetime-local" class="form-control" style="width:100%;margin-top:5px" placeholder="{{demo.tip}}"><div class="row" ng-if="demo.inputType==\'date_to_date\'"><div class="col-md-6"><input type="date" class="form-control" style="margin-top:5px" placeholder="{{demo.tip}}"></div><div class="col-md-6" ng-if="demo.inputType==\'date_to_date\'"><input type="date" class="form-control" style="margin-top:5px" placeholder="{{demo.tip}}"></div></div><div ng-if="demo.inputType==\'cascade_options\'"><select style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select><select style="width:100%;margin-top:5px" class="form-control"><option>{{demo.tip}}</option></select></div><div ng-if="demo.inputType==\'multi_options\'"><div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" uib-dropdown-toggle ng-disabled="disabled" style="text-align:left;height:32px"><span style="float:left;word-break:break-all">{{demo.tip}}</span> <span class="caret" style="position:absolute;right:8px;top:14px"></span></button><ul style="padding:0;height:auto;max-height:330px;overflow:auto;width:100%" class="list-group dropdown-menu" role="menu" uib-dropdown-menu><li class="list-group-item" style="padding:5px 15px" ng-click="$event.stopPropagation()"><label style="width:100%;cursor:pointer"><input type="checkbox" style="margin-right:10px;position:relative;top:3px"><span>{{demo.tip}}</span></label></li></ul></div></div><textarea ng-if="demo.inputType==\'textarea\'" style="margin-top:5px;width:100%" class="form-control" ng-model="demo.tip" maxlength="255"></textarea><div ng-if="demo.fieldName == \'verifyCode\'" style="margin-top:10px;overflow:hidden"><input style="float:left;width:120px;height:34px" class="form-control" ng-model="demo.tip"><div style="float:left;margin-left:10px;margin-top:5px"><img style="height:24px" src="source/images/daoru1.jpg"> <a style="font-size:12px">看不清，换一张</a></div></div></li></div></ul><div style="padding:0 30px 30px 30px;background:#F2F2F2"><button type="button" style="color:{{webFormOutward.windowfontColor}};background:{{webFormOutward.windowTitleColor}};border-color:{{webFormOutward.windowTitleColor}}" class="btn btn-primary btn-block">提交</button></div></div></div></li></ul></div><div style="padding-bottom:50px" class="form-submit"><a web-form-style href="javascript:" class="btn btn-primary w100" ng-click="updateOutward()">更新</a></div></div>');e.put("source/system-setting/help-center/templates/online-customer-navigation.html",'<div class="serviceCatalogBox clearfix"><h3 class="font_b">服务目录</h3><div class="serviceCatalogContent"><p><span ng-repeat="nav in navList track by $index"><span ng-if="$index != 0">》</span> <span ng-click="goServiceCatalog(nav,$index)" ng-class="{true:\'navClass\'}[$index != navList.length-1]">{{nav.name}}</span></span></p><ul><li ng-click="setIndex(item)" ng-class="{true:\'weixinActive\'}[item.isChecked]" ng-repeat="item in serviceCatalogs track by $index"><div class="serviceCatalogListNo">{{item.no}}</div><div class="serviceCatalogListCon"><span ng-click="getNextServiceCatalog(item,$event)" ng-show="!item.isShowInput" style="float:left">{{item.name}}</span> <input id="{{item.uId}}" ng-blur="ngBlur(item)" ng-focus="ngFocus()" ng-show="item.isShowInput" ng-click="inputStopPropagation($event)" style="height:20px" type="text" ng-model="item.name"></div><div class="serviceCatalogListEdit"><label for="{{item.uId}}" ng-show="(!item.isShowInput) && item.isChecked " ng-click="editServiceCatalog(item,$event)" style="cursor:pointer"><i class="fa fa-pencil"></i></label></div></li></ul><p style="margin-top:30px;color:#999">选择服务目录项，编辑导航菜单。如需添加菜单项，请前往<span style="font-weight:700">商业规则-服务目录</span>页面，添加目录。</p><p ng-if="(navList.length>1)" style="position:absolute;top:40px;right:40px">选中可编辑</p><button style="width:100px;margin-top:50px" ng-click="updateServiceCatalogs()" type="button" class="btn btn-primary">更新</button></div></div>');e.put("source/system-setting/help-center/templates/service-request-manage.html",'<div style="margin-top:50px" class="rule"><form class="form-horizontal"><div style="margin-bottom:60px" class="form-group"><label style="text-align:center" class="col-sm-2 control-label">受理客服组</label><div class="col-sm-10"><select class="form-control w400" ng-options="option.name for option in serviceDesks" ng-model="serviceDesk"></select><p style="color:#999;margin-top:10px;line-height:22px">会话和工单默认分派到选定的客服组，任何组员都可以响应组的“待响应工单”。<br>或根据导航菜单（服务目录）动态地分派到相应的客服组。参见<strong>商业规则-服务目录</strong>关于<br>责任客服组的配置。</p></div></div><div style="margin-bottom:60px" class="form-group" has-module="robot"><label style="text-align:center" class="col-sm-2 control-label">智能机器人</label><div class="col-sm-10"><input type="checkbox" style="position:relative;top:2px" ng-model="webchat.robotReply">有新的会话请求时，优先接通机器人客服<p style="color:#999;margin-top:10px;line-height:22px;width:470px">系统会根据客户输入的内容匹配知识库文章，当命中文章主题或者内容标签时，将自动回复文章链接给到客户。</p></div></div><div class="form-group"><div class="col-sm-10 col-sm-offset-2"><button ng-click="update()" type="button" class="btn btn-primary w100">更新</button></div></div></form></div>');e.put("source/system-setting/intelligent-robot/template/robot-knowledge-edit.html",'<div class="setting-head-common robot-setting-box"><div class="nav-title"><p class="channel"><a ui-sref="system_setting.detail({uri: \'robot-knowledge\', settingType: \'intelligent-robot\'})">机器人知识库</a> 》{{title}}</p></div><oem-learn-more type="setting-business-rule-robot" description="为您的机器人设置知识库，作为机器人接待时的问答依据。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1267" class="know-more"></oem-learn-more><div class="one-box row"><label class="col-sm-2 control-label">问题 <span class="color_red">*</span></label><div class="col-sm-8"><input type="text" class="form-control" ng-model="knowledge.title" ng-blur="searchKnowledge()" maxlength="64" placeholder="请输入您的用户最常问的问题"><div class="knowledge-list" ng-show="!knowledge.id && knowledgeList.length>0"><p class="tip">您的知识库中已存在类似问题：</p><ul><li ng-if="item.active" ng-repeat="item in knowledgeList"><span class="nowledge-title" title="{{item.title}}">{{item.title}}</span> <a ng-if="item.active" ng-click="deActiveKnowledge(item)">停用</a></li></ul></div></div></div><div class="one-box row"><label class="col-sm-2 control-label">相似问题</label><div class="auto-reply content col-sm-8"><div class="reply_box_body"><div class="list-group" ng-repeat="item in knowledge.problems"><input type="text" class="form-control" ng-model="item.value" placeholder="输入问题" maxlength="64" ng-blur="checkProblem()"><div class="repeat-tip" ng-if="item.repeat>1">您已有一个相同的相似问题</div><i ng-click="deleteProblem($index, item);" class="iconfont delete">&#xe755;</i></div><div class="list-group"><span ng-click="addProblem();" class="custom-main-font-color"><i class="iconfont add">&#xe754;</i>添加问题</span></div></div></div></div><div class="one-box row" style="margin-top:20px"><label class="col-sm-2 control-label">答案 <span class="color_red">*</span></label><div class="col-sm-8"><mini-editor width="490px" value="knowledge.answer" placeholder="输入问题答案"></mini-editor></div></div><div class="one-box row"><label class="col-sm-2 control-label">所属分类 <span class="color_red">*</span></label><div class="col-sm-8"><catalog-select list="list" selectedservicecatalog="knowledge.knowledgeCatalog"></catalog-select></div></div><div class="one-box row"><label class="col-sm-2 control-label"></label><div class="col-sm-8"><button type="button" class="btn btn-primary w100" ng-click="update();">更新</button></div></div></div>');e.put("source/system-setting/intelligent-robot/template/robot-knowledge-import-process.html",'<style>.modal-process>.title{font-size:16px;color:#000;padding-bottom:10px;text-align:center}.modal-process>.content{display:flex}.modal-process>.content .progress{margin-bottom:10px;height:10px;color:transparent;flex:1}.modal-process>.content .percent{margin-top:-3px;padding-left:10px}.modal-process>.footer{text-align:right}.modal-process>.footer>.cancel{cursor:pointer}</style><div class="modal-process"><p class="title">导入中</p><div class="content"><uib-progressbar class="progress" value="processPercent" type="success"></uib-progressbar><span class="percent">{{processPercent}}%</span></div><p>导入过程中请不要刷新网页</p><div class="footer"><span class="cancel" ng-click="cancel()">取消</span></div></div>');e.put("source/system-setting/intelligent-robot/template/robot-knowledge-import.html",'<div class="setting-head-common robot-setting-knowledge-import"><div class="nav-title"><p class="channel"><a ui-sref="system_setting.detail({uri: \'robot-knowledge\', settingType: \'intelligent-robot\'})">机器人知识库</a> 》批量导入</p></div><oem-learn-more type="setting-business-rule-robot" description="为您的机器人设置知识库，作为机器人接待时的问答依据。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1267" class="know-more"></oem-learn-more><div class="knowledge-import"><div class="import-pre"><div class="step-header"><div class="name">第一步</div><div class="line">|</div><div class="line">|</div><div class="line">|</div><div class="line">|</div><div class="line">|</div><div class="name">第二步</div></div><div class="step-content"><p><a class="btn btn-default btn-download" href="/source/static/机器人知识库导入模板.xlsx" download="机器人知识库导入模板.xlsx">下载模板</a></p><p style="padding-bottom:60px">请按照模版填写信息，单次导入请不要超过 1000 条</p><p></p><div class="btn btn-primary btn-upload"><span>上传文件</span> <input class="btn-file" type="file" excel2json loaded="loaded(result)" max-length="1000" header-list="knowledgeFields" accept="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"></div><p></p><p>导入过程中请不要切换或刷新页面</p></div></div><div ng-if="excel.imported" class="import-done"><div class="done-header"><p><i class="iconfont icon-success">&#xe63d;</i>成功导入 {{excel.successCount}} 条</p><p><i class="iconfont icon-error">&#xe63c;</i>失败 {{excel.failedCount}} 条<span ng-if="!excel.isBaseErr && !excel.importAbort && errLogList.length>0" style="padding-left:10px">点击下载导入失败的列表 <a href="{{errExcelFile}}" download="{{errExcelFileName}}">FailedItems.xlsx</a></span></p></div><div class="done-content" ng-if="errLogList.length>0"><ul><li ng-repeat="log in errLogList track by $index"><span>{{$index+1}}、</span> <span>{{log.info}}</span></li></ul></div></div></div></div>');e.put("source/system-setting/intelligent-robot/template/robot-knowledge.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>机器人知识库</strong></p><oem-learn-more style="width:560px" description="为您的机器人设置知识库，作为机器人接待时的问答依据。 " learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1267" type="knowledge-setting" class="size13"></oem-learn-more></div><div class="knowledge-setting table-box margin_left20px"><div class="row knowledge-content" style="position:relative"><div class="w240 floatLeft padding_right10px knowledge-tree"><div class="panel panel-default"><div class="panel-heading">问题分类</div><div class="panel-body"><ewei-tree data="list" index="0" total="1" parent="list" selectid="selectid"></ewei-tree></div></div></div><div class="system-setting-search"><div class="input-group"><input type="text" class="form-control search-input" placeholder="搜索" ng-model="searchKey" ng-enter="searchKnowledge()"> <span class="input-group-addon" style="cursor:pointer;color:#ccc" ng-click="searchKnowledge()" ng-style="(searchKey!=null&amp;&amp;searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span> <i class="iconfont delete-search-icon" ng-show="searchKey && oldSearchKey" ng-click="cancelSearch()">&#xe711;</i></div><a class="btn btn-default" style="margin-right:10px" href="javascript:void(0)" ng-click="toEditKnowledge(0,\'add\')">添加问题</a> <a class="btn btn-default" href="javascript:void(0)" ng-click="importExcel()">批量导入</a></div><div class="table-responsive floatLeft"><table class="table new-table"><thead><tr><th class="w240">问题</th><th class="text-center w180">创建时间</th><th class="text-center w80">状态</th><th class="text-right w160">操作</th></tr></thead><tbody><tr ng-if="knowledgeList.length==0"><td colspan="4" style="border-bottom:none">没有相关问题</td></tr><tr bindonce ng-repeat="knowledge in knowledgeList"><td class="padding_top15px knowledge-title"><a ng-if="knowledge.active" href="javascript:void(0)" ng-click="toEditKnowledge(knowledge,\'modify\')" class="channal-name">{{knowledge.title}}</a> <span ng-if="!knowledge.active" class="color999">{{knowledge.title}}</span></td><td class="text-center color333"><span>{{knowledge.createdAt}}</span></td><td class="text-center color333"><span>{{knowledge.active?\'启用\':\'停用\'}}</span></td><td class="text-right"><a ng-if="!knowledge.active" ng-click="deleteKnowledge(knowledge)">删除</a> <span ng-if="!knowledge.active">&emsp;|&emsp;</span> <a ng-if="knowledge.active" ng-click="active(knowledge,false)">停用</a> <a ng-if="!knowledge.active" ng-click="active(knowledge,true)">启用</a> <span>&emsp;|&emsp;</span> <a href="javascript:void(0)" ng-click="toEditKnowledge(knowledge,\'modify\')">编辑</a></td></tr></tbody></table></div><div class="text-center ng-table-pager"><ul class="pagination-sm center" uib-pagination total-items="allCount" ng-model="page.pageNumber" items-per-page="page.pageSize" max-size="7" boundary-link-numbers="true" rotate="true" ng-change="reload()" previous-text="&lt;" next-text="&gt;"></ul><span class="color999">共计{{allCount}}条</span></div></div></div></div>');e.put("source/system-setting/intelligent-robot/template/robot-setting-edit.html",'<div class="setting-head-common robot-setting-box"><div class="nav-title"><p class="channel"><a ui-sref="system_setting.detail({uri: \'robot-setting\', settingType: \'intelligent-robot\'})">机器人设置</a> 》{{robotName}}</p></div><oem-learn-more type="setting-business-rule-robot" description="机器人可以在一定程度上替代人工客服，自动为客户解答知识库中记录的问题。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1266" class="know-more"></oem-learn-more><div class="one-box"><div class="card clearfix"><form class="form-horizontal"><div class="form-group"><label class="col-sm-4 control-label">机器人名称</label><div class="col-sm-8"><input type="text" class="form-control w300" ng-model="robotConfig.name" maxlength="16"></div></div><div class="form-group"><label class="col-sm-4 control-label">备注</label><div class="col-sm-8"><textarea class="form-control w300" ng-model="robotConfig.remark" maxlength="128"></textarea></div></div></form><div class="update-icon"><img width="60" height="60" ng-src="{{imgUrl}}" imageclass="w60 h60"><div style="display:inline-block;position:relative;vertical-align:bottom"><div file-single-size-limit="0.2" ewei-webuploader upload-success="uploadSuccess(file, response)" error="error(handler)" file-type="image" class="pickWx"><a class="custom-main-font-color">更换头像</a></div><p style="color:#999;margin-top:5px;width:192px">支持 JPG、JPEG、PNG、GIF，文件小于 200K，推荐分辨率 60x60</p></div></div></div></div><div class="one-box row"><label class="col-sm-2 control-label">应答模式</label><div class="content col-sm-8"><div class="radio"><label><input type="radio" ng-model="robotConfig.type" name="optionsRadios" value="knowledge" checked="checked"> 机器人知识库</label><p class="color999">机器人将根据用户所提问题在知识库中匹配答案</p></div><div class="radio"><label><input type="radio" ng-model="robotConfig.type" name="optionsRadios" value="article"> 帮助文档</label><p class="color999">机器人将根据用户的描述在帮助文档中检索相关文章</p></div><div class="radio disabled"><label><input type="radio" ng-model="robotConfig.type" name="optionsRadios" value="other" disabled="disabled"> 第三方机器人</label><p class="color999">易维机器人引擎会通过配置好的协议从第三方数据接口获取应答策略</p></div></div></div><div class="one-box row"><label class="col-sm-2 control-label">应答模版</label><div class="auto-reply content col-sm-10" ng-show="robotConfig.type === \'knowledge\'"><ul><li><h3>欢迎语</h3><p>当优先机器人或仅机器人接待时，系统发出的欢迎语</p><div class="reply_box_body"><mini-editor width="400px" value="robotConfig.welcomeKnowledgeReply"></mini-editor><a ng-click="recover(\'welcomeKnowledgeReply\')" class="recover color999">恢复默认设置</a></div></li><li><h3>相似问题引导</h3><p>机器人知识库中匹配到多个问题答案时，将以下列方式向用户确认问题</p><div class="reply_box_body"><pre paste-for-text="true" contenteditable="true" ng-model="robotConfig.knowledgeReply" class="form-control w400 content"></pre><a ng-click="recover(\'knowledgeReply\')" class="recover color999">恢复默认设置</a></div><div class="reply_box_body" style="border-top:1px solid #eee;padding-top:10px"><div style="display:inline-flex"><span style="padding-right:10px;font-size:13px;font-weight:700">转人工引导</span> <span class="flex margin_bottom10px"><switch class="small-switch" name="enabled" ng-model="robotConfig.isTurnKnowledge"></switch><span style="padding-left:5px">{{robotConfig.isTurnKnowledge?\'启用\':\'停用\'}}</span></span></div><p>在引导用户选择相似问题的同时，也允许用户转人工客服</p><div ng-show="robotConfig.isTurnKnowledge"><div class="reply_box_body"><mini-editor width="400px" mark="{tag: \'staff_service\', title: \'人工客服\', icon: \'&#xe7be;\'}" value="robotConfig.turnKnowledgeReply"></mini-editor><a ng-click="recover(\'turnKnowledgeReply\')" class="recover color999">恢复默认设置</a></div><p class="margin_top10px"><span class="color_red">微信渠道</span>微信渠道不支持链接点击动作，需单独设置应答模版，</p><p>转人工指令支持 999 / rg / 人工客服/ human</p><div class="reply_box_body"><mini-editor width="400px" value="robotConfig.turnKnowledgeReplyWeixin"></mini-editor><a ng-click="recover(\'turnKnowledgeReplyWeixin\')" class="recover color999">恢复默认设置</a></div></div></div></li><li><h3>未匹配到问题</h3><p>机器人知识库中未匹配到问题时，将以下列方式回答用户</p><div class="reply_box_body"><mini-editor width="400px" mark="{tag: \'staff_service\', title: \'人工客服\', icon: \'&#xe7be;\'}" value="robotConfig.missKnowledgeReply"></mini-editor><a ng-click="recover(\'missKnowledgeReply\')" class="recover color999">恢复默认设置</a></div><p class="margin_top10px"><span class="color_red">微信渠道</span>不支持链接点击动作，需单独设置应答模版，转人工指令支持 999 / rg / 人工客服</p><div class="reply_box_body"><mini-editor width="400px" value="robotConfig.missKnowledgeReplyWeixin"></mini-editor><a ng-click="recover(\'missKnowledgeReplyWeixin\')" class="recover color999">恢复默认设置</a></div></li></ul></div><div class="auto-reply content col-sm-10" ng-show="robotConfig.type === \'article\'"><ul><li><h3>欢迎语</h3><p>当优先机器人或仅机器人接待时，系统发出的欢迎语</p><div class="reply_box_body"><pre paste-for-text="true" contenteditable="true" ng-model="robotConfig.welcomeArticleReply" class="form-control w400 content"></pre><a ng-click="recover(\'welcomeArticleReply\')" class="recover color999">恢复默认设置</a></div></li><li><h3>帮助文档关键词命中</h3><p>机器人根据用户描述在帮助文档中匹配到相关文章时，将按照以下方式回复用户</p><div class="reply_box_body"><pre paste-for-text="true" contenteditable="true" ng-model="robotConfig.articleReply" class="form-control w400 content"></pre><a ng-click="recover(\'articleReply\')" class="recover color999">恢复默认设置</a></div></li><li><h3>关键词未命中</h3><p>机器人根据用户描述在帮助文档中没有找到相关文章时，将按照以下方式回复用户</p><div class="reply_box_body"><pre paste-for-text="true" contenteditable="true" ng-model="robotConfig.missArticleReply" class="form-control w400 content"></pre><a ng-click="recover(\'missArticleReply\')" class="recover color999">恢复默认设置</a></div></li><li><h3>转人工引导</h3><p>会话过程中允许客户转人工时，机器人的欢迎语中都会带上以下提醒，接通指令 999 不支持更换</p><div class="reply_box_body"><pre paste-for-text="true" contenteditable="true" ng-model="robotConfig.turnArticleReply" class="form-control w400 content"></pre><a ng-click="recover(\'turnArticleReply\')" class="recover color999">恢复默认设置</a></div><p class="tip">*接通指令999不支持更换</p></li></ul></div></div><div class="one-box row" ng-show="robotConfig.type === \'knowledge\'"><label class="col-sm-2 control-label">推荐问题</label><div class="auto-reply content col-sm-9"><p class="flex margin_bottom10px"><switch class="small-switch" name="enabled" ng-model="robotConfig.recommend"></switch><span style="padding-left:5px">{{robotConfig.recommend?\'启用\':\'停用\'}}</span></p><p class="color999">在机器人开始接待时，将指定的推荐问题发送给客户</p><div ng-if="robotConfig.recommend"><h5>引导语</h5><input type="text" class="form-control" ng-model="robotConfig.recommendReply"><div class="reply_box_body"><h5>推荐问题索引</h5><div class="list-group" ng-repeat="item in robotConfig.recommendKnowledges"><drop-down selected-id="item.id" options="options" on-selected="onSelected(value, $index)"></drop-down><i ng-click="deleteProblem($index, item);" class="iconfont delete" ng-class="{ disbled: (robotConfig.recommendKnowledges && robotConfig.recommendKnowledges.length <= 1) }">&#xe755;</i></div><div class="list-group"><span ng-click="addProblem();" class="custom-main-font-color"><i class="iconfont add">&#xe754;</i>添加问题</span></div></div></div></div></div><div class="one-box row"><label class="col-sm-2 control-label">常驻人工客服按钮</label><div class="auto-reply content col-sm-9"><p class="flex margin_bottom10px"><switch class="small-switch" name="enabled" ng-model="robotConfig.isPermanentCustomerService"></switch><span style="padding-left:5px">{{robotConfig.isPermanentCustomerService?\'启用\':\'停用\'}}</span></p><p class="color999">开启后，客户可以点击界面上的人工客服按钮直接联系人工客服</p></div></div><div class="one-box row"><label class="col-sm-2 control-label"></label><div class="content col-sm-8"><button type="button" class="btn btn-primary w100" ng-click="update();">更新</button></div></div></div>');e.put("source/system-setting/intelligent-robot/template/robot-setting.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>机器人设置</strong></p><oem-learn-more style="width:560px" description="机器人可以在一定程度上替代人工客服，自动为客户解答知识库中记录的问题。 " learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1266" type="robot-setting" class="size13"></oem-learn-more><div class="system-setting-search"><div class="input-group"><input type="text" class="form-control search-input" placeholder="搜索" ng-model="searchKey" ng-enter="searchRobot()"> <span class="input-group-addon" style="cursor:pointer;color:#ccc" ng-click="searchRobot()" ng-style="(searchKey!=null&amp;&amp;searchKey!=\'\'?{color:\'#333333\'}:{color:\'#CCCCCC\'})"><i class="fa fa-search"></i></span> <i class="iconfont delete-search-icon" ng-show="searchKey && oldSearchKey" ng-click="cancelSearch()">&#xe711;</i></div><a class="btn btn-default" href="javascript:void(0)" ng-click="toEditRobot(0,\'add\')">添加机器人</a></div></div><div class="robot-setting table-box margin_left20px"><div class="table-responsive"><table class="table new-table"><thead><tr><th class="w200">机器人</th><th class="text-center w320">备注</th><th class="text-center w80">状态</th><th class="text-right w160">操作</th><th class="text-center w80"></th></tr></thead><tbody><tr ng-if="robotList.length==0"><td colspan="4" style="border-bottom:none">没有相关机器人</td></tr><tr bindonce ng-repeat="robot in robotList"><td class="padding_top15px"><a ng-if="robot.active" class="channal-name" ng-click="toEditRobot(robot,\'modify\')">{{robot.name}}</a> <span ng-if="!robot.active" class="color999">{{robot.name}}</span></td><td class="text-center color333"><span>{{robot.remark}}</span></td><td class="text-center color333"><span>{{robot.active?\'启用\':\'停用\'}}</span></td><td class="text-right"><a ng-if="!robot.isDefault && !robot.active" ng-click="deleteRobot(robot)">删除</a> <span ng-if="!robot.isDefault && !robot.active">&emsp;|&emsp;</span> <a ng-if="!robot.isDefault && robot.active" ng-click="active(robot,false)">停用</a> <a ng-if="!robot.isDefault && !robot.active" ng-click="active(robot,true)">启用</a> <span ng-if="!robot.isDefault">&emsp;|&emsp;</span> <a ng-click="toEditRobot(robot,\'modify\')">编辑</a></td><td class="text-center"><button class="btn btn-primary" style="outline:0" ng-click="robotTest(robot)">测试</button></td></tr></tbody></table></div></div><chat-portal item="selectRobotTest" show="showRobot"></chat-portal></div>');e.put("source/system-setting/intelligent-robot/template/robot-unknown-knowledge.html",'<div class="channel-box"><div class="channel-help"><p class="channel"><strong>未知问题收集</strong></p><p style="margin-top:15px;font-size:13px">机器人将自动收集自己无法理解的问题，为管理员持续优化知识库提供依据，仅保存 30 天内更新的数据。</p></div><div class="robot-setting table-box margin_left20px" style="font-size:13px"><div class="table-responsive"><table class="table new-table"><thead><tr><th class="w80">问题</th><th class="text-center w180">创建时间</th><th class="text-center w180">最后提问时间</th><th class="text-right w80">提问次数</th><th class="text-center w160">操作</th></tr></thead><tbody><tr ng-if="unknownKnowledgeList.length==0"><td colspan="4" style="border-bottom:none">没有相关问题</td></tr><tr bindonce ng-repeat="knowledge in unknownKnowledgeList"><td class="padding_top15px"><div class="color333" style="overflow:hidden;white-space:nowrap;width:300px;text-overflow:ellipsis" title="{{knowledge.title}}">{{knowledge.title}}</div></td><td class="text-center color333" style="width:180px"><span>{{knowledge.createdAt}}</span></td><td class="text-center color333" style="width:180px"><span>{{knowledge.updatedAt}}</span></td><td class="text-center color333"><span>{{knowledge.num}}</span></td><td class="text-right"><a style="color:#C30" ng-click="remove(knowledge)">删除</a> <span style="padding:0 10px">|</span> <a ng-click="createKnowledge(knowledge)">创建为知识库</a></td></tr></tbody></table><div class="text-center ng-table-pager" ng-if="allCount>page.pageSize"><ul class="pagination-sm center" uib-pagination total-items="allCount" ng-model="page.pageNumber" items-per-page="page.pageSize" max-size="7" boundary-link-numbers="true" rotate="true" ng-change="getUnknownKnowledgeList()" previous-text="&lt;" next-text="&gt;"></ul><span class="color999">共计{{allCount}}条</span></div></div></div></div>');e.put("source/views/cti-setting/templates/cti_port.html",'<div class="setting-common-body"><ul><li><div class="title-bar"><span>渠道名称</span></div><div class="form-content"><input type="text" class="form-control w400" ng-model="cti.name" maxlength="10"><p class="tip">取一个简短的名称，在工单和报告中显示为电话渠道来源。</p></div></li><li><div class="title-bar"></div><div class="form-content"><input type="button" class="btn btn-primary w100" value="更新" ng-click="editCti()"></div></li></ul></div>');e.put("source/views/cti-setting/templates/session_control.html",'<div class="setting-common-body"><ul><li><div class="title-bar"><span>话机种类</span></div><div class="form-content"><select class="form-control w400" ng-model="cti.phoneType" disabled="disabled"><option value="ipphone">语音系统IP话机</option><option value="webphone">客服系统网页话机</option></select><p class="tip">坐席人员使用哪种电话机拨打和接听电话，请根据实际情况选择。</p></div></li><li><div class="title-bar"><span>来电分派</span></div><div class="form-content"><select class="form-control w400" ng-model="cti.assignMode" disabled="disabled"><option value="voice_system">语音系统分派</option><option value="ewei">客服系统分派</option></select><p class="tip">来电由哪个系统分派给坐席，请根据实际情况选择。</p></div></li><li><div class="title-bar"><span>来电弹屏</span></div><div class="form-content"><select class="form-control w400" ng-model="cti.callinShow" disabled="disabled"><option value="create_chat_when_connect">电话接通后自动创建会话</option></select><p class="tip">来电分派给坐席后，客服系统的界面交互与处理流程。</p></div></li><li><div class="title-bar"><span>电话呼出</span></div><div class="form-content"><select class="form-control w400" ng-model="cti.enableWebCallout"><option value="true">支持从客服系统网页拨号盘呼出电话</option><option value="false">不支持</option></select><p class="tip">语音系统是否支持通过客服控制台网页的拨号盘拨出电话，请根据实际情况选择。</p></div></li><li><div class="title-bar"></div><div class="form-content"><input type="button" class="btn btn-primary w100" value="更新" ng-click="editCti()"></div></li></ul></div>');e.put("source/views/cti-setting/templates/setting.cti_detail.html",'<div class="setting-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'cti_setting\',settingType:\'ticket\'})">电话转工单</a> 》{{title}}</div><oem-learn-more type="ticket_web_form_edit" description="通过CTI电脑电话接口，将电话语音接入客服系统。通话（呼入呼出）自动关联客户，创建或插入工单，并保存通话录音。" learn-more-url="http://help.ewei.com/article_761" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ui-sref="system_setting.cti_detail.cti_port" ui-sref-active="active">CTI接口</li><li ng-if="portShow" ui-sref="system_setting.cti_detail.session_control" ui-sref-active="active">通话控制</li></ul><div ui-view></div></div>');e.put("source/views/cti-setting/templates/setting.cti_inf.html",'<div class="modal-inner-content"><div class="modal-header"><button type="button" class="close" ng-click="hideModal()">×</button><h4 class="modal-title ng-binding center">选择电话语音系统</h4></div><div><div class="setting-common-body" style="width:560px;margin:0 auto"><ul><li><div class="title-bar"><span>语音系统</span></div><div class="form-content" style="width:400px"><select class="form-control w400" ng-model="channel"><option value="phone_box">USB盒子</option></select><p class="tip" style="margin-top:10px">USB盒子可独立部署，使用成本低相对较低，适合小型客服部门使用。</p></div></li><li><div class="title-bar"></div><div class="form-content" style="width:400px"><button class="btn btn-primary w120" ng-click="goToCti()">创建电话渠道</button><p style="margin-top:20px">如果你需要接入自己的语音系统，请立即<a href="http://help.ewei.com/load_ticket_web_form/216/5rYtimWckdMetth3t5Gh" target="_blank" class="text-info">申请定制开发</a>，帮助客服系统丰富CTI接口。</p></div></li></ul></div></div></div>');e.put("source/views/help_center/ui_setting_html/ui_setting_html.html",'<style type="text/css">.ace_editor{height:600px}.preview-frame{width:100%;height:400px;max-height:600px;overflow:auto;border:none}.ecode-header{height:48px;padding:9px 0;background-color:#F3F3F3;box-sizing:border-box;border:1px solid #e6e6e6}.ecode-btn:focus,.ecode-header select,.ecode-header select:focus,.ecode-header select:hover{border:none;background-color:transparent;outline:initial}.ecode-nav{font-size:0}.ecode-nav .ecode-btn:nth-child(2){border-left:1px solid #d3d3d3;border-right:1px solid #d3d3d3}.ecode-nav .active{color:#303030}.ecode-btn{padding:4px 20px;color:#3376a4;font-size:14px;border:none;background-color:transparent}.ecode-btn-preview{font-size:12px;line-height:18px;border:1px solid #ccc;box-sizing:border-box;margin-right:32px}.ecode-file .fa{font-size:18px;color:#e6e6e6}.ecode-file .file-nav{border-bottom:1px solid #e8e8e8;text-align:center}.ecode-file .file-nav .file-lbl{font-size:14px;margin:12px 0}.ecode-file .file-nav .file-lbl .fa{margin-right:6px}.ecode-file .file-name{font-size:12px;margin-left:6px;color:#3376a4}.ecode-file .file-list{padding:0 20px}.ecode-file .file-item{align-items:center;height:36px;border-bottom:1px solid #e8e8e8}</style><article style="min-width:800px" ng-init="currentEditItem=\'headerHtml\'"><header class="ecode-header clearfix"><nav class="ecode-nav pull-left"><div style="padding-top:3px" class="ecode-btn pull-left" ng-class="{\'active\':currentEditItem===currentItem}"><select ng-model="currentItem" ng-change="changeEditItem(currentItem)" ng-click="changeEditItem(currentItem)"><option value="headerHtml">Header</option><option value="footerHtml">Footer</option></select></div><button ng-click="changeEditItem(\'css\')" class="ecode-btn" ng-class="{\'active\':currentEditItem===\'css\'}">CSS</button> <button ng-click="changeEditItem(\'assets\')" class="ecode-btn" ng-class="{\'active\':currentEditItem===\'assets\'}">Assets</button></nav><input type="button" value="预览" class="pull-right ecode-btn ecode-btn-preview" ng-click="preview()"></header><div ng-if="currentEditItem === \'headerHtml\'" class="" style="padding:10px;border:1px solid #e6e6e6;height:50px"><toggle-switch class="" style="border-color:#ccc" ng-model="$parent.aceIsUsingCustomizeHeader" ng-click="usingCustomizeHeader()" on-label="开" off-label="关"></toggle-switch><span style="vertical-align:50%;font-size:14px">HTML自定义</span></div><section class="ecode-context"><div ui-ace="{{aceFooterHtmlConfig}}" ng-model="$parent.aceFooterHtmlModel" ng-if="currentEditItem===\'footerHtml\'"></div><div ui-ace="{{aceHeaderHtmlConfig}}" ng-model="$parent.aceHeaderHtmlModel" ng-if="currentEditItem===\'headerHtml\' && aceIsUsingCustomizeHeader == true"></div><div ui-ace="{{aceCssConfig}}" ng-model="$parent.aceCssModel" ng-if="currentEditItem===\'css\'"></div><div ng-if="currentEditItem===\'assets\'" class="ecode-file"><div style="cursor:pointer" ng-disabled="fileSelectDisabled" ng-file-change="uploadImage(imagefile)" ng-model="imagefile" ng-file-select><nav class="file-nav"><label class="file-lbl"><i class="fa fa-cloud-upload"></i>添加文件</label></nav></div><section><ul class="list-unstyled file-list"><li class="flex file-item" ng-repeat=" item in $parent.attachments"><i class="fa fa-paperclip"></i> <span class="flex1 file-name"><a href="http://{{qiniu}}/{{item.contentUrl}}" target="_blank">{{item.fileName}}</a></span> <span style="padding-right:20px">http://{{qiniu}}/{{item.contentUrl}}</span> <span style="font-size:18px;padding-right:10px;cursor:pointer" ng-click="removeAttachment($index)">×</span></li><li class="flex file-item" ng-show="fileUploading"><span class="flex1 file-name"><img alt="" src="/source/images/uploading.gif"></span></li></ul></section></div></section></article><script type="text/ng-template" id="ace-preview-modal.html"><div>\r\n        <iframe class="preview-frame" update-ace-content="{{previewContent}}" src="source/views/help_center/ui_setting_html/empty.frame.html"></iframe>\r\n    </div><\/script>');e.put("source/views/system_setting/app_market/create_market.html",'<iframe style="height:100%;width:100%" src="market/create.html"></iframe>');e.put("source/views/system_setting/setting_notify_modal/app_notify.html",'<div class="modal-inner-content project-modal"><p class="classp1"><span class="classp1icon">!</span> 系统检测到你还未登录过APP,通过APP-push的通知可能无法到达</p><p class="classp2">赶快下载APP，随时随地响应工单和会话吧</p><div class="btnxiazai"><button type="button" id="saveButton" class="btn btn-confirm custom-background-color" ng-click="hideModal1();">下载APP</button></div></div><style>.btnxiazai{width:80px;margin:20px auto 0}.classp1{margin:30px 0 0 20px;font-size:14px}.classp1 .classp1icon{color:#fff;background:#f90;text-align:center;display:inline-block;height:20px;width:20px;border-radius:20px}.classp2{margin:10px 0 0 20px;font-size:14px;padding-left:24px;color:#999}.classp2 .classp2href{cursor:pointer}</style>');e.put("source/views/system_setting/setting_notify_modal/bind_email.html",'<div class="modal-inner-content project-modal"><p class="email_tip">绑定邮箱后，您下次可通过邮箱登录和接收邮件通知。</p><div class="input_div"><input class="input_info" ng-model="emailModelObj.newEmail" placeholder="请输入邮箱"> <button style="min-width:80px" class="btn btn-default" ng-click="getEmailCoder();" ng-disabled="emailModelObj.disabled">{{emailModelObj.btnInfo}}{{emailModelObj.btnInfoS}}</button></div><div class="input_div"><label>验证码</label><input class="input_info" ng-model="emailModelObj.verifyCode" placeholder="请输入验证码"></div><p class="email_tip_error" ng-if="emailModelObj.error_tip!=\'\'">{{emailModelObj.error_tip}}</p></div><div class="modal-footer btn-group-common"><button id="saveButton" class="btn btn-confirm custom-background-color" ng-click="sureBindEmail();">确认</button> <a class="btn btn-cancel" ng-click="hideModal_email();">以后再绑定</a></div><style>.project-modal>.email_tip{color:\'#999999\';margin:20px 5px 5px 5px}.project-modal>.email_tip_error{margin:10px 5px 5px 5px;color:red}.project-modal>.input_div{height:60px;border-bottom:1px solid #ddd;padding-left:7px}.project-modal>.input_div>label{font-size:14px}.project-modal>.input_div>.input_info{width:243px;border:none;height:45px;line-height:45px;margin-top:10px;font-size:14px}.project-modal>.input_div>.input_info:focus{outline:0}</style>');e.put("source/views/system_setting/setting_notify_modal/weixin_ding_notify.html",'<div class="modal-inner-content project-modal"><p class="classp" ng-if="box.viaWeixinFlag&&weChatFlag&&!box.weixinBindingFlag"><span class="classp1icon">!</span> 你还未登陆过微信中的应用，通过微信的通知将无法被接收。</p><p class="classp" ng-if="!box.viaWeixinFlag&&weChatFlag"><span class="classp1icon">!</span> 管理员暂未将客服控制台接入微信公众号或企业号，微信通知无法到达，如需通过微信接收通知消息，请联系管理员添加应用。</p><p class="classp" ng-if="!box.viaDingDingFlag&&dingdingFlag&&box.dingDingBindingFlag"><span class="classp1icon">!</span> 你还未登陆过钉钉企业号中的应用，通过钉钉的通知将无法被接收。</p><p class="classp" ng-if="!box.dingDingBindingFlag&&dingdingFlag"><span class="classp1icon">!</span> 管理员暂未添加为钉钉企业号应用，钉钉通知无法到达，如需通过钉钉接收通知消息，请联系管理员添加应用。</p></div><style>.classp{margin:30px 0 0 10px;font-size:14px;text-align:justify}.classp .classp1icon{color:#fff;background:#f90;text-align:center;display:inline-block;height:20px;width:20px;border-radius:20px}</style>');e.put("source/views/system_setting/via_sdk/advance_preparation.html",'<div><ul class="sdk_ul"><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">渠道名称</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="vm.viaSDK.name" value="" maxlength="16"></li><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">应用程序描述</div><textarea class="form-control floatLeft margin_left20px w300" ng-model="vm.viaSDK.description" value="" maxlength="60"></textarea></li></ul><ul class="sdk_ul"><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">AppKey</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="vm.viaSDK.appKey" readonly="readonly"></li><li class="margin_top10px" style="overflow:hidden;text-align:right"><div style="width:126px" class="floatLeft margin_top5px">AppSecret</div><input class="form-control floatLeft margin_left20px w300" type="text" ng-model="vm.viaSDK.appSecret" readonly="readonly"></li><li class="margin_top10px" style="overflow:hidden;text-align:left"><p class="padding_left150px color_ccc">请妥善保管AppKey和AppSecret，不要泄露给第三方。</p></li><li class="margin_top10px" style="overflow:hidden;text-align:left"><span class="padding_left150px color_ccc">限每日调用次数500次或以下，升级到<a href="#" style="color:#428bca">企业授权</a>可获得更高调用频率</span></li></ul><p class="margin_left20px line_solid_02" style="margin-top:20px"></p><div class="padding_top25px padding_left20px"><button type="button" class="btn btn-default btn-sm padding_left30px padding_right30px" ng-click="vm.cancelEdit()">取消</button> <span class="padding_left15px"></span> <button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-click="vm.saveViaSDK();">更新</button></div><strong class="margin_left20px margin_top45px" style="display:block">下载SDK资源包</strong><ul style="padding:20px;margin-bottom:0;list-style:none;border:1px solid #ccc;width:900px" class="margin_left20px margin_top20px clearFloat"><li class="floatLeft margin_right20px"><input class="btn btn-primary" type="button" value="{{vm.providerEweiProductName|replace_ewei_productname}}SDK for IOS" ng-click="vm.downloadViaSDK(\'sdk_ios_new\');"></li><li class="floatLeft margin_right20px"><input class="btn btn-primary" type="button" value="{{vm.providerEweiProductName|replace_ewei_productname}}SDK for Android" ng-click="vm.downloadViaSDK(\'sdk_android_new\');"></li><li class="floatLeft margin_right20px"><input class="btn btn-primary" type="button" value="{{vm.providerEweiProductName|replace_ewei_productname}}SDK for Windows"></li><li class="floatRight"><input class="btn btn-danger" type="button" value="开发者指南" ng-click="vm.downloadViaSDK(\'api\');"></li></ul></div>');e.put("source/views/system_setting/via_sdk/auto_reply.html",'<div class="auto_reply"><div class="row"><div class="check_nav" ng-show="vm.wechat.isMenu && !vm.hasNav">当前的导航菜单为空，会导致客户无菜单可用。请前往“在线客服导航”进行配置。</div></div><div class="row"><div ng-class="{true: \'margin_top35px\'}[!vm.wechat.isMenu || vm.hasNav]"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>欢迎语</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><span class="pull-right"><input type="checkbox" ng-model="vm.wechat.isMenu" ng-click="vm.navCheck()">导航模式</span></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="vm.wechat.onlineWelcome"></div></div></div><p ng-show="!vm.wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">展开会话窗口时自动回复上述欢迎语。客户一旦回复，立即呼叫客服，开始在线交谈。</p><p ng-show="vm.wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">打开会话窗口自动回复以上欢迎语。用户点击选择导航菜单，呼叫客服，开始在线交谈。</p></div></div></div><div ng-show="vm.wechat.isMenu" class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>自动回复</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="vm.wechat.onlineAutomaticReply"></div></div></div><p ng-show="vm.wechat.isMenu" class="margin_top10px margin_bottom40px color-gray">若用户未选择导航菜单，发送内容，自动回复如上。</p></div></div><div class="row"><div class="customer_not_online"><label class="col-md-5" style="margin:8px 0 0 12px">非营业时段，或客服不在线时的自动回复</label></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>欢迎语</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="vm.markLink(\'offlineWelcome\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="vm.wechat.offlineWelcome"></div></div></div><p class="margin_top10px margin_bottom40px color-gray">非营业时段或者客服都不在线的时候，展开会话窗口自动回复上述欢迎语。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p></div></div><div class="row"><div class="col-md-2" style="width:120px;margin:8px 0 0 12px"><label>自动回复</label></div><div class="col-md-7"><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="vm.markLink(\'offlineAutomaticReply\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="vm.wechat.offlineAutomaticReply"></div></div></div><p class="margin_top10px margin_bottom40px color-gray">如果用户不理会提示继续回复，则自动回复如上。<br>请在文字上标注提交工单链接，用户只要点击蓝色文字，立即打开网页提交工单。</p><div class="reply_box_style"><div class="reply_box_title"><a href="javascript:void(0)" title="标注提交工单链接" ng-mousedown="vm.markLink(\'offlineArticleList\')" class="fa fa-link hoverMark" style="color:#999"></a></div><div class="reply_box_body"><div contenteditable="true" class="form-control content" ng-model="vm.wechat.offlineArticleList"></div></div></div><p class="margin_top10px color-gray">用户的回复如果命中知识库文章关键字（标签），自动回复如上。请前往帮助中心 <a href="/showAddArticle" class="add_article" target="_blank">添加文章</a>。</p><div class="auto_reply_footer"><button type="button" class="btn btn-primary w100" ng-click="vm.updateWelcomes();">更新</button> <a href="javascript:void(0)" ng-click="vm.resetDefault()" class="reset_btn">恢复系统默认值</a></div></div></div></div>');e.put("source/views/system_setting/via_sdk/online_customer_navigation.html",'<div class="serviceCatalogBox clearfix"><h3 class="font_b">服务目录</h3><div class="serviceCatalogContent"><p><span ng-repeat="nav in vm.navList track by $index"><span ng-if="$index != 0">》</span> <span ng-click="vm.goServiceCatalog(nav,$index)" ng-class="{true:\'navClass\'}[$index != vm.navList.length-1]">{{nav.name}}</span></span></p><ul><li ng-click="vm.setIndex(item)" ng-class="{true:\'weixinActive\'}[item.isChecked]" ng-repeat="item in vm.serviceCatalogs track by $index"><div class="serviceCatalogListNo">{{item.no}}</div><div class="serviceCatalogListCon"><span ng-click="vm.getNextServiceCatalog(item,$event)" ng-show="!item.isShowInput" style="float:left">{{item.name}}</span> <input id="{{item.uId}}" ng-blur="vm.ngBlur(item)" ng-focus="vm.ngFocus()" ng-show="item.isShowInput" ng-click="vm.inputStopPropagation($event)" style="height:20px" type="text" ng-model="item.name"></div><div class="serviceCatalogListEdit"><label for="{{item.uId}}" ng-show="(!item.isShowInput) && item.isChecked " ng-click="vm.editServiceCatalog(item,$event)" style="cursor:pointer"><i class="fa fa-pencil"></i></label></div></li></ul><p style="margin-top:30px;color:#999">选择服务目录项，编辑导航菜单。如需添加菜单项，请前往<span style="font-weight:700">商业规则-服务目录</span>页面，添加目录。</p><p style="position:absolute;top:40px;right:40px">选中可编辑</p><button style="width:100px;margin-top:50px" ng-click="vm.updateServiceCatalogs()" type="button" class="btn btn-primary">更新</button></div></div>');e.put("source/views/system_setting/via_sdk/sdk_detail.html",'<style>table{width:744px;height:auto;border:solid #000 0}thead tr td{border-bottom:solid #000 1px}td.selected{background-color:#f8f8f8;border:solid #CCC 1px;cellspacing:0}.sdk_ul{overflow:hidden;margin-top:30px;padding-left:0;margin-bottom:0;list-style:none;padding-bottom:10px}.help_preview_title_box{height:40px;text-align:center;line-height:40px}.help_preview_title{font-size:1.5em;font-weight:900}.service_preview_title{font-size:1.4em;position:absolute;right:10px}.left_arrows{position:absolute;left:10px;top:12px;font-size:20px;color:#ccc}.search_box{background:#999}.preview_list_box{list-style:none;line-height:40px;color:#666;padding:0;font-size:1.3em;border-left:1px solid #ccc;border-right:1px solid #ccc;border-bottom:1px solid #ccc}.preview_list_box li{padding-left:10px;position:relative}.preview_list_box li .right_arrows{right:10px;position:absolute;top:12px}.preview_list_title{background:#EBEBEB}.bottom_wire{border-bottom:1px solid #ccc;height:0;padding-left:10px}.service_chat_box{background:#EBEBEB;padding:10px}.service_chat_show_box{background:#fff;height:287px;color:#999;font-size:1.3em}.service_chat_compile_box{background:#fff;height:40px;line-height:40px;color:#999;font-size:1.3em;margin-top:10px}.navChecked{font-weight:700;color:#333}.checked{background:url(../../../source/images/check.png) no-repeat center}.catalogColor{color:#45403C}.navColor{color:#409DFF}.arrowRightColor{color:#666}</style><div class="setting-head-common"><div class="nav-title"><a ng-click="vm.cancelEdit();">SDK接入 </a>》 <span>{{vm.viaSDKName}}</span></div><oem-learn-more type="sdk_setting_detail" description="按照开发者文档步骤集成我们的SDK到你的app或windows程序中。你还可以定义界面的外观，以及由哪个客服组负责响应客户的请求。" learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/608" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ui-sref="system_setting.sdk_detail.advance_preparation" ui-sref-active="active">前期准备</li><li ng-if="vm.type != \'add\'" ui-sref="system_setting.sdk_detail.auto_reply" ui-sref-active="active">自动回复</li><li ng-if="vm.type != \'add\'" ui-sref="system_setting.sdk_detail.ticket_send_rule" ui-sref-active="active">服务请求管理</li><li ng-if="vm.type != \'add\'" ui-sref="system_setting.sdk_detail.online_customer_navigation" ui-sref-active="active">在线客服导航</li></ul><div ui-view></div></div>');e.put("source/views/system_setting/via_sdk/ticket_send_rule.html",'<div style="margin-top:50px" class="rule"><form class="form-horizontal"><div style="margin-bottom:60px" class="form-group"><label style="text-align:center" class="col-sm-2 control-label">受理客服组</label><div class="col-sm-10"><select class="form-control w400" ng-options="option.name for option in vm.serviceDesks" ng-model="vm.serviceDesk"></select><p style="color:#999;margin-top:10px;line-height:22px">会话和工单默认分派到选定的客服组，任何组员都可以响应组的“待响应工单”。<br>或根据导航菜单（服务目录）动态地分派到相应的客服组。参见<strong>商业规则-服务目录</strong>关于<br>责任客服组的配置。</p></div></div><div class="form-group"><div class="col-sm-10 col-sm-offset-2"><button ng-click="vm.update()" type="button" class="btn btn-primary w100">更新</button></div></div></form></div>');e.put("source/views/ticket/email_rule/email_address.html",'<style>.tip{height:40px;background-color:#FFF5E8;padding-left:5px;line-height:40px}</style><input type="hidden" ng-model="viaEmail.id"><div class="padding_top15px margin_left30px"><p class="tip" ng-if="!viaEmail.verified && viaEmail.id>0">收件箱尚未通过验证，可能无法收取工单，请设置自动转发。<a href="http://help.ewei.com/article_717" target="_blank" ng-if="!viaEmail.verified" style="color:#1e8cce">如何验证？</a></p><div style="padding:30px 0" class="tli size13"><ul class="block padding1px"><li style="list-style-type:none"><span style="float:left" class="bue1 font-bold padding_top10px">渠道名称</span> <input class="form-control margin_left50px w400" style="display:inline-block" type="text" ng-model="viaEmail.name" ng-maxlength="128" ng-change="viaEmailFormModify();" required><p style="padding:15px 0 15px 115px">取一个简短的名称，在工单和报告中显示为工单渠道来源。</p></li></ul><ul class="block padding1px"><li style="list-style-type:none"><span style="float:left" class="bue1 font-bold padding_top10px">收件箱地址</span> <input class="form-control margin_left50px w400" style="display:inline-block" type="email" ng-model="viaEmail.username" ng-maxlength="255" ng-pattern="/^([a-zA-Z0-9-&._]+)@[a-zA-Z0-9-]([._]?[a-zA-Z0-9-])*(\\.\\w{2,6})+$/i" required><p style="padding:10px 0 0 115px">请在你的邮件系统设置自动转发，以便将客户的邮件自动转发给客服系统，生成工单。</p><p style="padding:0 0 0 115px">转发地址为support@{{suDdomain}}.ewei.{{com}}</p></li></ul></div></div><div style=""></div><div style="padding-top:20px;padding-left:142px"><button type="button" class="btn btn-primary btn-sm padding_left30px padding_right30px" ng-disabled="requestting||(!viaEmailForm.$valid)" ng-click="saveEmailAddress(viaEmail);">{{viaEmail.id?\'更新\':\'添加\'}}</button><p style="padding:10px 0 15px 0">点击更新，然后向收件箱发一封邮件，客服系统会验证自动转发是否设置成功。</p></div>');e.put("source/webchat/directive/ewei-search/ewei-search.html",'<div class="ewei-search-component-box" ng-class="{\'advanced\': advancedQueryEnabled}"><div ng-class="{\'input-group\': advancedQueryEnabled}"><input ng-model="searchkey" ng-enter="searchmethods()" type="text" class="form-control keyword" placeholder="{{placeholderval}}"> <i ng-show="clearEnabled" ng-click="clearSearch();" class="icon iconfont search-btn-clear" ng-class="{\'input-group-addon\': advancedQueryEnabled}">&#xe767;</i> <i ng-style="clearEnabled?{color:\'#333\'}:\'\'" ng-click="searchmethods()" class="icon iconfont search-btn-search" ng-class="{\'input-group-addon\': advancedQueryEnabled}">&#xe624;</i><div class="input-group-btn" ng-if="advancedQueryEnabled"><button type="button" class="btn btn-default" data-toggle="modal" data-target="#queryModal" data-placement="bottom" data-animation="am-flip-x" style="background-color:#eee;height:34px"><span class="caret"></span></button></div></div><chat-advanced-query ng-if="advancedQueryCondition"></chat-advanced-query></div>');e.put("source/webchat/directive/webchat-attachment-detail/webchat-attachment-detail.html",'<style>.usb-phone{color:#999;min-width:300px}.usb-phone h5{font-weight:700}.usb-phone p{margin-top:5px;font-size:14px}</style><div ng-if="isImage" data-context-menu="/source/scripts/directives/attachment-detail/image-context-menu.html"><img class="cursorhand img-responsive js-view" ng-if="isImage" ng-src="{{url}}" alt="{{attachment.fileName}}" title="点击查看大图"></div><a ng-if="isMap" style="position:relative;cursor:pointer;display:block" href="http://api.map.baidu.com/marker?location={{location}}&title=我的位置&content={{addr}}&output=html" target="_blank"><img ng-src="{{url}}" alt="{{attachment.fileName}}" title="{{addr}}"> <span style="position:absolute;bottom:0;left:0;width:100%;height:30px;padding:0 5px;color:#fff;line-height:30px;font-size:14px;background:rgba(0,0,0,.5);filter:alpha(opacity=50);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box">{{addr}}</span></a><div ng-if="isVideo"><video videojs class="video-js vjs-default-skin vjs-big-play-centered chat-video-item" ewei-src="{{url}}" width="310" height="200"><p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p></video></div><audio ng-if="isAudio &&log.chat.clientType!=\'USB_PHONE\'" ewei-src="{{url}}" controls="controls" audio-error>Your browser does not support the audio tag.</audio><div class="usb-phone" ng-if="isAudio &&log.chat.clientType==\'USB_PHONE\'"><audio ng-if="log.attachment.size>0" ewei-src="{{url}}" controls="controls" audio-error>Your browser does not support the audio tag.</audio><h5>通话详情</h5><hr style="margin:5px 1px"><p><span ng-if="log.chat.requestMode==\'outgoing\'">去电号码</span><span ng-if="log.chat.requestMode!=\'outgoing\'">来电号码</span>：{{log.chat.phoneNo || log.chat.user.mobilePhone || log.chat.user.phone}}</p><p>渠道：{{log.chat.via.channelName}}</p><p><span ng-if="log.chat.requestMode==\'outgoing\'">呼出客服</span><span ng-if="log.chat.requestMode!=\'outgoing\'">接听客服</span>：{{log.chat.engineer.user.name}}</p></div><a ng-if="isKnowledge" class="chat-knowledge-item" target="_black" ng-href="{{question.topic.type===\'questions\' || question.topic.type===\'deletes\' || question.topic.type===\'default\'?\'/#/forum/detail/\':\'/#/article/detail/\'}}{{question.id}}"><h5 class="chat-title"><span>{{question.title}}</span></h5><div class="media"><div class="media-left media-middle" ng-bind-html="question.remark|firstimage"></div><div class="media-body media-top"><p class="summary">{{question.summary}}</p></div></div></a><div ng-if="isOther" class="chat-file-item"><p class="attachment-file-name">{{attachment.fileName}}</p><div class="attachment-file-box"><div class="file-ico"><image-file-type></image-file-type></div><div class="file-content-box"><p class="size-box"><span class="size">{{attachment.size|fileSize}}</span> <a class="c75" target="_blank" ng-href="{{url}}" ng-if="sendStatus==\'success\'||!sendStatus">下载<i class="fa fa-angle-right" style="font-size:18px;margin-left:4px;vertical-align:text-top"></i></a> <a class="c75" ng-if="sendStatus==\'error\'||sendStatus==\'send\'" style="color:#ccc;text-decoration:none">下载<i class="fa fa-angle-right" style="font-size:18px;margin-left:4px;vertical-align:text-top"></i></a></p></div></div></div>');e.put("source/webchat/directive/webchat-button-group/webchat-button-group.html",'<div class="pull-right webchat-operations"><button has-permission="chat_invite" ng-if="webchat.status !== \'new\' && webchat.myRoleName !== \'leader\' && !webchat.iquit" ng-click="toSelectEngineers(\'invite\')" type="button" class="btn btn-default btn-item">多方会话</button> <button has-permission="chat_transfer" ng-if="webchat.status !== \'new\' && webchat.myRoleName === \'handler\'&& webchat.requestMode !== \'inside\'" ng-click="toSelectEngineers(\'transfer\')" type="button" class="btn btn-default btn-item">转接会话</button> <button has-permission="chat_force_transfer" ng-if="webchat.status !== \'new\' && webchat.myRoleName === \'leader\' && webchat.requestMode !== \'inside\'" ng-click="toSelectEngineers(\'force_transfer\')" type="button" class="btn btn-default btn-item">强制转接会话</button> <button ng-if="webchat.status !== \'new\' && !webchat.iquit && webchat.myRoleName !== \'handler\' && webchat.requestMode === \'inside\'" ng-click="existWebChat($event, \'\', \'quit\')" type="button" class="btn btn-default btn-item">退出会话</button> <button ng-if="webchat.status !== \'new\' && !webchat.iquit && webchat.myRoleName !== \'handler\'&& webchat.requestMode !== \'inside\'" ng-click="existWebChat($event, \'close_chat\', \'quit\')" type="button" class="btn btn-default btn-item">退出会话</button> <button ng-if="webchat.status !== \'new\' && webchat.iquit" ng-click="joinChat()" type="button" class="btn btn-default btn-item">加入会话</button> <button has-permission="chat_reception" ng-if="webchat.status === \'new\'" ng-click="handleChat()" type="button" class="btn btn-default btn-item">我来处理</button> <button has-permission="ticket_chat_assign" ng-if="webchat.status === \'new\'" ng-click="assignChat()" type="button" class="btn btn-default btn-item">分给别人</button><div class="btn-group" ng-if="webchat.myRoleName === \'handler\'"><button ng-if="webchat.myRoleName === \'handler\' && webchat.requestMode === \'inside\'" ng-click="existWebChat($event, \'\', \'end\')" type="button" class="btn btn-default btn-item">结束会话</button> <button ng-if="webchat.myRoleName === \'handler\' && webchat.requestMode !== \'inside\'" ng-click="existWebChat($event, \'close_chat\', \'end\')" type="button" class="btn btn-default">结束会话</button> <button type="button" ng-if="webchat.myRoleName === \'handler\' && webchat.requestMode !== \'inside\'" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul class="dropdown-menu chat-do-dropdown-menu" role="menu"><li ng-if="webchat.myRoleName === \'handler\' && webchat.requestMode !== \'inside\'"><a href="javascript:void(0);" ng-click="existWebChat($event, webchat.myRoleName===\'handler\'?\'go_ticket\':\'\')">结束会话，工单继续跟踪</a></li><li ng-if="webchat.myRoleName === \'handler\' && webchat.requestMode !== \'inside\' && webchat.ticket"><a href="javascript:void(0);" ng-click="existWebChat($event, webchat.myRoleName===\'handler\'?\'completed\':\'\')">结束会话，结束关联工单</a></li></ul></div><script type="text/ng-template" id="refuse_template.html"><div class="refuse-reason-box">\n      <ol class="refuse-reason-ol list-inline">\n        <li ng-repeat="r in refuseReasons">\n          <label>\n            <input type="radio" name="refuse_reason" ng-click="$parent.refuseErrorMessage=\'\'" ng-value="r" ng-model="$parent.refuseChatReason" style="vertical-align: text-top;margin: 2px 4px 0 0;" />\n            <span style="vertical-align: text-top;">{{r}}</span>\n          </label>\n        </li>\n      </ol>\n      <input type="text" class="txt" placeholder="请填写理由" ng-focus="refuseErrorMessage=\'\'" ng-model="refuseChatReasonText"  ng-show="refuseChatReason===\'其他原因\'" />\n      <input type="button" class="btn btn-confirm" value="确定" ng-click="$ok(refuseChatReason===\'其他原因\'?refuseChatReasonText:refuseChatReason)" />\n      <span style="color:red;">{{refuseErrorMessage}}</span>\n    </div><\/script><script type="text/ng-template" id="close-chat.html"><div class="modal" tabindex="-1" role="dialog" aria-hidden="true">\n      <div style="width: 500px;" class="modal-dialog">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button ng-click="$hide();" type="button" class="close" data-dismiss="modal" aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n            <h4 class="modal-title" ng-bind="title"></h4>\n          </div>\n          <div class="modal-body" ng-bind="content"></div>\n        </div>\n      </div>\n    </div><\/script><script type="text/ng-template" id="close-chat-content.html"><div style="text-align: center;font-size: 14px;">\n      <p style="margin-top: 10px;">本次会话已关联工单#{{webchat.ticket.no}}，请选择结束方式。</p>\n      <div style="margin-top: 40px;margin-bottom: 20px;">\n        <button ng-click="closeChat(\'completed\')" style="margin-right: 45px;" type="button" class="btn btn-default btn-confirm">连同工单一起结束</button>\n        <button ng-click="closeChat(\'go_ticket\')" type="button" class="btn btn-default btn-confirm">仅结束本次会话</button>\n      </div>\n    </div><\/script></div>');e.put("source/webchat/directive/webchat-daterange-picker/webchat-daterange-picker.html",'<div class="btn btn-default" ng-disabled="disabled"><span>{{dateRange.startDate.format(format)}} - {{dateRange.endDate.format(format)}}</span> &nbsp; <i class="fa fa-calendar"></i></div>');e.put("source/webchat/directive/webchat-list/webchat-list.html",'<ul class="webchat-list"><li ng-repeat="chat in chatList.waiting" ng-if="type==\'waiting\'" ng-class="{active: activeChatId === chat.id}" ng-click="goChatDetail(chat)"><span class="username ellipsis">{{ chat.user.name || chat.user.nickname }}</span> <span class="topic ellipsis">主题：{{ chat.firstMessage }}</span> <span class="time ellipsis">{{ chat.createdAt | chattime }}</span><div class="actions-wrap"><button has-permission="chat_reception" class="btn btn-primary" ng-click="acceptChat($event, chat.id)">接待</button></div></li><li ng-if="type==\'waiting\' && (!chatList.waiting || chatList.waiting.length ===0)" class="nodata"><span class="text">暂无数据</span></li><li ng-repeat="chat in chatList.processing" ng-if="type==\'processing\'" ng-class="{active: activeChatId === chat.id}" ng-click="goChatDetail(chat)"><span class="username ellipsis">{{ chat.user.name || chat.user.nickname }}</span> <span class="time ellipsis">{{ chat.lastReplyTime || chat.createdAt | chattime }}</span> <span class="topic ellipsis">{{ chat.lastReplyMessage || chat.firstMessage }}</span> <span class="spot ellipsis" ng-if="activeChatId !== chat.id && chat.unreadMessageCount > 0"><span class="count" ng-class="{overflow: chat.unreadMessageCount > 9}">{{ chat.unreadMessageCount > 9 ? \'…\' : chat.unreadMessageCount }}</span></span></li><li ng-if="type==\'processing\' && (!chatList.processing || chatList.processing.length ===0)" class="nodata"><span class="text">暂无数据</span></li><li class="visiable" ng-repeat="chat in chatList.visiable" ng-if="type==\'visiable\'" ng-class="{active: activeChatId === chat.id}" ng-click="goChatDetail(chat)"><span class="username ellipsis">{{ chat.user.name || chat.user.nickname }}</span> <span class="engineer ellipsis">接待：{{ chat.engineer.userName|| chat.engineer.user.name || chat.engineer.nickname || chat.engineer.user.nickname }}</span> <span class="topic ellipsis">主题：{{ chat.firstMessage }}</span> <span class="time ellipsis">{{ chat.createdAt | chattime }}</span><div class="actions-wrap" ng-if="chat.clientType !== \'USB_PHONE\'"><button class="btn btn-primary" ng-click="joinChat($event, chat.id, chat.clientType)" has-permission="ticket_force_join_chat">加入</button></div></li><li ng-if="type==\'visiable\' && (!chatList.visiable || chatList.visiable.length ===0)" class="nodata"><span class="text">暂无数据或无相关权限</span></li></ul>');e.put("source/webchat/directive/webchat-logs/webchat-logs.html",'<ul class="list-unstyled logs"><li ng-repeat="log in logLists track by $index" scroll-item="true" bindonce><div ng-if="log.type!=\'log\'"><div class="message other-message"><div class="avatar"><image-show imageurl="{{log.user.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w40 h40 img-circle" editable="false"></image-show></div><div class="message-detail"><div class="name-time"><span class="name" bo-bind="log.user.name"></span> <span class="time" bo-bind="log.createdAt|dateFilter_style1"></span></div><div class="message-txt-wrap" ng-mouseover="isShowRecall(log)" ng-mouseleave="hideRecall(log)"><span class="message-txt" ng-if="log.type==\'text\'" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" bo-html="log.content|linkSetMark|wechatEmoji"></span> <span class="message-txt" ng-if="log.type==\'html\'" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" bo-html="log.richTextContent.richText"></span> <span class="message-txt single" ng-if="log.type!=\'text\'&& log.type!=\'html\'&&log.type!=\'location\' && log.attachment.contentUrl!=\'uploadProcess\'" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" log="log" attachment-detail-item attachment="log.attachment" use-scroll="true" attachmentid="{{log.attachment.id}}" question-id="{{log.questionId}}"></span> <span class="message-txt single" ng-if="log.type ===\'location\'&& log.attachment" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" log="log" attachment-detail-item attachment="log.attachment" use-scroll="true" attachmentid="{{log.attachment.id}}" question-id="{{log.questionId}}"></span> <span class="message-txt single" ng-if="log.type ===\'location\'&& !log.attachment" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" bo-html="log.content|setTargetForLabel"></span> <span ng-if="!log.isPublic" class="is-public"><i class="fa fa-lock"></i></span> <span ng-if="log.sendStatus==\'send\'" class="send-status"><img src="source/images/help_center/new/sending.gif"> </span><span ng-if="log.sendStatus==\'error\'" ng-click="reSendMessage(log)" ng-mouseover="log.showSend=true;" ng-mouseout="log.showSend=false;" style="color:#e82020;margin-left:10px;cursor:pointer"><i class="icon iconfont">&#xe63b;</i> <span ng-if="log.sendStatus==\'error\' && log.showSend" style="color:gray;z-index:55">点击重新发送 </span></span><span class="margin_left10px recall" ng-if="log.showRecall" ng-click="recall(log)">撤回</span></div></div></div></div><div ng-if="log.type==\'log\'" class="log-message"><p class="txt"><span ng-if="log.operate==\'accept_chat\'">{{log.user.name}}{{\'ACCEPT_CHAT_REQUEST\'|translate}}</span> <span ng-if="log.operate==\'quit_chat\'">{{log.user.name}}{{\'EXITED_CHAT\'|translate}}</span> <span ng-if="log.operate==\'close_chat\'">{{log.user.name}}{{\'CLOSED_CHAT\'|translate}}</span> <span ng-if="log.operate==\'system_closed_chat\'">系统自动{{\'CLOSED_CHAT\'|translate}}</span> <span ng-if="log.operate==\'response_chat_invite\'||log.operate==\'join_chat\'||log.operate==\'force_join_chat\'">{{log.user.name}}{{\'JOINED_CHAT\'|translate}}</span> <span ng-if="log.operate==\'reject_chat_invite\'">{{\'REFUSAL_CHAT_INVALID\'|translate}}</span> <span ng-if="log.operate==\'no_reply_chat_invite\'">{{\'NO_REPLY_CHAT_INVITE\'|translate}}</span> <span ng-if="log.operate==\'request_remote_desk\'">{{log.user.name}}{{\'REQUEST_REMOTE_DESK\'|translate}}</span> <span ng-if="log.operate==\'accept_remote_desk\'">{{log.user.name}}{{\'ACCEPT_REMOTE_DESK\'|translate}}</span> <span ng-if="log.operate==\'reject_remote_desk\'">{{log.user.name}}{{\'REJECT_REMOTE_DESK\'|translate}}</span> <span ng-if="log.operate==\'cancel_remote_desk\'">{{log.user.name}}{{\'CANCEL_REMOTE_DESK\'|translate}}</span> <span ng-if="log.operate==\'remote_desk_start\'">{{log.user.name}}{{\'REMOTE_DESK_START\'|translate}}</span> <span ng-if="log.operate==\'remote_desk_end\'">{{log.user.name}}{{\'REMOTE_DESK_END\'|translate}}</span> <span ng-if="log.operate==\'video_call_start\'">{{log.user.name}}{{\'VIDEO_CALL_START\'|translate}}</span> <span ng-if="log.operate==\'video_call_end\'">{{log.user.name}}{{\'VIDEO_CALL_END\'|translate}}</span> <span ng-if="log.operate==\'request_video_call\'">{{log.user.name}}{{\'REQUEST_VIDEO_CALL\'|translate}}</span> <span ng-if="log.operate==\'accept_video_call\'">{{log.user.name}}{{\'ACCEPT_VIDEO_CALL\'|translate}}</span> <span ng-if="log.operate==\'reject_video_call\'">{{log.user.name}}{{\'REJECT_VIDEO_CALL\'|translate}}</span> <span ng-if="log.operate==\'cancel_video_call\'">{{log.user.name}}{{\'CANCEL_VIDEO_CALL\'|translate}}</span> <span ng-if="log.operate==\'update_user\'">{{log.user.name}}修改客户</span> <span ng-if="log.operate==\'auto_invite\'">接受自动邀请</span> <span ng-if="log.operate==\'chat_log_delete\'">{{log.user.name}} {{\'CHATLOG_DELETE\'|translate}}</span> <span ng-if="log.operate==\'chat_to_ticket\'">{{log.user.name}} {{\'CHAT_TO_TICKET\'|translate}}#{{log.content}}</span> <span ng-if="log.operate==\'transfer_chat\'">{{log.user.name}} {{\'TRANSFER_CHAT_TO\'|translate}}&nbsp;{{log.content}}</span> <span ng-if="log.operate==\'invite_join_chat\'">{{log.user.name}} {{\'STATISTICS_INVITE\'|translate}}&nbsp;{{log.content}}&nbsp;{{\'STATISTICS_JOIN_CHAT\'|translate}}</span> <span ng-if="log.operate !=\'chat_log_delete\'" class="padding_right10px" ng-bind="log.createdAt|dateFilter_style1"></span> <span ng-if="log.operate !=\'chat_log_delete\'">{{\'SYSTEM_MESSAGE\'|translate}}</span> <i ng-if="log.operate !=\'chat_log_delete\'" class="fa fa-flag padding_right10px padding_left10px"></i></p></div></li></ul>');e.put("source/webchat/directive/webchat-people/webchat-people.html",'<ul class="webchat-people"><li ng-repeat="item in participantList"><image-show imageurl="{{item.user.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w40 h40 img-circle" editable="false"></image-show><span class="name">{{item.user.name}}{{item.user.serviceDesk && item.roleName !== \'customer\' && item.roleName !== \'handler\'?\'@\'+item.user.serviceDesk.name:\'\'}}</span> <span class="type" ng-if="item.name">{{item.name}}</span></li></ul>');e.put("source/webchat/directive/webchat-record/webchat-record.html",'<div class="webchat-record"><i class="iconfont">&#xe616;</i> <a href="javascript:void(0)" ng-click="getHistoryChat()" ng-bind="hasMoreRecord?\'查看更多互动记录\':\'没有更多互动记录\'"></a><div ng-repeat="item in recorList"><div class="record-item"><div class="line"></div><div>接待客服：</div><div>{{item.chat.engineer.user.name}}</div>&nbsp;&nbsp;<div>{{item.chat.createdAt|dateFilter_style1}}</div><div class="line"></div></div><div><ul class="list-unstyled logs"><li ng-repeat="log in item.chatlogs track by $index" bindonce><div ng-if="log.type!=\'log\'"><div class="message other-message"><div class="avatar"><image-show imageurl="{{log.user.photo.contentUrl}}" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w40 h40 img-circle" editable="false"></image-show></div><div class="message-detail"><div class="name-time"><span class="name" bo-bind="log.user.name"></span> <span class="time" bo-bind="log.createdAt|dateFilter_style1"></span></div><div class="message-txt-wrap"><span class="message-txt" ng-if="log.type==\'text\'" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" bo-html="log.content|linkSetMark|wechatEmoji"></span> <span class="message-txt" ng-if="log.type==\'html\'" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" bo-html="log.richTextContent.richText"></span> <span class="message-txt single" ng-if="log.type!=\'text\'&& log.type!=\'html\'&&log.type!=\'location\'&&log.attachment.contentUrl!=\'uploadProcess\'" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" log="log" webchat-attachment-detail attachment="log.attachment" attachmentid="{{log.attachment.id}}" question-id="{{log.questionId}}"></span> <span class="message-txt single" ng-if="log.type===\'location\'&&log.attachment" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" log="log" webchat-attachment-detail attachment="log.attachment" attachmentid="{{log.attachment.id}}" question-id="{{log.questionId}}"></span> <span class="message-txt single" ng-if="log.type ===\'location\'&& !log.attachment" ng-class="{\'not-public\':!log.isPublic,\'not-engineer\':log.user.type!==\'engineer\'}" bo-html="log.content|setTargetForLabel"></span> <span ng-if="!log.isPublic" class="is-public"><i class="fa fa-lock"></i></span> <span ng-if="log.sendStatus==\'send\'" class="send-status"><img src="source/images/help_center/new/sending.gif"> </span><span ng-if="log.sendStatus==\'error\'" ng-click="reSendMessage(log)" ng-mouseover="log.showSend=true;" ng-mouseout="log.showSend=false;" style="color:#e82020;margin-left:10px;cursor:pointer"><i class="icon iconfont">&#xe63b;</i> <span ng-if="log.sendStatus==\'error\' && log.showSend" style="color:gray;z-index:55">点击重新发送</span></span></div></div></div></div><div ng-if="log.type==\'log\'" class="log-message"><p class="txt"><span ng-if="log.operate==\'accept_chat\'">{{log.user.name}}{{\'ACCEPT_CHAT_REQUEST\'|translate}}</span> <span ng-if="log.operate==\'quit_chat\'">{{log.user.name}}{{\'EXITED_CHAT\'|translate}}</span> <span ng-if="log.operate==\'close_chat\'">{{log.user.name}}{{\'CLOSED_CHAT\'|translate}}</span> <span ng-if="log.operate==\'system_closed_chat\'">系统自动{{\'CLOSED_CHAT\'|translate}}</span> <span ng-if="log.operate==\'response_chat_invite\'||log.operate==\'join_chat\'||log.operate==\'force_join_chat\'">{{log.user.name}}{{\'JOINED_CHAT\'|translate}}</span> <span ng-if="log.operate==\'reject_chat_invite\'">{{\'REFUSAL_CHAT_INVALID\'|translate}}</span> <span ng-if="log.operate==\'no_reply_chat_invite\'">{{\'NO_REPLY_CHAT_INVITE\'|translate}}</span> <span ng-if="log.operate==\'request_remote_desk\'">{{log.user.name}}{{\'REQUEST_REMOTE_DESK\'|translate}}</span> <span ng-if="log.operate==\'accept_remote_desk\'">{{log.user.name}}{{\'ACCEPT_REMOTE_DESK\'|translate}}</span> <span ng-if="log.operate==\'reject_remote_desk\'">{{log.user.name}}{{\'REJECT_REMOTE_DESK\'|translate}}</span> <span ng-if="log.operate==\'cancel_remote_desk\'">{{log.user.name}}{{\'CANCEL_REMOTE_DESK\'|translate}}</span> <span ng-if="log.operate==\'remote_desk_start\'">{{log.user.name}}{{\'REMOTE_DESK_START\'|translate}}</span> <span ng-if="log.operate==\'remote_desk_end\'">{{log.user.name}}{{\'REMOTE_DESK_END\'|translate}}</span> <span ng-if="log.operate==\'video_call_start\'">{{log.user.name}}{{\'VIDEO_CALL_START\'|translate}}</span> <span ng-if="log.operate==\'video_call_end\'">{{log.user.name}}{{\'VIDEO_CALL_END\'|translate}}</span> <span ng-if="log.operate==\'request_video_call\'">{{log.user.name}}{{\'REQUEST_VIDEO_CALL\'|translate}}</span> <span ng-if="log.operate==\'accept_video_call\'">{{log.user.name}}{{\'ACCEPT_VIDEO_CALL\'|translate}}</span> <span ng-if="log.operate==\'reject_video_call\'">{{log.user.name}}{{\'REJECT_VIDEO_CALL\'|translate}}</span> <span ng-if="log.operate==\'cancel_video_call\'">{{log.user.name}}{{\'CANCEL_VIDEO_CALL\'|translate}}</span> <span ng-if="log.operate==\'update_user\'">{{log.user.name}}修改客户</span> <span ng-if="log.operate==\'auto_invite\'">接受自动邀请</span> <span ng-if="log.operate==\'chat_to_ticket\'">{{log.user.name}} {{\'CHAT_TO_TICKET\'|translate}}#{{log.content}}</span> <span ng-if="log.operate==\'transfer_chat\'">{{log.user.name}} {{\'TRANSFER_CHAT_TO\'|translate}}&nbsp;{{log.content}}</span> <span ng-if="log.operate==\'invite_join_chat\'">{{log.user.name}} {{\'STATISTICS_INVITE\'|translate}}&nbsp;{{log.content}}&nbsp;{{\'STATISTICS_JOIN_CHAT\'|translate}}</span> <span class="padding_right10px" ng-bind="log.createdAt|dateFilter_style1"></span> <span>{{\'SYSTEM_MESSAGE\'|translate}}</span> <i class="fa fa-flag padding_right10px padding_left10px"></i></p></div></li></ul></div></div></div>');e.put("source/webchat/directive/webchat-reply-box/webchat-reply-box.html",'<section class="flex"><div class="flex1"><div ng-style="webchat.isPublicReply?{}:{\'background-color\':\' ##FFFFF0\',\'border\':\'1px solid #E7C86A\'}"><div id="container" class="chat-box-top"><div class="chat-tools" ng-style="webchat.isPublicReply?{}:{\'background-color\':\' ##FFFFF0\'}"><a href="javascript:void(0)" title="切换回复模式" class="tool-item" ng-click="toggleIsPublicReply()"><i class="iconfont" ng-if="!webchat.isPublicReply">&#xe609;</i> <i class="iconfont" ng-if="webchat.isPublicReply">&#xe608;</i> </a><a href="javascript:void(0)" title="表情" class="tool-item" ng-click="showWechatEmoji($event);"><i class="iconfont">&#xe60b;</i> </a><a href="javascript:void(0)" has-module="remote_help" title="屏幕截图" class="tool-item" ng-click="requestScreenshot()"><i class="iconfont">&#xe602;</i> </a><a href="javascript:void(0)" has-module="remote_help" title="屏幕录像" class="tool-item" ng-click="requestVideo(\'video\')"><i class="iconfont">&#xe60a;</i> </a><a href="javascript:void(0)" title="传送文件" class="tool-item"><i class="iconfont">&#xe607;</i> <span id="pickfiles" class="pickfiles" drop-element="webchatTextMessage" ewei-uploader before-upload="beforeUpload(up,file);" files-added="filesAdded(up,files);" upload-progress="uploadProgress(up,file);" file-uploaded="fileUploaded(up,file,info);" upload-error="uploadError(up, err, errTip);" upload-complete="uploadComplete();"></span> </a><a href="javascript:void(0)" has-module="remote_help" title="远程桌面" ng-if="webchat.clientType===\'WEB_PC\' || webchat.clientType===\'DESKTOP_HELPCENTER\'" class="tool-item" ng-click="checkRemoteDeskPlug(\'remote_desk\')"><i class="iconfont">&#xe606;</i> </a><a href="javascript:void(0)" has-module="remote_help" title="视频通话" ng-if="webchat.clientType===\'WEB_PC\' || webchat.clientType===\'DESKTOP_HELPCENTER\'" class="tool-item" ng-click="checkRemoteDeskPlug(\'video_call\')"><i class="iconfont">&#xe60f;</i></a></div><div class="reply-btn-wrap"><div class="btn btn-default btn-confirm" ng-click="sendReplay($event)"><span>回复</span></div></div><pre contenteditable copy-img-upload-new scrip-br="true" class="reply-pre form-control" ng-style="webchat.isPublicReply?{}:{\'background-color\':\' ##FFFFF0\'}" data-ph="{{chatContentInp}}" ng-change="saveDraft()" placeholder="{{chatContentInp}}" ng-keyup="matchQuickReplys($event)" ng-keydown="matchQuickReplys($event)" ng-keypress="inputKeypress($event)" ng-click="$parent.wechatEmojiPanelOpen=false" ng-model="textMessage" id="webchatTextMessage"></pre></div></div></div><div ng-switch on="quickmatchItems"><section ng-switch-default ng-show="matchItems.length>0" class="webchat-box"><ul class="list-unstyled chat-replay-list"><li style="cursor:pointer" ng-repeat="item in matchItems track by $index" ng-click="selectmatchQuickReplys(item.content);" ng-class="{true:\'item-select\',false:\'item-not-select\'}[item.selected]" ng-mouseenter="itemMouseenter(item.id);" class="media"><span ng-bind-html="item.html|sanitize|trusted" class="media-left hideOverflow" style="max-width:250px"></span> <span class="hideOverflow media-right">{{item.content}}</span></li></ul></section><section ng-switch-when="knowledge" class="webchat-box"><ul ng-if="questions.length" class="list-unstyled list-knowledge"><li class="media list-knowledge-item" ng-repeat="q in questions"><div class="media-left media-middle"><input type="button" value="发送" class="btn btn-knowledge-send" ng-click="sendKnowledge(q)"> <input type="button" value="编辑" class="btn btn-knowledge-edit" ng-click="editKnowledge(q)"></div><div class="media-body media-top" style="padding-top:3px"><p><span class="margin_right5px knowledge-type">\\{{questionKnowledgeType[q.topic.type]}}\\{{q.topic.name}}</span> <span class="knowledge-title">{{q.title}}</span></p><p class="knowledge-summary">{{q.summary}}</p></div></li></ul></section></div><div class="uploadList"><div ng-repeat="file in cacheFiles"><span><icon-file-type></icon-file-type></span>&nbsp;&nbsp; <span class="name" ng-bind="file.name"></span> <span class="progress" ng-bind="file.progress"></span> <span>%</span> <a href="javascript:;" class="cancel" ng-click="removeCacheFile(file)">取消</a></div></div><wechat-emoji edit-element-id="webchatTextMessage" class="wechat-emoji" wechat-emoji-panel-open="wechatEmojiPanelOpen" ng-show="wechatEmojiPanelOpen"></wechat-emoji></section>');e.put("source/webchat/directive/webchat-user-ticket/webchat-user-ticket.html",'<section class="user-and-ticket"><div class="nav-tab"><div class="tab-item" ng-class="{\'active\': showTab === \'user\'}" ng-click="tabSwitch(\'user\')">客户信息</div><div class="tab-item" ng-class="{\'active\': showTab === \'ticket\'}" ng-click="tabSwitch(\'ticket\')">历史工单</div><div ng-if="webchat.status === \'closed\'" class="tab-item" ng-class="{\'active\': showTab === \'chat_quality\'}" ng-click="tabSwitch(\'chat_quality\')">会话质检</div></div><div class="tab-detail"><div ng-show="showTab === \'user\'"><dl class="user-device-info"><dt>客户</dt><dd class="user-select-box"><div class="select"><user-select chatisclose="webchat.status === \'closed\' || webchat.status === \'new\' || (!webchat.myRoleName || (webchat.myRoleName && webchat.iquit))" getusertickets="getUserTickets()" selecteduser="webchat.user" webchatid="webchat.id" sessiontype="webchat.clientType"></user-select></div><a ng-if="webchat.user.type === \'customer\'" ui-sref="customers_detail({id:webchat.user.id})" class="custom-main-font-color">详情</a></dd><dt ng-if="webchat.user.type !== \'engineer\'">客户组</dt><dd ng-if="webchat.user.type !== \'engineer\'"><div class="user-group-select-box"><div class="name ellipsis" ng-if="webchat.user.type === \'customer\'">{{webchat.user.userGroup?webchat.user.userGroup.name:\'无\'}}</div><a ng-if="webchat.user.type === \'customer\'" ng-click="goUserGroup()" class="custom-main-font-color">{{webchat.user.userGroup? \'详情\':\'创建\'}}</a></div></dd><dt>主题</dt><dd class="subject"><input type="text" ng-model="webchat.firstMessage" ng-blur="updateChatSubject();" class="form-control" maxlength="128"></dd><dt>服务目录</dt><dd class="service-catalog"><service-catalog-select selectedservicecatalog="webchat.serviceCatalog"></service-catalog-select></dd><dt ng-if="!webchat.ticket" ng-click="ticketRelation()" class="custom-main-font-color create-ticket"><i class="iconfont">&#xe627;</i> 创建工单继续跟踪</dt><dt ng-if="webchat.ticket" ui-sref="tickets_detail({id: webchat.ticket.id})" class="custom-main-font-color create-ticket">已关联工单 #{{webchat.ticket.no}}</dt></dl><dl class="user-device-info"><dt>来访轨迹</dt><dd>会话ID: {{webchat.id}}</dd><dd>渠道：{{webchat.via.channelName|translate|nullStringFilter}}</dd><dd>来源页：{{webchat.via.source|nullStringFilter}}</dd><dd>当前页： <span ng-if="webchat.via.workingTitle && webchat.via.working"><a ng-href="{{webchat.via.working}}" class="custom-link-color" target="_blank">{{ webchat.via.workingTitle }}</a></span> <span ng-if="!webchat.via || !webchat.via.workingTitle || !webchat.via.working">{{webchat.via.working | nullStringFilter}}</span></dd><dd>当前页停留时间：{{webchat.via.stayTime| secondToTimeCh}}</dd><dd>客户端：<i class="iconfont" ng-style="{color: (webchat.clientType| clientIcon: \'color\')}" ng-bind-html="webchat.clientType | clientIcon: \'icon\' | trusted"></i></dd><dd>浏览器：{{webchat.browser|nullStringFilter}}</dd><dd>操作系统：{{webchat.os|nullStringFilter}}</dd><dd>地理位置：{{webchat.fromLocation}}</dd><dd>IP地址：{{webchat.ip|nullStringFilter}}</dd><dd>上次来访：{{webchat.preTime|nullStringFilter}}</dd><dd>本次来访：<ewei-timer stop-timer="true" start="webchat.createdAt"></ewei-timer></dd></dl></div><div class="user-tickes" ng-show="showTab === \'ticket\'"><dl><dd ng-repeat="ticket in userTickets.list track by $index"><div class="title"><span>#{{ticket.no}}</span> <b class="{{ticket.deleted?\'deleted\':ticket.status}} status ticket-sla">{{ticket.deleted?\'deleted\':ticket.status | firstUpperCase}}</b> <a ui-sref="tickets_detail({id:ticket.id})">{{ticket.subject}}</a></div><div class="ticket-detail"><span ng-bind="ticket.updatedAt?ticket.updatedAt:\'ticket.createdAt\'|dateFilter_style2"></span> <span>处理人： <span ng-bind="ticket.engineer.user.name"></span> <span ng-if="ticket.serviceDesk">/</span> <span ng-bind="ticket.serviceDesk?ticket.serviceDesk.name:\'\' | translate"></span></span></div><a href="javascript:void(0);" class="relation-ticket" ng-click="ticketRelation(ticket)">{{webchat.ticket && $index == 0? \'工单已关联\': \'关联此工单\'}}</a></dd><dd ng-if="!userTickets.list || userTickets.list.length === 0"><p class="nodata">暂无工单数据！</p></dd><dd><a href="javascript:void(0)" ng-if="userTickets.hasMore" ng-click="getMoreUserTicket()">查看更多工单</a></dd></dl></div><div class="chat-quality" ng-show="showTab === \'chat_quality\'"><p ng-if="!chatQualityModel.hasVersions" class="no-versions">服务商版本不支持会话质检！</p><p ng-if="chatQualityModel.hasVersions && !chatQualityModel.hasFunction" class="no-versions">未启用质检功能！</p><fieldset ng-if="chatQualityModel.hasVersions && chatQualityModel.hasFunction" ng-disabled="!chatQualityModel.isEdit"><p class="title"><b>质检分</b>：<span class="score">{{getAllScore()}}</span>分 , 总分<span>{{chatQualityModel.allMaxScore}}</span>分 <i ng-click="edit()" ng-if="chatQualityModel.hasPermission" ng-show="!chatQualityModel.isEdit" class="iconfont custom-main-font-color">&#xe74f;</i></p><form><div ng-repeat="item in chatQualityModel.kpiDetail" class="form-group"><label>• {{item.name}}<span>*</span></label><div class="inp-box"><input ng-class="{\'score-over\': item.score > item.maxScore}" ng-change="scoreChange(item);" ng-model="item.score" type="text" class="form-control" placeholder="请输入数值"> <span>0-<span>{{item.maxScore}}</span>分</span></div></div></form><p class="title"><b>禁忌项</b></p><ul><li ng-click="selectedChange(item)" ng-repeat="item in chatQualityModel.tabooDetail">{{item.name}}<img ng-show="item.selected" ng-src="source/images/checked.png"></li></ul><p class="title"><b>评语 </b><span>（100字以内）</span></p><textarea ng-model="chatQualityModel.comment" class="form-control" rows="5" maxlength="100" placeholder="写下对此服务的评语"></textarea><div ng-show="chatQualityModel.isEdit" class="updateBox"><button ng-click="cancel()" type="button" class="btn btn-default btn-sm">取消</button> <button ng-click="update()" type="button" class="btn btn-primary btn-sm">提交</button></div></fieldset></div></div></section>');e.put("source/scripts/directives/ticket-extend-button/ticket-append-log-button/ticket-append-log-button.html",'<a href="javascript:void(0);" class="btn btn-confirm" ng-click="appendLog($event);"><span>追加回复</span></a>');e.put("source/scripts/directives/ticket-extend-button/ticket-append-log-button/ticket-append-log-dialog.html",'<form name="ticketAppendLogForm" class="ticket-extend-button-form" novalidate style="color:#999"><div class="form-group"><div class="ticket_reply_box_bar toolbar"><label for="private" class="menu_list toolbar-btn"><input id="private" name="private" type="checkbox" checked="checked" ng-click="setReplyOpenType()"> 私密回复</label><div id="container" class="menu_list toolbar-btn" role="group"><input type="hidden" id="qiniuDomain" value="{{qiniuBucketDomain}}"> <a data-toggle="dropdown" ng-click="uploadAttachmentBuried()"><i class="iconfont pull-left" style="font-size:14px;padding-right:4px">&#xe601;</i> <span>上传附件</span></a><ul class="dropdown-menu" role="menu" style="width:150px;top:50px;left:100px"><li><a id="pickfiles-append-log" ewei-uploader files-added="filesAdded(up,files);" upload-progress="uploadProgress(up,file);" file-uploaded="fileUploaded(up,file,info);" upload-error="uploadError(up, err, errTip);" upload-complete="uploadComplete();">上传本地文件</a></li><li><a ng-click="pickResource();">调用社区资源</a></li></ul></div></div><textarea class="form-control" ng-model="data.content" name="text" maxlength="512" placeholder="输入追加回复" required style="resize:vertical;height:140px;max-height:200px"></textarea></div><div class="modal-footer btn-group-common"><div class="upload-pannel"><ul class="ticket_attachment_progressinfo reply_ticket"><li ng-repeat="file in cacheFiles"><span><icon-file-type></icon-file-type></span>&nbsp;&nbsp; <span title="{{file.name}}">{{file.name | cutStr : 12}}</span><div class="progress_info_area"><p ng-if="file.uploading"><span class="info" ng-if="file.progress == 0">等待上传，请稍后...</span> <span class="info" ng-if="file.progress > 0 && file.progress < 100">上传中{{file.progress}}%</span> <span class="info" ng-if="file.progress == 100">附件处理中，请稍后...</span></p><span ng-if="!file.uploading && file.size">{{file.size | fileSize}}</span> <a href="javascript:void(0);" ng-click="removeCacheFile(file)" class="iconfont delete_atta">&#xe63c;</a></div></li></ul></div><a class="btn btn-small btn-confirm" ladda="disabled" ng-click="submitLog($event, ticketAppendLogForm.$valid);" ng-disabled="disabled||ticketAppendLogForm.text.$invalid"><span>确定</span></a> <input type="button" class="btn btn-small btn-cancel" value="取消" ng-click="$hide()" style="border:none;margin-right:10px;color:#999"></div></form>');e.put("source/scripts/directives/ticket-extend-button/ticket-create-project-button/ticket-create-project-button.html",'<a href="javascript:void(0);" class="btn btn-confirm" ng-click="createSubject($event);"><span>生成项目</span></a>');e.put("source/scripts/directives/ticket-extend-button/ticket-create-project-button/ticket-create-project-dialog.html",'<div class="modal-inner-content project-modal"><p class="title">项目名称</p><input type="text" class="form-control height30" ng-model="project.name" maxlength="32" placeholder="请输入项目名称"><p class="title">项目描述</p><textarea class="form-control" rows="3" ng-model="project.describe"></textarea><p class="title">项目分类</p><select ng-model="project.choseSort" ng-options="y.name for (x, y) in items" class="form-control"></select></div><div class="modal-footer btn-group-common"><button type="button" id="saveButton" class="btn btn-confirm custom-background-color" ng-click="makeSureCreate()">保存</button> <button type="button" class="btn btn-cancel" ng-click="$hide()">取消</button></div>');e.put("source/scripts/directives/ticket-extend-button/ticket-create-solution-button/ticket-create-solution-button.html",'<a href="javascript:void(0);" class="btn btn-confirm" ng-click="createSolution($event);"><span>解决方案</span></a>');e.put("source/scripts/directives/ticket-extend-button/ticket-create-solution-button/ticket-create-solution-dialog.html",'<form name="ticketCreateSolutionForm" class="ticket-extend-button-form" novalidate style="color:#999"><div class="form-group"><div class="ticket_reply_box_bar toolbar"><label for="private" class="menu_list toolbar-btn"><input id="private" name="private" type="checkbox" checked="checked" ng-click="setReplyOpenType()"> 私密回复</label><div id="container" class="menu_list toolbar-btn" role="group"><input type="hidden" id="qiniuDomain" value="{{qiniuBucketDomain}}"> <a data-toggle="dropdown" ng-click="uploadAttachmentBuried()"><i class="iconfont pull-left" style="font-size:14px;padding-right:4px">&#xe601;</i> <span>上传附件</span></a><ul class="dropdown-menu" role="menu" style="width:150px;top:50px;left:100px"><li><a id="pickfiles-create-solution" ewei-uploader files-added="filesAdded(up,files);" upload-progress="uploadProgress(up,file);" file-uploaded="fileUploaded(up,file,info);" upload-error="uploadError(up, err, errTip);" upload-complete="uploadComplete();">上传本地文件</a></li><li><a ng-click="pickResource();">调用社区资源</a></li></ul></div></div><textarea class="form-control" ng-model="data.content" name="text" maxlength="512" placeholder="解决方案描述" required style="resize:vertical;height:140px;max-height:200px"></textarea></div><div class="modal-footer btn-group-common"><div class="upload-pannel"><ul class="ticket_attachment_progressinfo reply_ticket"><li ng-repeat="file in cacheFiles"><span><icon-file-type></icon-file-type></span>&nbsp;&nbsp; <span title="{{file.name}}">{{file.name | cutStr : 12}}</span><div class="progress_info_area"><p ng-if="file.uploading"><span class="info" ng-if="file.progress == 0">等待上传，请稍后...</span> <span class="info" ng-if="file.progress > 0 && file.progress < 100">上传中{{file.progress}}%</span> <span class="info" ng-if="file.progress == 100">附件处理中，请稍后...</span></p><span ng-if="!file.uploading && file.size">{{file.size | fileSize}}</span> <a href="javascript:void(0);" ng-click="removeCacheFile(file)" class="iconfont delete_atta">&#xe63c;</a></div></li></ul></div><a class="btn btn-small btn-confirm" ladda="disabled" ng-click="submitSolution($event, ticketCreateSolutionForm.$valid);" ng-disabled="disabled||ticketCreateSolutionForm.text.$invalid"><span>确定</span></a> <input type="button" class="btn btn-small btn-cancel" value="取消" ng-click="$hide()" style="border:none;margin-right:10px;color:#999"></div></form>');e.put("source/scripts/directives/ticket-extend-button/ticket-reset-button/ticket-reset-button.html",'<a href="javascript:void(0);" class="btn btn-confirm" ng-click="resetTicket($event);"><span>重置工单</span></a>');e.put("source/scripts/directives/ticket-extend-button/ticket-reset-button/ticket-reset-dialog.html",'<form name="ticketResetForm" class="ticket-extend-button-form" novalidate style="color:#999"><div class="form-group"><div class="ticket_reply_box_bar toolbar"><label for="private" class="menu_list toolbar-btn"><input id="private" name="private" type="checkbox" ng-click="setReplyOpenType()"> 私密回复</label><div id="container" class="menu_list toolbar-btn" role="group"><input type="hidden" id="qiniuDomain" value="{{qiniuBucketDomain}}"> <a data-toggle="dropdown" ng-click="uploadAttachmentBuried()"><i class="iconfont pull-left" style="font-size:14px;padding-right:4px">&#xe601;</i> <span>上传附件</span></a><ul class="dropdown-menu" role="menu" style="width:150px;top:50px;left:100px"><li><a id="pickfiles-reset" ewei-uploader files-added="filesAdded(up,files);" upload-progress="uploadProgress(up,file);" file-uploaded="fileUploaded(up,file,info);" upload-error="uploadError(up, err, errTip);" upload-complete="uploadComplete();">上传本地文件</a></li><li><a ng-click="pickResource();">调用社区资源</a></li></ul></div></div><textarea class="form-control" ng-model="data.content" name="text" maxlength="512" placeholder="重置工单原因描述" required style="resize:vertical;height:140px;max-height:200px"></textarea></div><div class="modal-footer btn-group-common"><div class="upload-pannel"><ul class="ticket_attachment_progressinfo reply_ticket"><li ng-repeat="file in cacheFiles"><span><icon-file-type></icon-file-type></span>&nbsp;&nbsp; <span title="{{file.name}}">{{file.name | cutStr : 12}}</span><div class="progress_info_area"><p ng-if="file.uploading"><span class="info" ng-if="file.progress == 0">等待上传，请稍后...</span> <span class="info" ng-if="file.progress > 0 && file.progress < 100">上传中{{file.progress}}%</span> <span class="info" ng-if="file.progress == 100">附件处理中，请稍后...</span></p><span ng-if="!file.uploading && file.size">{{file.size | fileSize}}</span> <a href="javascript:void(0);" ng-click="removeCacheFile(file)" class="iconfont delete_atta">&#xe63c;</a></div></li></ul></div><a class="btn btn-small btn-confirm" ladda="disabled" ng-click="submitReset($event, ticketResetForm.$valid);" ng-disabled="disabled||ticketResetForm.text.$invalid"><span>确定</span></a> <input type="button" class="btn btn-small btn-cancel" value="取消" ng-click="$hide()" style="border:none;margin-right:10px;color:#999"></div></form>');e.put("source/scripts/directives/ticket-extend-button/ticket-review-button/ask-page.html",'<div ng-if="queryBox.passTicketWindow"><p class="ask-p" ng-hide="queryBox.satisfaction">数据 初始化失败</p><div ng-show="queryBox.satisfaction" style="color:#999;margin:0 16px"><form name="feedbackForm"><div class="form-group"><label class="review-title">{{queryBox.satisfaction.thirdQuestionTitle}}</label><div class="row"><div class="col-md-4" ng-repeat="item in queryBox.satisfaction.thirdQuestionOptions"><div class="radio"><label style="font-weight:400"><input type="radio" value="{{item.value}}" name="thirdQuestion" ng-checked="{{item.defaultValue}}"> {{item.name}}</label></div></div></div></div><div ng-if="queryBox.satisfaction.open"><div class="form-group"><label class="review-title">服务评价</label></div><div class="form-group"><label class="question-title">{{queryBox.satisfaction.firstQuestionTitle}}</label><div class="row"><div class="col-md-4" ng-repeat="item in queryBox.satisfaction.firstQuestionOptions"><div class="radio"><label style="font-weight:400"><input type="radio" value="{{item.value}}" name="firstQuestion" ng-checked="{{item.value == evaluate.solved}}"> {{item.name}}</label></div></div></div></div><div class="form-group"><label class="question-title">{{queryBox.satisfaction.secondQuestionTitle}}</label><div class="row"><div class="col-md-4"><rate value="evaluate.score"></rate></div></div></div><div class="form-group" ng-if="queryBox.satisfaction.loyaltyQuestionOpen"><label class="question-title">{{queryBox.satisfaction.loyaltyQuestionTitle}}</label><div class="row"><div class="col-md-4"><rate value="evaluate.loyalty"></rate></div></div></div><div class="form-group" ng-if="queryBox.satisfaction.recommendQuestionOpen"><label class="question-title">{{queryBox.satisfaction.recommendQuestionTitle}}</label><div class="row"><div class="col-md-4"><rate value="evaluate.recommend"></rate></div></div></div><div class="form-group"><label class="question-title">{{queryBox.satisfaction.description}}</label><textarea class="form-control satisfaction-suggest" ng-model="evaluate.suggestion" name="suggestion" placeholder="{{queryBox.satisfaction.content}}" maxlength="200"></textarea><input type="hidden" value="{{ticket.id}}" name="ticketId"></div></div><div class="modal-footer btn-group-common" style="text-align:right"><a href="javascript:void(0);" class="btn btn-confirm" ng-click="submitFeedback($event)" ladda="disabled" ng-disabled="disabled || (queryBox.satisfaction.open && !evaluate.solved)">提交</a> <a href="javascript:void(0);" class="btn btn-cancel" style="color:#999;font-size:12px" ng-click="$hide()">取消</a></div></form></div></div><style>.form-horizontal .form-group{margin:20px}.satisfaction-suggest{min-height:140px;border-radius:2px}.review-title{font-weight:700;font-size:13px;color:#221814}.question-title{color:#221814;font-weight:400}.ask-p{text-align:center;font-size:14px}</style>');e.put("source/scripts/directives/ticket-extend-button/ticket-review-button/ticket-review-button.html",'<a href="javascript:void(0);" class="btn btn-confirm" ng-click="reviewTicket($event);"><span>审核工单</span></a>');e.put("source/system-setting/channel-settings/help-center/templates/help-center-channel-basic.html",'<div class="web-channel-basic"><ul class="ul"><li class="w530"><div class="title-bar"><span class="name">客户端入口标签</span> <span class="color999">接入的网页上的入口展示样式</span></div></li><li class="enter"><div class="list-item"><p class="padding_top10px padding_bottom10px">选择入口标签样式</p><div class="tags"><div class="tag" ng-click="changeButtonStyle(\'roundness\')" ng-class="{active: webChannel.formOutward.style == \'roundness\'}"><div class="roundness" ng-style="{\'background-color\': webChannel.formOutward.style == \'roundness\'?webChannel.formOutward.buttonBackgroundColor:\'#888f93\'}"><i class="iconfont">&#xe7b7;</i></div><img ng-src="source/images/checked.png"></div><div class="tag" ng-click="changeButtonStyle(\'square\')" ng-class="{active: webChannel.formOutward.style == \'square\'}"><div class="square" ng-style="{\'background-color\': webChannel.formOutward.style == \'square\'?webChannel.formOutward.buttonBackgroundColor:\'#acafb1\'}"><i class="iconfont">&#xe7b7;</i></div><img ng-src="source/images/checked.png"></div><div class="tag" ng-click="changeButtonStyle(\'fillet\')" ng-class="{active: webChannel.formOutward.style == \'fillet\'}"><div class="fillet" ng-style="{\'background-color\': webChannel.formOutward.style == \'fillet\'?webChannel.formOutward.buttonBackgroundColor:\'#acafb1\'}"><i class="iconfont">&#xe7b7;</i><br>在<br>线<br>交<br>谈</div><img ng-src="source/images/checked.png"></div></div><p class="padding_top20px padding_bottom10px" ng-if="webChannel.formOutward.style != \'square\' && webChannel.formOutward.style != \'roundness\'">标签文字</p><div class="text-input" ng-if="webChannel.formOutward.style != \'square\' && webChannel.formOutward.style != \'roundness\'"><input type="text" class="form-control w400" maxlength="20" ng-model="webChannel.formOutward.buttonTitle" placeholder="在线交谈"></div><p class="padding_top20px padding_bottom10px">标签位置</p><div class="text-input"><select class="form-control w400" ng-model="webChannel.formOutward.position" ng-options="positionItem.value as positionItem.option for positionItem in positionOptions"></select></div><p class="padding_top20px padding_bottom10px">选择标签颜色</p><div class="color-list w450"><div class="color" ng-repeat="color in colorList" ng-style="{\'background-color\': color}" ng-click="webChannel.formOutward.buttonBackgroundColor = color"><i class="iconfont" ng-if="color == webChannel.formOutward.buttonBackgroundColor">&#xe710;</i></div><div class="color-customer"><i class="iconfont" ng-if="notInColorList(webChannel.formOutward.buttonBackgroundColor)">&#xe710;</i><spectrum-colorpicker ng-model="webChannel.formOutward.buttonBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></div></div></div><div class="right-panel padding_top10px"><div class="chat-icon-pannel"><div class="chat-icon-btn" ng-class="webChannel.formOutward.position"><div ng-class="webChannel.formOutward.style" ng-style="{\'background-color\': webChannel.formOutward.buttonBackgroundColor}"><i class="iconfont">&#xe7b7;</i> <span class="chat-icon-btn-content" ng-if="webChannel.formOutward.style != \'square\' && webChannel.formOutward.style != \'roundness\'">{{webChannel.formOutward.buttonTitle}}</span></div></div></div></div></li><li class="w530 padding_top30px"><div class="title-bar"><span class="name">客户端界面展示</span></div></li><li class="enter"><div class="list-item"><p class="padding_top10px padding_bottom10px">设置界面标题</p><div class="text-input"><input type="text" class="size14 form-control window_title w400" maxlength="60" ng-model="webChannel.formOutward.windowTitle" placeholder="在线交谈"></div><p class="padding_top20px padding_bottom10px">选择界面颜色</p><div class="color-list w450"><div class="color" ng-repeat="color in colorList" ng-style="{\'background-color\': color}" ng-click="webChannel.formOutward.windowTitleColor = color"><i class="iconfont" ng-if="color == webChannel.formOutward.windowTitleColor">&#xe710;</i></div><div class="color-customer"><i class="iconfont" ng-if="notInColorList(webChannel.formOutward.windowTitleColor)">&#xe710;</i><spectrum-colorpicker ng-model="webChannel.formOutward.windowTitleColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></div></div><div class="padding_top20px flex"><input name="ad" type="checkbox" id="autoSearchCheckboxAd" ng-model="webChannel.config.enabledAdvertisement"><div class="padding_left15px"><p>启用企业宣传信息</p><p class="color999">开启后，将展开右侧的企业信息栏。</p></div></div><div ng-if="webChannel.config.enabledAdvertisement"><p class="color333 margin_top20px">图片广告</p><p class="color999 margin_bottom30px">图片宽度为175px，高度270px，支持jpg/png/bmp/gif格式</p><div ng-repeat="img in webChannel.imageAdvertisements track by $index" class="form-inline margin_top10px"><img ng-src="{{\'/no_auth_ewei_attachment?contentUrl=\' + img.image.contentUrl}}" height="60px" width="60px" style="border-radius:5px"> <i ng-if="(license ==\'oem\'||licenseService.hasModule(\'oem\'))" ng-click="deleteCustomWebFormAd(img)" class="iconfont removeImg">&#xe63c;</i><div class="form-group padding_left40px"><p class="margin_bottom10px color333">图片超链接</p><input ng-disabled="((license ==\'oem\'||licenseService.hasModule(\'oem\'))?false:true)" ng-model="img.url" type="text" class="form-control w400" placeholder="请输入图片超链接"></div></div><div class="form-inline margin_top20px" style="position:relative" ng-if="(license ==\'oem\'||licenseService.hasModule(\'oem\')) && webChannel.imageAdvertisements && webChannel.imageAdvertisements.length<3"><div class="form-group"><div ewei-webuploader logo-uploading file-queued="fileQueued(file);" upload-progress="uploadProgress(file,percentage)" upload-success="uploadSuccess(file, response)" error="error(handler)" file-type="image" class="pickWx" height="60px" width="60px"><i class="iconfont webuploader">&#xe6c6;</i> <span style="display:none;margin-left:4px"><img style="padding:19px;width:58px" src="source/images/loading_01.gif"></span></div></div><div class="form-group padding_left40px"><p class="margin_bottom10px color333">图片超链接</p><input ng-model="objAd.url" type="text" class="form-control w400" placeholder="请输入图片超链接"></div></div></div></div><div class="right-panel web-chat"><div class="web-chat-window" style="width:{{webChannel.config.enabledAdvertisement? \'558px\' : \'383px\'}};background:{{webChannel.formOutward.windowTitleColor}}"><div class="window-title" title="{{webChannel.formOutward.windowTitle || \'在线交谈\'}}">{{webChannel.formOutward.windowTitle || \'在线交谈\'}}</div><i class="iconfont icon-min">&#xe64d;</i> <i class="iconfont icon-max">&#xe727;</i></div><div style="height:530px;width:383px" class="feedback-form pull-left"><ul class="list-unstyled web-chat-box"><li><div class="line-one"><img class="avatar" ng-src="{{ robotAvatarUrl }}" alt=""> <span class="engineer-name">{{ robotConfig.name || \'机器人小E\' }}</span></div><div class="web-chat-arrow-left">您好，请问有什么可以帮到你吗？</div></li></ul><div style="height:150px;background-color:#fff;border-right:1px solid #efeff4;border-radius:0 0 0 10px"><div class="web-chat-tools"><img style="margin-left:10px" src="/source/images/u73.png" alt=""></div><textarea style="height:70px;border:none;outline:0;width:100%;background-color:#fff;padding:5px 10px;resize:none" placeholder="请在这里输入...按‘回车’键发送，‘Shift + 回车’换行"></textarea><div style="text-align:right;margin-right:10px"><div class="btn btn-default" style="height:25px;padding:3px 19px">发送</div></div></div></div><div ng-show="webChannel.config.enabledAdvertisement" class="pull-left" style="width:175px"><div style="height:270px"><div ewei-carousel interval="5000" ng-if="!reloadCarousel"><div ewei-slide ng-repeat="slide in slides" active="slide.active"><img ng-src="{{slide.image}}" style="margin:auto;height:270px;width:100%"></div></div></div><ul class="list-unstyled" style="padding-left:10px;height:220px;overflow:hidden"><li style="margin-top:30px"><strong>推荐的文章 ：</strong></li><li style="margin-top:10px"><a style="color:{{webChannel.formOutward.windowTitleColor}}" href="javascript:void(0)">欢迎访问帮助中心，这...</a></li><li style="margin-top:10px"><a style="color:{{webChannel.formOutward.windowTitleColor}}" href="javascript:void(0)">什么是邀请码，怎么用？</a></li><li style="margin-top:10px"><a style="color:{{webChannel.formOutward.windowTitleColor}}" href="javascript:void(0)">如何找回密码？</a></li></ul></div></div></li><li class="margin_top40px"><div class="title-bar"></div><div class="form-content"><button class="btn btn-primary w100" ng-click="updateBasic()" ng-disabled="disableValue">{{id>0?\'更新\':\'确定\'}}</button> <a class="margin_left45px" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">取消</a></div></li></ul></div>');e.put("source/system-setting/channel-settings/help-center/templates/help-center-channel-client.html",'<div class="web-channel-basic"><ul class="ul"><li class="w530"><div class="title-bar"><span class="name">帮助中心网址</span></div></li><li class="w530"><div style="position:relative"><input id="inputHtmlLink" ng-model="helpCenter.protocolHref" readonly="readonly" type="text" class="form-control" style="cursor:default;padding-right:50px"> <a copy-some-thing="inputHtmlLink" style="color:#1e8cce;position:absolute;right:0;top:0;width:50px;height:34px;line-height:34px;text-align:center" href="javascript:">复制</a></div><p class="color999 padding_top10px">将该链接分享给客户，客户即可通过该网站来请求服务或者查询服务记录</p></li><li class="w530 padding_top30px"><div class="title-bar"><span class="name">微信小程序</span><switch style="vertical-align:middle" name="enabled" class="small-switch" ng-model="helpCenter.showWeixinSmallAppQrcode" ng-change="onShowWeixinSmallAppQrcodeChange"></switch></div></li><li class="w530"><div class="form-content" ng-if="helpCenter.showWeixinSmallAppQrcode"><img style="width:138px" ng-src="{{helpCenter.imgTwoSrc}}"> <a style="color:#1E8CCE;vertical-align:bottom" href="{{helpCenter.imgTwoSrc}}" target="_blank">下载二维码</a></div><div class="form-content"><p class="color999 padding_top8px">小程序版帮助中心， 客户扫码即关注，通过微信来查询提交工单，发起在线会话</p></div></li><li class="w530 padding_top30px"><div class="title-bar"><span class="name">桌面版</span></div></li><li class="w530"><p class="color999">桌面版主要用来给稳定的客户提供服务，下载完成解压即可无需安装。 <a ng-click="desktopHelpDownload();">点击下载</a></p></li></ul></div>');e.put("source/system-setting/channel-settings/help-center/templates/help-center-channel-senior.html",'<div class="web-channel-basic"><ul class="ul"><li class="w530"><div class="title-bar"><span class="name">自定义菜单名称</span></div></li><li class="w530"><table class="table table-bordered text-center"><thead><tr><th class="text-center">菜单类型</th><th class="text-center">自定义菜单中文名称 <span style="color:red">*</span></th><th class="text-center">自定义菜单英文名称 <span style="color:red">*</span></th></tr></thead><tbody><tr ng-repeat="(index,web) in webConfig.modules"><td>{{web.func}}</td><td><input type="text" class="form-control" ng-model="web.funcName" maxlength="20"></td><td><input type="text" class="form-control" ng-model="web.funcNameEn" maxlength="20"></td></tr></tbody></table></li><li class="w530"><div class="title-bar"><span class="name">在线交谈</span></div></li><li class="enter w530"><div class="list-item"><p class="flex align-items-center"><span class="padding_right20px">在会话前让用户先填写表单，以匹配用户身份</span><switch name="enabled" class="small-switch" ng-model="webConfig.userRequired"></switch></p><p class="color999 padding_top5px size12">启用后，点击在线交谈按钮或页面载入时，将先呈现表单窗口。会话表单一般用来收集用户的基本资料生成账户。 <a class="custom-main-font-color" ui-sref="system_setting.form_detail({showType: \'chat\', id: 0, doType: \'add\'})">还未配置表单，立即配置</a></p><div class="padding_top10px" ng-show="webConfig.userRequired"><select class="form-control w400" ng-options="option.uid as option.name for option in listChatForm" ng-model="webConfig.chatFormUid"></select></div></div></li><li class="w530 padding_top30px"><div class="title-bar"><span class="name">提交工单</span></div></li><li class="enter"><div class="list-item"><p class="color999 size12">用户在提交工单时需要填写的表单内容。您也可以自行定义个性化的表单， <a class="custom-main-font-color" ui-sref="system_setting.form_detail({showType: \'ticket\', id: 0, doType: \'add\'})">立即配置</a></p><p class="color999 size12 padding_top5px">设置表单对应的默认类型后，提交的工单表单将默认带上类型，无需用户填写。</p><div class="padding_top10px"><div ng-repeat="ticketForm in webConfig.ticketForms" class="card"><div class="body"><div class="crow"><span class="form-title">表单名称<span class="required">*</span></span><div class="form-content"><input type="text" class="size14 form-control" ng-model="ticketForm.formName" maxlength="60"></div></div><div class="crow"><span class="form-title">选择工单表单<span class="required">*</span></span><div class="form-content"><select class="form-control" ng-options="option.uid as option.name for option in listTicketForm" ng-model="ticketForm.formUid"></select></div></div><div class="crow"><span class="form-title">表单的默认类型</span><div class="form-content"><select class="form-control" ng-options="option.id as option.name for option in ticketTypeList" ng-model="ticketForm.defaultTicketTypeId"></select></div></div></div><div class="actions del"><i class="fa fa-minus-circle" title="删除表单" ng-style="{color:($index==0 ? \'color:#CCCCCC\': \'color:#FF6666\')}" ng-click="toDeleteOption($index)"></i></div><div class="actions add"><i ng-if="$index===webConfig.ticketForms.length-1 && webConfig.ticketForms.length < 10" class="fa fa-plus-circle" title="添加表单" ng-click="toAddOption($index)"></i></div></div></div></div></li><li class="margin_top40px"><div class="title-bar"></div><div class="form-content"><button class="btn btn-primary w100" ng-click="updateWebConfig()" ng-disabled="disableValue">{{id>0?\'更新\':\'确定\'}}</button> <a class="margin_left45px" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">取消</a></div></li></ul></div>');e.put("source/system-setting/channel-settings/help-center/templates/help-center-channel.html",'<div class="setting-head-common setting-web-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">渠道管理</a> 》帮助中心客户端</div><p style="margin-top:15px">客户端通过多种方式向客户提供在线交谈、工单支持和FAQ自助等全方位的服务。</p><ul class="nav-list clearfix"><li ng-repeat="nav in navListData" ui-sref="{{::nav.self}}" ui-sref-active="active">{{::nav.title}}</li></ul><div ui-view></div></div>');e.put("source/system-setting/channel-settings/web-channel/templates/auto-invite.html",'<div class="web-channel-auto-invite"><p class="flex align-items-center"><span class="padding_right20px"><b>自动邀请</b></span><switch name="enabled" class="small-switch" ng-change="changeSetting()" ng-model="webChannelModel.config.enabledAutoinvite"></switch></p><p class="tip">开启后，客户访问你的网站时，系统可以自动向其发出会话邀请。(注意：企业营业时间期间内有效)</p><form ng-if="webChannelModel.config.enabledAutoinvite"><div class="form-group"><div class="font_b">客户访问网站 <input ng-model="webChannelModel.autoinvite.delayTime" type="text" class="form-control small-inp"> 秒后发出</div></div><div class="form-group"><p class="font_b">当客户拒绝邀请后</p><div class="radio"><label><input type="radio" name="optionsRadios" ng-model="webChannelModel.autoinvite.rejectReopen" ng-value="false">不再自动发出会话邀请</label></div><div class="radio"><label><input type="radio" name="optionsRadios" ng-model="webChannelModel.autoinvite.rejectReopen" ng-value="true"><div>间隔 <input ng-model="webChannelModel.autoinvite.intervalTime" type="text" class="form-control small-inp"> 秒后可再次发出邀请，不超过 <input ng-model="webChannelModel.autoinvite.maxPopup" type="text" class="form-control small-inp"> 次</div></label></div></div><div class="form-group"><label>邀请框位置</label><select class="form-control" ng-model="webChannelModel.autoinvite.position" ng-options="positionItem.value as positionItem.option for positionItem in positionOptions"></select></div><div class="form-group"><label>邀请框标题 <span class="color999 font_n">(20字以内)</span></label><input ng-model="webChannelModel.autoinvite.title" maxlength="20" type="text" class="form-control"></div><div class="form-group"><label>邀请语 <span class="color999 font_n">(40字以内)</span></label><textarea ng-model="webChannelModel.autoinvite.message" maxlength="40" class="form-control" rows="3"></textarea></div><div class="form-group"><label>邀请框展示</label><div class="invite-box"><div class="invite-box-title" ng-style="{\'background-color\': webChannel.formOutward.windowTitleColor}">{{webChannelModel.autoinvite.title}}</div><div class="invite-box-content"><p>{{webChannelModel.autoinvite.message}}</p><div class="button-box"><button ng-style="{\'background-color\': webChannel.formOutward.windowTitleColor,\'color\': \'#fff\'}" type="button" class="btn btn-sm">接受</button> <button type="button" class="btn btn-default btn-sm">忽略</button></div></div></div></div><div class="margin_top40px"><button class="btn btn-primary w100 ng-binding" ng-click="updateAutoInviteConfig()" ng-disabled="disableValue">更新</button></div></form></div>');e.put("source/system-setting/channel-settings/web-channel/templates/web-channel-api.html",'<style>.setting-common-body .title-bar{padding-top:0}.setting-common-body .api-info{margin:13px 0}h5{margin:0}.setting-common-body>ul>li{margin-bottom:30px}</style><div class="setting-common-body padding_left40px"><ul><li><p class="padding_left10px">{{$root.provider.name}}提供的网页在线客服渠道</p><p class="padding_left10px padding_top10px">为满足各种企业客户业务的需要提供了两种接入方式供企业客户选择:</p><p class="padding_left10px padding_top10px" style="font-weight:700">注:两种接入方式，均只支持IE11，Chrome50+，Firefox 50+等现代浏览器</p></li><li><h5 class="padding_left10px padding_bottom30px" style="font-weight:700;padding-top:0">1.JS代码嵌入方式</h5><div class="title-bar">优势：</div><div class="form-content"><p>使用此方式，可以方便快捷的接入在线客服功能</p></div></li><li><div class="title-bar">接入方法：</div><div class="form-content"><p>第一步： 在“基础设置”中定义好客户端入口标签的文字、位置、颜色等、请求表单等，并点击更新。</p><p class="api-info">第二步： 复制接入代码下“方法：JS代码”下方的代码。</p><p class="api-info">第三步：将复制的JS代码嵌入到你的网站html代码的&lt;/body&gt;标签前面，完成此步，即可正常使用。</p></div></li><li><div class="title-bar">注意事项：</div><div class="form-content"><p>(1) 如果你还想把你网站的登录用户信息直接同步到{{$root.provider.name}}，而不是让登录用户每次请求都要填写用户信息表单。</p><p class="api-info">你可以通过在嵌入js代码的前面加上下列代码的方式实现：</p><textarea class="form-control" readonly="readonly" spellcheck="false" style="cursor:default;height:120px;overflow:hidden">\r\nwindow._ewei_auto_fill_webchat_in_data_=\r\n{\r\n"用户字段的key":用户字段的值\r\n… //这里可添加多个字段，多个之间用英文逗号分隔\r\n}\r\n        </textarea><p class="tip padding_bottom30px">此段代码中的“用户字段的key”就是{{$root.provider.name}}用户字段的标识，“用户字段的值”不用说，你应该明白。对应关系见字段名称与字段key对应表。示例：</p><textarea class="form-control" readonly="readonly" spellcheck="false" style="cursor:default;height:140px;overflow:hidden">\r\nwindow._ewei_auto_fill_webchat_in_data_=\r\n{\r\n"email":"abc@infocare.cn",\r\n"name":"abc",\r\n"user_customField_193":"122"\r\n}\r\n        </textarea><p class="tip">提示：请参考在“表单管理”中定义的表单字段必填属性，必填的字段必须赋值，否者请求会失败。</p></div></li><li><h5 class="padding_left10px padding_bottom30px" style="font-weight:700">2.HTML URL外链方式</h5><div class="title-bar">优势：</div><div class="form-content"><p>使用此方式，接入在线客服功能时，更灵活，企业客户既可以在当前页弹层打开会话界面，也可以新开页面。</p></div></li><li><div class="title-bar">接入方法：</div><div class="form-content"><p>接入者在自己网站实现请求按钮交互逻辑，点击请求按钮弹层，弹层中使用&lt;iframe&gt;标签，&lt;iframe&gt;标签的src属性值就是“HTML外链”下方的代码。当然你也可以直接新窗口打开到“HTML外链”中提供的HTML外链地址。</p></div></li><li><div class="title-bar">注意事项：</div><div class="form-content"><p class="padding_bottom30px">(1) 和js代码方式一样，URL外链也支持直接同步在你网站登录的用户信息到{{$root.provider.name}}。传参方式就是直接在URL外链后面传递参数，见下面的URL：</p><textarea class="form-control" readonly="readonly" spellcheck="false" style="cursor:default;height:70px;overflow:hidden;word-break:break-all">\r\nhttps://xxx.ewei.com/client/?provider_id=11&uid=n55weJBbcYrhatyDET7HwbE6DxGzMtKnwsdy&用户字段的key=用户字段的值\r\n        </textarea><p class="tip padding_bottom30px">“用户字段的key”就是{{$root.provider.name}}用户字段的标识，“用户字段的值”不用说，你应该明白。对应关系见字段名称与字段key对应表。示例：</p><textarea class="form-control" readonly="readonly" spellcheck="false" style="cursor:default;height:70px;overflow:hidden;word-break:break-all">\r\nhttps://xxx.ewei.com/client/?provider_id=11&uid=n55weJBbcYrhatyDET7HwbE6DxGzMtKnwsdy&email=abc@infocare.cn&name=abc&user_customField_193=122\r\n        </textarea><p class="tip">提示1：此接入方式也请参考在“表单管理”中定义的表单字段必填属性，必填的字段必须赋值，否者请求会失败。</p><p class="tip padding_bottom30px">提示2：外链的传值，值必须经过url encode编码（如js中调用encodeURIComponent()函数）。</p><p class="api-info">(2)为了方便小屏接入，还将url外链生成了二维码，扫描二维码将直接发起会话请求。你可以将此二维码放到你的任何宣传媒介上。</p></div></li><li><h5 class="padding_left10px padding_bottom30px" style="font-weight:700">字段名称与字段key对应表</h5><div class="title-bar" style="height:10px"></div><div class="form-content"><p class="api-info">因为自定义字段key值不确定，请参照如下字段名称与字段key对应表。</p><div class="table-responsive"><table class="table table-striped table-bordered"><thead><tr><th>字段名</th><th>ID</th></tr></thead><tbody><tr ng-repeat="field in api.formFields"><td>{{field.name}}</td><td>{{field.fieldName}}</td></tr></tbody></table></div><p class="api-info">如果同时选择了Email和手机，请只传其中一个的值。</p></div></li></ul></div>');e.put("source/system-setting/channel-settings/web-channel/templates/web-channel-basic.html",'<div class="web-channel-basic"><ul class="ul"><li class="w530"><div class="title-bar"><span class="name">渠道名称</span> <span class="color999">取一个简短的名称，在工单和报告中显示为工单渠道来源。</span></div></li><li><input type="text" class="form-control w400 border_e4e4e4" maxlength="40" ng-model="webChannel.channel.name"></li><li class="w530 padding_top30px"><div class="title-bar"><span class="name">客户端入口标签</span> <span class="color999">接入的网页上的入口展示样式</span></div></li><li class="enter"><div class="list-item"><p class="padding_bottom10px padding_top10px">选择入口标签样式</p><div class="tags"><div class="tag" ng-click="changeButtonStyle(\'roundness\')" ng-class="{active: webChannel.formOutward.style == \'roundness\'}"><div class="roundness" ng-style="{\'background-color\': webChannel.formOutward.style == \'roundness\'?webChannel.formOutward.buttonBackgroundColor:\'#888f93\'}"><i class="iconfont">&#xe7b7;</i></div><img ng-src="source/images/checked.png"></div><div class="tag" ng-click="changeButtonStyle(\'square\')" ng-class="{active: webChannel.formOutward.style == \'square\'}"><div class="square" ng-style="{\'background-color\': webChannel.formOutward.style == \'square\'?webChannel.formOutward.buttonBackgroundColor:\'#acafb1\'}"><i class="iconfont">&#xe7b7;</i></div><img ng-src="source/images/checked.png"></div><div class="tag" ng-click="changeButtonStyle(\'fillet\')" ng-class="{active: webChannel.formOutward.style == \'fillet\'}"><div class="fillet" ng-style="{\'background-color\': webChannel.formOutward.style == \'fillet\'?webChannel.formOutward.buttonBackgroundColor:\'#acafb1\'}"><i class="iconfont">&#xe7b7;</i><br>在<br>线<br>交<br>谈</div><img ng-src="source/images/checked.png"></div></div><p class="padding_top10px padding_bottom10px" ng-if="webChannel.formOutward.style != \'square\' && webChannel.formOutward.style != \'roundness\'">标签文字</p><div class="text-input" ng-if="webChannel.formOutward.style != \'square\' && webChannel.formOutward.style != \'roundness\'"><input type="text" class="form-control w400 border_e4e4e4" maxlength="20" ng-model="webChannel.formOutward.buttonTitle" placeholder="在线交谈"></div><p class="padding_top20px padding_bottom10px">标签位置</p><div class="text-input"><select class="form-control w400 border_e4e4e4" ng-model="webChannel.formOutward.position" ng-options="positionItem.value as positionItem.option for positionItem in positionOptions"></select></div><p class="padding_top20px padding_bottom10px">选择标签颜色</p><div class="color-list w450"><div class="color" ng-repeat="color in colorList" ng-style="{\'background-color\': color}" ng-click="webChannel.formOutward.buttonBackgroundColor = color"><i class="iconfont" ng-if="color == webChannel.formOutward.buttonBackgroundColor">&#xe710;</i></div><div class="color-customer"><i class="iconfont" ng-if="notInColorList(webChannel.formOutward.buttonBackgroundColor)">&#xe710;</i><spectrum-colorpicker ng-model="webChannel.formOutward.buttonBackgroundColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></div></div></div><div class="right-panel padding_top10px"><div class="chat-icon-pannel"><div class="chat-icon-btn" ng-class="webChannel.formOutward.position"><div ng-class="webChannel.formOutward.style" ng-style="{\'background-color\': webChannel.formOutward.buttonBackgroundColor}"><i class="iconfont">&#xe7b7;</i> <span class="chat-icon-btn-content" ng-if="webChannel.formOutward.style != \'square\' && webChannel.formOutward.style != \'roundness\'">{{webChannel.formOutward.buttonTitle}}</span></div></div></div></div></li><li class="w530 padding_top30px"><div class="title-bar"><span class="name">客户端界面展示</span></div></li><li class="enter"><div class="list-item"><p class="padding_top10px padding_bottom10px">设置界面标题</p><div class="text-input"><input type="text" class="size14 form-control window_title w400" maxlength="60" ng-model="webChannel.formOutward.windowTitle" placeholder="在线交谈"></div><p class="padding_top20px padding_bottom10px">选择界面颜色</p><div class="color-list w450"><div class="color" ng-repeat="color in colorList" ng-style="{\'background-color\': color}" ng-click="webChannel.formOutward.windowTitleColor = color"><i class="iconfont" ng-if="color == webChannel.formOutward.windowTitleColor">&#xe710;</i></div><div class="color-customer"><i class="iconfont" ng-if="notInColorList(webChannel.formOutward.windowTitleColor)">&#xe710;</i><spectrum-colorpicker ng-model="webChannel.formOutward.windowTitleColor" format="\'hex\'" options="colorOptions"></spectrum-colorpicker></div></div><div class="padding_top20px flex"><input name="ad" type="checkbox" id="autoSearchCheckboxAd" ng-model="webChannel.config.enabledAdvertisement"><div class="padding_left15px"><p>启用企业宣传信息</p><p class="color999">开启后，将展开右侧的企业信息栏。</p></div></div><div ng-if="webChannel.config.enabledAdvertisement"><p class="color333 margin_top20px">图片广告</p><p class="color999 margin_bottom30px">图片宽度为175px，高度270px，支持jpg/png/bmp/gif格式</p><div ng-repeat="img in webChannel.imageAdvertisements track by $index" class="form-inline margin_top10px"><img ng-src="{{\'/no_auth_ewei_attachment?contentUrl=\' + img.image.contentUrl}}" height="60px" width="60px" style="border-radius:5px"> <i ng-if="(license ==\'oem\'||licenseService.hasModule(\'oem\'))" ng-click="deleteCustomWebFormAd(img)" class="iconfont removeImg">&#xe63c;</i><div class="form-group padding_left40px"><p class="margin_bottom10px color333">图片超链接</p><input ng-disabled="((license ==\'oem\'||licenseService.hasModule(\'oem\'))?false:true)" ng-model="img.url" type="text" class="form-control w400 border_e4e4e4" placeholder="请输入图片超链接"></div></div><div class="form-inline margin_top10px" style="position:relative" ng-if="(license ==\'oem\'||licenseService.hasModule(\'oem\')) && webChannel.imageAdvertisements && webChannel.imageAdvertisements.length<3"><div class="form-group"><div ewei-webuploader logo-uploading file-queued="fileQueued(file);" upload-progress="uploadProgress(file,percentage)" upload-success="uploadSuccess(file, response)" error="error(handler)" file-type="image" class="pickWx" height="60px" width="60px"><i class="iconfont webuploader">&#xe6c6;</i> <span style="display:none;margin-left:4px"><img style="padding:19px;width:58px" src="source/images/loading_01.gif"></span></div></div><div class="form-group padding_left40px"><p class="margin_bottom10px color333">图片超链接</p><input ng-model="objAd.url" type="text" class="form-control w400" placeholder="请输入图片超链接"></div></div></div></div><div class="right-panel web-chat"><div class="web-chat-window" style="width:{{webChannel.config.enabledAdvertisement? \'558px\' : \'383px\'}};background:{{webChannel.formOutward.windowTitleColor}}"><div class="window-title" title="{{webChannel.formOutward.windowTitle || \'在线交谈\'}}">{{webChannel.formOutward.windowTitle || \'在线交谈\'}}</div><i class="iconfont icon-min">&#xe64d;</i> <i class="iconfont icon-max">&#xe727;</i></div><div style="height:530px;width:383px" class="feedback-form pull-left"><ul class="list-unstyled web-chat-box"><li><div class="line-one"><img class="avatar" ng-src="{{ robotAvatarUrl }}" alt=""> <span class="engineer-name">{{ robotConfig.name || \'机器人小E\' }}</span></div><div class="web-chat-arrow-left">您好，请问有什么可以帮到你吗？</div></li></ul><div style="height:150px;background-color:#fff;border-right:1px solid #efeff4;border-radius:0 0 0 10px"><div class="web-chat-tools"><img style="margin-left:10px" src="/source/images/u73.png" alt=""></div><textarea style="height:70px;border:none;outline:0;width:100%;background-color:#fff;padding:5px 10px;resize:none" placeholder="请在这里输入...按‘回车’键发送，‘Shift + 回车’换行"></textarea><div style="text-align:right;margin-right:10px"><div class="btn btn-default" style="height:25px;padding:3px 19px">发送</div></div></div></div><div ng-show="webChannel.config.enabledAdvertisement" class="pull-left" style="width:175px"><div style="height:270px"><div ewei-carousel interval="5000" ng-if="!reloadCarousel"><div ewei-slide ng-repeat="slide in slides" active="slide.active"><img ng-src="{{slide.image}}" style="margin:auto;height:270px;width:100%"></div></div></div><ul class="list-unstyled" style="padding-left:10px;height:220px;overflow:hidden"><li style="margin-top:30px"><strong>推荐的文章 ：</strong></li><li style="margin-top:10px"><a style="color:{{webChannel.formOutward.windowTitleColor}}" href="javascript:void(0)">欢迎访问帮助中心，这...</a></li><li style="margin-top:10px"><a style="color:{{webChannel.formOutward.windowTitleColor}}" href="javascript:void(0)">什么是邀请码，怎么用？</a></li><li style="margin-top:10px"><a style="color:{{webChannel.formOutward.windowTitleColor}}" href="javascript:void(0)">如何找回密码？</a></li></ul></div></div></li><li class="w530"><div class="title-bar"><span class="name">接入代码</span></div></li><li class="w530"><div class="form-content"><p class="padding_bottom10px padding_top10px">方法：JS代码</p><textarea id="textareaCodeJS" ng-model="webChannel.config.code" class="form-control border_e4e4e4 w450" readonly="readonly" spellcheck="false" style="cursor:default;word-break:break-all"></textarea><p class="color999 padding_top5px w450"><a copy-some-thing="textareaCodeJS" href="javascript:void(0)">复制上面的JS代码</a>，将它们插入到网页的HTML源代码标签&lt;/body&gt;之间。若每一个页面分别插入该代码，则所有页面都呈现网页表单。</p></div></li><li class="padding_top10px w530"><div class="title-bar"><span>HTML外链</span></div><div class="form-content padding_top5px"><div style="position:relative"><textarea id="inputHtmlLink" ng-model="webChannel.config.keyCode" readonly="readonly" type="text" class="form-control border_e4e4e4 w450" style="cursor:default;padding-right:50px;word-break:break-all"></textarea></div><p class="color999 padding_top5px w450"><a copy-some-thing="inputHtmlLink" href="javascript:">复制上面的HTML代码</a>，外链适用于：1）无法在网页上嵌入JS代码，比如微信公众号自定义菜单，2）需要将网页表单锚链在网页中间的文字或图片上，而不是页面侧边或底部的固定浮层。</p></div></li><li class="padding_top10px w530"><div class="title-bar"><span>二维码</span></div><div class="form-content"><img style="width:138px" ng-src="{{imgTwoSrc}}"> <a style="color:#1E8CCE;vertical-align:bottom" href="{{imgTwoSrc}}" target="_blank">下载二维码</a><p class="color999">二维码适用于印刷品或网站，扫描二维码在手机上打开网页表单。</p></div></li><li class="margin_top40px"><div class="title-bar"></div><div class="form-content"><button class="btn btn-primary w100" ng-click="updateBasic()" ng-disabled="disableValue">{{id>0?\'更新\':\'确定\'}}</button> <a class="margin_left45px" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">取消</a></div></li></ul></div>');e.put("source/system-setting/channel-settings/web-channel/templates/web-channel-senior.html",'<div class="web-channel-basic"><ul class="ul"><li class="w530"><div class="title-bar"><span class="name">功能配置</span> <span class="color999">网页组件提供以下功能进行选择。</span></div></li><li class="w530"><table class="table table-bordered text-center"><thead><tr><th class="text-center">菜单类型</th><th class="text-center">自定义菜单名称 <span style="color:red">*</span></th><th class="text-center">开启此功能</th><th class="text-center">作为首页</th></tr></thead><tbody><tr ng-if="web.func !== \'查询工单\'" ng-repeat="(index,web) in webConfig.modules"><td>{{web.func}}</td><td><input type="text" class="form-control" ng-model="web.funcName" maxlength="20"></td><td><input type="checkbox" ng-model="web.opened"></td><td><input type="radio" ng-model="config.homeChecked" ng-value="index"></td></tr></tbody></table></li><li class="w530 padding_top10px"><p class="title-bar"><span class="name padding_right20px">打开WEBSDK时，默认展开菜单</span><switch style="vertical-align:middle" name="enabled" class="small-switch" ng-model="webConfig.autoExpandMenu"></switch></p><p class="color999 padding_top5px size12">启用后，用户打开websdk时，默认展示功能菜单。若只勾选1个功能则默认不展示菜单。</p></li><li class="w530 padding_top10px"><div class="title-bar"><span class="name">在线交谈</span></div></li><li class="enter w530"><div class="list-item"><p class="flex align-items-center"><span class="padding_right20px">在会话前让用户先填写表单，以匹配用户身份</span><switch name="enabled" class="small-switch" ng-model="webConfig.userRequired"></switch></p><p class="color999 padding_top5px size12">启用后，点击在线交谈按钮或页面载入时，将先呈现表单窗口。会话表单一般用来收集用户的基本资料生成账户。 <a class="custom-main-font-color" ui-sref="system_setting.form_detail({showType: \'chat\', id: 0, doType: \'add\'})">还未配置表单，立即配置</a></p><div class="padding_top10px" ng-show="webConfig.userRequired"><select class="form-control w400" ng-options="option.uid as option.name for option in listChatForm" ng-model="webConfig.chatFormUid"></select></div></div></li><li class="w530 padding_top30px"><div class="title-bar"><span class="name">提交工单</span></div></li><li class="enter"><div class="list-item"><p class="color999 size12">用户在提交工单时需要填写的表单内容。您也可以自行定义个性化的表单, <a class="custom-main-font-color" ui-sref="system_setting.form_detail({showType: \'ticket\', id: 0, doType: \'add\'})">立即配置</a></p><div class="padding_top10px"><select class="form-control w400" ng-options="option.uid as option.name for option in listTicketForm" ng-model="webConfig.ticketFormUid"></select></div><div class="padding_top10px"><p class="flex align-items-center"><span class="margin_right15px">辅助搜索功能</span><switch name="enabled" class="small-switch" ng-model="webConfig.autoSearch"></switch></p><p class="color999 padding_top5px size12">启用后，在提交工单之前将先呈现搜索窗口，引导用户通过搜索自行解决问题。</p></div><div class="padding_top10px"><p class="flex align-items-center"><span class="margin_right15px">允许匿名查询工单</span><switch name="enabled" class="small-switch" ng-model="webConfig.anonymousAccess"></switch></p><p class="color999 padding_top5px size12">启用后，在匿名提交工单成功后，会生成一个允许用户匿名查询该工单的二维码，用户可保存此二维码用以跟进工单。</p></div><div class="padding_top10px config-keyword"><p class="flex align-items-center"><span class="margin_right15px">推荐关键词</span><switch name="enabled" class="small-switch" ng-model="webConfig.recommendKeywordsSwitch"></switch></p><p class="color999 padding_top5px size12">添加推荐关键词，用户在发起在线交谈时，可以看到这些常用的咨询词，配合机器人知识库，能够起一定咨询引导<br>作用，从而大大提高机器人解决率。</p><div class="padding_top10px" ng-if="webConfig.recommendKeywordsSwitch"><div class="flex padding_bottom10px"><input type="text" style="border-radius:20px" class="form-control w160 border_e4e4e4 margin_right10px" maxlength="16" ng-model="keyword.text" ng-change="onChangeKeyword()" ng-keypress="$event.which === 13?addKeyword():0;" placeholder="输入关键词"> <button class="btn btn-primary w60" ng-click="addKeyword()" ng-disabled="disableKeywordBtn">添加</button></div><ul class="keyword-list" ui-sortable ng-model="webConfig.recommendKeywords"><li class="keyword margin_right10px margin_bottom10px" ng-repeat="word in webConfig.recommendKeywords track by $index" ng-mouseenter="currKeywordIdx=$index;" ng-mouseleave="currKeywordIdx=-1;"><span>{{word}}</span> <i class="iconfont" ng-show="$index===currKeywordIdx" ng-click="removeKeyword($index)" title="删除关键词">&#xe767;</i></li></ul></div></div></div></li><li class="margin_top40px"><div class="form-content"><button class="btn btn-primary w100" ng-click="updateWebConfig()" ng-disabled="disableValue">{{id>0?\'更新\':\'确定\'}}</button> <a class="margin_left45px" ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">取消</a></div></li></ul></div>');e.put("source/system-setting/channel-settings/web-channel/templates/web-channel.html",'<div class="setting-head-common setting-web-head-common"><div class="nav-title"><a ui-sref="system_setting.detail({uri:\'channel_settings\',settingType:\'multi_channel\'})">渠道管理</a> 》{{webChannelName}}</div><oem-learn-more type="web-channel" description="添加网页表单，发布在任意网页上，收集客户反馈，生成工单。 " learn-more-url="{{::eweiHelpcenterApiUrl}}new/#/article/detail/1165" class="know-more"></oem-learn-more><ul class="nav-list clearfix"><li ng-repeat="nav in navListData" ui-sref="{{::nav.self}}" ui-sref-active="active">{{::nav.title}}</li></ul><div ui-view></div></div>');e.put("source/system-setting/intelligent-robot/directive/alert/alert.html",'<style>.modal.center .modal-dialog{width:484px;height:232px;margin-top:0;margin-bottom:0;top:50%}.modal.center .modal-body{padding:20px}.modal.center .modal-title{font-size:16px;color:#333}.modal.center .close{display:none}.modal-inner-content{font-size:16px;margin:0 0 20px}.btn-make-sure{width:80px;height:30px;font-size:14px;padding-top:3px;padding-bottom:3px}.btn-loading{background-color:#999}.btn-loading img{width:20px;height:20px}.btn-cancel{background:0 0;color:#999}.btn-cancel.active:focus,.btn-cancel:active:focus,.btn-cancel:focus{outline:0;box-shadow:none}</style><div class="modal-inner-content text-center"><input type="text" class="form-control" ng-model="inputText" maxlength="32" placeholder="{{placeholder}}"></div><div class="text-right"><button type="button" style="color:#fff" class="btn btn-make-sure custom-background-color" ng-click="$ok(inputText)" ng-if="!isLoading">确认</button> <button type="button" class="btn btn-make-sure btn-loading" ng-if="isLoading" disabled="disabled"><img src="source/images/home_load/load_white.gif"></button> <button type="button" class="btn btn-make-sure btn-cancel" ng-click="$hide();hideCallback()">取消</button></div>');e.put("source/system-setting/intelligent-robot/directive/catalog-select/catalog-select.html",'<div class="btn-group relative" uib-dropdown is-open="isopen" style="width:100%"><button type="button" class="dropdown-toggle form-control relative" uib-dropdown-toggle ng-disabled="disabled==0" style="text-align:left;height:auto;min-height:32px;word-break:break-all" ng-click="click()"><span style="float:left;word-break:break-all" ng-class="{\'one-line-select-span\':singleLine}" ng-title="{{selectedServiceCatalogNameChain}}" ng-bind="selectedServiceCatalogNameChain"></span> <span class="caret" style="position:absolute;right:8px;top:14px" ng-if="!catSelected"></span></button> <button type="button" class="close" ng-if="catSelected" ng-click="clear()" ng-disabled="disabled==0" style="position:absolute;right:8px;top:5px"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><ul ng-if="isopen" style="padding:0;height:auto;max-height:330px;overflow:auto;width:100%" class="list-group dropdown-menu" role="menu" uib-dropdown-menu><li ng-click="stopPropagation($event)" class="list-group-item"><input style="float:inherit" type="text" class="form-control" ng-model="searchKey" ng-change="searchCatalog(searchKey)" placeholder="输入关键字搜索分类"></li><div ng-if="!searchKey"><li class="list-group-item" ng-if="parentServiceCatalog!=null" ng-class="{\'line_solid\':serviceCatalogs.length>0}"><button class="btn btn-default btn-xs" style="width:60px" ng-click="back($event)"><span class="glyphicon glyphicon-chevron-left"></span> 返回</button></li><li class="list-group-item cursorhand" ng-if="parentServiceCatalog!=null" ng-click="selectParentServiceCatalog()"><span ng-if="parentServiceCatalog.children[0].children && parentServiceCatalog.children[0].children.length > 0" class="folder1"></span> <span ng-if="!parentServiceCatalog.children[0].children || (parentServiceCatalog.children[0].children && parentServiceCatalog.children[0].children.length === 0)" class="folder2"></span> <span ng-bind="parentServiceCatalog.name"></span></li><li class="list-group-item cursorhand" bindonce ng-repeat="serviceCatalog in showServiceCatalogs  track by serviceCatalog.id" ng-click="selectServiceCatalog($index,$event)"><span bo-if="serviceCatalog.children.length>0" class="pull-right glyphicon glyphicon-chevron-right"></span> <span ng-if="parentServiceCatalog==null&&serviceCatalog.children.length>0" class="folder1"></span> <span ng-if="parentServiceCatalog!=null&&serviceCatalog.children.length>0" class="folder2"></span> <span ng-if="!serviceCatalog.children|| (serviceCatalog.children && serviceCatalog.children.length==0)" class="folder3"></span> <span bo-bind="serviceCatalog.name" class="ellipsis" title="{{serviceCatalog.name}}" style="width:80%;vertical-align:top"></span></li></div><ul ng-if="searchKey" class="list-unstyled"><li ng-click="selectSearchCatalog(item)" class="list-group-item cursorhand" ng-repeat="item in searchCatalogList track by item.id" ng-bind-html="item.listName | sanitize | trusted"></li></ul></ul></div>');e.put("source/system-setting/intelligent-robot/directive/chat-portal/chat-portal.html",'<div class="robot-test" ng-if="show"><div class="header custom-background-color"><span>智能机器人问答测试</span> <a class="right" ng-click="hide()">—</a></div><div class="chat-content" keep-scroll><div class="chat-log" ng-repeat="item in list" ng-class="{\'log-type-engineer\': item.isRobot, \'log-type-customer\': !item.isRobot}" scroll-item="true"><div class="chat-msg-text"><div class="user-info"><div class="avatar"><image-show imageurl="{{item.photo && item.photo.contentUrl}}" defaultimageurl="{{(item.isRobot ? \'source/images/face/robot.jpg\': \'source/images/face/header_60.png\')}}" imagestyle="head.60.60" imageclass="w32 h32 circled"></image-show></div><span class="name" ng-if="item.isRobot">{{item.name}}</span></div><div ng-if="item.type === \'text\'" class="chat-message chat-message-text" ng-class="{\'custom-background-color\': !item.isRobot}"><span ng-bind-html="item.replyMessage"></span><span ng-if="item.turnArticleReply" ng-bind-html="item.turnArticleReply"></span></div><div ng-if="item.type === \'articles\'" class="chat-message chat-message-articles"><div class="turn-reply with-articles" ng-if="item.robot && item.turnReply" ng-bind-html="item.turnReply"></div><span class="before-content" ng-bind-html="item.beforeContent"></span><ul class="list-article"><li ng-repeat="article in item.articleList"><p><a class="title">{{article.title}}</a></p><p class="summary">{{article.summary}}</p></li></ul><span class="after-content" v-bind-html="item.afterContent"></span></div><div ng-if="item.type === \'knowledge\'" class="chat-message chat-message-articles"><span class="before-content" ng-bind-html="item.replyMessage"></span><ul class="list-knowledges"><li ng-repeat="knowledge in item.knowledgeList"><p><a class="custom-main-font-color" ng-click="send(knowledge)">{{knowledge.title}}</a></p></li></ul><div v-if="item.turnKnowledgeReply" style="border-top:1px solid #eee;padding:5px 0" ng-bind-html="transTag(item.turnKnowledgeReply, \'staff_service\')" ng-click="onReply($event)"></div></div></div></div></div><div class="footer"><span class="color999 placeholder" ng-if="!user.replyMessage">请发送问题，测试机器人应答能力</span><pre paste-for-text="true" contenteditable="true" class="textarea_area" ng-model="user.replyMessage" ng-keypress="enterEvent($event)"></pre><a class="btn btn-primary w70" ng-click="send()">发送</a></div></div>');e.put("source/system-setting/intelligent-robot/directive/drop-down/drop-down.html",'<div class="btn-group relative" style="width:100%;font-size:14px"><button type="button" class="dropdown-toggle form-control relative text-left" style="width:100%;height:auto;min-height:32px;word-break:break-all" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span ng-if="selected && selected.title" title="{{selected.title}}">{{selected.title}}</span> <span ng-if="!selected || !selected.title" class="color999">搜索问题</span> <span class="caret" style="position:absolute;right:8px;top:14px"></span></button><ul class="dropdown-menu list-group padding0 of_y1 h400" style="width:100%;position:absolute"><li class="list-group-item" ng-click="$event.stopPropagation()"><input type="text" class="form-control" ng-keyup="search($event);" placeholder="输入关键字搜索"></li><li class="list-group-item cursorhand" ng-click="choose(option);" ng-repeat="option in customOptions"><span ng-bind="option.title"></span></li></ul></div>');e.put("source/system-setting/intelligent-robot/directive/ewei-tree/ewei-tree.html",'<ul class="ewei-tree"><li ng-click="toggle(data)" ng-mouseover="data.showEdit=true;" ng-mouseout="data.showEdit=false;"><p class="tree-title" title="{{data.name}}" ng-click="select(data)" ng-class="{active: selectid == data.id}"><i class="iconfont" ng-show="!data.isopen && data.children && data.children.length > 0">&#xe7c6;</i> <i class="iconfont" ng-show="data.isopen && data.children && data.children.length > 0">&#xe7ba;</i> <i class="iconfont" ng-show="!data.children || (data.children && data.children.length === 0)">&#xe7ab;</i> <span>{{data.name}}</span></p><div class="edit" ng-show="data.showEdit" ng-mouseover="data.showToggle=true;" ng-mouseout="data.showToggle=false;"><i class="iconfont">&#xe7b9;</i><ul ng-show="data.showToggle" class="edit-drop"><li ng-click="modify($event, data, \'update\')" ng-if="data.id != 0">修改名称</li><li ng-click="modify($event, data, \'add\')" ng-if="data.level < 5">添加子分类</li><li ng-click="move($event, data, \'up\')" ng-if="data.id != 0 && index != 0">上移</li><li ng-click="move($event, data, \'down\')" ng-if="data.id != 0 && index != total - 1">下移</li><li ng-click="delete($event, data)" ng-if="data.id != 0">删除</li></ul></div></li><li ng-show="data.isopen && data.children && data.children.length > 0" ng-repeat="children in data.children" ng-transclude><ewei-tree data="children" index="$index" total="data.children.length" parent="data" selectid="selectid"></ewei-tree></li></ul>')}]);