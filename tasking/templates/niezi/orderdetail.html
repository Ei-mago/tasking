{% extends 'base.html' %}
{% block content %}



<div ui-view="" class="main-view am-fade ng-scope" style="">
    <div class="ticket-detail-panel ng-scope">
        <header class="title"><!-- ngIf: webchat==null -->
            <nav class="btn-group btn-groupB ng-scope ng-isolate-scope" ng-if="webchat==null" group="ticket.requester.userGroup" user="ticket.requester" ticket="ticket" webchat="webchat" active="ticket">
                <span ng-if="(ticket!=null||active=='ticket')&amp;&amp;webchat==null" class="btn btn-default ticket ng-scope active" ng-class="{'custom-main-font-color': active!='ticket', 'active':active=='ticket'}" ng-click="ticket_click();"><!-- ngIf: ticket==null||ticket.id==null -->
                <!-- ngIf: ticket!=null&&ticket.id!=null --><span style="-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text" ng-if="ticket!=null&amp;&amp;ticket.id!=null" ng-class="{'custom-main-font-color': active!='ticket', 'active':active=='ticket'}" class="ng-binding ng-scope active"><i class="iconfont tab-icon"></i> 工单号:2

                        <sapn class="status ticket-sla open">Open</sapn>


                </span><!-- end ngIf: ticket!=null&&ticket.id!=null --></span>
                <!-- end ngIf: (ticket!=null||active=='ticket')&&webchat==null --><!-- ngIf: webchat!=null -->
                <!-- ngIf: webchat!=null --></nav><!-- end ngIf: webchat==null --><!-- ngIf: webchat!=null --><span class="pull-right app-button-wrapper"><div class="btn-group ng-isolate-scope" ticket="ticket" webchat="webchat" on-merge="merger()" on-delete="delete()" on-destroy="destroy()" on-convert-to-article="helpCenter()" on-convert-to-ticket-template="ticketTemplate()" on-print="print()" on-export-to-word="printWord(ticket.id)" on-export-to-pdf="printPDF(ticket.id)" on-recover-isolation="isolation()" on-cancel-delete="cancelDelete(ticket)"><button type="button" class="btn btn-default ng-binding" ng-click="doAction(mainButton.action)">工单操作</button> <!-- ngIf: validButtons.length > 0 --><button ng-disabled="webchat!=null" ng-if="validButtons.length > 0" type="button" class="btn btn-default dropdown-toggle ng-scope" style="height:30px;border-radius:0 4px 4px 0" data-toggle="dropdown"><span class="caret"></span> <span class="sr-only">切换下拉</span></button>
                <!-- end ngIf: validButtons.length > 0 --><!-- ngIf: validButtons.length > 0 --><ul class="dropdown-menu dropdown-menu-right ng-scope" role="menu" ng-if="validButtons.length > 0"><!-- ngRepeat: button in validButtons -->

                    <li ng-repeat="button in validButtons" class="ng-scope" style="">
                    <a ng-click="doAction(button.action)" class="ng-binding" href="/opreate/2/9">处理完毕</a></li>
                    <!-- end ngRepeat: button in validButtons --><li ng-repeat="button in validButtons" class="ng-scope"><a ng-click="doAction(button.action)" class="ng-binding" href="/opreate/2/4">延时</a></li>
                    <!-- end ngRepeat: button in validButtons --><li ng-repeat="button in validButtons" class="ng-scope"><a ng-click="doAction(button.action)" class="ng-binding" href="/opreate/2/5">超时</a></li>
                    <!-- end ngRepeat: button in validButtons -->

                    <!-- end ngRepeat: button in validButtons -->
                     <li ng-repeat="button in validButtons" class="ng-scope"><a ng-click="doAction(button.action)" class="ng-binding">删除工单</a>
                    </li>

                    <!-- end ngRepeat: button in validButtons --></ul>

                <!-- end ngIf: validButtons.length > 0 --></div></span>
            <!-- ngIf: ticket.status != 'suspended' && ticket.status != 'deleted' && !ticket.deleted -->
            <!-- end ngIf: ticket.status != 'suspended' && ticket.status != 'deleted' && !ticket.deleted -->
            <!-- ngIf: showNextTicketBtn --> <!-- ngIf: showpreTicketBtn -->
        </header>

                        <section class="body" ng-class="{'with-custom-form': showCustomForm}">
            <div class="panel-form">
                <div class="ticket-form ng-isolate-scope" ticket="ticket" custom-form-fields="customFormFields" all-received-msg="allReceivedMsg" ticket-logs="ticketLogs">
                <form action="/change_info/2" method="post">
                <div style="display: none">
                    <input type="hidden" name="csrfmiddlewaretoken" value="SZI2YQWzR1A7EMO2FXv6cx1Yjt1d2X7CR4MnBnamQL3TkZCoenhpv07ySg0rZHf8">
                </div>
                    <fieldset ng-disabled="ticket.status=='closed'||ticket.deleted||ticket.status=='deleted'||ticket.status=='suspended'||!editableTicket">
                        <div ng-class="ticket_bottom" class="ticket_bottom_0"><!-- ngIf: !hideRequester -->
                            <div class="form-group ng-scope" ng-if="!hideRequester"><label>客户 <span class="required">*</span></label>
                                <!-- ngIf: currentUser.id != ticket.requester.id && requesterToMeShow &&!ticket.id -->
                                <fieldset>
                                    <user-select selecteduser="ticket.requester" ticketid="ticket.id" usertype="'all'" by-access-scope="false" class="ng-isolate-scope">
                                        <style>#user-select ul {
                                            min-width: 230px;
                                            max-height: 466px;
                                            overflow: auto;
                                            padding: 0
                                        }

                                        .user-select-wrap {
                                            min-height: 26px;
                                            border-bottom: 1px solid #efefef;
                                            padding: 2px 1em;
                                            cursor: default
                                        }

                                        .active > .user-select-wrap, .user-select-wrap:hover {
                                            background-color: #efefef
                                        }

                                        .user-select-wrap > p {
                                            height: 20px;
                                            line-height: 20px;
                                            white-space: nowrap
                                        }

                                        #user-select.with-create ul li:first-child .user-select-wrap {
                                            height: 26px;
                                            color: #fff;
                                            background-color: #009dd9;
                                            padding: 2px 1em;
                                            cursor: pointer
                                        }

                                        #user-select > .input-group {
                                            width: 100%
                                        }

                                        #user-select .input-group-addon:hover {
                                            cursor: pointer;
                                            background-color: #999
                                        }</style>
                                        <span id="user-select" ng-class="{'with-create': withCreate}" class="with-create"><span ng-class="{'input-group': canClear &amp;&amp; selecteduser}"><div style="position: relative;"><input type="text" ng-disabled="chatisclose || chatbtngroupstatus == 'chat_transfer'" ng-focus="onFocus();" ng-blur="onBlur();" class="form-control ng-pristine ng-untouched ng-valid" ng-model="username" placeholder="" uib-typeahead="user.name for user in loadUsers($viewValue)" typeahead-scroll-load="loadMore()" typeahead-on-select="onSelect($item, $model, $label, $event)" typeahead-editable="true" typeahead-focus-on-select="false" scroll-load-distance="20" typeahead-min-length="0" typeahead-wait-ms="500" typeahead-template-url="/source/scripts/directives/user-select/match-template.html" typeahead-show-hint="true" aria-autocomplete="list" aria-expanded="false" aria-owns="typeahead-10647-2740" tabindex="-1" style="position: absolute; top: 0px; left: 0px; border-color: transparent; box-shadow: none; opacity: 1; background: none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255); color: rgb(153, 153, 153);">
                                            <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-not-empty" typeahead-editable="false" typeahead-focus-on-select="false" typeahead-wait-ms="500" typeahead-template-url="/source/scripts/directives/user-select/match-template.html" typeahead-show-hint="false" aria-autocomplete="list" aria-expanded="false" aria-owns="typeahead-10647-2740" style="position: relative; vertical-align: top; background-color: transparent; background:gainsboro" value="hlwelre" readonly="">
                                            <ul class="dropdown-menu ng-isolate-scope ng-hide" ng-show="isOpen() &amp;&amp; !moveInProgress" ng-style="{top: position().top+'px', left: position().left+'px'}" role="listbox" aria-hidden="true" uib-typeahead-popup="" id="typeahead-10647-2740" matches="matches" active="activeIdx" select="select(activeIdx, evt)" move-in-progress="moveInProgress" query="query" position="position" assign-is-open="assignIsOpen(isOpen)" debounce="debounceUpdate" template-url="/source/scripts/directives/user-select/match-template.html" style="">
    <!-- ngRepeat: match in matches track by $index -->
</ul></div> <!-- ngIf: canClear && selecteduser --></span></span></user-select>
                                </fieldset>
                            </div><!-- end ngIf: !hideRequester --><!-- ngIf: !hideHandle -->

 <div class="form-group"><label class="ng-binding">处理人
                                <!-- ngIf: priorityFiled.required --></label>
                                <fieldset>
                                    <select class="form-control ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty"
                                            ng-disabled="disabled==0" ng-model="selectedpriority"
                                            ng-options="priority.value as priority.name for priority in priorities"
                                            ng-change="change();" name="replay_user">


                                    <option label="Mr.wang(2573526803@qq.com)" value="Mr.wang(2573526803@qq.com)">Mr.wang2573526803@qq.com</option>

                                    <option label="niezi(347614075@qq.com)" value="niezi(347614075@qq.com)">niezi347614075@qq.com</option>

                                    <option label="naihe(1320697784@qq.com)" value="naihe(1320697784@qq.com)" selected="selected">naihe1320697784@qq.com</option>

                                    <option label="ceshi(5308@qq.com)" value="ceshi(5308@qq.com)">ceshi5308@qq.com</option>


                                </select></fieldset>
                            </div>










                            <!-- end ngIf: !hideHandle -->

























































































































































                               <div class="form-group"><label class="ng-binding">问题类型
                                <!-- ngIf: priorityFiled.required --></label>
                                <fieldset>
                                    <select
                                        class="form-control ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty"
                                        ng-disabled="disabled==0" ng-model="selectedpriority"
                                        ng-options="priority.value as priority.name for priority in priorities"
                                        ng-change="change();"  name="question">

                                    {% for item in questions %}
                                    <option  value="{{ item.name }}" {% if item.name ==order.question %} selected ="selected"{% endif %}>{{ item.name }}</option>
                                    {% endfor %}
                                </select></fieldset>
                            </div>




















































































                            <div class="form-group"><label class="ng-binding">优先级
                                <!-- ngIf: priorityFiled.required --></label>
                                <fieldset>
                                    <select class="form-control ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty" ng-disabled="disabled==0" ng-model="selectedpriority" ng-options="priority.value as priority.name for priority in priorities" ng-change="change();" selectedpriority="ticket.priority" name="select_priority">

                                            <option value="P1">P1</option>


                                            <option value="P2">P2</option>


                                            <option value="P3">P3</option>


                                            <option value="P4">P4</option>



                                </select></fieldset>
                            </div>
                            <div class="form-group"><label class="ng-binding">要求完成时间
                                <!-- ngIf: planSolvedAtField.required --></label>
                                <fieldset ng-disabled="ticket.status=='solved' || !!ticket.ticketMetric.sla" disabled="disabled">
                                    <div class="input-group input-size-middle date-input ng-isolate-scope" disabled="disabled" selected-plan-solved-at="ticket.ticketMetric.planSolvedAt">
                                        <input type="text" datetime-picker="yyyy/MM/dd HH:mm:ss" button-bar="datetimepickerConfig.buttonBar" datepicker-options="datetimepickerConfig.datepickerOptions" timepicker-options="datetimepickerConfig.timepickerOptions" datepicker-append-to-body="true" is-open="isOpen" ng-model="selectedDate" ng-click="open($event)" class="form-control ng-pristine ng-untouched ng-isolate-scope ng-not-empty ng-invalid ng-invalid-datetime" ng-disabled="disabled" when-closed="updateValue();" value="2019-08-24 01:00:00" width="150px">
                                        </div>
                                </fieldset>
                            </div>













































                            <div>
                                <ticket-custome-field ticket="ticket" new-ticket-form="newTicketForm" external-url-authorize="externalUrlAuthorize" custom-form-fields="customFormFields" class="ng-isolate-scope">
                                    <!-- ngRepeat: ticketCustomField in ticket.ticketCustomFields track by $index --></ticket-custome-field>
                            </div>
                        </div>
                    </fieldset>
                    <button type="submit">提交</button>

                </form>

                </div>
            </div><!-- ngIf: !!showCustomForm && customFormFields && customFormFields.length > 0 -->
            <!-- ngIf: customFormFields && customFormFields.length > 0 -->
            <div class="panel-detail ng-isolate-scope" infinite-scroll="scrollLoadEvent();" response-ticket-detail="">
                <section class="js-ticket-title" style="background:#fff">
                    <div class="flex" style="position:relative">
                        <div class="chat-plug-promet-group" style="position:absolute;top:0;left:0;width:100%">
                            <!-- ngIf: plugPrometStatus == 'download' -->
                            <!-- ngIf: plugPrometStatus == 'download-done' --></div>
                        <div style="margin-left:10px;line-height:59px"><i class="fa fa-star-o" style="font-size:1.3em;cursor:pointer" ng-class="{'fa-star-o':!ticket.isTarget,'fa-star color_yellow':ticket.isTarget}" ng-click="star_target(ticket)">
                            <ewei-start-show ticketsubscriptions="ticketsubscriptions" item="ticket" class="ng-isolate-scope"></ewei-start-show>
                        </i></div>
                        <div class="box_flex_1">
                            <div class="padding10px" bindonce="ticket"><strong>
                                <span style="color: black ">这是由naihe创建的工单</span>
                            </strong><span class="text_overflow_hide" style="white-space:initial;max-height:20px;color:#9ea7b7"><span ng-bind="ticket.createdAt" class="ng-binding">2019-08-24 08:28:11.707019</span> | <span ng-bind="ticket.requester.name" class="ng-binding">naihe</span> <span ng-hide="!ticket.requester.mobilePhone &amp;&amp; !ticket.requester.contactMobilePhone &amp;&amp; !ticket.requester.email &amp;&amp; !ticket.requester.contactEmail" class="">&lt; </span>
                                <!-- ngIf: ticket.requester.mobilePhone || ticket.requester.contactMobilePhone -->
                                <!-- ngIf: ticket.requester.email || ticket.requester.contactEmail --><span ng-if="ticket.requester.email || ticket.requester.contactEmail" ng-class="{'custom-main-font-color': ticket.requester.email}" class="ng-scope custom-main-font-color"><i class="iconfont"></i>&nbsp;<span ng-bind="ticket.requester.email?ticket.requester.email:ticket.requester.contactEmail" class="ng-binding">1320697784@qq.com</span> </span>
                                <!-- end ngIf: ticket.requester.email || ticket.requester.contactEmail --><span ng-hide="!ticket.requester.mobilePhone &amp;&amp; !ticket.requester.contactMobilePhone &amp;&amp; !ticket.requester.email &amp;&amp; !ticket.requester.contactEmail" class="">&gt; </span>
                                <!-- ngIf: ticket.status!='closed'&&!ticket.deleted&&ticket.status!='deleted'&&ticket.status!='suspended' --><span ng-if="ticket.status!='closed'&amp;&amp;!ticket.deleted&amp;&amp;ticket.status!='deleted'&amp;&amp;ticket.status!='suspended'" class="ng-scope"></span>
                                <!-- end ngIf: ticket.status!='closed'&&!ticket.deleted&&ticket.status!='deleted'&&ticket.status!='suspended' -->
                            </span></div>
                        </div>
                    </div><!-- ngIf: ticket.status=='pending' && !ticket.deleted && latestTicketSla -->
                    <!-- ngIf: ticket.status=='solved' && !ticket.deleted -->
                    <!-- ngIf: ticket.status=='solved' && !ticket.deleted -->
                    <!-- ngIf: ticket.status=='closed' && !ticket.deleted -->
                    <!-- ngIf: ticket.status=='deleted' || ticket.deleted -->
                    <!-- ngIf: ticket.status=='suspended' && !ticket.deleted -->
                    <div class="padding10px margin_right5px" ng-class="{'hide':!showReply}" style="padding-top:0" ng-show="ticket.status!='closed'&amp;&amp;!ticket.deleted &amp;&amp; ticket.status!='deleted' &amp;&amp; ticket.status!='solved' &amp;&amp; ticket.status!='suspended'">
                        <ticket-reply-box-template>
                            <form name="replyTicketForm" action="/replay/2" method="post" class="css-form ng-valid ng-dirty ng-valid-parse ng-valid-maxlength" novalidate="">
                                <div style="display: none;">
                                    <input type="hidden" name="csfrmiddlewaretoken" value="6yywxp7jngRm3rIrif2PwGOp096oUEeT5DCRaWl6m0k8JEwNRFO8P9UZzW5CRomp">

                                </div>
                                <input type="text" name="replay" style="width: 200px;height: 100px">
                                <div class="clearfix" style="margin-top:10px">
                                    <div class="pull-left">
                                        <!-- ngIf: ticket.status === 'new' || ticket.status === 'assigned' || ticket.status === 'pending' || ticket.status === 'open' -->
                                        <div class="ticket-reply-button btn-group dropup ng-scope ng-isolate-scope dropdown" uib-dropdown="" is-open="status.isopen" title="" ng-mouseenter="setTitle(disabled)" ng-if="ticket.status === 'new' || ticket.status === 'assigned' || ticket.status === 'pending' || ticket.status === 'open'" ticket="ticket" comment="newComment" open="open" reply="reply(_status,null,null,onlyComment)" disabled="disabled" uploading="uploading" attachments="newComment.attachments" is-saving="isSavingComment"><!-- ngIf: isLoding -->
                                            <!-- ngIf: buttonStatus.showReply && !isLoding -->
                                            <button type="submit" ng-if="buttonStatus.showReply &amp;&amp; !isLoding" class="btn btn-confirm gray-btn ng-scope" ng-disabled="checkShouldDisabled()" ng-click="submit('',true)" style="min-width:125px;border-bottom-right-radius:0;border-top-right-radius:0">
                                                <!-- ngIf: isSaving --> <!-- ngIf: !isSaving --><span ng-if="!isSaving" class="ng-scope">回复</span>
                                                <!-- end ngIf: !isSaving --></button>
                                            <!-- end ngIf: buttonStatus.showReply && !isLoding -->
                                            <!-- ngIf: buttonStatus.showRobTicket && !isLoding -->
                                            <!-- ngIf: buttonStatus.showGetTicket && !isLoding -->
                                            <!-- ngIf: buttonStatus.showCancelPendingTicket && !isLoding -->






                                            <ul class="dropdown-menu targetul" role="menu" uib-dropdown-menu="" ng-show="buttonStatus.showGetSlovedTicket || buttonStatus.showBackPrevious || buttonStatus.showNextPoint || buttonStatus.showSlovedTicket || buttonStatus.showPendingTicket || buttonStatus.showGetPendingTicket || buttonStatus.showRobSlovedTicket || buttonStatus.showRobPendingTicket || buttonStatus.showOnlyReply">
                                                <!-- ngIf: buttonStatus.showReplyAsSolution -->
                                                <li class="li ng-scope" ng-if="buttonStatus.showReplyAsSolution"><a ng-click="submit('asSolution')">处理完毕</a></li>
                                                <!-- end ngIf: buttonStatus.showReplyAsSolution -->
                                                <!-- ngIf: buttonStatus.showSlovedTicket -->
                                                <li class="li ng-scope" ng-if="buttonStatus.showSlovedTicket"><a ng-click="submit('solved')">超时</a></li>
                                                <!-- end ngIf: buttonStatus.showSlovedTicket -->
                                                <!-- ngIf: buttonStatus.showPendingTicket -->
                                                <li class="li ng-scope" ng-if="buttonStatus.showPendingTicket"><a ng-click="submit('pending')">延期</a></li>
                                                <!-- end ngIf: buttonStatus.showPendingTicket -->
                                                <!-- ngIf: buttonStatus.showBackPrevious -->
                                                <!-- ngIf: buttonStatus.showNextPoint -->
                                                <!-- ngIf: buttonStatus.showGetSlovedTicket -->
                                                <!-- ngIf: buttonStatus.showGetPendingTicket -->
                                                <!-- ngIf: buttonStatus.showRobSlovedTicket -->
                                                <!-- ngIf: buttonStatus.showRobPendingTicket -->
                                                <!-- ngIf: buttonStatus.showOnlyReply --></ul>
                                        </div>
                                        <!-- end ngIf: ticket.status === 'new' || ticket.status === 'assigned' || ticket.status === 'pending' || ticket.status === 'open' -->
                                    </div>
                                    <div class="pull-right">
                                        <ul class="ticket_attachment_progressinfo reply_ticket">
                                            <!-- ngRepeat: file in cacheFiles --></ul>
                                    </div>
                                </div>
                            </form>
                        </ticket-reply-box-template>
                    </div>
                </section>
                <ticket-log ticketid="5968984" ticketno="1908002" ticket-logs="ticketLogs" all-received-msg="allReceivedMsg" class="js-ticket-content ng-isolate-scope">
                    <div infinite-scroll="ticketLog.loadMoreTicketContext();" class="ticket-log-wrapper ng-isolate-scope">
                        <div class="text-center absolute nav-ticket-log" style="z-index:1;left:45%;margin-top:-3px">
                            <div class="btn-group btn-group-xs">
                                <a class="btn btn-default" ng-class="{'active':ticketLog.filterType==='all'}" ng-click="ticketLog.loadTicketContext('all');">全部回复</a>








                            </div>
                        </div>





                        <!-- ngIf: ticketLog.filterType === 'all' || ticketLog.filterType === 'comments' -->







                        <div id="ticketLog" class="ticket-replay ng-scope" ng-if="ticketLog.filterType === 'all' || ticketLog.filterType === 'comments'">
                            <ul class="list-unstyled margin20px ng-isolate-scope" ticket-image-view="">
                                <!-- ngRepeat: log in ticketLog.ticketLogs -->
                                <li ng-repeat="log in ticketLog.ticketLogs" class="chat-item ng-scope" style="">
                                    <!-- ngIf: log.operations -->
                                    <!-- ngIf: !log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!='')) -->
                                    <div ng-if="!log.operations &amp;&amp; !log.ticketComment.chat.id &amp;&amp; ((log.ticketComment.content&amp;&amp;log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&amp;&amp;log.ticketComment.extra!=''))" class="ng-scope">
                                        <div class="media" style="overflow:visible">
                                            <div class="media-left media-top" style="padding-right:4px"><img class="w40 h40 img-circle" ng-click="editable=='true'?toEdit():''" ng-src="source/images/face/header_40.png" title="" imageurl="" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w40 h40 img-circle" editable="false" src="source/images/face/header_40.png"></div>
                                            <div class="media-body media-top" style="overflow:visible">
                                                <div class="media-user-info" style="color:#9ea7b7">
                                                    <!-- ngIf: !log.ticketComment.chat.id --><span ng-if="!log.ticketComment.chat.id" class="padding_right10px ng-binding ng-scope" ng-bind="::log.user.name" style="color:#333c3e;font-size:13px">NaiHe</span>
                                                    <!-- end ngIf: !log.ticketComment.chat.id -->
                                                    <!-- ngIf: log.ticketComment.chat.id --> <span ng-bind="log.createdAt | dateFilter_style1" class="padding_right10px ng-binding">2019-08-24 08:31:39.685476</span>
                                                    <!-- ngIf: log.ticketComment.equipment -->
                                                    <!-- ngIf: log.ticketComment.address --></div>
                                                <div class="ticket-log-content">
                                                    <ticket-comment-detail user="::log.user" comment="log.ticketComment" ng-class="::log.user.type" class="ng-isolate-scope customer"><span class="text not-engineer" ng-class="{'not-public':!vm.ticketComment.open,'not-engineer':vm.ticketUser.type!=='engineer','single':(vm.ticketComment.attachments.length===1&amp;&amp;!vm.ticketComment.content)||vm.ticketComment.questionId || vm.ticketComment.type==5}"><!-- ngIf: !vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7 --><p ng-if="!vm.ticketComment.richTextContent&amp;&amp;!vm.ticketComment.questionId &amp;&amp; vm.ticketComment.type!=8 &amp;&amp; vm.ticketComment.type!=5 &amp;&amp; vm.ticketComment.type!=7" ng-bind-html="::vm.ticketComment.content|linkSetMark|wechatEmoji|sanitize|trusted" class="ng-binding ng-scope">None</p>
                                                        <!-- end ngIf: !vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7 -->
                                                        <!-- ngIf: vm.ticketComment.richTextContent.richText -->
                                                        <!-- ngIf: ::vm.ticketComment.questionId -->
                                                        <!-- ngRepeat: attachment in ::vm.ticketComment.attachments | orderBy:'+id' -->
                                                        <!-- ngRepeat: attachment in ::vm.ticketComment.attachments | orderBy:'-id' -->
                                                        <!-- ngIf: vm.ticketComment.type==8 -->
                                                        <!-- ngIf: vm.ticketComment.type==7 -->
                                                        <!-- ngIf: vm.ticketComment.isSolution --> </span>
                                                        <!-- ngIf: vm.ticketUser.type === 'engineer'&&vm.ticketComment.id -->
                                                        <!-- ngIf: vm.ticketComment.id --><span has-module="super_board" class="open-toggle ng-scope ng-isolate-scope" ng-if="vm.ticketComment.id" title="添加到收藏夹" style="vertical-align:baseline" add-to-favorite="vm.ticketComment"><i class="iconfont" style="font-size:21px"></i> </span>
                                                        <!-- end ngIf: vm.ticketComment.id -->
                                                        <!-- ngIf: vm.ticketComment.sendStatus=='send' -->
                                                        <!-- ngIf: vm.ticketComment.sendStatus=='error' -->
                                                    </ticket-comment-detail>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end ngIf: !log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!='')) -->
                                    <!-- ngIf: ::log.ticketComment!=null&&log.ticketComment.chat.id --></li>
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                            </ul>
                            <!-- ngIf: ticketLog.showNextPageButton&&!ticketLog.isLoadingTicketContext -->
                            <!-- ngIf: ticketLog.isLoadingTicketContext -->
                        </div>

                        <div id="ticketLog" class="ticket-replay ng-scope" ng-if="ticketLog.filterType === 'all' || ticketLog.filterType === 'comments'">
                            <ul class="list-unstyled margin20px ng-isolate-scope" ticket-image-view="">
                                <!-- ngRepeat: log in ticketLog.ticketLogs -->
                                <li ng-repeat="log in ticketLog.ticketLogs" class="chat-item ng-scope" style="">
                                    <!-- ngIf: log.operations -->
                                    <!-- ngIf: !log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!='')) -->
                                    <div ng-if="!log.operations &amp;&amp; !log.ticketComment.chat.id &amp;&amp; ((log.ticketComment.content&amp;&amp;log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&amp;&amp;log.ticketComment.extra!=''))" class="ng-scope">
                                        <div class="media" style="overflow:visible">
                                            <div class="media-left media-top" style="padding-right:4px"><img class="w40 h40 img-circle" ng-click="editable=='true'?toEdit():''" ng-src="source/images/face/header_40.png" title="" imageurl="" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w40 h40 img-circle" editable="false" src="source/images/face/header_40.png"></div>
                                            <div class="media-body media-top" style="overflow:visible">
                                                <div class="media-user-info" style="color:#9ea7b7">
                                                    <!-- ngIf: !log.ticketComment.chat.id --><span ng-if="!log.ticketComment.chat.id" class="padding_right10px ng-binding ng-scope" ng-bind="::log.user.name" style="color:#333c3e;font-size:13px">NaiHe</span>
                                                    <!-- end ngIf: !log.ticketComment.chat.id -->
                                                    <!-- ngIf: log.ticketComment.chat.id --> <span ng-bind="log.createdAt | dateFilter_style1" class="padding_right10px ng-binding">2019-08-24 08:28:11.896542</span>
                                                    <!-- ngIf: log.ticketComment.equipment -->
                                                    <!-- ngIf: log.ticketComment.address --></div>
                                                <div class="ticket-log-content">
                                                    <ticket-comment-detail user="::log.user" comment="log.ticketComment" ng-class="::log.user.type" class="ng-isolate-scope customer"><span class="text not-engineer" ng-class="{'not-public':!vm.ticketComment.open,'not-engineer':vm.ticketUser.type!=='engineer','single':(vm.ticketComment.attachments.length===1&amp;&amp;!vm.ticketComment.content)||vm.ticketComment.questionId || vm.ticketComment.type==5}"><!-- ngIf: !vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7 --><p ng-if="!vm.ticketComment.richTextContent&amp;&amp;!vm.ticketComment.questionId &amp;&amp; vm.ticketComment.type!=8 &amp;&amp; vm.ticketComment.type!=5 &amp;&amp; vm.ticketComment.type!=7" ng-bind-html="::vm.ticketComment.content|linkSetMark|wechatEmoji|sanitize|trusted" class="ng-binding ng-scope">None</p>
                                                        <!-- end ngIf: !vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7 -->
                                                        <!-- ngIf: vm.ticketComment.richTextContent.richText -->
                                                        <!-- ngIf: ::vm.ticketComment.questionId -->
                                                        <!-- ngRepeat: attachment in ::vm.ticketComment.attachments | orderBy:'+id' -->
                                                        <!-- ngRepeat: attachment in ::vm.ticketComment.attachments | orderBy:'-id' -->
                                                        <!-- ngIf: vm.ticketComment.type==8 -->
                                                        <!-- ngIf: vm.ticketComment.type==7 -->
                                                        <!-- ngIf: vm.ticketComment.isSolution --> </span>
                                                        <!-- ngIf: vm.ticketUser.type === 'engineer'&&vm.ticketComment.id -->
                                                        <!-- ngIf: vm.ticketComment.id --><span has-module="super_board" class="open-toggle ng-scope ng-isolate-scope" ng-if="vm.ticketComment.id" title="添加到收藏夹" style="vertical-align:baseline" add-to-favorite="vm.ticketComment"><i class="iconfont" style="font-size:21px"></i> </span>
                                                        <!-- end ngIf: vm.ticketComment.id -->
                                                        <!-- ngIf: vm.ticketComment.sendStatus=='send' -->
                                                        <!-- ngIf: vm.ticketComment.sendStatus=='error' -->
                                                    </ticket-comment-detail>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end ngIf: !log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!='')) -->
                                    <!-- ngIf: ::log.ticketComment!=null&&log.ticketComment.chat.id --></li>
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                            </ul>
                            <!-- ngIf: ticketLog.showNextPageButton&&!ticketLog.isLoadingTicketContext -->
                            <!-- ngIf: ticketLog.isLoadingTicketContext -->
                        </div>

                        <div id="ticketLog" class="ticket-replay ng-scope" ng-if="ticketLog.filterType === 'all' || ticketLog.filterType === 'comments'">
                            <ul class="list-unstyled margin20px ng-isolate-scope" ticket-image-view="">
                                <!-- ngRepeat: log in ticketLog.ticketLogs -->
                                <li ng-repeat="log in ticketLog.ticketLogs" class="chat-item ng-scope" style="">
                                    <!-- ngIf: log.operations -->
                                    <!-- ngIf: !log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!='')) -->
                                    <div ng-if="!log.operations &amp;&amp; !log.ticketComment.chat.id &amp;&amp; ((log.ticketComment.content&amp;&amp;log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&amp;&amp;log.ticketComment.extra!=''))" class="ng-scope">
                                        <div class="media" style="overflow:visible">
                                            <div class="media-left media-top" style="padding-right:4px"><img class="w40 h40 img-circle" ng-click="editable=='true'?toEdit():''" ng-src="source/images/face/header_40.png" title="" imageurl="" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w40 h40 img-circle" editable="false" src="source/images/face/header_40.png"></div>
                                            <div class="media-body media-top" style="overflow:visible">
                                                <div class="media-user-info" style="color:#9ea7b7">
                                                    <!-- ngIf: !log.ticketComment.chat.id --><span ng-if="!log.ticketComment.chat.id" class="padding_right10px ng-binding ng-scope" ng-bind="::log.user.name" style="color:#333c3e;font-size:13px"></span>
                                                    <!-- end ngIf: !log.ticketComment.chat.id -->
                                                    <!-- ngIf: log.ticketComment.chat.id --> <span ng-bind="log.createdAt | dateFilter_style1" class="padding_right10px ng-binding">2019-08-24 00:06:13.159189</span>
                                                    <!-- ngIf: log.ticketComment.equipment -->
                                                    <!-- ngIf: log.ticketComment.address --></div>
                                                <div class="ticket-log-content">
                                                    <ticket-comment-detail user="::log.user" comment="log.ticketComment" ng-class="::log.user.type" class="ng-isolate-scope customer"><span class="text not-engineer" ng-class="{'not-public':!vm.ticketComment.open,'not-engineer':vm.ticketUser.type!=='engineer','single':(vm.ticketComment.attachments.length===1&amp;&amp;!vm.ticketComment.content)||vm.ticketComment.questionId || vm.ticketComment.type==5}"><!-- ngIf: !vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7 --><p ng-if="!vm.ticketComment.richTextContent&amp;&amp;!vm.ticketComment.questionId &amp;&amp; vm.ticketComment.type!=8 &amp;&amp; vm.ticketComment.type!=5 &amp;&amp; vm.ticketComment.type!=7" ng-bind-html="::vm.ticketComment.content|linkSetMark|wechatEmoji|sanitize|trusted" class="ng-binding ng-scope">None</p>
                                                        <!-- end ngIf: !vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7 -->
                                                        <!-- ngIf: vm.ticketComment.richTextContent.richText -->
                                                        <!-- ngIf: ::vm.ticketComment.questionId -->
                                                        <!-- ngRepeat: attachment in ::vm.ticketComment.attachments | orderBy:'+id' -->
                                                        <!-- ngRepeat: attachment in ::vm.ticketComment.attachments | orderBy:'-id' -->
                                                        <!-- ngIf: vm.ticketComment.type==8 -->
                                                        <!-- ngIf: vm.ticketComment.type==7 -->
                                                        <!-- ngIf: vm.ticketComment.isSolution --> </span>
                                                        <!-- ngIf: vm.ticketUser.type === 'engineer'&&vm.ticketComment.id -->
                                                        <!-- ngIf: vm.ticketComment.id --><span has-module="super_board" class="open-toggle ng-scope ng-isolate-scope" ng-if="vm.ticketComment.id" title="添加到收藏夹" style="vertical-align:baseline" add-to-favorite="vm.ticketComment"><i class="iconfont" style="font-size:21px"></i> </span>
                                                        <!-- end ngIf: vm.ticketComment.id -->
                                                        <!-- ngIf: vm.ticketComment.sendStatus=='send' -->
                                                        <!-- ngIf: vm.ticketComment.sendStatus=='error' -->
                                                    </ticket-comment-detail>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end ngIf: !log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!='')) -->
                                    <!-- ngIf: ::log.ticketComment!=null&&log.ticketComment.chat.id --></li>
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                            </ul>
                            <!-- ngIf: ticketLog.showNextPageButton&&!ticketLog.isLoadingTicketContext -->
                            <!-- ngIf: ticketLog.isLoadingTicketContext -->
                        </div>

                        <div id="ticketLog" class="ticket-replay ng-scope" ng-if="ticketLog.filterType === 'all' || ticketLog.filterType === 'comments'">
                            <ul class="list-unstyled margin20px ng-isolate-scope" ticket-image-view="">
                                <!-- ngRepeat: log in ticketLog.ticketLogs -->
                                <li ng-repeat="log in ticketLog.ticketLogs" class="chat-item ng-scope" style="">
                                    <!-- ngIf: log.operations -->
                                    <!-- ngIf: !log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!='')) -->
                                    <div ng-if="!log.operations &amp;&amp; !log.ticketComment.chat.id &amp;&amp; ((log.ticketComment.content&amp;&amp;log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&amp;&amp;log.ticketComment.extra!=''))" class="ng-scope">
                                        <div class="media" style="overflow:visible">
                                            <div class="media-left media-top" style="padding-right:4px"><img class="w40 h40 img-circle" ng-click="editable=='true'?toEdit():''" ng-src="source/images/face/header_40.png" title="" imageurl="" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w40 h40 img-circle" editable="false" src="source/images/face/header_40.png"></div>
                                            <div class="media-body media-top" style="overflow:visible">
                                                <div class="media-user-info" style="color:#9ea7b7">
                                                    <!-- ngIf: !log.ticketComment.chat.id --><span ng-if="!log.ticketComment.chat.id" class="padding_right10px ng-binding ng-scope" ng-bind="::log.user.name" style="color:#333c3e;font-size:13px"></span>
                                                    <!-- end ngIf: !log.ticketComment.chat.id -->
                                                    <!-- ngIf: log.ticketComment.chat.id --> <span ng-bind="log.createdAt | dateFilter_style1" class="padding_right10px ng-binding">2019-08-24 00:04:33.128052</span>
                                                    <!-- ngIf: log.ticketComment.equipment -->
                                                    <!-- ngIf: log.ticketComment.address --></div>
                                                <div class="ticket-log-content">
                                                    <ticket-comment-detail user="::log.user" comment="log.ticketComment" ng-class="::log.user.type" class="ng-isolate-scope customer"><span class="text not-engineer" ng-class="{'not-public':!vm.ticketComment.open,'not-engineer':vm.ticketUser.type!=='engineer','single':(vm.ticketComment.attachments.length===1&amp;&amp;!vm.ticketComment.content)||vm.ticketComment.questionId || vm.ticketComment.type==5}"><!-- ngIf: !vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7 --><p ng-if="!vm.ticketComment.richTextContent&amp;&amp;!vm.ticketComment.questionId &amp;&amp; vm.ticketComment.type!=8 &amp;&amp; vm.ticketComment.type!=5 &amp;&amp; vm.ticketComment.type!=7" ng-bind-html="::vm.ticketComment.content|linkSetMark|wechatEmoji|sanitize|trusted" class="ng-binding ng-scope">None</p>
                                                        <!-- end ngIf: !vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7 -->
                                                        <!-- ngIf: vm.ticketComment.richTextContent.richText -->
                                                        <!-- ngIf: ::vm.ticketComment.questionId -->
                                                        <!-- ngRepeat: attachment in ::vm.ticketComment.attachments | orderBy:'+id' -->
                                                        <!-- ngRepeat: attachment in ::vm.ticketComment.attachments | orderBy:'-id' -->
                                                        <!-- ngIf: vm.ticketComment.type==8 -->
                                                        <!-- ngIf: vm.ticketComment.type==7 -->
                                                        <!-- ngIf: vm.ticketComment.isSolution --> </span>
                                                        <!-- ngIf: vm.ticketUser.type === 'engineer'&&vm.ticketComment.id -->
                                                        <!-- ngIf: vm.ticketComment.id --><span has-module="super_board" class="open-toggle ng-scope ng-isolate-scope" ng-if="vm.ticketComment.id" title="添加到收藏夹" style="vertical-align:baseline" add-to-favorite="vm.ticketComment"><i class="iconfont" style="font-size:21px"></i> </span>
                                                        <!-- end ngIf: vm.ticketComment.id -->
                                                        <!-- ngIf: vm.ticketComment.sendStatus=='send' -->
                                                        <!-- ngIf: vm.ticketComment.sendStatus=='error' -->
                                                    </ticket-comment-detail>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end ngIf: !log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!='')) -->
                                    <!-- ngIf: ::log.ticketComment!=null&&log.ticketComment.chat.id --></li>
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                            </ul>
                            <!-- ngIf: ticketLog.showNextPageButton&&!ticketLog.isLoadingTicketContext -->
                            <!-- ngIf: ticketLog.isLoadingTicketContext -->
                        </div>

                        <div id="ticketLog" class="ticket-replay ng-scope" ng-if="ticketLog.filterType === 'all' || ticketLog.filterType === 'comments'">
                            <ul class="list-unstyled margin20px ng-isolate-scope" ticket-image-view="">
                                <!-- ngRepeat: log in ticketLog.ticketLogs -->
                                <li ng-repeat="log in ticketLog.ticketLogs" class="chat-item ng-scope" style="">
                                    <!-- ngIf: log.operations -->
                                    <!-- ngIf: !log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!='')) -->
                                    <div ng-if="!log.operations &amp;&amp; !log.ticketComment.chat.id &amp;&amp; ((log.ticketComment.content&amp;&amp;log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&amp;&amp;log.ticketComment.extra!=''))" class="ng-scope">
                                        <div class="media" style="overflow:visible">
                                            <div class="media-left media-top" style="padding-right:4px"><img class="w40 h40 img-circle" ng-click="editable=='true'?toEdit():''" ng-src="source/images/face/header_40.png" title="" imageurl="" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w40 h40 img-circle" editable="false" src="source/images/face/header_40.png"></div>
                                            <div class="media-body media-top" style="overflow:visible">
                                                <div class="media-user-info" style="color:#9ea7b7">
                                                    <!-- ngIf: !log.ticketComment.chat.id --><span ng-if="!log.ticketComment.chat.id" class="padding_right10px ng-binding ng-scope" ng-bind="::log.user.name" style="color:#333c3e;font-size:13px">NaiHe</span>
                                                    <!-- end ngIf: !log.ticketComment.chat.id -->
                                                    <!-- ngIf: log.ticketComment.chat.id --> <span ng-bind="log.createdAt | dateFilter_style1" class="padding_right10px ng-binding">2019-08-24 00:01:34.012875</span>
                                                    <!-- ngIf: log.ticketComment.equipment -->
                                                    <!-- ngIf: log.ticketComment.address --></div>
                                                <div class="ticket-log-content">
                                                    <ticket-comment-detail user="::log.user" comment="log.ticketComment" ng-class="::log.user.type" class="ng-isolate-scope customer"><span class="text not-engineer" ng-class="{'not-public':!vm.ticketComment.open,'not-engineer':vm.ticketUser.type!=='engineer','single':(vm.ticketComment.attachments.length===1&amp;&amp;!vm.ticketComment.content)||vm.ticketComment.questionId || vm.ticketComment.type==5}"><!-- ngIf: !vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7 --><p ng-if="!vm.ticketComment.richTextContent&amp;&amp;!vm.ticketComment.questionId &amp;&amp; vm.ticketComment.type!=8 &amp;&amp; vm.ticketComment.type!=5 &amp;&amp; vm.ticketComment.type!=7" ng-bind-html="::vm.ticketComment.content|linkSetMark|wechatEmoji|sanitize|trusted" class="ng-binding ng-scope">测试</p>
                                                        <!-- end ngIf: !vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7 -->
                                                        <!-- ngIf: vm.ticketComment.richTextContent.richText -->
                                                        <!-- ngIf: ::vm.ticketComment.questionId -->
                                                        <!-- ngRepeat: attachment in ::vm.ticketComment.attachments | orderBy:'+id' -->
                                                        <!-- ngRepeat: attachment in ::vm.ticketComment.attachments | orderBy:'-id' -->
                                                        <!-- ngIf: vm.ticketComment.type==8 -->
                                                        <!-- ngIf: vm.ticketComment.type==7 -->
                                                        <!-- ngIf: vm.ticketComment.isSolution --> </span>
                                                        <!-- ngIf: vm.ticketUser.type === 'engineer'&&vm.ticketComment.id -->
                                                        <!-- ngIf: vm.ticketComment.id --><span has-module="super_board" class="open-toggle ng-scope ng-isolate-scope" ng-if="vm.ticketComment.id" title="添加到收藏夹" style="vertical-align:baseline" add-to-favorite="vm.ticketComment"><i class="iconfont" style="font-size:21px"></i> </span>
                                                        <!-- end ngIf: vm.ticketComment.id -->
                                                        <!-- ngIf: vm.ticketComment.sendStatus=='send' -->
                                                        <!-- ngIf: vm.ticketComment.sendStatus=='error' -->
                                                    </ticket-comment-detail>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end ngIf: !log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!='')) -->
                                    <!-- ngIf: ::log.ticketComment!=null&&log.ticketComment.chat.id --></li>
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                            </ul>
                            <!-- ngIf: ticketLog.showNextPageButton&&!ticketLog.isLoadingTicketContext -->
                            <!-- ngIf: ticketLog.isLoadingTicketContext -->
                        </div>

                        <div id="ticketLog" class="ticket-replay ng-scope" ng-if="ticketLog.filterType === 'all' || ticketLog.filterType === 'comments'">
                            <ul class="list-unstyled margin20px ng-isolate-scope" ticket-image-view="">
                                <!-- ngRepeat: log in ticketLog.ticketLogs -->
                                <li ng-repeat="log in ticketLog.ticketLogs" class="chat-item ng-scope" style="">
                                    <!-- ngIf: log.operations -->
                                    <!-- ngIf: !log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!='')) -->
                                    <div ng-if="!log.operations &amp;&amp; !log.ticketComment.chat.id &amp;&amp; ((log.ticketComment.content&amp;&amp;log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&amp;&amp;log.ticketComment.extra!=''))" class="ng-scope">
                                        <div class="media" style="overflow:visible">
                                            <div class="media-left media-top" style="padding-right:4px"><img class="w40 h40 img-circle" ng-click="editable=='true'?toEdit():''" ng-src="source/images/face/header_40.png" title="" imageurl="" defaultimageurl="source/images/face/header_40.png" imagestyle="head.40.40" imageclass="w40 h40 img-circle" editable="false" src="source/images/face/header_40.png"></div>
                                            <div class="media-body media-top" style="overflow:visible">
                                                <div class="media-user-info" style="color:#9ea7b7">
                                                    <!-- ngIf: !log.ticketComment.chat.id --><span ng-if="!log.ticketComment.chat.id" class="padding_right10px ng-binding ng-scope" ng-bind="::log.user.name" style="color:#333c3e;font-size:13px">NaiHe</span>
                                                    <!-- end ngIf: !log.ticketComment.chat.id -->
                                                    <!-- ngIf: log.ticketComment.chat.id --> <span ng-bind="log.createdAt | dateFilter_style1" class="padding_right10px ng-binding">2019-08-23 23:58:43.811115</span>
                                                    <!-- ngIf: log.ticketComment.equipment -->
                                                    <!-- ngIf: log.ticketComment.address --></div>
                                                <div class="ticket-log-content">
                                                    <ticket-comment-detail user="::log.user" comment="log.ticketComment" ng-class="::log.user.type" class="ng-isolate-scope customer"><span class="text not-engineer" ng-class="{'not-public':!vm.ticketComment.open,'not-engineer':vm.ticketUser.type!=='engineer','single':(vm.ticketComment.attachments.length===1&amp;&amp;!vm.ticketComment.content)||vm.ticketComment.questionId || vm.ticketComment.type==5}"><!-- ngIf: !vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7 --><p ng-if="!vm.ticketComment.richTextContent&amp;&amp;!vm.ticketComment.questionId &amp;&amp; vm.ticketComment.type!=8 &amp;&amp; vm.ticketComment.type!=5 &amp;&amp; vm.ticketComment.type!=7" ng-bind-html="::vm.ticketComment.content|linkSetMark|wechatEmoji|sanitize|trusted" class="ng-binding ng-scope">None</p>
                                                        <!-- end ngIf: !vm.ticketComment.richTextContent&&!vm.ticketComment.questionId && vm.ticketComment.type!=8 && vm.ticketComment.type!=5 && vm.ticketComment.type!=7 -->
                                                        <!-- ngIf: vm.ticketComment.richTextContent.richText -->
                                                        <!-- ngIf: ::vm.ticketComment.questionId -->
                                                        <!-- ngRepeat: attachment in ::vm.ticketComment.attachments | orderBy:'+id' -->
                                                        <!-- ngRepeat: attachment in ::vm.ticketComment.attachments | orderBy:'-id' -->
                                                        <!-- ngIf: vm.ticketComment.type==8 -->
                                                        <!-- ngIf: vm.ticketComment.type==7 -->
                                                        <!-- ngIf: vm.ticketComment.isSolution --> </span>
                                                        <!-- ngIf: vm.ticketUser.type === 'engineer'&&vm.ticketComment.id -->
                                                        <!-- ngIf: vm.ticketComment.id --><span has-module="super_board" class="open-toggle ng-scope ng-isolate-scope" ng-if="vm.ticketComment.id" title="添加到收藏夹" style="vertical-align:baseline" add-to-favorite="vm.ticketComment"><i class="iconfont" style="font-size:21px"></i> </span>
                                                        <!-- end ngIf: vm.ticketComment.id -->
                                                        <!-- ngIf: vm.ticketComment.sendStatus=='send' -->
                                                        <!-- ngIf: vm.ticketComment.sendStatus=='error' -->
                                                    </ticket-comment-detail>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end ngIf: !log.operations && !log.ticketComment.chat.id && ((log.ticketComment.content&&log.ticketComment.content!='')||log.ticketComment.attachments.length>0||(log.ticketComment.extra&&log.ticketComment.extra!='')) -->
                                    <!-- ngIf: ::log.ticketComment!=null&&log.ticketComment.chat.id --></li>
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                                <!-- end ngRepeat: log in ticketLog.ticketLogs -->
                            </ul>
                            <!-- ngIf: ticketLog.showNextPageButton&&!ticketLog.isLoadingTicketContext -->
                            <!-- ngIf: ticketLog.isLoadingTicketContext -->
                        </div>








                        <!-- end ngIf: ticketLog.filterType === 'all' || ticketLog.filterType === 'comments' -->
                        <!-- ngIf: ticketLog.filterType === 'attachments' -->
                        <!-- ngIf: ticketLog.filterType === 'timeline' -->
                    </div>
                </ticket-log>
                <div class="js-ticket-back-top" style="position:fixed;right:20px;bottom:20px;width:40px;height:40px;opacity:.3;background:#000;color:#fff;text-align:center;cursor:pointer;display:none">
                    <i class="fa fa-angle-double-up fa-4x"></i></div>
            </div>
            <div class="app-view" ng-click="showSearchList($event)" ng-class="{expanded:appVisiable}">
                <!-- ngIf: !$scope.ticket.deleted && $scope.ticket.status!='deleted' && $scope.ticket.status!='closed' && $scope.ticket.status!='deleted' && $scope.ticket.status!='suspended' && $scope.ticket.status!='solved' -->
                <button ng-if="!$scope.ticket.deleted &amp;&amp; $scope.ticket.status!='deleted' &amp;&amp; $scope.ticket.status!='closed' &amp;&amp; $scope.ticket.status!='deleted' &amp;&amp; $scope.ticket.status!='suspended' &amp;&amp; $scope.ticket.status!='solved'" has-module="remote_help" ng-disabled="webchat!=null" type="button" class="btn btn-default btn-apps ng-scope" ng-class="{expanded:appVisiable}" ng-click="sidebar($event);"><i class="icon iconfont"></i> <i class="name iconfont"></i> <i class="state iconfont ng-binding"></i></button>
                <!-- end ngIf: !$scope.ticket.deleted && $scope.ticket.status!='deleted' && $scope.ticket.status!='closed' && $scope.ticket.status!='deleted' && $scope.ticket.status!='suspended' && $scope.ticket.status!='solved' -->
                <!-- uiView: -->
                <div ui-view="" ng-show="appVisiable" class="ng-scope ng-hide"></div>
            </div>
        </section>
e

    </div>
</div>
{% endblock %}